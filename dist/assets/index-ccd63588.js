var xw=Object.defineProperty;var yw=(e,t,r)=>t in e?xw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var el=(e,t,r)=>(yw(e,typeof t!="symbol"?t+"":t,r),r),jd=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var C=(e,t,r)=>(jd(e,t,"read from private field"),r?r.call(e):t.get(e)),V=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},D=(e,t,r,n)=>(jd(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);var tl=(e,t,r,n)=>({set _(s){D(e,t,s,r)},get _(){return C(e,t,n)}}),ue=(e,t,r)=>(jd(e,t,"access private method"),r);function I0(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var or=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function F0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function vw(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var L0={exports:{}},Ic={},M0={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Co=Symbol.for("react.element"),bw=Symbol.for("react.portal"),ww=Symbol.for("react.fragment"),kw=Symbol.for("react.strict_mode"),jw=Symbol.for("react.profiler"),_w=Symbol.for("react.provider"),Nw=Symbol.for("react.context"),Sw=Symbol.for("react.forward_ref"),Ew=Symbol.for("react.suspense"),Pw=Symbol.for("react.memo"),Cw=Symbol.for("react.lazy"),Um=Symbol.iterator;function Tw(e){return e===null||typeof e!="object"?null:(e=Um&&e[Um]||e["@@iterator"],typeof e=="function"?e:null)}var U0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D0=Object.assign,z0={};function Qa(e,t,r){this.props=e,this.context=t,this.refs=z0,this.updater=r||U0}Qa.prototype.isReactComponent={};Qa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $0(){}$0.prototype=Qa.prototype;function hf(e,t,r){this.props=e,this.context=t,this.refs=z0,this.updater=r||U0}var ff=hf.prototype=new $0;ff.constructor=hf;D0(ff,Qa.prototype);ff.isPureReactComponent=!0;var Dm=Array.isArray,B0=Object.prototype.hasOwnProperty,mf={current:null},W0={key:!0,ref:!0,__self:!0,__source:!0};function q0(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)B0.call(t,n)&&!W0.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Co,type:e,key:i,ref:o,props:s,_owner:mf.current}}function Rw(e,t){return{$$typeof:Co,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function pf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Co}function Aw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var zm=/\/+/g;function _d(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Aw(""+e.key):t.toString(36)}function Ol(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Co:case bw:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+_d(o,0):n,Dm(s)?(r="",e!=null&&(r=e.replace(zm,"$&/")+"/"),Ol(s,t,r,"",function(d){return d})):s!=null&&(pf(s)&&(s=Rw(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(zm,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Dm(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+_d(i,l);o+=Ol(i,t,r,c,s)}else if(c=Tw(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+_d(i,l++),o+=Ol(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function rl(e,t,r){if(e==null)return e;var n=[],s=0;return Ol(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Ow(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Et={current:null},Il={transition:null},Iw={ReactCurrentDispatcher:Et,ReactCurrentBatchConfig:Il,ReactCurrentOwner:mf};function H0(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:rl,forEach:function(e,t,r){rl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return rl(e,function(){t++}),t},toArray:function(e){return rl(e,function(t){return t})||[]},only:function(e){if(!pf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};le.Component=Qa;le.Fragment=ww;le.Profiler=jw;le.PureComponent=hf;le.StrictMode=kw;le.Suspense=Ew;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Iw;le.act=H0;le.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=D0({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=mf.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)B0.call(t,c)&&!W0.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Co,type:e.type,key:s,ref:i,props:n,_owner:o}};le.createContext=function(e){return e={$$typeof:Nw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_w,_context:e},e.Consumer=e};le.createElement=q0;le.createFactory=function(e){var t=q0.bind(null,e);return t.type=e,t};le.createRef=function(){return{current:null}};le.forwardRef=function(e){return{$$typeof:Sw,render:e}};le.isValidElement=pf;le.lazy=function(e){return{$$typeof:Cw,_payload:{_status:-1,_result:e},_init:Ow}};le.memo=function(e,t){return{$$typeof:Pw,type:e,compare:t===void 0?null:t}};le.startTransition=function(e){var t=Il.transition;Il.transition={};try{e()}finally{Il.transition=t}};le.unstable_act=H0;le.useCallback=function(e,t){return Et.current.useCallback(e,t)};le.useContext=function(e){return Et.current.useContext(e)};le.useDebugValue=function(){};le.useDeferredValue=function(e){return Et.current.useDeferredValue(e)};le.useEffect=function(e,t){return Et.current.useEffect(e,t)};le.useId=function(){return Et.current.useId()};le.useImperativeHandle=function(e,t,r){return Et.current.useImperativeHandle(e,t,r)};le.useInsertionEffect=function(e,t){return Et.current.useInsertionEffect(e,t)};le.useLayoutEffect=function(e,t){return Et.current.useLayoutEffect(e,t)};le.useMemo=function(e,t){return Et.current.useMemo(e,t)};le.useReducer=function(e,t,r){return Et.current.useReducer(e,t,r)};le.useRef=function(e){return Et.current.useRef(e)};le.useState=function(e){return Et.current.useState(e)};le.useSyncExternalStore=function(e,t,r){return Et.current.useSyncExternalStore(e,t,r)};le.useTransition=function(){return Et.current.useTransition()};le.version="18.3.1";M0.exports=le;var w=M0.exports;const O=F0(w),Fw=I0({__proto__:null,default:O},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lw=w,Mw=Symbol.for("react.element"),Uw=Symbol.for("react.fragment"),Dw=Object.prototype.hasOwnProperty,zw=Lw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$w={key:!0,ref:!0,__self:!0,__source:!0};function V0(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Dw.call(t,n)&&!$w.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Mw,type:e,key:i,ref:o,props:s,_owner:zw.current}}Ic.Fragment=Uw;Ic.jsx=V0;Ic.jsxs=V0;L0.exports=Ic;var a=L0.exports,ju={},K0={exports:{}},Gt={},Q0={exports:{}},G0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,G){var X=L.length;L.push(G);e:for(;0<X;){var ie=X-1>>>1,Z=L[ie];if(0<s(Z,G))L[ie]=G,L[X]=Z,X=ie;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var G=L[0],X=L.pop();if(X!==G){L[0]=X;e:for(var ie=0,Z=L.length,tt=Z>>>1;ie<tt;){var He=2*(ie+1)-1,$e=L[He],Ve=He+1,vt=L[Ve];if(0>s($e,X))Ve<Z&&0>s(vt,$e)?(L[ie]=vt,L[Ve]=X,ie=Ve):(L[ie]=$e,L[He]=X,ie=He);else if(Ve<Z&&0>s(vt,X))L[ie]=vt,L[Ve]=X,ie=Ve;else break e}}return G}function s(L,G){var X=L.sortIndex-G.sortIndex;return X!==0?X:L.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,g=!1,y=!1,m=!1,k=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(L){for(var G=r(d);G!==null;){if(G.callback===null)n(d);else if(G.startTime<=L)n(d),G.sortIndex=G.expirationTime,t(c,G);else break;G=r(d)}}function b(L){if(m=!1,v(L),!y)if(r(c)!==null)y=!0,Pe(_);else{var G=r(d);G!==null&&de(b,G.startTime-L)}}function _(L,G){y=!1,m&&(m=!1,x(P),P=-1),g=!0;var X=f;try{for(v(G),h=r(c);h!==null&&(!(h.expirationTime>G)||L&&!I());){var ie=h.callback;if(typeof ie=="function"){h.callback=null,f=h.priorityLevel;var Z=ie(h.expirationTime<=G);G=e.unstable_now(),typeof Z=="function"?h.callback=Z:h===r(c)&&n(c),v(G)}else n(c);h=r(c)}if(h!==null)var tt=!0;else{var He=r(d);He!==null&&de(b,He.startTime-G),tt=!1}return tt}finally{h=null,f=X,g=!1}}var N=!1,j=null,P=-1,S=5,T=-1;function I(){return!(e.unstable_now()-T<S)}function z(){if(j!==null){var L=e.unstable_now();T=L;var G=!0;try{G=j(!0,L)}finally{G?J():(N=!1,j=null)}}else N=!1}var J;if(typeof p=="function")J=function(){p(z)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,xe=Y.port2;Y.port1.onmessage=z,J=function(){xe.postMessage(null)}}else J=function(){k(z,0)};function Pe(L){j=L,N||(N=!0,J())}function de(L,G){P=k(function(){L(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){y||g||(y=!0,Pe(_))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(L){switch(f){case 1:case 2:case 3:var G=3;break;default:G=f}var X=f;f=G;try{return L()}finally{f=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,G){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var X=f;f=L;try{return G()}finally{f=X}},e.unstable_scheduleCallback=function(L,G,X){var ie=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ie+X:ie):X=ie,L){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=X+Z,L={id:u++,callback:G,priorityLevel:L,startTime:X,expirationTime:Z,sortIndex:-1},X>ie?(L.sortIndex=X,t(d,L),r(c)===null&&L===r(d)&&(m?(x(P),P=-1):m=!0,de(b,X-ie))):(L.sortIndex=Z,t(c,L),y||g||(y=!0,Pe(_))),L},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(L){var G=f;return function(){var X=f;f=G;try{return L.apply(this,arguments)}finally{f=X}}}})(G0);Q0.exports=G0;var Bw=Q0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ww=w,Qt=Bw;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var J0=new Set,zi={};function Bs(e,t){Ma(e,t),Ma(e+"Capture",t)}function Ma(e,t){for(zi[e]=t,e=0;e<t.length;e++)J0.add(t[e])}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_u=Object.prototype.hasOwnProperty,qw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$m={},Bm={};function Hw(e){return _u.call(Bm,e)?!0:_u.call($m,e)?!1:qw.test(e)?Bm[e]=!0:($m[e]=!0,!1)}function Vw(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Kw(e,t,r,n){if(t===null||typeof t>"u"||Vw(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pt(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ft[e]=new Pt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ft[t]=new Pt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ft[e]=new Pt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ft[e]=new Pt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ft[e]=new Pt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ft[e]=new Pt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ft[e]=new Pt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ft[e]=new Pt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ft[e]=new Pt(e,5,!1,e.toLowerCase(),null,!1,!1)});var gf=/[\-:]([a-z])/g;function xf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gf,xf);ft[t]=new Pt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gf,xf);ft[t]=new Pt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gf,xf);ft[t]=new Pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ft[e]=new Pt(e,1,!1,e.toLowerCase(),null,!1,!1)});ft.xlinkHref=new Pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ft[e]=new Pt(e,1,!1,e.toLowerCase(),null,!0,!0)});function yf(e,t,r,n){var s=ft.hasOwnProperty(t)?ft[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Kw(t,r,s,n)&&(r=null),n||s===null?Hw(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var dn=Ww.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nl=Symbol.for("react.element"),oa=Symbol.for("react.portal"),la=Symbol.for("react.fragment"),vf=Symbol.for("react.strict_mode"),Nu=Symbol.for("react.profiler"),Y0=Symbol.for("react.provider"),X0=Symbol.for("react.context"),bf=Symbol.for("react.forward_ref"),Su=Symbol.for("react.suspense"),Eu=Symbol.for("react.suspense_list"),wf=Symbol.for("react.memo"),wn=Symbol.for("react.lazy"),Z0=Symbol.for("react.offscreen"),Wm=Symbol.iterator;function si(e){return e===null||typeof e!="object"?null:(e=Wm&&e[Wm]||e["@@iterator"],typeof e=="function"?e:null)}var Le=Object.assign,Nd;function gi(e){if(Nd===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Nd=t&&t[1]||""}return`
`+Nd+e}var Sd=!1;function Ed(e,t){if(!e||Sd)return"";Sd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Sd=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?gi(e):""}function Qw(e){switch(e.tag){case 5:return gi(e.type);case 16:return gi("Lazy");case 13:return gi("Suspense");case 19:return gi("SuspenseList");case 0:case 2:case 15:return e=Ed(e.type,!1),e;case 11:return e=Ed(e.type.render,!1),e;case 1:return e=Ed(e.type,!0),e;default:return""}}function Pu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case la:return"Fragment";case oa:return"Portal";case Nu:return"Profiler";case vf:return"StrictMode";case Su:return"Suspense";case Eu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case X0:return(e.displayName||"Context")+".Consumer";case Y0:return(e._context.displayName||"Context")+".Provider";case bf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wf:return t=e.displayName||null,t!==null?t:Pu(e.type)||"Memo";case wn:t=e._payload,e=e._init;try{return Pu(e(t))}catch{}}return null}function Gw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pu(t);case 8:return t===vf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ex(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Jw(e){var t=ex(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function sl(e){e._valueTracker||(e._valueTracker=Jw(e))}function tx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ex(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Jl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Cu(e,t){var r=t.checked;return Le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function qm(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Jn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function rx(e,t){t=t.checked,t!=null&&yf(e,"checked",t,!1)}function Tu(e,t){rx(e,t);var r=Jn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ru(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ru(e,t.type,Jn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Hm(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ru(e,t,r){(t!=="number"||Jl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var xi=Array.isArray;function va(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Jn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Au(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return Le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vm(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(M(92));if(xi(r)){if(1<r.length)throw Error(M(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Jn(r)}}function nx(e,t){var r=Jn(t.value),n=Jn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Km(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function sx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ou(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?sx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var al,ax=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(al=al||document.createElement("div"),al.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=al.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $i(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ni={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yw=["Webkit","ms","Moz","O"];Object.keys(Ni).forEach(function(e){Yw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ni[t]=Ni[e]})});function ix(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ni.hasOwnProperty(e)&&Ni[e]?(""+t).trim():t+"px"}function ox(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=ix(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Xw=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Iu(e,t){if(t){if(Xw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function Fu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lu=null;function kf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mu=null,ba=null,wa=null;function Qm(e){if(e=Ao(e)){if(typeof Mu!="function")throw Error(M(280));var t=e.stateNode;t&&(t=Dc(t),Mu(e.stateNode,e.type,t))}}function lx(e){ba?wa?wa.push(e):wa=[e]:ba=e}function cx(){if(ba){var e=ba,t=wa;if(wa=ba=null,Qm(e),t)for(e=0;e<t.length;e++)Qm(t[e])}}function dx(e,t){return e(t)}function ux(){}var Pd=!1;function hx(e,t,r){if(Pd)return e(t,r);Pd=!0;try{return dx(e,t,r)}finally{Pd=!1,(ba!==null||wa!==null)&&(ux(),cx())}}function Bi(e,t){var r=e.stateNode;if(r===null)return null;var n=Dc(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(M(231,t,typeof r));return r}var Uu=!1;if(sn)try{var ai={};Object.defineProperty(ai,"passive",{get:function(){Uu=!0}}),window.addEventListener("test",ai,ai),window.removeEventListener("test",ai,ai)}catch{Uu=!1}function Zw(e,t,r,n,s,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var Si=!1,Yl=null,Xl=!1,Du=null,ek={onError:function(e){Si=!0,Yl=e}};function tk(e,t,r,n,s,i,o,l,c){Si=!1,Yl=null,Zw.apply(ek,arguments)}function rk(e,t,r,n,s,i,o,l,c){if(tk.apply(this,arguments),Si){if(Si){var d=Yl;Si=!1,Yl=null}else throw Error(M(198));Xl||(Xl=!0,Du=d)}}function Ws(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function fx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Gm(e){if(Ws(e)!==e)throw Error(M(188))}function nk(e){var t=e.alternate;if(!t){if(t=Ws(e),t===null)throw Error(M(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Gm(s),e;if(i===n)return Gm(s),t;i=i.sibling}throw Error(M(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(M(189))}}if(r.alternate!==n)throw Error(M(190))}if(r.tag!==3)throw Error(M(188));return r.stateNode.current===r?e:t}function mx(e){return e=nk(e),e!==null?px(e):null}function px(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=px(e);if(t!==null)return t;e=e.sibling}return null}var gx=Qt.unstable_scheduleCallback,Jm=Qt.unstable_cancelCallback,sk=Qt.unstable_shouldYield,ak=Qt.unstable_requestPaint,We=Qt.unstable_now,ik=Qt.unstable_getCurrentPriorityLevel,jf=Qt.unstable_ImmediatePriority,xx=Qt.unstable_UserBlockingPriority,Zl=Qt.unstable_NormalPriority,ok=Qt.unstable_LowPriority,yx=Qt.unstable_IdlePriority,Fc=null,Mr=null;function lk(e){if(Mr&&typeof Mr.onCommitFiberRoot=="function")try{Mr.onCommitFiberRoot(Fc,e,void 0,(e.current.flags&128)===128)}catch{}}var wr=Math.clz32?Math.clz32:uk,ck=Math.log,dk=Math.LN2;function uk(e){return e>>>=0,e===0?32:31-(ck(e)/dk|0)|0}var il=64,ol=4194304;function yi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ec(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=yi(l):(i&=o,i!==0&&(n=yi(i)))}else o=r&~s,o!==0?n=yi(o):i!==0&&(n=yi(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-wr(t),s=1<<r,n|=e[r],t&=~s;return n}function hk(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fk(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-wr(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=hk(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function zu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vx(){var e=il;return il<<=1,!(il&4194240)&&(il=64),e}function Cd(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function To(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wr(t),e[t]=r}function mk(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-wr(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function _f(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-wr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ke=0;function bx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var wx,Nf,kx,jx,_x,$u=!1,ll=[],zn=null,$n=null,Bn=null,Wi=new Map,qi=new Map,Nn=[],pk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ym(e,t){switch(e){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":$n=null;break;case"mouseover":case"mouseout":Bn=null;break;case"pointerover":case"pointerout":Wi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qi.delete(t.pointerId)}}function ii(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ao(t),t!==null&&Nf(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function gk(e,t,r,n,s){switch(t){case"focusin":return zn=ii(zn,e,t,r,n,s),!0;case"dragenter":return $n=ii($n,e,t,r,n,s),!0;case"mouseover":return Bn=ii(Bn,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Wi.set(i,ii(Wi.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,qi.set(i,ii(qi.get(i)||null,e,t,r,n,s)),!0}return!1}function Nx(e){var t=xs(e.target);if(t!==null){var r=Ws(t);if(r!==null){if(t=r.tag,t===13){if(t=fx(r),t!==null){e.blockedOn=t,_x(e.priority,function(){kx(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Bu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Lu=n,r.target.dispatchEvent(n),Lu=null}else return t=Ao(r),t!==null&&Nf(t),e.blockedOn=r,!1;t.shift()}return!0}function Xm(e,t,r){Fl(e)&&r.delete(t)}function xk(){$u=!1,zn!==null&&Fl(zn)&&(zn=null),$n!==null&&Fl($n)&&($n=null),Bn!==null&&Fl(Bn)&&(Bn=null),Wi.forEach(Xm),qi.forEach(Xm)}function oi(e,t){e.blockedOn===t&&(e.blockedOn=null,$u||($u=!0,Qt.unstable_scheduleCallback(Qt.unstable_NormalPriority,xk)))}function Hi(e){function t(s){return oi(s,e)}if(0<ll.length){oi(ll[0],e);for(var r=1;r<ll.length;r++){var n=ll[r];n.blockedOn===e&&(n.blockedOn=null)}}for(zn!==null&&oi(zn,e),$n!==null&&oi($n,e),Bn!==null&&oi(Bn,e),Wi.forEach(t),qi.forEach(t),r=0;r<Nn.length;r++)n=Nn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Nn.length&&(r=Nn[0],r.blockedOn===null);)Nx(r),r.blockedOn===null&&Nn.shift()}var ka=dn.ReactCurrentBatchConfig,tc=!0;function yk(e,t,r,n){var s=ke,i=ka.transition;ka.transition=null;try{ke=1,Sf(e,t,r,n)}finally{ke=s,ka.transition=i}}function vk(e,t,r,n){var s=ke,i=ka.transition;ka.transition=null;try{ke=4,Sf(e,t,r,n)}finally{ke=s,ka.transition=i}}function Sf(e,t,r,n){if(tc){var s=Bu(e,t,r,n);if(s===null)Dd(e,t,n,rc,r),Ym(e,n);else if(gk(s,e,t,r,n))n.stopPropagation();else if(Ym(e,n),t&4&&-1<pk.indexOf(e)){for(;s!==null;){var i=Ao(s);if(i!==null&&wx(i),i=Bu(e,t,r,n),i===null&&Dd(e,t,n,rc,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Dd(e,t,n,null,r)}}var rc=null;function Bu(e,t,r,n){if(rc=null,e=kf(n),e=xs(e),e!==null)if(t=Ws(e),t===null)e=null;else if(r=t.tag,r===13){if(e=fx(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rc=e,null}function Sx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ik()){case jf:return 1;case xx:return 4;case Zl:case ok:return 16;case yx:return 536870912;default:return 16}default:return 16}}var Ln=null,Ef=null,Ll=null;function Ex(){if(Ll)return Ll;var e,t=Ef,r=t.length,n,s="value"in Ln?Ln.value:Ln.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Ll=s.slice(e,1<n?1-n:void 0)}function Ml(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function cl(){return!0}function Zm(){return!1}function Jt(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?cl:Zm,this.isPropagationStopped=Zm,this}return Le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=cl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=cl)},persist:function(){},isPersistent:cl}),t}var Ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pf=Jt(Ga),Ro=Le({},Ga,{view:0,detail:0}),bk=Jt(Ro),Td,Rd,li,Lc=Le({},Ro,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==li&&(li&&e.type==="mousemove"?(Td=e.screenX-li.screenX,Rd=e.screenY-li.screenY):Rd=Td=0,li=e),Td)},movementY:function(e){return"movementY"in e?e.movementY:Rd}}),ep=Jt(Lc),wk=Le({},Lc,{dataTransfer:0}),kk=Jt(wk),jk=Le({},Ro,{relatedTarget:0}),Ad=Jt(jk),_k=Le({},Ga,{animationName:0,elapsedTime:0,pseudoElement:0}),Nk=Jt(_k),Sk=Le({},Ga,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ek=Jt(Sk),Pk=Le({},Ga,{data:0}),tp=Jt(Pk),Ck={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ak(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Rk[e])?!!t[e]:!1}function Cf(){return Ak}var Ok=Le({},Ro,{key:function(e){if(e.key){var t=Ck[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ml(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cf,charCode:function(e){return e.type==="keypress"?Ml(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ml(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ik=Jt(Ok),Fk=Le({},Lc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rp=Jt(Fk),Lk=Le({},Ro,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cf}),Mk=Jt(Lk),Uk=Le({},Ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dk=Jt(Uk),zk=Le({},Lc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$k=Jt(zk),Bk=[9,13,27,32],Tf=sn&&"CompositionEvent"in window,Ei=null;sn&&"documentMode"in document&&(Ei=document.documentMode);var Wk=sn&&"TextEvent"in window&&!Ei,Px=sn&&(!Tf||Ei&&8<Ei&&11>=Ei),np=String.fromCharCode(32),sp=!1;function Cx(e,t){switch(e){case"keyup":return Bk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ca=!1;function qk(e,t){switch(e){case"compositionend":return Tx(t);case"keypress":return t.which!==32?null:(sp=!0,np);case"textInput":return e=t.data,e===np&&sp?null:e;default:return null}}function Hk(e,t){if(ca)return e==="compositionend"||!Tf&&Cx(e,t)?(e=Ex(),Ll=Ef=Ln=null,ca=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Px&&t.locale!=="ko"?null:t.data;default:return null}}var Vk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ap(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vk[e.type]:t==="textarea"}function Rx(e,t,r,n){lx(n),t=nc(t,"onChange"),0<t.length&&(r=new Pf("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Pi=null,Vi=null;function Kk(e){Bx(e,0)}function Mc(e){var t=ha(e);if(tx(t))return e}function Qk(e,t){if(e==="change")return t}var Ax=!1;if(sn){var Od;if(sn){var Id="oninput"in document;if(!Id){var ip=document.createElement("div");ip.setAttribute("oninput","return;"),Id=typeof ip.oninput=="function"}Od=Id}else Od=!1;Ax=Od&&(!document.documentMode||9<document.documentMode)}function op(){Pi&&(Pi.detachEvent("onpropertychange",Ox),Vi=Pi=null)}function Ox(e){if(e.propertyName==="value"&&Mc(Vi)){var t=[];Rx(t,Vi,e,kf(e)),hx(Kk,t)}}function Gk(e,t,r){e==="focusin"?(op(),Pi=t,Vi=r,Pi.attachEvent("onpropertychange",Ox)):e==="focusout"&&op()}function Jk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mc(Vi)}function Yk(e,t){if(e==="click")return Mc(t)}function Xk(e,t){if(e==="input"||e==="change")return Mc(t)}function Zk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _r=typeof Object.is=="function"?Object.is:Zk;function Ki(e,t){if(_r(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!_u.call(t,s)||!_r(e[s],t[s]))return!1}return!0}function lp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cp(e,t){var r=lp(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lp(r)}}function Ix(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ix(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fx(){for(var e=window,t=Jl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Jl(e.document)}return t}function Rf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ej(e){var t=Fx(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Ix(r.ownerDocument.documentElement,r)){if(n!==null&&Rf(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=cp(r,i);var o=cp(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var tj=sn&&"documentMode"in document&&11>=document.documentMode,da=null,Wu=null,Ci=null,qu=!1;function dp(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;qu||da==null||da!==Jl(n)||(n=da,"selectionStart"in n&&Rf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ci&&Ki(Ci,n)||(Ci=n,n=nc(Wu,"onSelect"),0<n.length&&(t=new Pf("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=da)))}function dl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ua={animationend:dl("Animation","AnimationEnd"),animationiteration:dl("Animation","AnimationIteration"),animationstart:dl("Animation","AnimationStart"),transitionend:dl("Transition","TransitionEnd")},Fd={},Lx={};sn&&(Lx=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function Uc(e){if(Fd[e])return Fd[e];if(!ua[e])return e;var t=ua[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Lx)return Fd[e]=t[r];return e}var Mx=Uc("animationend"),Ux=Uc("animationiteration"),Dx=Uc("animationstart"),zx=Uc("transitionend"),$x=new Map,up="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zn(e,t){$x.set(e,t),Bs(t,[e])}for(var Ld=0;Ld<up.length;Ld++){var Md=up[Ld],rj=Md.toLowerCase(),nj=Md[0].toUpperCase()+Md.slice(1);Zn(rj,"on"+nj)}Zn(Mx,"onAnimationEnd");Zn(Ux,"onAnimationIteration");Zn(Dx,"onAnimationStart");Zn("dblclick","onDoubleClick");Zn("focusin","onFocus");Zn("focusout","onBlur");Zn(zx,"onTransitionEnd");Ma("onMouseEnter",["mouseout","mouseover"]);Ma("onMouseLeave",["mouseout","mouseover"]);Ma("onPointerEnter",["pointerout","pointerover"]);Ma("onPointerLeave",["pointerout","pointerover"]);Bs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sj=new Set("cancel close invalid load scroll toggle".split(" ").concat(vi));function hp(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,rk(n,t,void 0,e),e.currentTarget=null}function Bx(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;hp(s,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;hp(s,l,d),i=c}}}if(Xl)throw e=Du,Xl=!1,Du=null,e}function Se(e,t){var r=t[Gu];r===void 0&&(r=t[Gu]=new Set);var n=e+"__bubble";r.has(n)||(Wx(t,e,2,!1),r.add(n))}function Ud(e,t,r){var n=0;t&&(n|=4),Wx(r,e,n,t)}var ul="_reactListening"+Math.random().toString(36).slice(2);function Qi(e){if(!e[ul]){e[ul]=!0,J0.forEach(function(r){r!=="selectionchange"&&(sj.has(r)||Ud(r,!1,e),Ud(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ul]||(t[ul]=!0,Ud("selectionchange",!1,t))}}function Wx(e,t,r,n){switch(Sx(t)){case 1:var s=yk;break;case 4:s=vk;break;default:s=Sf}r=s.bind(null,t,r,e),s=void 0,!Uu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Dd(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=xs(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}hx(function(){var d=i,u=kf(r),h=[];e:{var f=$x.get(e);if(f!==void 0){var g=Pf,y=e;switch(e){case"keypress":if(Ml(r)===0)break e;case"keydown":case"keyup":g=Ik;break;case"focusin":y="focus",g=Ad;break;case"focusout":y="blur",g=Ad;break;case"beforeblur":case"afterblur":g=Ad;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=ep;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=kk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Mk;break;case Mx:case Ux:case Dx:g=Nk;break;case zx:g=Dk;break;case"scroll":g=bk;break;case"wheel":g=$k;break;case"copy":case"cut":case"paste":g=Ek;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=rp}var m=(t&4)!==0,k=!m&&e==="scroll",x=m?f!==null?f+"Capture":null:f;m=[];for(var p=d,v;p!==null;){v=p;var b=v.stateNode;if(v.tag===5&&b!==null&&(v=b,x!==null&&(b=Bi(p,x),b!=null&&m.push(Gi(p,b,v)))),k)break;p=p.return}0<m.length&&(f=new g(f,y,null,r,u),h.push({event:f,listeners:m}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&r!==Lu&&(y=r.relatedTarget||r.fromElement)&&(xs(y)||y[an]))break e;if((g||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,g?(y=r.relatedTarget||r.toElement,g=d,y=y?xs(y):null,y!==null&&(k=Ws(y),y!==k||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=d),g!==y)){if(m=ep,b="onMouseLeave",x="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(m=rp,b="onPointerLeave",x="onPointerEnter",p="pointer"),k=g==null?f:ha(g),v=y==null?f:ha(y),f=new m(b,p+"leave",g,r,u),f.target=k,f.relatedTarget=v,b=null,xs(u)===d&&(m=new m(x,p+"enter",y,r,u),m.target=v,m.relatedTarget=k,b=m),k=b,g&&y)t:{for(m=g,x=y,p=0,v=m;v;v=Js(v))p++;for(v=0,b=x;b;b=Js(b))v++;for(;0<p-v;)m=Js(m),p--;for(;0<v-p;)x=Js(x),v--;for(;p--;){if(m===x||x!==null&&m===x.alternate)break t;m=Js(m),x=Js(x)}m=null}else m=null;g!==null&&fp(h,f,g,m,!1),y!==null&&k!==null&&fp(h,k,y,m,!0)}}e:{if(f=d?ha(d):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var _=Qk;else if(ap(f))if(Ax)_=Xk;else{_=Jk;var N=Gk}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=Yk);if(_&&(_=_(e,d))){Rx(h,_,r,u);break e}N&&N(e,f,d),e==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&Ru(f,"number",f.value)}switch(N=d?ha(d):window,e){case"focusin":(ap(N)||N.contentEditable==="true")&&(da=N,Wu=d,Ci=null);break;case"focusout":Ci=Wu=da=null;break;case"mousedown":qu=!0;break;case"contextmenu":case"mouseup":case"dragend":qu=!1,dp(h,r,u);break;case"selectionchange":if(tj)break;case"keydown":case"keyup":dp(h,r,u)}var j;if(Tf)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else ca?Cx(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(Px&&r.locale!=="ko"&&(ca||P!=="onCompositionStart"?P==="onCompositionEnd"&&ca&&(j=Ex()):(Ln=u,Ef="value"in Ln?Ln.value:Ln.textContent,ca=!0)),N=nc(d,P),0<N.length&&(P=new tp(P,e,null,r,u),h.push({event:P,listeners:N}),j?P.data=j:(j=Tx(r),j!==null&&(P.data=j)))),(j=Wk?qk(e,r):Hk(e,r))&&(d=nc(d,"onBeforeInput"),0<d.length&&(u=new tp("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=j))}Bx(h,t)})}function Gi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function nc(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Bi(e,r),i!=null&&n.unshift(Gi(e,i,s)),i=Bi(e,t),i!=null&&n.push(Gi(e,i,s))),e=e.return}return n}function Js(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function fp(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,s?(c=Bi(r,i),c!=null&&o.unshift(Gi(r,c,l))):s||(c=Bi(r,i),c!=null&&o.push(Gi(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var aj=/\r\n?/g,ij=/\u0000|\uFFFD/g;function mp(e){return(typeof e=="string"?e:""+e).replace(aj,`
`).replace(ij,"")}function hl(e,t,r){if(t=mp(t),mp(e)!==t&&r)throw Error(M(425))}function sc(){}var Hu=null,Vu=null;function Ku(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Qu=typeof setTimeout=="function"?setTimeout:void 0,oj=typeof clearTimeout=="function"?clearTimeout:void 0,pp=typeof Promise=="function"?Promise:void 0,lj=typeof queueMicrotask=="function"?queueMicrotask:typeof pp<"u"?function(e){return pp.resolve(null).then(e).catch(cj)}:Qu;function cj(e){setTimeout(function(){throw e})}function zd(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Hi(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Hi(t)}function Wn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ja=Math.random().toString(36).slice(2),Fr="__reactFiber$"+Ja,Ji="__reactProps$"+Ja,an="__reactContainer$"+Ja,Gu="__reactEvents$"+Ja,dj="__reactListeners$"+Ja,uj="__reactHandles$"+Ja;function xs(e){var t=e[Fr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[an]||r[Fr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=gp(e);e!==null;){if(r=e[Fr])return r;e=gp(e)}return t}e=r,r=e.parentNode}return null}function Ao(e){return e=e[Fr]||e[an],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ha(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function Dc(e){return e[Ji]||null}var Ju=[],fa=-1;function es(e){return{current:e}}function Ee(e){0>fa||(e.current=Ju[fa],Ju[fa]=null,fa--)}function Ne(e,t){fa++,Ju[fa]=e.current,e.current=t}var Yn={},yt=es(Yn),Mt=es(!1),Is=Yn;function Ua(e,t){var r=e.type.contextTypes;if(!r)return Yn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ut(e){return e=e.childContextTypes,e!=null}function ac(){Ee(Mt),Ee(yt)}function xp(e,t,r){if(yt.current!==Yn)throw Error(M(168));Ne(yt,t),Ne(Mt,r)}function qx(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(M(108,Gw(e)||"Unknown",s));return Le({},r,n)}function ic(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yn,Is=yt.current,Ne(yt,e),Ne(Mt,Mt.current),!0}function yp(e,t,r){var n=e.stateNode;if(!n)throw Error(M(169));r?(e=qx(e,t,Is),n.__reactInternalMemoizedMergedChildContext=e,Ee(Mt),Ee(yt),Ne(yt,e)):Ee(Mt),Ne(Mt,r)}var Yr=null,zc=!1,$d=!1;function Hx(e){Yr===null?Yr=[e]:Yr.push(e)}function hj(e){zc=!0,Hx(e)}function ts(){if(!$d&&Yr!==null){$d=!0;var e=0,t=ke;try{var r=Yr;for(ke=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Yr=null,zc=!1}catch(s){throw Yr!==null&&(Yr=Yr.slice(e+1)),gx(jf,ts),s}finally{ke=t,$d=!1}}return null}var ma=[],pa=0,oc=null,lc=0,tr=[],rr=0,Fs=null,en=1,tn="";function us(e,t){ma[pa++]=lc,ma[pa++]=oc,oc=e,lc=t}function Vx(e,t,r){tr[rr++]=en,tr[rr++]=tn,tr[rr++]=Fs,Fs=e;var n=en;e=tn;var s=32-wr(n)-1;n&=~(1<<s),r+=1;var i=32-wr(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,en=1<<32-wr(t)+s|r<<s|n,tn=i+e}else en=1<<i|r<<s|n,tn=e}function Af(e){e.return!==null&&(us(e,1),Vx(e,1,0))}function Of(e){for(;e===oc;)oc=ma[--pa],ma[pa]=null,lc=ma[--pa],ma[pa]=null;for(;e===Fs;)Fs=tr[--rr],tr[rr]=null,tn=tr[--rr],tr[rr]=null,en=tr[--rr],tr[rr]=null}var Kt=null,Vt=null,Re=!1,vr=null;function Kx(e,t){var r=sr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function vp(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Kt=e,Vt=Wn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Kt=e,Vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Fs!==null?{id:en,overflow:tn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=sr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Kt=e,Vt=null,!0):!1;default:return!1}}function Yu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xu(e){if(Re){var t=Vt;if(t){var r=t;if(!vp(e,t)){if(Yu(e))throw Error(M(418));t=Wn(r.nextSibling);var n=Kt;t&&vp(e,t)?Kx(n,r):(e.flags=e.flags&-4097|2,Re=!1,Kt=e)}}else{if(Yu(e))throw Error(M(418));e.flags=e.flags&-4097|2,Re=!1,Kt=e}}}function bp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Kt=e}function fl(e){if(e!==Kt)return!1;if(!Re)return bp(e),Re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ku(e.type,e.memoizedProps)),t&&(t=Vt)){if(Yu(e))throw Qx(),Error(M(418));for(;t;)Kx(e,t),t=Wn(t.nextSibling)}if(bp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Vt=Wn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Vt=null}}else Vt=Kt?Wn(e.stateNode.nextSibling):null;return!0}function Qx(){for(var e=Vt;e;)e=Wn(e.nextSibling)}function Da(){Vt=Kt=null,Re=!1}function If(e){vr===null?vr=[e]:vr.push(e)}var fj=dn.ReactCurrentBatchConfig;function ci(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(M(309));var n=r.stateNode}if(!n)throw Error(M(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(M(284));if(!r._owner)throw Error(M(290,e))}return e}function ml(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wp(e){var t=e._init;return t(e._payload)}function Gx(e){function t(x,p){if(e){var v=x.deletions;v===null?(x.deletions=[p],x.flags|=16):v.push(p)}}function r(x,p){if(!e)return null;for(;p!==null;)t(x,p),p=p.sibling;return null}function n(x,p){for(x=new Map;p!==null;)p.key!==null?x.set(p.key,p):x.set(p.index,p),p=p.sibling;return x}function s(x,p){return x=Kn(x,p),x.index=0,x.sibling=null,x}function i(x,p,v){return x.index=v,e?(v=x.alternate,v!==null?(v=v.index,v<p?(x.flags|=2,p):v):(x.flags|=2,p)):(x.flags|=1048576,p)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,p,v,b){return p===null||p.tag!==6?(p=Qd(v,x.mode,b),p.return=x,p):(p=s(p,v),p.return=x,p)}function c(x,p,v,b){var _=v.type;return _===la?u(x,p,v.props.children,b,v.key):p!==null&&(p.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===wn&&wp(_)===p.type)?(b=s(p,v.props),b.ref=ci(x,p,v),b.return=x,b):(b=ql(v.type,v.key,v.props,null,x.mode,b),b.ref=ci(x,p,v),b.return=x,b)}function d(x,p,v,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=Gd(v,x.mode,b),p.return=x,p):(p=s(p,v.children||[]),p.return=x,p)}function u(x,p,v,b,_){return p===null||p.tag!==7?(p=Os(v,x.mode,b,_),p.return=x,p):(p=s(p,v),p.return=x,p)}function h(x,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Qd(""+p,x.mode,v),p.return=x,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case nl:return v=ql(p.type,p.key,p.props,null,x.mode,v),v.ref=ci(x,null,p),v.return=x,v;case oa:return p=Gd(p,x.mode,v),p.return=x,p;case wn:var b=p._init;return h(x,b(p._payload),v)}if(xi(p)||si(p))return p=Os(p,x.mode,v,null),p.return=x,p;ml(x,p)}return null}function f(x,p,v,b){var _=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return _!==null?null:l(x,p,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case nl:return v.key===_?c(x,p,v,b):null;case oa:return v.key===_?d(x,p,v,b):null;case wn:return _=v._init,f(x,p,_(v._payload),b)}if(xi(v)||si(v))return _!==null?null:u(x,p,v,b,null);ml(x,v)}return null}function g(x,p,v,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return x=x.get(v)||null,l(p,x,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case nl:return x=x.get(b.key===null?v:b.key)||null,c(p,x,b,_);case oa:return x=x.get(b.key===null?v:b.key)||null,d(p,x,b,_);case wn:var N=b._init;return g(x,p,v,N(b._payload),_)}if(xi(b)||si(b))return x=x.get(v)||null,u(p,x,b,_,null);ml(p,b)}return null}function y(x,p,v,b){for(var _=null,N=null,j=p,P=p=0,S=null;j!==null&&P<v.length;P++){j.index>P?(S=j,j=null):S=j.sibling;var T=f(x,j,v[P],b);if(T===null){j===null&&(j=S);break}e&&j&&T.alternate===null&&t(x,j),p=i(T,p,P),N===null?_=T:N.sibling=T,N=T,j=S}if(P===v.length)return r(x,j),Re&&us(x,P),_;if(j===null){for(;P<v.length;P++)j=h(x,v[P],b),j!==null&&(p=i(j,p,P),N===null?_=j:N.sibling=j,N=j);return Re&&us(x,P),_}for(j=n(x,j);P<v.length;P++)S=g(j,x,P,v[P],b),S!==null&&(e&&S.alternate!==null&&j.delete(S.key===null?P:S.key),p=i(S,p,P),N===null?_=S:N.sibling=S,N=S);return e&&j.forEach(function(I){return t(x,I)}),Re&&us(x,P),_}function m(x,p,v,b){var _=si(v);if(typeof _!="function")throw Error(M(150));if(v=_.call(v),v==null)throw Error(M(151));for(var N=_=null,j=p,P=p=0,S=null,T=v.next();j!==null&&!T.done;P++,T=v.next()){j.index>P?(S=j,j=null):S=j.sibling;var I=f(x,j,T.value,b);if(I===null){j===null&&(j=S);break}e&&j&&I.alternate===null&&t(x,j),p=i(I,p,P),N===null?_=I:N.sibling=I,N=I,j=S}if(T.done)return r(x,j),Re&&us(x,P),_;if(j===null){for(;!T.done;P++,T=v.next())T=h(x,T.value,b),T!==null&&(p=i(T,p,P),N===null?_=T:N.sibling=T,N=T);return Re&&us(x,P),_}for(j=n(x,j);!T.done;P++,T=v.next())T=g(j,x,P,T.value,b),T!==null&&(e&&T.alternate!==null&&j.delete(T.key===null?P:T.key),p=i(T,p,P),N===null?_=T:N.sibling=T,N=T);return e&&j.forEach(function(z){return t(x,z)}),Re&&us(x,P),_}function k(x,p,v,b){if(typeof v=="object"&&v!==null&&v.type===la&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case nl:e:{for(var _=v.key,N=p;N!==null;){if(N.key===_){if(_=v.type,_===la){if(N.tag===7){r(x,N.sibling),p=s(N,v.props.children),p.return=x,x=p;break e}}else if(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===wn&&wp(_)===N.type){r(x,N.sibling),p=s(N,v.props),p.ref=ci(x,N,v),p.return=x,x=p;break e}r(x,N);break}else t(x,N);N=N.sibling}v.type===la?(p=Os(v.props.children,x.mode,b,v.key),p.return=x,x=p):(b=ql(v.type,v.key,v.props,null,x.mode,b),b.ref=ci(x,p,v),b.return=x,x=b)}return o(x);case oa:e:{for(N=v.key;p!==null;){if(p.key===N)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){r(x,p.sibling),p=s(p,v.children||[]),p.return=x,x=p;break e}else{r(x,p);break}else t(x,p);p=p.sibling}p=Gd(v,x.mode,b),p.return=x,x=p}return o(x);case wn:return N=v._init,k(x,p,N(v._payload),b)}if(xi(v))return y(x,p,v,b);if(si(v))return m(x,p,v,b);ml(x,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(r(x,p.sibling),p=s(p,v),p.return=x,x=p):(r(x,p),p=Qd(v,x.mode,b),p.return=x,x=p),o(x)):r(x,p)}return k}var za=Gx(!0),Jx=Gx(!1),cc=es(null),dc=null,ga=null,Ff=null;function Lf(){Ff=ga=dc=null}function Mf(e){var t=cc.current;Ee(cc),e._currentValue=t}function Zu(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ja(e,t){dc=e,Ff=ga=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Lt=!0),e.firstContext=null)}function lr(e){var t=e._currentValue;if(Ff!==e)if(e={context:e,memoizedValue:t,next:null},ga===null){if(dc===null)throw Error(M(308));ga=e,dc.dependencies={lanes:0,firstContext:e}}else ga=ga.next=e;return t}var ys=null;function Uf(e){ys===null?ys=[e]:ys.push(e)}function Yx(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Uf(t)):(r.next=s.next,s.next=r),t.interleaved=r,on(e,n)}function on(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var kn=!1;function Df(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function rn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,me&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,on(e,r)}return s=n.interleaved,s===null?(t.next=t,Uf(n)):(t.next=s.next,s.next=t),n.interleaved=t,on(e,r)}function Ul(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,_f(e,r)}}function kp(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function uc(e,t,r,n){var s=e.updateQueue;kn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,u=d=c=null,l=i;do{var f=l.lane,g=l.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,m=l;switch(f=t,g=r,m.tag){case 1:if(y=m.payload,typeof y=="function"){h=y.call(g,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,f=typeof y=="function"?y.call(g,h,f):y,f==null)break e;h=Le({},h,f);break e;case 2:kn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else g={eventTime:g,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=g,c=h):u=u.next=g,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(u===null&&(c=h),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=h}}function jp(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(M(191,s));s.call(n)}}}var Oo={},Ur=es(Oo),Yi=es(Oo),Xi=es(Oo);function vs(e){if(e===Oo)throw Error(M(174));return e}function zf(e,t){switch(Ne(Xi,t),Ne(Yi,e),Ne(Ur,Oo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ou(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ou(t,e)}Ee(Ur),Ne(Ur,t)}function $a(){Ee(Ur),Ee(Yi),Ee(Xi)}function Zx(e){vs(Xi.current);var t=vs(Ur.current),r=Ou(t,e.type);t!==r&&(Ne(Yi,e),Ne(Ur,r))}function $f(e){Yi.current===e&&(Ee(Ur),Ee(Yi))}var Ie=es(0);function hc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bd=[];function Bf(){for(var e=0;e<Bd.length;e++)Bd[e]._workInProgressVersionPrimary=null;Bd.length=0}var Dl=dn.ReactCurrentDispatcher,Wd=dn.ReactCurrentBatchConfig,Ls=0,Fe=null,Xe=null,at=null,fc=!1,Ti=!1,Zi=0,mj=0;function pt(){throw Error(M(321))}function Wf(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!_r(e[r],t[r]))return!1;return!0}function qf(e,t,r,n,s,i){if(Ls=i,Fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Dl.current=e===null||e.memoizedState===null?yj:vj,e=r(n,s),Ti){i=0;do{if(Ti=!1,Zi=0,25<=i)throw Error(M(301));i+=1,at=Xe=null,t.updateQueue=null,Dl.current=bj,e=r(n,s)}while(Ti)}if(Dl.current=mc,t=Xe!==null&&Xe.next!==null,Ls=0,at=Xe=Fe=null,fc=!1,t)throw Error(M(300));return e}function Hf(){var e=Zi!==0;return Zi=0,e}function Tr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?Fe.memoizedState=at=e:at=at.next=e,at}function cr(){if(Xe===null){var e=Fe.alternate;e=e!==null?e.memoizedState:null}else e=Xe.next;var t=at===null?Fe.memoizedState:at.next;if(t!==null)at=t,Xe=e;else{if(e===null)throw Error(M(310));Xe=e,e={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},at===null?Fe.memoizedState=at=e:at=at.next=e}return at}function eo(e,t){return typeof t=="function"?t(e):t}function qd(e){var t=cr(),r=t.queue;if(r===null)throw Error(M(311));r.lastRenderedReducer=e;var n=Xe,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Ls&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,Fe.lanes|=u,Ms|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,_r(n,t.memoizedState)||(Lt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Fe.lanes|=i,Ms|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Hd(e){var t=cr(),r=t.queue;if(r===null)throw Error(M(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);_r(i,t.memoizedState)||(Lt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function ey(){}function ty(e,t){var r=Fe,n=cr(),s=t(),i=!_r(n.memoizedState,s);if(i&&(n.memoizedState=s,Lt=!0),n=n.queue,Vf(sy.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||at!==null&&at.memoizedState.tag&1){if(r.flags|=2048,to(9,ny.bind(null,r,n,s,t),void 0,null),it===null)throw Error(M(349));Ls&30||ry(r,t,s)}return s}function ry(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ny(e,t,r,n){t.value=r,t.getSnapshot=n,ay(t)&&iy(e)}function sy(e,t,r){return r(function(){ay(t)&&iy(e)})}function ay(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!_r(e,r)}catch{return!0}}function iy(e){var t=on(e,1);t!==null&&kr(t,e,1,-1)}function _p(e){var t=Tr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eo,lastRenderedState:e},t.queue=e,e=e.dispatch=xj.bind(null,Fe,e),[t.memoizedState,e]}function to(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function oy(){return cr().memoizedState}function zl(e,t,r,n){var s=Tr();Fe.flags|=e,s.memoizedState=to(1|t,r,void 0,n===void 0?null:n)}function $c(e,t,r,n){var s=cr();n=n===void 0?null:n;var i=void 0;if(Xe!==null){var o=Xe.memoizedState;if(i=o.destroy,n!==null&&Wf(n,o.deps)){s.memoizedState=to(t,r,i,n);return}}Fe.flags|=e,s.memoizedState=to(1|t,r,i,n)}function Np(e,t){return zl(8390656,8,e,t)}function Vf(e,t){return $c(2048,8,e,t)}function ly(e,t){return $c(4,2,e,t)}function cy(e,t){return $c(4,4,e,t)}function dy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function uy(e,t,r){return r=r!=null?r.concat([e]):null,$c(4,4,dy.bind(null,t,e),r)}function Kf(){}function hy(e,t){var r=cr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Wf(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function fy(e,t){var r=cr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Wf(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function my(e,t,r){return Ls&21?(_r(r,t)||(r=vx(),Fe.lanes|=r,Ms|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Lt=!0),e.memoizedState=r)}function pj(e,t){var r=ke;ke=r!==0&&4>r?r:4,e(!0);var n=Wd.transition;Wd.transition={};try{e(!1),t()}finally{ke=r,Wd.transition=n}}function py(){return cr().memoizedState}function gj(e,t,r){var n=Vn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},gy(e))xy(t,r);else if(r=Yx(e,t,r,n),r!==null){var s=St();kr(r,e,n,s),yy(r,t,n)}}function xj(e,t,r){var n=Vn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(gy(e))xy(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,_r(l,o)){var c=t.interleaved;c===null?(s.next=s,Uf(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Yx(e,t,s,n),r!==null&&(s=St(),kr(r,e,n,s),yy(r,t,n))}}function gy(e){var t=e.alternate;return e===Fe||t!==null&&t===Fe}function xy(e,t){Ti=fc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function yy(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,_f(e,r)}}var mc={readContext:lr,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},yj={readContext:lr,useCallback:function(e,t){return Tr().memoizedState=[e,t===void 0?null:t],e},useContext:lr,useEffect:Np,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,zl(4194308,4,dy.bind(null,t,e),r)},useLayoutEffect:function(e,t){return zl(4194308,4,e,t)},useInsertionEffect:function(e,t){return zl(4,2,e,t)},useMemo:function(e,t){var r=Tr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Tr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=gj.bind(null,Fe,e),[n.memoizedState,e]},useRef:function(e){var t=Tr();return e={current:e},t.memoizedState=e},useState:_p,useDebugValue:Kf,useDeferredValue:function(e){return Tr().memoizedState=e},useTransition:function(){var e=_p(!1),t=e[0];return e=pj.bind(null,e[1]),Tr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Fe,s=Tr();if(Re){if(r===void 0)throw Error(M(407));r=r()}else{if(r=t(),it===null)throw Error(M(349));Ls&30||ry(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Np(sy.bind(null,n,i,e),[e]),n.flags|=2048,to(9,ny.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Tr(),t=it.identifierPrefix;if(Re){var r=tn,n=en;r=(n&~(1<<32-wr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Zi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=mj++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vj={readContext:lr,useCallback:hy,useContext:lr,useEffect:Vf,useImperativeHandle:uy,useInsertionEffect:ly,useLayoutEffect:cy,useMemo:fy,useReducer:qd,useRef:oy,useState:function(){return qd(eo)},useDebugValue:Kf,useDeferredValue:function(e){var t=cr();return my(t,Xe.memoizedState,e)},useTransition:function(){var e=qd(eo)[0],t=cr().memoizedState;return[e,t]},useMutableSource:ey,useSyncExternalStore:ty,useId:py,unstable_isNewReconciler:!1},bj={readContext:lr,useCallback:hy,useContext:lr,useEffect:Vf,useImperativeHandle:uy,useInsertionEffect:ly,useLayoutEffect:cy,useMemo:fy,useReducer:Hd,useRef:oy,useState:function(){return Hd(eo)},useDebugValue:Kf,useDeferredValue:function(e){var t=cr();return Xe===null?t.memoizedState=e:my(t,Xe.memoizedState,e)},useTransition:function(){var e=Hd(eo)[0],t=cr().memoizedState;return[e,t]},useMutableSource:ey,useSyncExternalStore:ty,useId:py,unstable_isNewReconciler:!1};function fr(e,t){if(e&&e.defaultProps){t=Le({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function eh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Le({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Bc={isMounted:function(e){return(e=e._reactInternals)?Ws(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=St(),s=Vn(e),i=rn(n,s);i.payload=t,r!=null&&(i.callback=r),t=qn(e,i,s),t!==null&&(kr(t,e,s,n),Ul(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=St(),s=Vn(e),i=rn(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=qn(e,i,s),t!==null&&(kr(t,e,s,n),Ul(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=St(),n=Vn(e),s=rn(r,n);s.tag=2,t!=null&&(s.callback=t),t=qn(e,s,n),t!==null&&(kr(t,e,n,r),Ul(t,e,n))}};function Sp(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ki(r,n)||!Ki(s,i):!0}function vy(e,t,r){var n=!1,s=Yn,i=t.contextType;return typeof i=="object"&&i!==null?i=lr(i):(s=Ut(t)?Is:yt.current,n=t.contextTypes,i=(n=n!=null)?Ua(e,s):Yn),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bc,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ep(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Bc.enqueueReplaceState(t,t.state,null)}function th(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Df(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=lr(i):(i=Ut(t)?Is:yt.current,s.context=Ua(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(eh(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Bc.enqueueReplaceState(s,s.state,null),uc(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ba(e,t){try{var r="",n=t;do r+=Qw(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Vd(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function rh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var wj=typeof WeakMap=="function"?WeakMap:Map;function by(e,t,r){r=rn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){gc||(gc=!0,hh=n),rh(e,t)},r}function wy(e,t,r){r=rn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){rh(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){rh(e,t),typeof n!="function"&&(Hn===null?Hn=new Set([this]):Hn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Pp(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new wj;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Fj.bind(null,e,t,r),t.then(e,e))}function Cp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Tp(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=rn(-1,1),t.tag=2,qn(r,t,1))),r.lanes|=1),e)}var kj=dn.ReactCurrentOwner,Lt=!1;function jt(e,t,r,n){t.child=e===null?Jx(t,null,r,n):za(t,e.child,r,n)}function Rp(e,t,r,n,s){r=r.render;var i=t.ref;return ja(t,s),n=qf(e,t,r,n,i,s),r=Hf(),e!==null&&!Lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ln(e,t,s)):(Re&&r&&Af(t),t.flags|=1,jt(e,t,n,s),t.child)}function Ap(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!tm(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,ky(e,t,i,n,s)):(e=ql(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ki,r(o,n)&&e.ref===t.ref)return ln(e,t,s)}return t.flags|=1,e=Kn(i,n),e.ref=t.ref,e.return=t,t.child=e}function ky(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Ki(i,n)&&e.ref===t.ref)if(Lt=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Lt=!0);else return t.lanes=e.lanes,ln(e,t,s)}return nh(e,t,r,n,s)}function jy(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(ya,Wt),Wt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ne(ya,Wt),Wt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Ne(ya,Wt),Wt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Ne(ya,Wt),Wt|=n;return jt(e,t,s,r),t.child}function _y(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function nh(e,t,r,n,s){var i=Ut(r)?Is:yt.current;return i=Ua(t,i),ja(t,s),r=qf(e,t,r,n,i,s),n=Hf(),e!==null&&!Lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ln(e,t,s)):(Re&&n&&Af(t),t.flags|=1,jt(e,t,r,s),t.child)}function Op(e,t,r,n,s){if(Ut(r)){var i=!0;ic(t)}else i=!1;if(ja(t,s),t.stateNode===null)$l(e,t),vy(t,r,n),th(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=lr(d):(d=Ut(r)?Is:yt.current,d=Ua(t,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&Ep(t,o,n,d),kn=!1;var f=t.memoizedState;o.state=f,uc(t,n,o,s),c=t.memoizedState,l!==n||f!==c||Mt.current||kn?(typeof u=="function"&&(eh(t,r,u,n),c=t.memoizedState),(l=kn||Sp(t,r,l,n,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Xx(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:fr(t.type,l),o.props=d,h=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=lr(c):(c=Ut(r)?Is:yt.current,c=Ua(t,c));var g=r.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Ep(t,o,n,c),kn=!1,f=t.memoizedState,o.state=f,uc(t,n,o,s);var y=t.memoizedState;l!==h||f!==y||Mt.current||kn?(typeof g=="function"&&(eh(t,r,g,n),y=t.memoizedState),(d=kn||Sp(t,r,d,n,f,y,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return sh(e,t,r,n,i,s)}function sh(e,t,r,n,s,i){_y(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&yp(t,r,!1),ln(e,t,i);n=t.stateNode,kj.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=za(t,e.child,null,i),t.child=za(t,null,l,i)):jt(e,t,l,i),t.memoizedState=n.state,s&&yp(t,r,!0),t.child}function Ny(e){var t=e.stateNode;t.pendingContext?xp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xp(e,t.context,!1),zf(e,t.containerInfo)}function Ip(e,t,r,n,s){return Da(),If(s),t.flags|=256,jt(e,t,r,n),t.child}var ah={dehydrated:null,treeContext:null,retryLane:0};function ih(e){return{baseLanes:e,cachePool:null,transitions:null}}function Sy(e,t,r){var n=t.pendingProps,s=Ie.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ne(Ie,s&1),e===null)return Xu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Hc(o,n,0,null),e=Os(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ih(r),t.memoizedState=ah,e):Qf(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return jj(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Kn(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Kn(l,i):(i=Os(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?ih(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=ah,n}return i=e.child,e=i.sibling,n=Kn(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Qf(e,t){return t=Hc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function pl(e,t,r,n){return n!==null&&If(n),za(t,e.child,null,r),e=Qf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jj(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Vd(Error(M(422))),pl(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Hc({mode:"visible",children:n.children},s,0,null),i=Os(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&za(t,e.child,null,o),t.child.memoizedState=ih(o),t.memoizedState=ah,i);if(!(t.mode&1))return pl(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(M(419)),n=Vd(i,n,void 0),pl(e,t,o,n)}if(l=(o&e.childLanes)!==0,Lt||l){if(n=it,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,on(e,s),kr(n,e,s,-1))}return em(),n=Vd(Error(M(421))),pl(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Lj.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Vt=Wn(s.nextSibling),Kt=t,Re=!0,vr=null,e!==null&&(tr[rr++]=en,tr[rr++]=tn,tr[rr++]=Fs,en=e.id,tn=e.overflow,Fs=t),t=Qf(t,n.children),t.flags|=4096,t)}function Fp(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Zu(e.return,t,r)}function Kd(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Ey(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(jt(e,t,n.children,r),n=Ie.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fp(e,r,t);else if(e.tag===19)Fp(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ne(Ie,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&hc(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Kd(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&hc(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Kd(t,!0,r,null,i);break;case"together":Kd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $l(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ln(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ms|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,r=Kn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Kn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function _j(e,t,r){switch(t.tag){case 3:Ny(t),Da();break;case 5:Zx(t);break;case 1:Ut(t.type)&&ic(t);break;case 4:zf(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Ne(cc,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ne(Ie,Ie.current&1),t.flags|=128,null):r&t.child.childLanes?Sy(e,t,r):(Ne(Ie,Ie.current&1),e=ln(e,t,r),e!==null?e.sibling:null);Ne(Ie,Ie.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Ey(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ne(Ie,Ie.current),n)break;return null;case 22:case 23:return t.lanes=0,jy(e,t,r)}return ln(e,t,r)}var Py,oh,Cy,Ty;Py=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};oh=function(){};Cy=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,vs(Ur.current);var i=null;switch(r){case"input":s=Cu(e,s),n=Cu(e,n),i=[];break;case"select":s=Le({},s,{value:void 0}),n=Le({},n,{value:void 0}),i=[];break;case"textarea":s=Au(e,s),n=Au(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=sc)}Iu(r,n);var o;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(zi.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(zi.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Se("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Ty=function(e,t,r,n){r!==n&&(t.flags|=4)};function di(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Nj(e,t,r){var n=t.pendingProps;switch(Of(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(t),null;case 1:return Ut(t.type)&&ac(),gt(t),null;case 3:return n=t.stateNode,$a(),Ee(Mt),Ee(yt),Bf(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(fl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vr!==null&&(ph(vr),vr=null))),oh(e,t),gt(t),null;case 5:$f(t);var s=vs(Xi.current);if(r=t.type,e!==null&&t.stateNode!=null)Cy(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(M(166));return gt(t),null}if(e=vs(Ur.current),fl(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Fr]=t,n[Ji]=i,e=(t.mode&1)!==0,r){case"dialog":Se("cancel",n),Se("close",n);break;case"iframe":case"object":case"embed":Se("load",n);break;case"video":case"audio":for(s=0;s<vi.length;s++)Se(vi[s],n);break;case"source":Se("error",n);break;case"img":case"image":case"link":Se("error",n),Se("load",n);break;case"details":Se("toggle",n);break;case"input":qm(n,i),Se("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Se("invalid",n);break;case"textarea":Vm(n,i),Se("invalid",n)}Iu(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&hl(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&hl(n.textContent,l,e),s=["children",""+l]):zi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Se("scroll",n)}switch(r){case"input":sl(n),Hm(n,i,!0);break;case"textarea":sl(n),Km(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=sc)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=sx(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Fr]=t,e[Ji]=n,Py(e,t,!1,!1),t.stateNode=e;e:{switch(o=Fu(r,n),r){case"dialog":Se("cancel",e),Se("close",e),s=n;break;case"iframe":case"object":case"embed":Se("load",e),s=n;break;case"video":case"audio":for(s=0;s<vi.length;s++)Se(vi[s],e);s=n;break;case"source":Se("error",e),s=n;break;case"img":case"image":case"link":Se("error",e),Se("load",e),s=n;break;case"details":Se("toggle",e),s=n;break;case"input":qm(e,n),s=Cu(e,n),Se("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Le({},n,{value:void 0}),Se("invalid",e);break;case"textarea":Vm(e,n),s=Au(e,n),Se("invalid",e);break;default:s=n}Iu(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?ox(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ax(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&$i(e,c):typeof c=="number"&&$i(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(zi.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Se("scroll",e):c!=null&&yf(e,i,c,o))}switch(r){case"input":sl(e),Hm(e,n,!1);break;case"textarea":sl(e),Km(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Jn(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?va(e,!!n.multiple,i,!1):n.defaultValue!=null&&va(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=sc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return gt(t),null;case 6:if(e&&t.stateNode!=null)Ty(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(M(166));if(r=vs(Xi.current),vs(Ur.current),fl(t)){if(n=t.stateNode,r=t.memoizedProps,n[Fr]=t,(i=n.nodeValue!==r)&&(e=Kt,e!==null))switch(e.tag){case 3:hl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&hl(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Fr]=t,t.stateNode=n}return gt(t),null;case 13:if(Ee(Ie),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Re&&Vt!==null&&t.mode&1&&!(t.flags&128))Qx(),Da(),t.flags|=98560,i=!1;else if(i=fl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(M(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(M(317));i[Fr]=t}else Da(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;gt(t),i=!1}else vr!==null&&(ph(vr),vr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ie.current&1?et===0&&(et=3):em())),t.updateQueue!==null&&(t.flags|=4),gt(t),null);case 4:return $a(),oh(e,t),e===null&&Qi(t.stateNode.containerInfo),gt(t),null;case 10:return Mf(t.type._context),gt(t),null;case 17:return Ut(t.type)&&ac(),gt(t),null;case 19:if(Ee(Ie),i=t.memoizedState,i===null)return gt(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)di(i,!1);else{if(et!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=hc(e),o!==null){for(t.flags|=128,di(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ne(Ie,Ie.current&1|2),t.child}e=e.sibling}i.tail!==null&&We()>Wa&&(t.flags|=128,n=!0,di(i,!1),t.lanes=4194304)}else{if(!n)if(e=hc(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),di(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Re)return gt(t),null}else 2*We()-i.renderingStartTime>Wa&&r!==1073741824&&(t.flags|=128,n=!0,di(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=We(),t.sibling=null,r=Ie.current,Ne(Ie,n?r&1|2:r&1),t):(gt(t),null);case 22:case 23:return Zf(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Wt&1073741824&&(gt(t),t.subtreeFlags&6&&(t.flags|=8192)):gt(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function Sj(e,t){switch(Of(t),t.tag){case 1:return Ut(t.type)&&ac(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $a(),Ee(Mt),Ee(yt),Bf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $f(t),null;case 13:if(Ee(Ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));Da()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ee(Ie),null;case 4:return $a(),null;case 10:return Mf(t.type._context),null;case 22:case 23:return Zf(),null;case 24:return null;default:return null}}var gl=!1,xt=!1,Ej=typeof WeakSet=="function"?WeakSet:Set,$=null;function xa(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ze(e,t,n)}else r.current=null}function lh(e,t,r){try{r()}catch(n){ze(e,t,n)}}var Lp=!1;function Pj(e,t){if(Hu=tc,e=Fx(),Rf(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,f=null;t:for(;;){for(var g;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===e)break t;if(f===r&&++d===s&&(l=o),f===i&&++u===n&&(c=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Vu={focusedElem:e,selectionRange:r},tc=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,k=y.memoizedState,x=t.stateNode,p=x.getSnapshotBeforeUpdate(t.elementType===t.type?m:fr(t.type,m),k);x.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(b){ze(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return y=Lp,Lp=!1,y}function Ri(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&lh(t,r,i)}s=s.next}while(s!==n)}}function Wc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ch(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Ry(e){var t=e.alternate;t!==null&&(e.alternate=null,Ry(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Fr],delete t[Ji],delete t[Gu],delete t[dj],delete t[uj])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ay(e){return e.tag===5||e.tag===3||e.tag===4}function Mp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ay(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=sc));else if(n!==4&&(e=e.child,e!==null))for(dh(e,t,r),e=e.sibling;e!==null;)dh(e,t,r),e=e.sibling}function uh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(uh(e,t,r),e=e.sibling;e!==null;)uh(e,t,r),e=e.sibling}var ct=null,gr=!1;function mn(e,t,r){for(r=r.child;r!==null;)Oy(e,t,r),r=r.sibling}function Oy(e,t,r){if(Mr&&typeof Mr.onCommitFiberUnmount=="function")try{Mr.onCommitFiberUnmount(Fc,r)}catch{}switch(r.tag){case 5:xt||xa(r,t);case 6:var n=ct,s=gr;ct=null,mn(e,t,r),ct=n,gr=s,ct!==null&&(gr?(e=ct,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ct.removeChild(r.stateNode));break;case 18:ct!==null&&(gr?(e=ct,r=r.stateNode,e.nodeType===8?zd(e.parentNode,r):e.nodeType===1&&zd(e,r),Hi(e)):zd(ct,r.stateNode));break;case 4:n=ct,s=gr,ct=r.stateNode.containerInfo,gr=!0,mn(e,t,r),ct=n,gr=s;break;case 0:case 11:case 14:case 15:if(!xt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&lh(r,t,o),s=s.next}while(s!==n)}mn(e,t,r);break;case 1:if(!xt&&(xa(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ze(r,t,l)}mn(e,t,r);break;case 21:mn(e,t,r);break;case 22:r.mode&1?(xt=(n=xt)||r.memoizedState!==null,mn(e,t,r),xt=n):mn(e,t,r);break;default:mn(e,t,r)}}function Up(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Ej),t.forEach(function(n){var s=Mj.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function ur(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ct=l.stateNode,gr=!1;break e;case 3:ct=l.stateNode.containerInfo,gr=!0;break e;case 4:ct=l.stateNode.containerInfo,gr=!0;break e}l=l.return}if(ct===null)throw Error(M(160));Oy(i,o,s),ct=null,gr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){ze(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Iy(t,e),t=t.sibling}function Iy(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ur(t,e),Cr(e),n&4){try{Ri(3,e,e.return),Wc(3,e)}catch(m){ze(e,e.return,m)}try{Ri(5,e,e.return)}catch(m){ze(e,e.return,m)}}break;case 1:ur(t,e),Cr(e),n&512&&r!==null&&xa(r,r.return);break;case 5:if(ur(t,e),Cr(e),n&512&&r!==null&&xa(r,r.return),e.flags&32){var s=e.stateNode;try{$i(s,"")}catch(m){ze(e,e.return,m)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&rx(s,i),Fu(l,o);var d=Fu(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?ox(s,h):u==="dangerouslySetInnerHTML"?ax(s,h):u==="children"?$i(s,h):yf(s,u,h,d)}switch(l){case"input":Tu(s,i);break;case"textarea":nx(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?va(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?va(s,!!i.multiple,i.defaultValue,!0):va(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ji]=i}catch(m){ze(e,e.return,m)}}break;case 6:if(ur(t,e),Cr(e),n&4){if(e.stateNode===null)throw Error(M(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(m){ze(e,e.return,m)}}break;case 3:if(ur(t,e),Cr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Hi(t.containerInfo)}catch(m){ze(e,e.return,m)}break;case 4:ur(t,e),Cr(e);break;case 13:ur(t,e),Cr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Yf=We())),n&4&&Up(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(xt=(d=xt)||u,ur(t,e),xt=d):ur(t,e),Cr(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for($=e,u=e.child;u!==null;){for(h=$=u;$!==null;){switch(f=$,g=f.child,f.tag){case 0:case 11:case 14:case 15:Ri(4,f,f.return);break;case 1:xa(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(m){ze(n,r,m)}}break;case 5:xa(f,f.return);break;case 22:if(f.memoizedState!==null){zp(h);continue}}g!==null?(g.return=f,$=g):zp(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=ix("display",o))}catch(m){ze(e,e.return,m)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(m){ze(e,e.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ur(t,e),Cr(e),n&4&&Up(e);break;case 21:break;default:ur(t,e),Cr(e)}}function Cr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Ay(r)){var n=r;break e}r=r.return}throw Error(M(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&($i(s,""),n.flags&=-33);var i=Mp(e);uh(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Mp(e);dh(e,l,o);break;default:throw Error(M(161))}}catch(c){ze(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Cj(e,t,r){$=e,Fy(e)}function Fy(e,t,r){for(var n=(e.mode&1)!==0;$!==null;){var s=$,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||gl;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||xt;l=gl;var d=xt;if(gl=o,(xt=c)&&!d)for($=s;$!==null;)o=$,c=o.child,o.tag===22&&o.memoizedState!==null?$p(s):c!==null?(c.return=o,$=c):$p(s);for(;i!==null;)$=i,Fy(i),i=i.sibling;$=s,gl=l,xt=d}Dp(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,$=i):Dp(e)}}function Dp(e){for(;$!==null;){var t=$;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:xt||Wc(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!xt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:fr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&jp(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}jp(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Hi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}xt||t.flags&512&&ch(t)}catch(f){ze(t,t.return,f)}}if(t===e){$=null;break}if(r=t.sibling,r!==null){r.return=t.return,$=r;break}$=t.return}}function zp(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var r=t.sibling;if(r!==null){r.return=t.return,$=r;break}$=t.return}}function $p(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Wc(4,t)}catch(c){ze(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){ze(t,s,c)}}var i=t.return;try{ch(t)}catch(c){ze(t,i,c)}break;case 5:var o=t.return;try{ch(t)}catch(c){ze(t,o,c)}}}catch(c){ze(t,t.return,c)}if(t===e){$=null;break}var l=t.sibling;if(l!==null){l.return=t.return,$=l;break}$=t.return}}var Tj=Math.ceil,pc=dn.ReactCurrentDispatcher,Gf=dn.ReactCurrentOwner,ir=dn.ReactCurrentBatchConfig,me=0,it=null,Ge=null,ht=0,Wt=0,ya=es(0),et=0,ro=null,Ms=0,qc=0,Jf=0,Ai=null,It=null,Yf=0,Wa=1/0,Gr=null,gc=!1,hh=null,Hn=null,xl=!1,Mn=null,xc=0,Oi=0,fh=null,Bl=-1,Wl=0;function St(){return me&6?We():Bl!==-1?Bl:Bl=We()}function Vn(e){return e.mode&1?me&2&&ht!==0?ht&-ht:fj.transition!==null?(Wl===0&&(Wl=vx()),Wl):(e=ke,e!==0||(e=window.event,e=e===void 0?16:Sx(e.type)),e):1}function kr(e,t,r,n){if(50<Oi)throw Oi=0,fh=null,Error(M(185));To(e,r,n),(!(me&2)||e!==it)&&(e===it&&(!(me&2)&&(qc|=r),et===4&&Sn(e,ht)),Dt(e,n),r===1&&me===0&&!(t.mode&1)&&(Wa=We()+500,zc&&ts()))}function Dt(e,t){var r=e.callbackNode;fk(e,t);var n=ec(e,e===it?ht:0);if(n===0)r!==null&&Jm(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Jm(r),t===1)e.tag===0?hj(Bp.bind(null,e)):Hx(Bp.bind(null,e)),lj(function(){!(me&6)&&ts()}),r=null;else{switch(bx(n)){case 1:r=jf;break;case 4:r=xx;break;case 16:r=Zl;break;case 536870912:r=yx;break;default:r=Zl}r=Wy(r,Ly.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Ly(e,t){if(Bl=-1,Wl=0,me&6)throw Error(M(327));var r=e.callbackNode;if(_a()&&e.callbackNode!==r)return null;var n=ec(e,e===it?ht:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=yc(e,n);else{t=n;var s=me;me|=2;var i=Uy();(it!==e||ht!==t)&&(Gr=null,Wa=We()+500,As(e,t));do try{Oj();break}catch(l){My(e,l)}while(1);Lf(),pc.current=i,me=s,Ge!==null?t=0:(it=null,ht=0,t=et)}if(t!==0){if(t===2&&(s=zu(e),s!==0&&(n=s,t=mh(e,s))),t===1)throw r=ro,As(e,0),Sn(e,n),Dt(e,We()),r;if(t===6)Sn(e,n);else{if(s=e.current.alternate,!(n&30)&&!Rj(s)&&(t=yc(e,n),t===2&&(i=zu(e),i!==0&&(n=i,t=mh(e,i))),t===1))throw r=ro,As(e,0),Sn(e,n),Dt(e,We()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(M(345));case 2:hs(e,It,Gr);break;case 3:if(Sn(e,n),(n&130023424)===n&&(t=Yf+500-We(),10<t)){if(ec(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){St(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Qu(hs.bind(null,e,It,Gr),t);break}hs(e,It,Gr);break;case 4:if(Sn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-wr(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=We()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Tj(n/1960))-n,10<n){e.timeoutHandle=Qu(hs.bind(null,e,It,Gr),n);break}hs(e,It,Gr);break;case 5:hs(e,It,Gr);break;default:throw Error(M(329))}}}return Dt(e,We()),e.callbackNode===r?Ly.bind(null,e):null}function mh(e,t){var r=Ai;return e.current.memoizedState.isDehydrated&&(As(e,t).flags|=256),e=yc(e,t),e!==2&&(t=It,It=r,t!==null&&ph(t)),e}function ph(e){It===null?It=e:It.push.apply(It,e)}function Rj(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!_r(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Sn(e,t){for(t&=~Jf,t&=~qc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-wr(t),n=1<<r;e[r]=-1,t&=~n}}function Bp(e){if(me&6)throw Error(M(327));_a();var t=ec(e,0);if(!(t&1))return Dt(e,We()),null;var r=yc(e,t);if(e.tag!==0&&r===2){var n=zu(e);n!==0&&(t=n,r=mh(e,n))}if(r===1)throw r=ro,As(e,0),Sn(e,t),Dt(e,We()),r;if(r===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hs(e,It,Gr),Dt(e,We()),null}function Xf(e,t){var r=me;me|=1;try{return e(t)}finally{me=r,me===0&&(Wa=We()+500,zc&&ts())}}function Us(e){Mn!==null&&Mn.tag===0&&!(me&6)&&_a();var t=me;me|=1;var r=ir.transition,n=ke;try{if(ir.transition=null,ke=1,e)return e()}finally{ke=n,ir.transition=r,me=t,!(me&6)&&ts()}}function Zf(){Wt=ya.current,Ee(ya)}function As(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,oj(r)),Ge!==null)for(r=Ge.return;r!==null;){var n=r;switch(Of(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ac();break;case 3:$a(),Ee(Mt),Ee(yt),Bf();break;case 5:$f(n);break;case 4:$a();break;case 13:Ee(Ie);break;case 19:Ee(Ie);break;case 10:Mf(n.type._context);break;case 22:case 23:Zf()}r=r.return}if(it=e,Ge=e=Kn(e.current,null),ht=Wt=t,et=0,ro=null,Jf=qc=Ms=0,It=Ai=null,ys!==null){for(t=0;t<ys.length;t++)if(r=ys[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}ys=null}return e}function My(e,t){do{var r=Ge;try{if(Lf(),Dl.current=mc,fc){for(var n=Fe.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}fc=!1}if(Ls=0,at=Xe=Fe=null,Ti=!1,Zi=0,Gf.current=null,r===null||r.return===null){et=1,ro=t,Ge=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=ht,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=Cp(o);if(g!==null){g.flags&=-257,Tp(g,o,l,i,t),g.mode&1&&Pp(i,d,t),t=g,c=d;var y=t.updateQueue;if(y===null){var m=new Set;m.add(c),t.updateQueue=m}else y.add(c);break e}else{if(!(t&1)){Pp(i,d,t),em();break e}c=Error(M(426))}}else if(Re&&l.mode&1){var k=Cp(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Tp(k,o,l,i,t),If(Ba(c,l));break e}}i=c=Ba(c,l),et!==4&&(et=2),Ai===null?Ai=[i]:Ai.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=by(i,c,t);kp(i,x);break e;case 1:l=c;var p=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Hn===null||!Hn.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=wy(i,l,t);kp(i,b);break e}}i=i.return}while(i!==null)}zy(r)}catch(_){t=_,Ge===r&&r!==null&&(Ge=r=r.return);continue}break}while(1)}function Uy(){var e=pc.current;return pc.current=mc,e===null?mc:e}function em(){(et===0||et===3||et===2)&&(et=4),it===null||!(Ms&268435455)&&!(qc&268435455)||Sn(it,ht)}function yc(e,t){var r=me;me|=2;var n=Uy();(it!==e||ht!==t)&&(Gr=null,As(e,t));do try{Aj();break}catch(s){My(e,s)}while(1);if(Lf(),me=r,pc.current=n,Ge!==null)throw Error(M(261));return it=null,ht=0,et}function Aj(){for(;Ge!==null;)Dy(Ge)}function Oj(){for(;Ge!==null&&!sk();)Dy(Ge)}function Dy(e){var t=By(e.alternate,e,Wt);e.memoizedProps=e.pendingProps,t===null?zy(e):Ge=t,Gf.current=null}function zy(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Sj(r,t),r!==null){r.flags&=32767,Ge=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{et=6,Ge=null;return}}else if(r=Nj(r,t,Wt),r!==null){Ge=r;return}if(t=t.sibling,t!==null){Ge=t;return}Ge=t=e}while(t!==null);et===0&&(et=5)}function hs(e,t,r){var n=ke,s=ir.transition;try{ir.transition=null,ke=1,Ij(e,t,r,n)}finally{ir.transition=s,ke=n}return null}function Ij(e,t,r,n){do _a();while(Mn!==null);if(me&6)throw Error(M(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(mk(e,i),e===it&&(Ge=it=null,ht=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||xl||(xl=!0,Wy(Zl,function(){return _a(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ir.transition,ir.transition=null;var o=ke;ke=1;var l=me;me|=4,Gf.current=null,Pj(e,r),Iy(r,e),ej(Vu),tc=!!Hu,Vu=Hu=null,e.current=r,Cj(r),ak(),me=l,ke=o,ir.transition=i}else e.current=r;if(xl&&(xl=!1,Mn=e,xc=s),i=e.pendingLanes,i===0&&(Hn=null),lk(r.stateNode),Dt(e,We()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(gc)throw gc=!1,e=hh,hh=null,e;return xc&1&&e.tag!==0&&_a(),i=e.pendingLanes,i&1?e===fh?Oi++:(Oi=0,fh=e):Oi=0,ts(),null}function _a(){if(Mn!==null){var e=bx(xc),t=ir.transition,r=ke;try{if(ir.transition=null,ke=16>e?16:e,Mn===null)var n=!1;else{if(e=Mn,Mn=null,xc=0,me&6)throw Error(M(331));var s=me;for(me|=4,$=e.current;$!==null;){var i=$,o=i.child;if($.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for($=d;$!==null;){var u=$;switch(u.tag){case 0:case 11:case 15:Ri(8,u,i)}var h=u.child;if(h!==null)h.return=u,$=h;else for(;$!==null;){u=$;var f=u.sibling,g=u.return;if(Ry(u),u===d){$=null;break}if(f!==null){f.return=g,$=f;break}$=g}}}var y=i.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var k=m.sibling;m.sibling=null,m=k}while(m!==null)}}$=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,$=o;else e:for(;$!==null;){if(i=$,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ri(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,$=x;break e}$=i.return}}var p=e.current;for($=p;$!==null;){o=$;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,$=v;else e:for(o=p;$!==null;){if(l=$,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Wc(9,l)}}catch(_){ze(l,l.return,_)}if(l===o){$=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,$=b;break e}$=l.return}}if(me=s,ts(),Mr&&typeof Mr.onPostCommitFiberRoot=="function")try{Mr.onPostCommitFiberRoot(Fc,e)}catch{}n=!0}return n}finally{ke=r,ir.transition=t}}return!1}function Wp(e,t,r){t=Ba(r,t),t=by(e,t,1),e=qn(e,t,1),t=St(),e!==null&&(To(e,1,t),Dt(e,t))}function ze(e,t,r){if(e.tag===3)Wp(e,e,r);else for(;t!==null;){if(t.tag===3){Wp(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Hn===null||!Hn.has(n))){e=Ba(r,e),e=wy(t,e,1),t=qn(t,e,1),e=St(),t!==null&&(To(t,1,e),Dt(t,e));break}}t=t.return}}function Fj(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=St(),e.pingedLanes|=e.suspendedLanes&r,it===e&&(ht&r)===r&&(et===4||et===3&&(ht&130023424)===ht&&500>We()-Yf?As(e,0):Jf|=r),Dt(e,t)}function $y(e,t){t===0&&(e.mode&1?(t=ol,ol<<=1,!(ol&130023424)&&(ol=4194304)):t=1);var r=St();e=on(e,t),e!==null&&(To(e,t,r),Dt(e,r))}function Lj(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),$y(e,r)}function Mj(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(M(314))}n!==null&&n.delete(t),$y(e,r)}var By;By=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Mt.current)Lt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Lt=!1,_j(e,t,r);Lt=!!(e.flags&131072)}else Lt=!1,Re&&t.flags&1048576&&Vx(t,lc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;$l(e,t),e=t.pendingProps;var s=Ua(t,yt.current);ja(t,r),s=qf(null,t,n,e,s,r);var i=Hf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ut(n)?(i=!0,ic(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Df(t),s.updater=Bc,t.stateNode=s,s._reactInternals=t,th(t,n,e,r),t=sh(null,t,n,!0,i,r)):(t.tag=0,Re&&i&&Af(t),jt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch($l(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Dj(n),e=fr(n,e),s){case 0:t=nh(null,t,n,e,r);break e;case 1:t=Op(null,t,n,e,r);break e;case 11:t=Rp(null,t,n,e,r);break e;case 14:t=Ap(null,t,n,fr(n.type,e),r);break e}throw Error(M(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:fr(n,s),nh(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:fr(n,s),Op(e,t,n,s,r);case 3:e:{if(Ny(t),e===null)throw Error(M(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Xx(e,t),uc(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ba(Error(M(423)),t),t=Ip(e,t,n,r,s);break e}else if(n!==s){s=Ba(Error(M(424)),t),t=Ip(e,t,n,r,s);break e}else for(Vt=Wn(t.stateNode.containerInfo.firstChild),Kt=t,Re=!0,vr=null,r=Jx(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Da(),n===s){t=ln(e,t,r);break e}jt(e,t,n,r)}t=t.child}return t;case 5:return Zx(t),e===null&&Xu(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Ku(n,s)?o=null:i!==null&&Ku(n,i)&&(t.flags|=32),_y(e,t),jt(e,t,o,r),t.child;case 6:return e===null&&Xu(t),null;case 13:return Sy(e,t,r);case 4:return zf(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=za(t,null,n,r):jt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:fr(n,s),Rp(e,t,n,s,r);case 7:return jt(e,t,t.pendingProps,r),t.child;case 8:return jt(e,t,t.pendingProps.children,r),t.child;case 12:return jt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Ne(cc,n._currentValue),n._currentValue=o,i!==null)if(_r(i.value,o)){if(i.children===s.children&&!Mt.current){t=ln(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=rn(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Zu(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(M(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Zu(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}jt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,ja(t,r),s=lr(s),n=n(s),t.flags|=1,jt(e,t,n,r),t.child;case 14:return n=t.type,s=fr(n,t.pendingProps),s=fr(n.type,s),Ap(e,t,n,s,r);case 15:return ky(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:fr(n,s),$l(e,t),t.tag=1,Ut(n)?(e=!0,ic(t)):e=!1,ja(t,r),vy(t,n,s),th(t,n,s,r),sh(null,t,n,!0,e,r);case 19:return Ey(e,t,r);case 22:return jy(e,t,r)}throw Error(M(156,t.tag))};function Wy(e,t){return gx(e,t)}function Uj(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(e,t,r,n){return new Uj(e,t,r,n)}function tm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Dj(e){if(typeof e=="function")return tm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===bf)return 11;if(e===wf)return 14}return 2}function Kn(e,t){var r=e.alternate;return r===null?(r=sr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ql(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")tm(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case la:return Os(r.children,s,i,t);case vf:o=8,s|=8;break;case Nu:return e=sr(12,r,t,s|2),e.elementType=Nu,e.lanes=i,e;case Su:return e=sr(13,r,t,s),e.elementType=Su,e.lanes=i,e;case Eu:return e=sr(19,r,t,s),e.elementType=Eu,e.lanes=i,e;case Z0:return Hc(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y0:o=10;break e;case X0:o=9;break e;case bf:o=11;break e;case wf:o=14;break e;case wn:o=16,n=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=sr(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Os(e,t,r,n){return e=sr(7,e,n,t),e.lanes=r,e}function Hc(e,t,r,n){return e=sr(22,e,n,t),e.elementType=Z0,e.lanes=r,e.stateNode={isHidden:!1},e}function Qd(e,t,r){return e=sr(6,e,null,t),e.lanes=r,e}function Gd(e,t,r){return t=sr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zj(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cd(0),this.expirationTimes=Cd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cd(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function rm(e,t,r,n,s,i,o,l,c){return e=new zj(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=sr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Df(i),e}function $j(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oa,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function qy(e){if(!e)return Yn;e=e._reactInternals;e:{if(Ws(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var r=e.type;if(Ut(r))return qx(e,r,t)}return t}function Hy(e,t,r,n,s,i,o,l,c){return e=rm(r,n,!0,e,s,i,o,l,c),e.context=qy(null),r=e.current,n=St(),s=Vn(r),i=rn(n,s),i.callback=t??null,qn(r,i,s),e.current.lanes=s,To(e,s,n),Dt(e,n),e}function Vc(e,t,r,n){var s=t.current,i=St(),o=Vn(s);return r=qy(r),t.context===null?t.context=r:t.pendingContext=r,t=rn(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=qn(s,t,o),e!==null&&(kr(e,s,o,i),Ul(e,s,o)),o}function vc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function nm(e,t){qp(e,t),(e=e.alternate)&&qp(e,t)}function Bj(){return null}var Vy=typeof reportError=="function"?reportError:function(e){console.error(e)};function sm(e){this._internalRoot=e}Kc.prototype.render=sm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));Vc(e,t,null,null)};Kc.prototype.unmount=sm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Us(function(){Vc(null,e,null,null)}),t[an]=null}};function Kc(e){this._internalRoot=e}Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=jx();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Nn.length&&t!==0&&t<Nn[r].priority;r++);Nn.splice(r,0,e),r===0&&Nx(e)}};function am(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Qc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Hp(){}function Wj(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var d=vc(o);i.call(d)}}var o=Hy(t,n,e,0,null,!1,!1,"",Hp);return e._reactRootContainer=o,e[an]=o.current,Qi(e.nodeType===8?e.parentNode:e),Us(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var d=vc(c);l.call(d)}}var c=rm(e,0,!1,null,null,!1,!1,"",Hp);return e._reactRootContainer=c,e[an]=c.current,Qi(e.nodeType===8?e.parentNode:e),Us(function(){Vc(t,c,r,n)}),c}function Gc(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=vc(o);l.call(c)}}Vc(t,o,e,s)}else o=Wj(r,t,e,s,n);return vc(o)}wx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=yi(t.pendingLanes);r!==0&&(_f(t,r|1),Dt(t,We()),!(me&6)&&(Wa=We()+500,ts()))}break;case 13:Us(function(){var n=on(e,1);if(n!==null){var s=St();kr(n,e,1,s)}}),nm(e,1)}};Nf=function(e){if(e.tag===13){var t=on(e,134217728);if(t!==null){var r=St();kr(t,e,134217728,r)}nm(e,134217728)}};kx=function(e){if(e.tag===13){var t=Vn(e),r=on(e,t);if(r!==null){var n=St();kr(r,e,t,n)}nm(e,t)}};jx=function(){return ke};_x=function(e,t){var r=ke;try{return ke=e,t()}finally{ke=r}};Mu=function(e,t,r){switch(t){case"input":if(Tu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Dc(n);if(!s)throw Error(M(90));tx(n),Tu(n,s)}}}break;case"textarea":nx(e,r);break;case"select":t=r.value,t!=null&&va(e,!!r.multiple,t,!1)}};dx=Xf;ux=Us;var qj={usingClientEntryPoint:!1,Events:[Ao,ha,Dc,lx,cx,Xf]},ui={findFiberByHostInstance:xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Hj={bundleType:ui.bundleType,version:ui.version,rendererPackageName:ui.rendererPackageName,rendererConfig:ui.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:dn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=mx(e),e===null?null:e.stateNode},findFiberByHostInstance:ui.findFiberByHostInstance||Bj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yl.isDisabled&&yl.supportsFiber)try{Fc=yl.inject(Hj),Mr=yl}catch{}}Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qj;Gt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!am(t))throw Error(M(200));return $j(e,t,null,r)};Gt.createRoot=function(e,t){if(!am(e))throw Error(M(299));var r=!1,n="",s=Vy;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=rm(e,1,!1,null,null,r,!1,n,s),e[an]=t.current,Qi(e.nodeType===8?e.parentNode:e),new sm(t)};Gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=mx(t),e=e===null?null:e.stateNode,e};Gt.flushSync=function(e){return Us(e)};Gt.hydrate=function(e,t,r){if(!Qc(t))throw Error(M(200));return Gc(null,e,t,!0,r)};Gt.hydrateRoot=function(e,t,r){if(!am(e))throw Error(M(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Vy;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Hy(t,null,e,1,r??null,s,!1,i,o),e[an]=t.current,Qi(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Kc(t)};Gt.render=function(e,t,r){if(!Qc(t))throw Error(M(200));return Gc(null,e,t,!1,r)};Gt.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(M(40));return e._reactRootContainer?(Us(function(){Gc(null,null,e,!1,function(){e._reactRootContainer=null,e[an]=null})}),!0):!1};Gt.unstable_batchedUpdates=Xf;Gt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Qc(r))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return Gc(e,t,r,!1,n)};Gt.version="18.3.1-next-f1338f8080-20240426";function Ky(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ky)}catch(e){console.error(e)}}Ky(),K0.exports=Gt;var Jc=K0.exports;const Vj=F0(Jc),Kj=I0({__proto__:null,default:Vj},[Jc]);var Vp=Jc;ju.createRoot=Vp.createRoot,ju.hydrateRoot=Vp.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Te(){return Te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Te.apply(this,arguments)}var Be;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Be||(Be={}));const Kp="popstate";function Qj(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return no("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Ds(s)}return Jj(t,r,null,e)}function ne(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qa(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Gj(){return Math.random().toString(36).substr(2,8)}function Qp(e,t){return{usr:e.state,key:e.key,idx:t}}function no(e,t,r,n){return r===void 0&&(r=null),Te({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?un(t):t,{state:r,key:t&&t.key||n||Gj()})}function Ds(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function un(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Jj(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=Be.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Te({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=Be.Pop;let k=u(),x=k==null?null:k-d;d=k,c&&c({action:l,location:m.location,delta:x})}function f(k,x){l=Be.Push;let p=no(m.location,k,x);r&&r(p,k),d=u()+1;let v=Qp(p,d),b=m.createHref(p);try{o.pushState(v,"",b)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(b)}i&&c&&c({action:l,location:m.location,delta:1})}function g(k,x){l=Be.Replace;let p=no(m.location,k,x);r&&r(p,k),d=u();let v=Qp(p,d),b=m.createHref(p);o.replaceState(v,"",b),i&&c&&c({action:l,location:m.location,delta:0})}function y(k){let x=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof k=="string"?k:Ds(k);return p=p.replace(/ $/,"%20"),ne(x,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,x)}let m={get action(){return l},get location(){return e(s,o)},listen(k){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Kp,h),c=k,()=>{s.removeEventListener(Kp,h),c=null}},createHref(k){return t(s,k)},createURL:y,encodeLocation(k){let x=y(k);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:g,go(k){return o.go(k)}};return m}var we;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(we||(we={}));const Yj=new Set(["lazy","caseSensitive","path","id","index","children"]);function Xj(e){return e.index===!0}function bc(e,t,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),e.map((s,i)=>{let o=[...r,String(i)],l=typeof s.id=="string"?s.id:o.join("-");if(ne(s.index!==!0||!s.children,"Cannot specify children on an index route"),ne(!n[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),Xj(s)){let c=Te({},s,t(s),{id:l});return n[l]=c,c}else{let c=Te({},s,t(s),{id:l,children:void 0});return n[l]=c,s.children&&(c.children=bc(s.children,t,o,n)),c}})}function ms(e,t,r){return r===void 0&&(r="/"),Hl(e,t,r,!1)}function Hl(e,t,r,n){let s=typeof t=="string"?un(t):t,i=Ya(s.pathname||"/",r);if(i==null)return null;let o=Qy(e);e_(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=u_(i);l=c_(o[c],d,n)}return l}function Zj(e,t){let{route:r,pathname:n,params:s}=e;return{id:r.id,pathname:n,params:s,data:t[r.id],handle:r.handle}}function Qy(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ne(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=nn([n,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(ne(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Qy(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:o_(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of Gy(i.path))s(i,o,c)}),t}function Gy(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=Gy(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function e_(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:l_(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const t_=/^:[\w-]+$/,r_=3,n_=2,s_=1,a_=10,i_=-2,Gp=e=>e==="*";function o_(e,t){let r=e.split("/"),n=r.length;return r.some(Gp)&&(n+=i_),t&&(n+=n_),r.filter(s=>!Gp(s)).reduce((s,i)=>s+(t_.test(i)?r_:i===""?s_:a_),n)}function l_(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function c_(e,t,r){r===void 0&&(r=!1);let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",h=Jp({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!h&&d&&r&&!n[n.length-1].route.index&&(h=Jp({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:nn([i,h.pathname]),pathnameBase:m_(nn([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=nn([i,h.pathnameBase]))}return o}function Jp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=d_(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((d,u,h)=>{let{paramName:f,isOptional:g}=u;if(f==="*"){let m=l[h]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const y=l[h];return g&&!y?d[f]=void 0:d[f]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function d_(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),qa(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function u_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qa(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ya(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function h_(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?un(e):e;return{pathname:r?r.startsWith("/")?r:f_(r,t):t,search:p_(n),hash:g_(s)}}function f_(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Jd(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Jy(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Yc(e,t){let r=Jy(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Xc(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=un(e):(s=Te({},e),ne(!s.pathname||!s.pathname.includes("?"),Jd("?","pathname","search",s)),ne(!s.pathname||!s.pathname.includes("#"),Jd("#","pathname","hash",s)),ne(!s.search||!s.search.includes("#"),Jd("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=h_(s,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const nn=e=>e.join("/").replace(/\/\/+/g,"/"),m_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),p_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,g_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class wc{constructor(t,r,n,s){s===void 0&&(s=!1),this.status=t,this.statusText=r||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function so(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Yy=["post","put","patch","delete"],x_=new Set(Yy),y_=["get",...Yy],v_=new Set(y_),b_=new Set([301,302,303,307,308]),w_=new Set([307,308]),Yd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},k_={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},hi={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},im=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,j_=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Xy="remix-router-transitions";function __(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",n=!r;ne(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(e.mapRouteProperties)s=e.mapRouteProperties;else if(e.detectErrorBoundary){let E=e.detectErrorBoundary;s=R=>({hasErrorBoundary:E(R)})}else s=j_;let i={},o=bc(e.routes,s,void 0,i),l,c=e.basename||"/",d=e.dataStrategy||P_,u=e.patchRoutesOnNavigation,h=Te({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),f=null,g=new Set,y=null,m=null,k=null,x=e.hydrationData!=null,p=ms(o,e.history.location,c),v=!1,b=null;if(p==null&&!u){let E=At(404,{pathname:e.history.location.pathname}),{matches:R,route:A}=og(o);p=R,b={[A.id]:E}}p&&!e.hydrationData&&Jo(p,o,e.history.location.pathname).active&&(p=null);let _;if(p)if(p.some(E=>E.route.lazy))_=!1;else if(!p.some(E=>E.route.loader))_=!0;else if(h.v7_partialHydration){let E=e.hydrationData?e.hydrationData.loaderData:null,R=e.hydrationData?e.hydrationData.errors:null;if(R){let A=p.findIndex(F=>R[F.route.id]!==void 0);_=p.slice(0,A+1).every(F=>!xh(F.route,E,R))}else _=p.every(A=>!xh(A.route,E,R))}else _=e.hydrationData!=null;else if(_=!1,p=[],h.v7_partialHydration){let E=Jo(null,o,e.history.location.pathname);E.active&&E.matches&&(v=!0,p=E.matches)}let N,j={historyAction:e.history.action,location:e.history.location,matches:p,initialized:_,navigation:Yd,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||b,fetchers:new Map,blockers:new Map},P=Be.Pop,S=!1,T,I=!1,z=new Map,J=null,Y=!1,xe=!1,Pe=[],de=new Set,L=new Map,G=0,X=-1,ie=new Map,Z=new Set,tt=new Map,He=new Map,$e=new Set,Ve=new Map,vt=new Map,Vs;function vd(){if(f=e.history.listen(E=>{let{action:R,location:A,delta:F}=E;if(Vs){Vs(),Vs=void 0;return}qa(vt.size===0||F!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let U=Im({currentLocation:j.location,nextLocation:A,historyAction:R});if(U&&F!=null){let Q=new Promise(ee=>{Vs=ee});e.history.go(F*-1),Go(U,{state:"blocked",location:A,proceed(){Go(U,{state:"proceeding",proceed:void 0,reset:void 0,location:A}),Q.then(()=>e.history.go(F))},reset(){let ee=new Map(j.blockers);ee.set(U,hi),mt({blockers:ee})}});return}return be(R,A)}),r){B_(t,z);let E=()=>W_(t,z);t.addEventListener("pagehide",E),J=()=>t.removeEventListener("pagehide",E)}return j.initialized||be(Be.Pop,j.location,{initialHydration:!0}),N}function as(){f&&f(),J&&J(),g.clear(),T&&T.abort(),j.fetchers.forEach((E,R)=>Qo(R)),j.blockers.forEach((E,R)=>Om(R))}function Ho(E){return g.add(E),()=>g.delete(E)}function mt(E,R){R===void 0&&(R={}),j=Te({},j,E);let A=[],F=[];h.v7_fetcherPersist&&j.fetchers.forEach((U,Q)=>{U.state==="idle"&&($e.has(Q)?F.push(Q):A.push(Q))}),$e.forEach(U=>{!j.fetchers.has(U)&&!L.has(U)&&F.push(U)}),[...g].forEach(U=>U(j,{deletedFetchers:F,viewTransitionOpts:R.viewTransitionOpts,flushSync:R.flushSync===!0})),h.v7_fetcherPersist?(A.forEach(U=>j.fetchers.delete(U)),F.forEach(U=>Qo(U))):F.forEach(U=>$e.delete(U))}function pe(E,R,A){var F,U;let{flushSync:Q}=A===void 0?{}:A,ee=j.actionData!=null&&j.navigation.formMethod!=null&&xr(j.navigation.formMethod)&&j.navigation.state==="loading"&&((F=E.state)==null?void 0:F._isRedirect)!==!0,q;R.actionData?Object.keys(R.actionData).length>0?q=R.actionData:q=null:ee?q=j.actionData:q=null;let H=R.loaderData?ag(j.loaderData,R.loaderData,R.matches||[],R.errors):j.loaderData,W=j.blockers;W.size>0&&(W=new Map(W),W.forEach((fe,lt)=>W.set(lt,hi)));let K=S===!0||j.navigation.formMethod!=null&&xr(j.navigation.formMethod)&&((U=E.state)==null?void 0:U._isRedirect)!==!0;l&&(o=l,l=void 0),Y||P===Be.Pop||(P===Be.Push?e.history.push(E,E.state):P===Be.Replace&&e.history.replace(E,E.state));let re;if(P===Be.Pop){let fe=z.get(j.location.pathname);fe&&fe.has(E.pathname)?re={currentLocation:j.location,nextLocation:E}:z.has(E.pathname)&&(re={currentLocation:E,nextLocation:j.location})}else if(I){let fe=z.get(j.location.pathname);fe?fe.add(E.pathname):(fe=new Set([E.pathname]),z.set(j.location.pathname,fe)),re={currentLocation:j.location,nextLocation:E}}mt(Te({},R,{actionData:q,loaderData:H,historyAction:P,location:E,initialized:!0,navigation:Yd,revalidation:"idle",restoreScrollPosition:Lm(E,R.matches||j.matches),preventScrollReset:K,blockers:W}),{viewTransitionOpts:re,flushSync:Q===!0}),P=Be.Pop,S=!1,I=!1,Y=!1,xe=!1,Pe=[]}async function ve(E,R){if(typeof E=="number"){e.history.go(E);return}let A=gh(j.location,j.matches,c,h.v7_prependBasename,E,h.v7_relativeSplatPath,R==null?void 0:R.fromRouteId,R==null?void 0:R.relative),{path:F,submission:U,error:Q}=Yp(h.v7_normalizeFormMethod,!1,A,R),ee=j.location,q=no(j.location,F,R&&R.state);q=Te({},q,e.history.encodeLocation(q));let H=R&&R.replace!=null?R.replace:void 0,W=Be.Push;H===!0?W=Be.Replace:H===!1||U!=null&&xr(U.formMethod)&&U.formAction===j.location.pathname+j.location.search&&(W=Be.Replace);let K=R&&"preventScrollReset"in R?R.preventScrollReset===!0:void 0,re=(R&&R.flushSync)===!0,fe=Im({currentLocation:ee,nextLocation:q,historyAction:W});if(fe){Go(fe,{state:"blocked",location:q,proceed(){Go(fe,{state:"proceeding",proceed:void 0,reset:void 0,location:q}),ve(E,R)},reset(){let lt=new Map(j.blockers);lt.set(fe,hi),mt({blockers:lt})}});return}return await be(W,q,{submission:U,pendingError:Q,preventScrollReset:K,replace:R&&R.replace,enableViewTransition:R&&R.viewTransition,flushSync:re})}function rt(){if(is(),mt({revalidation:"loading"}),j.navigation.state!=="submitting"){if(j.navigation.state==="idle"){be(j.historyAction,j.location,{startUninterruptedRevalidation:!0});return}be(P||j.historyAction,j.navigation.location,{overrideNavigation:j.navigation,enableViewTransition:I===!0})}}async function be(E,R,A){T&&T.abort(),T=null,P=E,Y=(A&&A.startUninterruptedRevalidation)===!0,fw(j.location,j.matches),S=(A&&A.preventScrollReset)===!0,I=(A&&A.enableViewTransition)===!0;let F=l||o,U=A&&A.overrideNavigation,Q=A!=null&&A.initialHydration&&j.matches&&j.matches.length>0&&!v?j.matches:ms(F,R,c),ee=(A&&A.flushSync)===!0;if(Q&&j.initialized&&!xe&&I_(j.location,R)&&!(A&&A.submission&&xr(A.submission.formMethod))){pe(R,{matches:Q},{flushSync:ee});return}let q=Jo(Q,F,R.pathname);if(q.active&&q.matches&&(Q=q.matches),!Q){let{error:je,notFoundMatches:ye,route:Me}=bd(R.pathname);pe(R,{matches:ye,loaderData:{},errors:{[Me.id]:je}},{flushSync:ee});return}T=new AbortController;let H=Ys(e.history,R,T.signal,A&&A.submission),W;if(A&&A.pendingError)W=[ps(Q).route.id,{type:we.error,error:A.pendingError}];else if(A&&A.submission&&xr(A.submission.formMethod)){let je=await zt(H,R,A.submission,Q,q.active,{replace:A.replace,flushSync:ee});if(je.shortCircuited)return;if(je.pendingActionResult){let[ye,Me]=je.pendingActionResult;if(qt(Me)&&so(Me.error)&&Me.error.status===404){T=null,pe(R,{matches:je.matches,loaderData:{},errors:{[ye]:Me.error}});return}}Q=je.matches||Q,W=je.pendingActionResult,U=Xd(R,A.submission),ee=!1,q.active=!1,H=Ys(e.history,H.url,H.signal)}let{shortCircuited:K,matches:re,loaderData:fe,errors:lt}=await hn(H,R,Q,q.active,U,A&&A.submission,A&&A.fetcherSubmission,A&&A.replace,A&&A.initialHydration===!0,ee,W);K||(T=null,pe(R,Te({matches:re||Q},ig(W),{loaderData:fe,errors:lt})))}async function zt(E,R,A,F,U,Q){Q===void 0&&(Q={}),is();let ee=z_(R,A);if(mt({navigation:ee},{flushSync:Q.flushSync===!0}),U){let W=await Yo(F,R.pathname,E.signal);if(W.type==="aborted")return{shortCircuited:!0};if(W.type==="error"){let K=ps(W.partialMatches).route.id;return{matches:W.partialMatches,pendingActionResult:[K,{type:we.error,error:W.error}]}}else if(W.matches)F=W.matches;else{let{notFoundMatches:K,error:re,route:fe}=bd(R.pathname);return{matches:K,pendingActionResult:[fe.id,{type:we.error,error:re}]}}}let q,H=bi(F,R);if(!H.route.action&&!H.route.lazy)q={type:we.error,error:At(405,{method:E.method,pathname:R.pathname,routeId:H.route.id})};else if(q=(await nt("action",j,E,[H],F,null))[H.route.id],E.signal.aborted)return{shortCircuited:!0};if(bs(q)){let W;return Q&&Q.replace!=null?W=Q.replace:W=rg(q.response.headers.get("Location"),new URL(E.url),c)===j.location.pathname+j.location.search,await Sr(E,q,!0,{submission:A,replace:W}),{shortCircuited:!0}}if(Un(q))throw At(400,{type:"defer-action"});if(qt(q)){let W=ps(F,H.route.id);return(Q&&Q.replace)!==!0&&(P=Be.Push),{matches:F,pendingActionResult:[W.route.id,q]}}return{matches:F,pendingActionResult:[H.route.id,q]}}async function hn(E,R,A,F,U,Q,ee,q,H,W,K){let re=U||Xd(R,Q),fe=Q||ee||cg(re),lt=!Y&&(!h.v7_partialHydration||!H);if(F){if(lt){let Ue=Ke(K);mt(Te({navigation:re},Ue!==void 0?{actionData:Ue}:{}),{flushSync:W})}let ge=await Yo(A,R.pathname,E.signal);if(ge.type==="aborted")return{shortCircuited:!0};if(ge.type==="error"){let Ue=ps(ge.partialMatches).route.id;return{matches:ge.partialMatches,loaderData:{},errors:{[Ue]:ge.error}}}else if(ge.matches)A=ge.matches;else{let{error:Ue,notFoundMatches:Qs,route:ni}=bd(R.pathname);return{matches:Qs,loaderData:{},errors:{[ni.id]:Ue}}}}let je=l||o,[ye,Me]=Zp(e.history,j,A,fe,R,h.v7_partialHydration&&H===!0,h.v7_skipActionErrorRevalidation,xe,Pe,de,$e,tt,Z,je,c,K);if(wd(ge=>!(A&&A.some(Ue=>Ue.route.id===ge))||ye&&ye.some(Ue=>Ue.route.id===ge)),X=++G,ye.length===0&&Me.length===0){let ge=Rm();return pe(R,Te({matches:A,loaderData:{},errors:K&&qt(K[1])?{[K[0]]:K[1].error}:null},ig(K),ge?{fetchers:new Map(j.fetchers)}:{}),{flushSync:W}),{shortCircuited:!0}}if(lt){let ge={};if(!F){ge.navigation=re;let Ue=Ke(K);Ue!==void 0&&(ge.actionData=Ue)}Me.length>0&&(ge.fetchers=ot(Me)),mt(ge,{flushSync:W})}Me.forEach(ge=>{fn(ge.key),ge.controller&&L.set(ge.key,ge.controller)});let Ks=()=>Me.forEach(ge=>fn(ge.key));T&&T.signal.addEventListener("abort",Ks);let{loaderResults:ti,fetcherResults:qr}=await Xt(j,A,ye,Me,E);if(E.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",Ks),Me.forEach(ge=>L.delete(ge.key));let Pr=vl(ti);if(Pr)return await Sr(E,Pr.result,!0,{replace:q}),{shortCircuited:!0};if(Pr=vl(qr),Pr)return Z.add(Pr.key),await Sr(E,Pr.result,!0,{replace:q}),{shortCircuited:!0};let{loaderData:kd,errors:ri}=sg(j,A,ti,K,Me,qr,Ve);Ve.forEach((ge,Ue)=>{ge.subscribe(Qs=>{(Qs||ge.done)&&Ve.delete(Ue)})}),h.v7_partialHydration&&H&&j.errors&&(ri=Te({},j.errors,ri));let os=Rm(),Xo=Am(X),Zo=os||Xo||Me.length>0;return Te({matches:A,loaderData:kd,errors:ri},Zo?{fetchers:new Map(j.fetchers)}:{})}function Ke(E){if(E&&!qt(E[1]))return{[E[0]]:E[1].data};if(j.actionData)return Object.keys(j.actionData).length===0?null:j.actionData}function ot(E){return E.forEach(R=>{let A=j.fetchers.get(R.key),F=fi(void 0,A?A.data:void 0);j.fetchers.set(R.key,F)}),new Map(j.fetchers)}function dr(E,R,A,F){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");fn(E);let U=(F&&F.flushSync)===!0,Q=l||o,ee=gh(j.location,j.matches,c,h.v7_prependBasename,A,h.v7_relativeSplatPath,R,F==null?void 0:F.relative),q=ms(Q,ee,c),H=Jo(q,Q,ee);if(H.active&&H.matches&&(q=H.matches),!q){$t(E,R,At(404,{pathname:ee}),{flushSync:U});return}let{path:W,submission:K,error:re}=Yp(h.v7_normalizeFormMethod,!0,ee,F);if(re){$t(E,R,re,{flushSync:U});return}let fe=bi(q,W),lt=(F&&F.preventScrollReset)===!0;if(K&&xr(K.formMethod)){Vo(E,R,W,fe,q,H.active,U,lt,K);return}tt.set(E,{routeId:R,path:W}),Ko(E,R,W,fe,q,H.active,U,lt,K)}async function Vo(E,R,A,F,U,Q,ee,q,H){is(),tt.delete(E);function W(Qe){if(!Qe.route.action&&!Qe.route.lazy){let Gs=At(405,{method:H.formMethod,pathname:A,routeId:R});return $t(E,R,Gs,{flushSync:ee}),!0}return!1}if(!Q&&W(F))return;let K=j.fetchers.get(E);Er(E,$_(H,K),{flushSync:ee});let re=new AbortController,fe=Ys(e.history,A,re.signal,H);if(Q){let Qe=await Yo(U,new URL(fe.url).pathname,fe.signal,E);if(Qe.type==="aborted")return;if(Qe.type==="error"){$t(E,R,Qe.error,{flushSync:ee});return}else if(Qe.matches){if(U=Qe.matches,F=bi(U,A),W(F))return}else{$t(E,R,At(404,{pathname:A}),{flushSync:ee});return}}L.set(E,re);let lt=G,ye=(await nt("action",j,fe,[F],U,E))[F.route.id];if(fe.signal.aborted){L.get(E)===re&&L.delete(E);return}if(h.v7_fetcherPersist&&$e.has(E)){if(bs(ye)||qt(ye)){Er(E,gn(void 0));return}}else{if(bs(ye))if(L.delete(E),X>lt){Er(E,gn(void 0));return}else return Z.add(E),Er(E,fi(H)),Sr(fe,ye,!1,{fetcherSubmission:H,preventScrollReset:q});if(qt(ye)){$t(E,R,ye.error);return}}if(Un(ye))throw At(400,{type:"defer-action"});let Me=j.navigation.location||j.location,Ks=Ys(e.history,Me,re.signal),ti=l||o,qr=j.navigation.state!=="idle"?ms(ti,j.navigation.location,c):j.matches;ne(qr,"Didn't find any matches after fetcher action");let Pr=++G;ie.set(E,Pr);let kd=fi(H,ye.data);j.fetchers.set(E,kd);let[ri,os]=Zp(e.history,j,qr,H,Me,!1,h.v7_skipActionErrorRevalidation,xe,Pe,de,$e,tt,Z,ti,c,[F.route.id,ye]);os.filter(Qe=>Qe.key!==E).forEach(Qe=>{let Gs=Qe.key,Mm=j.fetchers.get(Gs),gw=fi(void 0,Mm?Mm.data:void 0);j.fetchers.set(Gs,gw),fn(Gs),Qe.controller&&L.set(Gs,Qe.controller)}),mt({fetchers:new Map(j.fetchers)});let Xo=()=>os.forEach(Qe=>fn(Qe.key));re.signal.addEventListener("abort",Xo);let{loaderResults:Zo,fetcherResults:ge}=await Xt(j,qr,ri,os,Ks);if(re.signal.aborted)return;re.signal.removeEventListener("abort",Xo),ie.delete(E),L.delete(E),os.forEach(Qe=>L.delete(Qe.key));let Ue=vl(Zo);if(Ue)return Sr(Ks,Ue.result,!1,{preventScrollReset:q});if(Ue=vl(ge),Ue)return Z.add(Ue.key),Sr(Ks,Ue.result,!1,{preventScrollReset:q});let{loaderData:Qs,errors:ni}=sg(j,qr,Zo,void 0,os,ge,Ve);if(j.fetchers.has(E)){let Qe=gn(ye.data);j.fetchers.set(E,Qe)}Am(Pr),j.navigation.state==="loading"&&Pr>X?(ne(P,"Expected pending action"),T&&T.abort(),pe(j.navigation.location,{matches:qr,loaderData:Qs,errors:ni,fetchers:new Map(j.fetchers)})):(mt({errors:ni,loaderData:ag(j.loaderData,Qs,qr,ni),fetchers:new Map(j.fetchers)}),xe=!1)}async function Ko(E,R,A,F,U,Q,ee,q,H){let W=j.fetchers.get(E);Er(E,fi(H,W?W.data:void 0),{flushSync:ee});let K=new AbortController,re=Ys(e.history,A,K.signal);if(Q){let ye=await Yo(U,new URL(re.url).pathname,re.signal,E);if(ye.type==="aborted")return;if(ye.type==="error"){$t(E,R,ye.error,{flushSync:ee});return}else if(ye.matches)U=ye.matches,F=bi(U,A);else{$t(E,R,At(404,{pathname:A}),{flushSync:ee});return}}L.set(E,K);let fe=G,je=(await nt("loader",j,re,[F],U,E))[F.route.id];if(Un(je)&&(je=await om(je,re.signal,!0)||je),L.get(E)===K&&L.delete(E),!re.signal.aborted){if($e.has(E)){Er(E,gn(void 0));return}if(bs(je))if(X>fe){Er(E,gn(void 0));return}else{Z.add(E),await Sr(re,je,!1,{preventScrollReset:q});return}if(qt(je)){$t(E,R,je.error);return}ne(!Un(je),"Unhandled fetcher deferred data"),Er(E,gn(je.data))}}async function Sr(E,R,A,F){let{submission:U,fetcherSubmission:Q,preventScrollReset:ee,replace:q}=F===void 0?{}:F;R.response.headers.has("X-Remix-Revalidate")&&(xe=!0);let H=R.response.headers.get("Location");ne(H,"Expected a Location header on the redirect Response"),H=rg(H,new URL(E.url),c);let W=no(j.location,H,{_isRedirect:!0});if(r){let ye=!1;if(R.response.headers.has("X-Remix-Reload-Document"))ye=!0;else if(im.test(H)){const Me=e.history.createURL(H);ye=Me.origin!==t.location.origin||Ya(Me.pathname,c)==null}if(ye){q?t.location.replace(H):t.location.assign(H);return}}T=null;let K=q===!0||R.response.headers.has("X-Remix-Replace")?Be.Replace:Be.Push,{formMethod:re,formAction:fe,formEncType:lt}=j.navigation;!U&&!Q&&re&&fe&&lt&&(U=cg(j.navigation));let je=U||Q;if(w_.has(R.response.status)&&je&&xr(je.formMethod))await be(K,W,{submission:Te({},je,{formAction:H}),preventScrollReset:ee||S,enableViewTransition:A?I:void 0});else{let ye=Xd(W,U);await be(K,W,{overrideNavigation:ye,fetcherSubmission:Q,preventScrollReset:ee||S,enableViewTransition:A?I:void 0})}}async function nt(E,R,A,F,U,Q){let ee,q={};try{ee=await C_(d,E,R,A,F,U,Q,i,s)}catch(H){return F.forEach(W=>{q[W.route.id]={type:we.error,error:H}}),q}for(let[H,W]of Object.entries(ee))if(F_(W)){let K=W.result;q[H]={type:we.redirect,response:A_(K,A,H,U,c,h.v7_relativeSplatPath)}}else q[H]=await R_(W);return q}async function Xt(E,R,A,F,U){let Q=E.matches,ee=nt("loader",E,U,A,R,null),q=Promise.all(F.map(async K=>{if(K.matches&&K.match&&K.controller){let fe=(await nt("loader",E,Ys(e.history,K.path,K.controller.signal),[K.match],K.matches,K.key))[K.match.route.id];return{[K.key]:fe}}else return Promise.resolve({[K.key]:{type:we.error,error:At(404,{pathname:K.path})}})})),H=await ee,W=(await q).reduce((K,re)=>Object.assign(K,re),{});return await Promise.all([U_(R,H,U.signal,Q,E.loaderData),D_(R,W,F)]),{loaderResults:H,fetcherResults:W}}function is(){xe=!0,Pe.push(...wd()),tt.forEach((E,R)=>{L.has(R)&&de.add(R),fn(R)})}function Er(E,R,A){A===void 0&&(A={}),j.fetchers.set(E,R),mt({fetchers:new Map(j.fetchers)},{flushSync:(A&&A.flushSync)===!0})}function $t(E,R,A,F){F===void 0&&(F={});let U=ps(j.matches,R);Qo(E),mt({errors:{[U.route.id]:A},fetchers:new Map(j.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function Cm(E){return He.set(E,(He.get(E)||0)+1),$e.has(E)&&$e.delete(E),j.fetchers.get(E)||k_}function Qo(E){let R=j.fetchers.get(E);L.has(E)&&!(R&&R.state==="loading"&&ie.has(E))&&fn(E),tt.delete(E),ie.delete(E),Z.delete(E),h.v7_fetcherPersist&&$e.delete(E),de.delete(E),j.fetchers.delete(E)}function dw(E){let R=(He.get(E)||0)-1;R<=0?(He.delete(E),$e.add(E),h.v7_fetcherPersist||Qo(E)):He.set(E,R),mt({fetchers:new Map(j.fetchers)})}function fn(E){let R=L.get(E);R&&(R.abort(),L.delete(E))}function Tm(E){for(let R of E){let A=Cm(R),F=gn(A.data);j.fetchers.set(R,F)}}function Rm(){let E=[],R=!1;for(let A of Z){let F=j.fetchers.get(A);ne(F,"Expected fetcher: "+A),F.state==="loading"&&(Z.delete(A),E.push(A),R=!0)}return Tm(E),R}function Am(E){let R=[];for(let[A,F]of ie)if(F<E){let U=j.fetchers.get(A);ne(U,"Expected fetcher: "+A),U.state==="loading"&&(fn(A),ie.delete(A),R.push(A))}return Tm(R),R.length>0}function uw(E,R){let A=j.blockers.get(E)||hi;return vt.get(E)!==R&&vt.set(E,R),A}function Om(E){j.blockers.delete(E),vt.delete(E)}function Go(E,R){let A=j.blockers.get(E)||hi;ne(A.state==="unblocked"&&R.state==="blocked"||A.state==="blocked"&&R.state==="blocked"||A.state==="blocked"&&R.state==="proceeding"||A.state==="blocked"&&R.state==="unblocked"||A.state==="proceeding"&&R.state==="unblocked","Invalid blocker state transition: "+A.state+" -> "+R.state);let F=new Map(j.blockers);F.set(E,R),mt({blockers:F})}function Im(E){let{currentLocation:R,nextLocation:A,historyAction:F}=E;if(vt.size===0)return;vt.size>1&&qa(!1,"A router only supports one blocker at a time");let U=Array.from(vt.entries()),[Q,ee]=U[U.length-1],q=j.blockers.get(Q);if(!(q&&q.state==="proceeding")&&ee({currentLocation:R,nextLocation:A,historyAction:F}))return Q}function bd(E){let R=At(404,{pathname:E}),A=l||o,{matches:F,route:U}=og(A);return wd(),{notFoundMatches:F,route:U,error:R}}function wd(E){let R=[];return Ve.forEach((A,F)=>{(!E||E(F))&&(A.cancel(),R.push(F),Ve.delete(F))}),R}function hw(E,R,A){if(y=E,k=R,m=A||null,!x&&j.navigation===Yd){x=!0;let F=Lm(j.location,j.matches);F!=null&&mt({restoreScrollPosition:F})}return()=>{y=null,k=null,m=null}}function Fm(E,R){return m&&m(E,R.map(F=>Zj(F,j.loaderData)))||E.key}function fw(E,R){if(y&&k){let A=Fm(E,R);y[A]=k()}}function Lm(E,R){if(y){let A=Fm(E,R),F=y[A];if(typeof F=="number")return F}return null}function Jo(E,R,A){if(u)if(E){if(Object.keys(E[0].params).length>0)return{active:!0,matches:Hl(R,A,c,!0)}}else return{active:!0,matches:Hl(R,A,c,!0)||[]};return{active:!1,matches:null}}async function Yo(E,R,A,F){if(!u)return{type:"success",matches:E};let U=E;for(;;){let Q=l==null,ee=l||o,q=i;try{await u({signal:A,path:R,matches:U,fetcherKey:F,patch:(K,re)=>{A.aborted||tg(K,re,ee,q,s)}})}catch(K){return{type:"error",error:K,partialMatches:U}}finally{Q&&!A.aborted&&(o=[...o])}if(A.aborted)return{type:"aborted"};let H=ms(ee,R,c);if(H)return{type:"success",matches:H};let W=Hl(ee,R,c,!0);if(!W||U.length===W.length&&U.every((K,re)=>K.route.id===W[re].route.id))return{type:"success",matches:null};U=W}}function mw(E){i={},l=bc(E,s,void 0,i)}function pw(E,R){let A=l==null;tg(E,R,l||o,i,s),A&&(o=[...o],mt({}))}return N={get basename(){return c},get future(){return h},get state(){return j},get routes(){return o},get window(){return t},initialize:vd,subscribe:Ho,enableScrollRestoration:hw,navigate:ve,fetch:dr,revalidate:rt,createHref:E=>e.history.createHref(E),encodeLocation:E=>e.history.encodeLocation(E),getFetcher:Cm,deleteFetcher:dw,dispose:as,getBlocker:uw,deleteBlocker:Om,patchRoutes:pw,_internalFetchControllers:L,_internalActiveDeferreds:Ve,_internalSetRoutes:mw},N}function N_(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function gh(e,t,r,n,s,i,o,l){let c,d;if(o){c=[];for(let h of t)if(c.push(h),h.route.id===o){d=h;break}}else c=t,d=t[t.length-1];let u=Xc(s||".",Yc(c,i),Ya(e.pathname,r)||e.pathname,l==="path");if(s==null&&(u.search=e.search,u.hash=e.hash),(s==null||s===""||s===".")&&d){let h=lm(u.search);if(d.route.index&&!h)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&h){let f=new URLSearchParams(u.search),g=f.getAll("index");f.delete("index"),g.filter(m=>m).forEach(m=>f.append("index",m));let y=f.toString();u.search=y?"?"+y:""}}return n&&r!=="/"&&(u.pathname=u.pathname==="/"?r:nn([r,u.pathname])),Ds(u)}function Yp(e,t,r,n){if(!n||!N_(n))return{path:r};if(n.formMethod&&!M_(n.formMethod))return{path:r,error:At(405,{method:n.formMethod})};let s=()=>({path:r,error:At(400,{type:"invalid-body"})}),i=n.formMethod||"get",o=e?i.toUpperCase():i.toLowerCase(),l=tv(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!xr(o))return s();let f=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((g,y)=>{let[m,k]=y;return""+g+m+"="+k+`
`},""):String(n.body);return{path:r,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:f}}}else if(n.formEncType==="application/json"){if(!xr(o))return s();try{let f=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:f,text:void 0}}}catch{return s()}}}ne(typeof FormData=="function","FormData is not available in this environment");let c,d;if(n.formData)c=yh(n.formData),d=n.formData;else if(n.body instanceof FormData)c=yh(n.body),d=n.body;else if(n.body instanceof URLSearchParams)c=n.body,d=ng(c);else if(n.body==null)c=new URLSearchParams,d=new FormData;else try{c=new URLSearchParams(n.body),d=ng(c)}catch{return s()}let u={formMethod:o,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(xr(u.formMethod))return{path:r,submission:u};let h=un(r);return t&&h.search&&lm(h.search)&&c.append("index",""),h.search="?"+c,{path:Ds(h),submission:u}}function Xp(e,t,r){r===void 0&&(r=!1);let n=e.findIndex(s=>s.route.id===t);return n>=0?e.slice(0,r?n+1:n):e}function Zp(e,t,r,n,s,i,o,l,c,d,u,h,f,g,y,m){let k=m?qt(m[1])?m[1].error:m[1].data:void 0,x=e.createURL(t.location),p=e.createURL(s),v=r;i&&t.errors?v=Xp(r,Object.keys(t.errors)[0],!0):m&&qt(m[1])&&(v=Xp(r,m[0]));let b=m?m[1].statusCode:void 0,_=o&&b&&b>=400,N=v.filter((P,S)=>{let{route:T}=P;if(T.lazy)return!0;if(T.loader==null)return!1;if(i)return xh(T,t.loaderData,t.errors);if(S_(t.loaderData,t.matches[S],P)||c.some(J=>J===P.route.id))return!0;let I=t.matches[S],z=P;return eg(P,Te({currentUrl:x,currentParams:I.params,nextUrl:p,nextParams:z.params},n,{actionResult:k,actionStatus:b,defaultShouldRevalidate:_?!1:l||x.pathname+x.search===p.pathname+p.search||x.search!==p.search||Zy(I,z)}))}),j=[];return h.forEach((P,S)=>{if(i||!r.some(Y=>Y.route.id===P.routeId)||u.has(S))return;let T=ms(g,P.path,y);if(!T){j.push({key:S,routeId:P.routeId,path:P.path,matches:null,match:null,controller:null});return}let I=t.fetchers.get(S),z=bi(T,P.path),J=!1;f.has(S)?J=!1:d.has(S)?(d.delete(S),J=!0):I&&I.state!=="idle"&&I.data===void 0?J=l:J=eg(z,Te({currentUrl:x,currentParams:t.matches[t.matches.length-1].params,nextUrl:p,nextParams:r[r.length-1].params},n,{actionResult:k,actionStatus:b,defaultShouldRevalidate:_?!1:l})),J&&j.push({key:S,routeId:P.routeId,path:P.path,matches:T,match:z,controller:new AbortController})}),[N,j]}function xh(e,t,r){if(e.lazy)return!0;if(!e.loader)return!1;let n=t!=null&&t[e.id]!==void 0,s=r!=null&&r[e.id]!==void 0;return!n&&s?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!n&&!s}function S_(e,t,r){let n=!t||r.route.id!==t.route.id,s=e[r.route.id]===void 0;return n||s}function Zy(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function eg(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function tg(e,t,r,n,s){var i;let o;if(e){let d=n[e];ne(d,"No route found to patch children into: routeId = "+e),d.children||(d.children=[]),o=d.children}else o=r;let l=t.filter(d=>!o.some(u=>ev(d,u))),c=bc(l,s,[e||"_","patch",String(((i=o)==null?void 0:i.length)||"0")],n);o.push(...c)}function ev(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,n)=>{var s;return(s=t.children)==null?void 0:s.some(i=>ev(r,i))}):!1}async function E_(e,t,r){if(!e.lazy)return;let n=await e.lazy();if(!e.lazy)return;let s=r[e.id];ne(s,"No route found in manifest");let i={};for(let o in n){let c=s[o]!==void 0&&o!=="hasErrorBoundary";qa(!c,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!c&&!Yj.has(o)&&(i[o]=n[o])}Object.assign(s,i),Object.assign(s,Te({},t(s),{lazy:void 0}))}async function P_(e){let{matches:t}=e,r=t.filter(s=>s.shouldLoad);return(await Promise.all(r.map(s=>s.resolve()))).reduce((s,i,o)=>Object.assign(s,{[r[o].route.id]:i}),{})}async function C_(e,t,r,n,s,i,o,l,c,d){let u=i.map(g=>g.route.lazy?E_(g.route,c,l):void 0),h=i.map((g,y)=>{let m=u[y],k=s.some(p=>p.route.id===g.route.id);return Te({},g,{shouldLoad:k,resolve:async p=>(p&&n.method==="GET"&&(g.route.lazy||g.route.loader)&&(k=!0),k?T_(t,n,g,m,p,d):Promise.resolve({type:we.data,result:void 0}))})}),f=await e({matches:h,request:n,params:i[0].params,fetcherKey:o,context:d});try{await Promise.all(u)}catch{}return f}async function T_(e,t,r,n,s,i){let o,l,c=d=>{let u,h=new Promise((y,m)=>u=m);l=()=>u(),t.signal.addEventListener("abort",l);let f=y=>typeof d!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+r.route.id+"]"))):d({request:t,params:r.params,context:i},...y!==void 0?[y]:[]),g=(async()=>{try{return{type:"data",result:await(s?s(m=>f(m)):f())}}catch(y){return{type:"error",result:y}}})();return Promise.race([g,h])};try{let d=r.route[e];if(n)if(d){let u,[h]=await Promise.all([c(d).catch(f=>{u=f}),n]);if(u!==void 0)throw u;o=h}else if(await n,d=r.route[e],d)o=await c(d);else if(e==="action"){let u=new URL(t.url),h=u.pathname+u.search;throw At(405,{method:t.method,pathname:h,routeId:r.route.id})}else return{type:we.data,result:void 0};else if(d)o=await c(d);else{let u=new URL(t.url),h=u.pathname+u.search;throw At(404,{pathname:h})}ne(o.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(d){return{type:we.error,result:d}}finally{l&&t.signal.removeEventListener("abort",l)}return o}async function R_(e){let{result:t,type:r}=e;if(rv(t)){let h;try{let f=t.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?t.body==null?h=null:h=await t.json():h=await t.text()}catch(f){return{type:we.error,error:f}}return r===we.error?{type:we.error,error:new wc(t.status,t.statusText,h),statusCode:t.status,headers:t.headers}:{type:we.data,data:h,statusCode:t.status,headers:t.headers}}if(r===we.error){if(lg(t)){var n,s;if(t.data instanceof Error){var i,o;return{type:we.error,error:t.data,statusCode:(i=t.init)==null?void 0:i.status,headers:(o=t.init)!=null&&o.headers?new Headers(t.init.headers):void 0}}return{type:we.error,error:new wc(((n=t.init)==null?void 0:n.status)||500,void 0,t.data),statusCode:so(t)?t.status:void 0,headers:(s=t.init)!=null&&s.headers?new Headers(t.init.headers):void 0}}return{type:we.error,error:t,statusCode:so(t)?t.status:void 0}}if(L_(t)){var l,c;return{type:we.deferred,deferredData:t,statusCode:(l=t.init)==null?void 0:l.status,headers:((c=t.init)==null?void 0:c.headers)&&new Headers(t.init.headers)}}if(lg(t)){var d,u;return{type:we.data,data:t.data,statusCode:(d=t.init)==null?void 0:d.status,headers:(u=t.init)!=null&&u.headers?new Headers(t.init.headers):void 0}}return{type:we.data,data:t}}function A_(e,t,r,n,s,i){let o=e.headers.get("Location");if(ne(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!im.test(o)){let l=n.slice(0,n.findIndex(c=>c.route.id===r)+1);o=gh(new URL(t.url),l,s,!0,o,i),e.headers.set("Location",o)}return e}function rg(e,t,r){if(im.test(e)){let n=e,s=n.startsWith("//")?new URL(t.protocol+n):new URL(n),i=Ya(s.pathname,r)!=null;if(s.origin===t.origin&&i)return s.pathname+s.search+s.hash}return e}function Ys(e,t,r,n){let s=e.createURL(tv(t)).toString(),i={signal:r};if(n&&xr(n.formMethod)){let{formMethod:o,formEncType:l}=n;i.method=o.toUpperCase(),l==="application/json"?(i.headers=new Headers({"Content-Type":l}),i.body=JSON.stringify(n.json)):l==="text/plain"?i.body=n.text:l==="application/x-www-form-urlencoded"&&n.formData?i.body=yh(n.formData):i.body=n.formData}return new Request(s,i)}function yh(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function ng(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function O_(e,t,r,n,s){let i={},o=null,l,c=!1,d={},u=r&&qt(r[1])?r[1].error:void 0;return e.forEach(h=>{if(!(h.route.id in t))return;let f=h.route.id,g=t[f];if(ne(!bs(g),"Cannot handle redirect results in processLoaderData"),qt(g)){let y=g.error;if(u!==void 0&&(y=u,u=void 0),o=o||{},s)o[f]=y;else{let m=ps(e,f);o[m.route.id]==null&&(o[m.route.id]=y)}i[f]=void 0,c||(c=!0,l=so(g.error)?g.error.status:500),g.headers&&(d[f]=g.headers)}else Un(g)?(n.set(f,g.deferredData),i[f]=g.deferredData.data,g.statusCode!=null&&g.statusCode!==200&&!c&&(l=g.statusCode),g.headers&&(d[f]=g.headers)):(i[f]=g.data,g.statusCode&&g.statusCode!==200&&!c&&(l=g.statusCode),g.headers&&(d[f]=g.headers))}),u!==void 0&&r&&(o={[r[0]]:u},i[r[0]]=void 0),{loaderData:i,errors:o,statusCode:l||200,loaderHeaders:d}}function sg(e,t,r,n,s,i,o){let{loaderData:l,errors:c}=O_(t,r,n,o,!1);return s.forEach(d=>{let{key:u,match:h,controller:f}=d,g=i[u];if(ne(g,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(qt(g)){let y=ps(e.matches,h==null?void 0:h.route.id);c&&c[y.route.id]||(c=Te({},c,{[y.route.id]:g.error})),e.fetchers.delete(u)}else if(bs(g))ne(!1,"Unhandled fetcher revalidation redirect");else if(Un(g))ne(!1,"Unhandled fetcher deferred data");else{let y=gn(g.data);e.fetchers.set(u,y)}}),{loaderData:l,errors:c}}function ag(e,t,r,n){let s=Te({},t);for(let i of r){let o=i.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(s[o]=t[o]):e[o]!==void 0&&i.route.loader&&(s[o]=e[o]),n&&n.hasOwnProperty(o))break}return s}function ig(e){return e?qt(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function ps(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function og(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function At(e,t){let{pathname:r,routeId:n,method:s,type:i,message:o}=t===void 0?{}:t,l="Unknown Server Error",c="Unknown @remix-run/router error";return e===400?(l="Bad Request",s&&r&&n?c="You made a "+s+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":i==="defer-action"?c="defer() is not supported in actions":i==="invalid-body"&&(c="Unable to encode submission body")):e===403?(l="Forbidden",c='Route "'+n+'" does not match URL "'+r+'"'):e===404?(l="Not Found",c='No route matches URL "'+r+'"'):e===405&&(l="Method Not Allowed",s&&r&&n?c="You made a "+s.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":s&&(c='Invalid request method "'+s.toUpperCase()+'"')),new wc(e||500,l,new Error(c),!0)}function vl(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[n,s]=t[r];if(bs(s))return{key:n,result:s}}}function tv(e){let t=typeof e=="string"?un(e):e;return Ds(Te({},t,{hash:""}))}function I_(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function F_(e){return rv(e.result)&&b_.has(e.result.status)}function Un(e){return e.type===we.deferred}function qt(e){return e.type===we.error}function bs(e){return(e&&e.type)===we.redirect}function lg(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function L_(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function rv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function M_(e){return v_.has(e.toLowerCase())}function xr(e){return x_.has(e.toLowerCase())}async function U_(e,t,r,n,s){let i=Object.entries(t);for(let o=0;o<i.length;o++){let[l,c]=i[o],d=e.find(f=>(f==null?void 0:f.route.id)===l);if(!d)continue;let u=n.find(f=>f.route.id===d.route.id),h=u!=null&&!Zy(u,d)&&(s&&s[d.route.id])!==void 0;Un(c)&&h&&await om(c,r,!1).then(f=>{f&&(t[l]=f)})}}async function D_(e,t,r){for(let n=0;n<r.length;n++){let{key:s,routeId:i,controller:o}=r[n],l=t[s];e.find(d=>(d==null?void 0:d.route.id)===i)&&Un(l)&&(ne(o,"Expected an AbortController for revalidating fetcher deferred result"),await om(l,o.signal,!0).then(d=>{d&&(t[s]=d)}))}}async function om(e,t,r){if(r===void 0&&(r=!1),!await e.deferredData.resolveData(t)){if(r)try{return{type:we.data,data:e.deferredData.unwrappedData}}catch(s){return{type:we.error,error:s}}return{type:we.data,data:e.deferredData.data}}}function lm(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function bi(e,t){let r=typeof t=="string"?un(t).search:t.search;if(e[e.length-1].route.index&&lm(r||""))return e[e.length-1];let n=Jy(e);return n[n.length-1]}function cg(e){let{formMethod:t,formAction:r,formEncType:n,text:s,formData:i,json:o}=e;if(!(!t||!r||!n)){if(s!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:t,formAction:r,formEncType:n,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:o,text:void 0}}}function Xd(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function z_(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function fi(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function $_(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function gn(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function B_(e,t){try{let r=e.sessionStorage.getItem(Xy);if(r){let n=JSON.parse(r);for(let[s,i]of Object.entries(n||{}))i&&Array.isArray(i)&&t.set(s,new Set(i||[]))}}catch{}}function W_(e,t){if(t.size>0){let r={};for(let[n,s]of t)r[n]=[...s];try{e.sessionStorage.setItem(Xy,JSON.stringify(r))}catch(n){qa(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ao(){return ao=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ao.apply(this,arguments)}const Zc=w.createContext(null),nv=w.createContext(null),rs=w.createContext(null),ed=w.createContext(null),$r=w.createContext({outlet:null,matches:[],isDataRoute:!1}),sv=w.createContext(null);function q_(e,t){let{relative:r}=t===void 0?{}:t;Xa()||ne(!1);let{basename:n,navigator:s}=w.useContext(rs),{hash:i,pathname:o,search:l}=iv(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:nn([n,o])),s.createHref({pathname:c,search:l,hash:i})}function Xa(){return w.useContext(ed)!=null}function Nr(){return Xa()||ne(!1),w.useContext(ed).location}function av(e){w.useContext(rs).static||w.useLayoutEffect(e)}function Br(){let{isDataRoute:e}=w.useContext($r);return e?a1():H_()}function H_(){Xa()||ne(!1);let e=w.useContext(Zc),{basename:t,future:r,navigator:n}=w.useContext(rs),{matches:s}=w.useContext($r),{pathname:i}=Nr(),o=JSON.stringify(Yc(s,r.v7_relativeSplatPath)),l=w.useRef(!1);return av(()=>{l.current=!0}),w.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let h=Xc(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:nn([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,o,i,e])}const V_=w.createContext(null);function K_(e){let t=w.useContext($r).outlet;return t&&w.createElement(V_.Provider,{value:e},t)}function Q_(){let{matches:e}=w.useContext($r),t=e[e.length-1];return t?t.params:{}}function iv(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=w.useContext(rs),{matches:s}=w.useContext($r),{pathname:i}=Nr(),o=JSON.stringify(Yc(s,n.v7_relativeSplatPath));return w.useMemo(()=>Xc(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function G_(e,t){return ov(e,t)}function ov(e,t,r,n){Xa()||ne(!1);let{navigator:s}=w.useContext(rs),{matches:i}=w.useContext($r),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Nr(),u;if(t){var h;let k=typeof t=="string"?un(t):t;c==="/"||(h=k.pathname)!=null&&h.startsWith(c)||ne(!1),u=k}else u=d;let f=u.pathname||"/",g=f;if(c!=="/"){let k=c.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(k.length).join("/")}let y=ms(e,{pathname:g}),m=e1(y&&y.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:nn([c,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:nn([c,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),i,r,n);return t&&m?w.createElement(ed.Provider,{value:{location:ao({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Be.Pop}},m):m}function J_(){let e=s1(),t=so(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:s},r):null,i)}const Y_=w.createElement(J_,null);class X_ extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?w.createElement($r.Provider,{value:this.props.routeContext},w.createElement(sv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Z_(e){let{routeContext:t,match:r,children:n}=e,s=w.useContext(Zc);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement($r.Provider,{value:t},n)}function e1(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||ne(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:g}=r,y=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||y){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let g,y=!1,m=null,k=null;r&&(g=l&&h.route.id?l[h.route.id]:void 0,m=h.route.errorElement||Y_,c&&(d<0&&f===0?(i1("route-fallback",!1),y=!0,k=null):d===f&&(y=!0,k=h.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,f+1)),p=()=>{let v;return g?v=m:y?v=k:h.route.Component?v=w.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=u,w.createElement(Z_,{match:h,routeContext:{outlet:u,matches:x,isDataRoute:r!=null},children:v})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?w.createElement(X_,{location:r.location,revalidation:r.revalidation,component:m,error:g,children:p(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):p()},null)}var lv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(lv||{}),kc=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(kc||{});function t1(e){let t=w.useContext(Zc);return t||ne(!1),t}function r1(e){let t=w.useContext(nv);return t||ne(!1),t}function n1(e){let t=w.useContext($r);return t||ne(!1),t}function cv(e){let t=n1(),r=t.matches[t.matches.length-1];return r.route.id||ne(!1),r.route.id}function s1(){var e;let t=w.useContext(sv),r=r1(kc.UseRouteError),n=cv(kc.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function a1(){let{router:e}=t1(lv.UseNavigateStable),t=cv(kc.UseNavigateStable),r=w.useRef(!1);return av(()=>{r.current=!0}),w.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ao({fromRouteId:t},i)))},[e,t])}const dg={};function i1(e,t,r){!t&&!dg[e]&&(dg[e]=!0)}function o1(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function l1(e){let{to:t,replace:r,state:n,relative:s}=e;Xa()||ne(!1);let{future:i,static:o}=w.useContext(rs),{matches:l}=w.useContext($r),{pathname:c}=Nr(),d=Br(),u=Xc(t,Yc(l,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(u);return w.useEffect(()=>d(JSON.parse(h),{replace:r,state:n,relative:s}),[d,h,s,r,n]),null}function c1(e){return K_(e.context)}function wi(e){ne(!1)}function d1(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Be.Pop,navigator:i,static:o=!1,future:l}=e;Xa()&&ne(!1);let c=t.replace(/^\/*/,"/"),d=w.useMemo(()=>({basename:c,navigator:i,static:o,future:ao({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=un(n));let{pathname:u="/",search:h="",hash:f="",state:g=null,key:y="default"}=n,m=w.useMemo(()=>{let k=Ya(u,c);return k==null?null:{location:{pathname:k,search:h,hash:f,state:g,key:y},navigationType:s}},[c,u,h,f,g,y,s]);return m==null?null:w.createElement(rs.Provider,{value:d},w.createElement(ed.Provider,{children:r,value:m}))}function u1(e){let{children:t,location:r}=e;return G_(vh(t),r)}new Promise(()=>{});function vh(e,t){t===void 0&&(t=[]);let r=[];return w.Children.forEach(e,(n,s)=>{if(!w.isValidElement(n))return;let i=[...t,s];if(n.type===w.Fragment){r.push.apply(r,vh(n.props.children,i));return}n.type!==wi&&ne(!1),!n.props.index||!n.props.children||ne(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=vh(n.props.children,i)),r.push(o)}),r}function h1(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:w.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:w.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:w.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function io(){return io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},io.apply(this,arguments)}function f1(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function m1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function p1(e,t){return e.button===0&&(!t||t==="_self")&&!m1(e)}function bh(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function g1(e,t){let r=bh(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const x1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],y1="6";try{window.__reactRouterVersion=y1}catch{}function v1(e,t){return __({basename:t==null?void 0:t.basename,future:io({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:Qj({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||b1(),routes:e,mapRouteProperties:h1,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function b1(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=io({},t,{errors:w1(t.errors)})),t}function w1(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,s]of t)if(s&&s.__type==="RouteErrorResponse")r[n]=new wc(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let o=new i(s.message);o.stack="",r[n]=o}catch{}}if(r[n]==null){let i=new Error(s.message);i.stack="",r[n]=i}}else r[n]=s;return r}const k1=w.createContext({isTransitioning:!1}),j1=w.createContext(new Map),_1="startTransition",ug=Fw[_1],N1="flushSync",hg=Kj[N1];function S1(e){ug?ug(e):e()}function mi(e){hg?hg(e):e()}let E1=class{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}};function P1(e){let{fallbackElement:t,router:r,future:n}=e,[s,i]=w.useState(r.state),[o,l]=w.useState(),[c,d]=w.useState({isTransitioning:!1}),[u,h]=w.useState(),[f,g]=w.useState(),[y,m]=w.useState(),k=w.useRef(new Map),{v7_startTransition:x}=n||{},p=w.useCallback(P=>{x?S1(P):P()},[x]),v=w.useCallback((P,S)=>{let{deletedFetchers:T,flushSync:I,viewTransitionOpts:z}=S;P.fetchers.forEach((Y,xe)=>{Y.data!==void 0&&k.current.set(xe,Y.data)}),T.forEach(Y=>k.current.delete(Y));let J=r.window==null||r.window.document==null||typeof r.window.document.startViewTransition!="function";if(!z||J){I?mi(()=>i(P)):p(()=>i(P));return}if(I){mi(()=>{f&&(u&&u.resolve(),f.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:z.currentLocation,nextLocation:z.nextLocation})});let Y=r.window.document.startViewTransition(()=>{mi(()=>i(P))});Y.finished.finally(()=>{mi(()=>{h(void 0),g(void 0),l(void 0),d({isTransitioning:!1})})}),mi(()=>g(Y));return}f?(u&&u.resolve(),f.skipTransition(),m({state:P,currentLocation:z.currentLocation,nextLocation:z.nextLocation})):(l(P),d({isTransitioning:!0,flushSync:!1,currentLocation:z.currentLocation,nextLocation:z.nextLocation}))},[r.window,f,u,k,p]);w.useLayoutEffect(()=>r.subscribe(v),[r,v]),w.useEffect(()=>{c.isTransitioning&&!c.flushSync&&h(new E1)},[c]),w.useEffect(()=>{if(u&&o&&r.window){let P=o,S=u.promise,T=r.window.document.startViewTransition(async()=>{p(()=>i(P)),await S});T.finished.finally(()=>{h(void 0),g(void 0),l(void 0),d({isTransitioning:!1})}),g(T)}},[p,o,u,r.window]),w.useEffect(()=>{u&&o&&s.location.key===o.location.key&&u.resolve()},[u,f,s.location,o]),w.useEffect(()=>{!c.isTransitioning&&y&&(l(y.state),d({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),m(void 0))},[c.isTransitioning,y]),w.useEffect(()=>{},[]);let b=w.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:P=>r.navigate(P),push:(P,S,T)=>r.navigate(P,{state:S,preventScrollReset:T==null?void 0:T.preventScrollReset}),replace:(P,S,T)=>r.navigate(P,{replace:!0,state:S,preventScrollReset:T==null?void 0:T.preventScrollReset})}),[r]),_=r.basename||"/",N=w.useMemo(()=>({router:r,navigator:b,static:!1,basename:_}),[r,b,_]),j=w.useMemo(()=>({v7_relativeSplatPath:r.future.v7_relativeSplatPath}),[r.future.v7_relativeSplatPath]);return w.useEffect(()=>o1(n,r.future),[n,r.future]),w.createElement(w.Fragment,null,w.createElement(Zc.Provider,{value:N},w.createElement(nv.Provider,{value:s},w.createElement(j1.Provider,{value:k.current},w.createElement(k1.Provider,{value:c},w.createElement(d1,{basename:_,location:s.location,navigationType:s.historyAction,navigator:b,future:j},s.initialized||r.future.v7_partialHydration?w.createElement(C1,{routes:r.routes,future:r.future,state:s}):t))))),null)}const C1=w.memo(T1);function T1(e){let{routes:t,future:r,state:n}=e;return ov(t,void 0,n,r)}const R1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",A1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ce=w.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,f=f1(t,x1),{basename:g}=w.useContext(rs),y,m=!1;if(typeof d=="string"&&A1.test(d)&&(y=d,R1))try{let v=new URL(window.location.href),b=d.startsWith("//")?new URL(v.protocol+d):new URL(d),_=Ya(b.pathname,g);b.origin===v.origin&&_!=null?d=_+b.search+b.hash:m=!0}catch{}let k=q_(d,{relative:s}),x=O1(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:s,viewTransition:h});function p(v){n&&n(v),v.defaultPrevented||x(v)}return w.createElement("a",io({},f,{href:y||k,onClick:m||i?n:p,ref:r,target:c}))});var fg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(fg||(fg={}));var mg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(mg||(mg={}));function O1(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Br(),d=Nr(),u=iv(e,{relative:o});return w.useCallback(h=>{if(p1(h,r)){h.preventDefault();let f=n!==void 0?n:Ds(d)===Ds(u);c(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,n,s,r,e,i,o,l])}function td(e){let t=w.useRef(bh(e)),r=w.useRef(!1),n=Nr(),s=w.useMemo(()=>g1(n.search,r.current?null:t.current),[n.search]),i=Br(),o=w.useCallback((l,c)=>{const d=bh(typeof l=="function"?l(s):l);r.current=!0,i("?"+d,c)},[i,s]);return[s,o]}var I1=Object.freeze({InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingSecretKeyErrorMessage:"Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingClerkProvider:"{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider"});function dv({packageName:e,customMessages:t}){let r=e;function n(i,o){if(!o)return`${r}: ${i}`;let l=i;const c=i.matchAll(/{{([a-zA-Z0-9-_]+)}}/g);for(const d of c){const u=(o[d[1]]||"").toString();l=l.replace(`{{${d[1]}}}`,u)}return`${r}: ${l}`}const s={...I1,...t};return{setPackageName({packageName:i}){return typeof i=="string"&&(r=i),this},setMessages({customMessages:i}){return Object.assign(s,i||{}),this},throwInvalidPublishableKeyError(i){throw new Error(n(s.InvalidPublishableKeyErrorMessage,i))},throwInvalidProxyUrl(i){throw new Error(n(s.InvalidProxyUrlErrorMessage,i))},throwMissingPublishableKeyError(){throw new Error(n(s.MissingPublishableKeyErrorMessage))},throwMissingSecretKeyError(){throw new Error(n(s.MissingSecretKeyErrorMessage))},throwMissingClerkProviderError(i){throw new Error(n(s.MissingClerkProvider,i))},throw(i){throw new Error(n(i))}}}var uv=Object.defineProperty,F1=Object.getOwnPropertyDescriptor,L1=Object.getOwnPropertyNames,M1=Object.prototype.hasOwnProperty,U1=(e,t)=>{for(var r in t)uv(e,r,{get:t[r],enumerable:!0})},pg=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of L1(t))!M1.call(e,s)&&s!==r&&uv(e,s,{get:()=>t[s],enumerable:!(n=F1(t,s))||n.enumerable});return e},D1=(e,t,r)=>(pg(e,t,"default"),r&&pg(r,t,"default")),hv=e=>typeof atob<"u"&&typeof atob=="function"?atob(e):typeof global<"u"&&global.Buffer?new global.Buffer(e,"base64").toString():e,z1=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],fv="pk_live_",$1="pk_test_";function mv(e){if(!e.endsWith("$"))return!1;const t=e.slice(0,-1);return t.includes("$")?!1:t.includes(".")}function gg(e,t={}){if(e=e||"",!e||!wh(e)){if(t.fatal&&!e)throw new Error("Publishable key is missing. Ensure that your publishable key is correctly configured. Double-check your environment configuration for your keys, or access them here: https://dashboard.clerk.com/last-active?path=api-keys");if(t.fatal&&!wh(e))throw new Error("Publishable key not valid.");return null}const r=e.startsWith(fv)?"production":"development";let n;try{n=hv(e.split("_")[2])}catch{if(t.fatal)throw new Error("Publishable key not valid: Failed to decode key.");return null}if(!mv(n)){if(t.fatal)throw new Error("Publishable key not valid: Decoded key has invalid format.");return null}let s=n.slice(0,-1);return t.proxyUrl?s=t.proxyUrl:r!=="development"&&t.domain&&t.isSatellite&&(s=`clerk.${t.domain}`),{instanceType:r,frontendApi:s}}function wh(e=""){try{if(!(e.startsWith(fv)||e.startsWith($1)))return!1;const r=e.split("_");if(r.length!==3)return!1;const n=r[2];if(!n)return!1;const s=hv(n);return mv(s)}catch{return!1}}function B1(){const e=new Map;return{isDevOrStagingUrl:t=>{if(!t)return!1;const r=typeof t=="string"?t:t.hostname;let n=e.get(r);return n===void 0&&(n=z1.some(s=>r.endsWith(s)),e.set(r,n)),n}}}var W1="METHOD_CALLED",q1=.1;function pv(e,t){return{event:W1,eventSamplingRate:q1,payload:{method:e,...t}}}var gv={exports:{}},xv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ha=w;function H1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var V1=typeof Object.is=="function"?Object.is:H1,K1=Ha.useState,Q1=Ha.useEffect,G1=Ha.useLayoutEffect,J1=Ha.useDebugValue;function Y1(e,t){var r=t(),n=K1({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return G1(function(){s.value=r,s.getSnapshot=t,Zd(s)&&i({inst:s})},[e,r,t]),Q1(function(){return Zd(s)&&i({inst:s}),e(function(){Zd(s)&&i({inst:s})})},[e]),J1(r),r}function Zd(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!V1(e,r)}catch{return!0}}function X1(e,t){return t()}var Z1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?X1:Y1;xv.useSyncExternalStore=Ha.useSyncExternalStore!==void 0?Ha.useSyncExternalStore:Z1;gv.exports=xv;var yv=gv.exports;const vv=0,bv=1,wv=2,xg=3;var yg=Object.prototype.hasOwnProperty;function kh(e,t){var r,n;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&kh(e[n],t[n]););return n===-1}if(!r||typeof e=="object"){n=0;for(r in e)if(yg.call(e,r)&&++n&&!yg.call(t,r)||!(r in t)||!kh(e[r],t[r]))return!1;return Object.keys(t).length===n}}return e!==e&&t!==t}const br=new WeakMap,Dn=()=>{},Ze=Dn(),jc=Object,se=e=>e===Ze,nr=e=>typeof e=="function",cn=(e,t)=>({...e,...t}),kv=e=>nr(e.then),eu={},bl={},cm="undefined",Io=typeof window!=cm,jh=typeof document!=cm,eN=Io&&"Deno"in window,tN=()=>Io&&typeof window.requestAnimationFrame!=cm,jn=(e,t)=>{const r=br.get(e);return[()=>!se(t)&&e.get(t)||eu,n=>{if(!se(t)){const s=e.get(t);t in bl||(bl[t]=s),r[5](t,cn(s,n),s||eu)}},r[6],()=>!se(t)&&t in bl?bl[t]:!se(t)&&e.get(t)||eu]};let _h=!0;const rN=()=>_h,[Nh,Sh]=Io&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Dn,Dn],nN=()=>{const e=jh&&document.visibilityState;return se(e)||e!=="hidden"},sN=e=>(jh&&document.addEventListener("visibilitychange",e),Nh("focus",e),()=>{jh&&document.removeEventListener("visibilitychange",e),Sh("focus",e)}),aN=e=>{const t=()=>{_h=!0,e()},r=()=>{_h=!1};return Nh("online",t),Nh("offline",r),()=>{Sh("online",t),Sh("offline",r)}},iN={isOnline:rN,isVisible:nN},oN={initFocus:sN,initReconnect:aN},vg=!O.useId,oo=!Io||eN,lN=e=>tN()?window.requestAnimationFrame(e):setTimeout(e,1),Ii=oo?w.useEffect:w.useLayoutEffect,tu=typeof navigator<"u"&&navigator.connection,bg=!oo&&tu&&(["slow-2g","2g"].includes(tu.effectiveType)||tu.saveData),wl=new WeakMap,cN=e=>jc.prototype.toString.call(e),ru=(e,t)=>e===`[object ${t}]`;let dN=0;const Eh=e=>{const t=typeof e,r=cN(e),n=ru(r,"Date"),s=ru(r,"RegExp"),i=ru(r,"Object");let o,l;if(jc(e)===e&&!n&&!s){if(o=wl.get(e),o)return o;if(o=++dN+"~",wl.set(e,o),Array.isArray(e)){for(o="@",l=0;l<e.length;l++)o+=Eh(e[l])+",";wl.set(e,o)}if(i){o="#";const c=jc.keys(e).sort();for(;!se(l=c.pop());)se(e[l])||(o+=l+":"+Eh(e[l])+",");wl.set(e,o)}}else o=n?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return o},Va=e=>{if(nr(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Eh(e):"",[e,t]};let uN=0;const Ph=()=>++uN;async function jv(...e){const[t,r,n,s]=e,i=cn({populateCache:!0,throwOnError:!0},typeof s=="boolean"?{revalidate:s}:s||{});let o=i.populateCache;const l=i.rollbackOnError;let c=i.optimisticData;const d=f=>typeof l=="function"?l(f):l!==!1,u=i.throwOnError;if(nr(r)){const f=r,g=[],y=t.keys();for(const m of y)!/^\$(inf|sub)\$/.test(m)&&f(t.get(m)._k)&&g.push(m);return Promise.all(g.map(h))}return h(r);async function h(f){const[g]=Va(f);if(!g)return;const[y,m]=jn(t,g),[k,x,p,v]=br.get(t),b=()=>{const Y=k[g];return(nr(i.revalidate)?i.revalidate(y().data,f):i.revalidate!==!1)&&(delete p[g],delete v[g],Y&&Y[0])?Y[0](wv).then(()=>y().data):y().data};if(e.length<3)return b();let _=n,N,j=!1;const P=Ph();x[g]=[P,0];const S=!se(c),T=y(),I=T.data,z=T._c,J=se(z)?I:z;if(S&&(c=nr(c)?c(J,I):c,m({data:c,_c:J})),nr(_))try{_=_(J)}catch(Y){N=Y,j=!0}if(_&&kv(_))if(_=await _.catch(Y=>{N=Y,j=!0}),P!==x[g][0]){if(j)throw N;return _}else j&&S&&d(N)&&(o=!0,m({data:J,_c:Ze}));if(o&&!j)if(nr(o)){const Y=o(_,J);m({data:Y,error:Ze,_c:Ze})}else m({data:_,error:Ze,_c:Ze});if(x[g][1]=Ph(),Promise.resolve(b()).then(()=>{m({_c:Ze})}),j){if(u)throw N;return}return _}}const wg=(e,t)=>{for(const r in e)e[r][0]&&e[r][0](t)},_v=(e,t)=>{if(!br.has(e)){const r=cn(oN,t),n=Object.create(null),s=jv.bind(Ze,e);let i=Dn;const o=Object.create(null),l=(u,h)=>{const f=o[u]||[];return o[u]=f,f.push(h),()=>f.splice(f.indexOf(h),1)},c=(u,h,f)=>{e.set(u,h);const g=o[u];if(g)for(const y of g)y(h,f)},d=()=>{if(!br.has(e)&&(br.set(e,[n,Object.create(null),Object.create(null),Object.create(null),s,c,l]),!oo)){const u=r.initFocus(setTimeout.bind(Ze,wg.bind(Ze,n,vv))),h=r.initReconnect(setTimeout.bind(Ze,wg.bind(Ze,n,bv)));i=()=>{u&&u(),h&&h(),br.delete(e)}}};return d(),[e,s,d,i]}return[e,br.get(e)[4]]},hN=(e,t,r,n,s)=>{const i=r.errorRetryCount,o=s.retryCount,l=~~((Math.random()+.5)*(1<<(o<8?o:8)))*r.errorRetryInterval;!se(i)&&o>i||setTimeout(n,l,s)},fN=kh,[Fo,Nv]=_v(new Map),Sv=cn({onLoadingSlow:Dn,onSuccess:Dn,onError:Dn,onErrorRetry:hN,onDiscarded:Dn,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:bg?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:bg?5e3:3e3,compare:fN,isPaused:()=>!1,cache:Fo,mutate:Nv,fallback:{}},iN),Ev=(e,t)=>{const r=cn(e,t);if(t){const{use:n,fallback:s}=e,{use:i,fallback:o}=t;n&&i&&(r.use=n.concat(i)),s&&o&&(r.fallback=cn(s,o))}return r},Ch=w.createContext({}),mN=e=>{const{value:t}=e,r=w.useContext(Ch),n=nr(t),s=w.useMemo(()=>n?t(r):t,[n,r,t]),i=w.useMemo(()=>n?s:Ev(r,s),[n,r,s]),o=s&&s.provider,l=w.useRef(Ze);o&&!l.current&&(l.current=_v(o(i.cache||Fo),s));const c=l.current;return c&&(i.cache=c[0],i.mutate=c[1]),Ii(()=>{if(c)return c[2]&&c[2](),c[3]},[]),w.createElement(Ch.Provider,cn(e,{value:i}))},Pv="$inf$",Cv=Io&&window.__SWR_DEVTOOLS_USE__,pN=Cv?window.__SWR_DEVTOOLS_USE__:[],gN=()=>{Cv&&(window.__SWR_DEVTOOLS_REACT__=O)},Tv=e=>nr(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],Rv=()=>cn(Sv,w.useContext(Ch)),xN=(e,t)=>{const[r,n]=Va(e),[,,,s]=br.get(Fo);if(s[r])return s[r];const i=t(n);return s[r]=i,i},yN=e=>(t,r,n)=>e(t,r&&((...i)=>{const[o]=Va(t),[,,,l]=br.get(Fo);if(o.startsWith(Pv))return r(...i);const c=l[o];return se(c)?r(...i):(delete l[o],c)}),n),vN=pN.concat(yN),bN=e=>function(...r){const n=Rv(),[s,i,o]=Tv(r),l=Ev(n,o);let c=e;const{use:d}=l,u=(d||[]).concat(vN);for(let h=u.length;h--;)c=u[h](c);return c(s,i||l.fetcher||null,l)},wN=(e,t,r)=>{const n=t[e]||(t[e]=[]);return n.push(r),()=>{const s=n.indexOf(r);s>=0&&(n[s]=n[n.length-1],n.pop())}},kN=(e,t)=>(...r)=>{const[n,s,i]=Tv(r),o=(i.use||[]).concat(t);return e(n,s,{...i,use:o})};gN();const jN=()=>{},_N=jN(),Th=Object,kg=e=>e===_N,NN=e=>typeof e=="function",kl=new WeakMap,SN=e=>Th.prototype.toString.call(e),nu=(e,t)=>e===`[object ${t}]`;let EN=0;const Rh=e=>{const t=typeof e,r=SN(e),n=nu(r,"Date"),s=nu(r,"RegExp"),i=nu(r,"Object");let o,l;if(Th(e)===e&&!n&&!s){if(o=kl.get(e),o)return o;if(o=++EN+"~",kl.set(e,o),Array.isArray(e)){for(o="@",l=0;l<e.length;l++)o+=Rh(e[l])+",";kl.set(e,o)}if(i){o="#";const c=Th.keys(e).sort();for(;!kg(l=c.pop());)kg(e[l])||(o+=l+":"+Rh(e[l])+",");kl.set(e,o)}}else o=n?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return o},PN=e=>{if(NN(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Rh(e):"",[e,t]},CN=e=>PN(e)[0],su=O.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),au={dedupe:!0},TN=(e,t,r)=>{const{cache:n,compare:s,suspense:i,fallbackData:o,revalidateOnMount:l,revalidateIfStale:c,refreshInterval:d,refreshWhenHidden:u,refreshWhenOffline:h,keepPreviousData:f}=r,[g,y,m,k]=br.get(n),[x,p]=Va(e),v=w.useRef(!1),b=w.useRef(!1),_=w.useRef(x),N=w.useRef(t),j=w.useRef(r),P=()=>j.current,S=()=>P().isVisible()&&P().isOnline(),[T,I,z,J]=jn(n,x),Y=w.useRef({}).current,xe=se(o)?se(r.fallback)?Ze:r.fallback[x]:o,Pe=(pe,ve)=>{for(const rt in Y){const be=rt;if(be==="data"){if(!s(pe[be],ve[be])&&(!se(pe[be])||!s($e,ve[be])))return!1}else if(ve[be]!==pe[be])return!1}return!0},de=w.useMemo(()=>{const pe=(()=>!x||!t?!1:se(l)?P().isPaused()||i?!1:c!==!1:l)(),ve=ot=>{const dr=cn(ot);return delete dr._k,pe?{isValidating:!0,isLoading:!0,...dr}:dr},rt=T(),be=J(),zt=ve(rt),hn=rt===be?zt:ve(be);let Ke=zt;return[()=>{const ot=ve(T());return Pe(ot,Ke)?(Ke.data=ot.data,Ke.isLoading=ot.isLoading,Ke.isValidating=ot.isValidating,Ke.error=ot.error,Ke):(Ke=ot,ot)},()=>hn]},[n,x]),L=yv.useSyncExternalStore(w.useCallback(pe=>z(x,(ve,rt)=>{Pe(rt,ve)||pe()}),[n,x]),de[0],de[1]),G=!v.current,X=g[x]&&g[x].length>0,ie=L.data,Z=se(ie)?xe&&kv(xe)?su(xe):xe:ie,tt=L.error,He=w.useRef(Z),$e=f?se(ie)?se(He.current)?Z:He.current:ie:Z,Ve=(()=>X&&!se(tt)?!1:G&&!se(l)?l:P().isPaused()?!1:i?se(Z)?!1:c:se(Z)||c)(),vt=!!(x&&t&&G&&Ve),Vs=se(L.isValidating)?vt:L.isValidating,vd=se(L.isLoading)?vt:L.isLoading,as=w.useCallback(async pe=>{const ve=N.current;if(!x||!ve||b.current||P().isPaused())return!1;let rt,be,zt=!0;const hn=pe||{},Ke=!m[x]||!hn.dedupe,ot=()=>vg?!b.current&&x===_.current&&v.current:x===_.current,dr={isValidating:!1,isLoading:!1},Vo=()=>{I(dr)},Ko=()=>{const nt=m[x];nt&&nt[1]===be&&delete m[x]},Sr={isValidating:!0};se(T().data)&&(Sr.isLoading=!0);try{if(Ke&&(I(Sr),r.loadingTimeout&&se(T().data)&&setTimeout(()=>{zt&&ot()&&P().onLoadingSlow(x,r)},r.loadingTimeout),m[x]=[ve(p),Ph()]),[rt,be]=m[x],rt=await rt,Ke&&setTimeout(Ko,r.dedupingInterval),!m[x]||m[x][1]!==be)return Ke&&ot()&&P().onDiscarded(x),!1;dr.error=Ze;const nt=y[x];if(!se(nt)&&(be<=nt[0]||be<=nt[1]||nt[1]===0))return Vo(),Ke&&ot()&&P().onDiscarded(x),!1;const Xt=T().data;dr.data=s(Xt,rt)?Xt:rt,Ke&&ot()&&P().onSuccess(rt,x,r)}catch(nt){Ko();const Xt=P(),{shouldRetryOnError:is}=Xt;Xt.isPaused()||(dr.error=nt,Ke&&ot()&&(Xt.onError(nt,x,Xt),(is===!0||nr(is)&&is(nt))&&(!P().revalidateOnFocus||!P().revalidateOnReconnect||S())&&Xt.onErrorRetry(nt,x,Xt,Er=>{const $t=g[x];$t&&$t[0]&&$t[0](xg,Er)},{retryCount:(hn.retryCount||0)+1,dedupe:!0})))}return zt=!1,Vo(),!0},[x,n]),Ho=w.useCallback((...pe)=>jv(n,_.current,...pe),[]);if(Ii(()=>{N.current=t,j.current=r,se(ie)||(He.current=ie)}),Ii(()=>{if(!x)return;const pe=as.bind(Ze,au);let ve=0;P().revalidateOnFocus&&(ve=Date.now()+P().focusThrottleInterval);const be=wN(x,g,(zt,hn={})=>{if(zt==vv){const Ke=Date.now();P().revalidateOnFocus&&Ke>ve&&S()&&(ve=Ke+P().focusThrottleInterval,pe())}else if(zt==bv)P().revalidateOnReconnect&&S()&&pe();else{if(zt==wv)return as();if(zt==xg)return as(hn)}});return b.current=!1,_.current=x,v.current=!0,I({_k:p}),Ve&&(m[x]||(se(Z)||oo?pe():lN(pe))),()=>{b.current=!0,be()}},[x]),Ii(()=>{let pe;function ve(){const be=nr(d)?d(T().data):d;be&&pe!==-1&&(pe=setTimeout(rt,be))}function rt(){!T().error&&(u||P().isVisible())&&(h||P().isOnline())?as(au).then(ve):ve()}return ve(),()=>{pe&&(clearTimeout(pe),pe=-1)}},[d,u,h,x]),w.useDebugValue($e),i&&se(Z)&&x){if(!vg&&oo)throw new Error("Fallback data is required when using Suspense in SSR.");N.current=t,j.current=r,b.current=!1;const pe=k[x];if(!se(pe)){const ve=Ho(pe);su(ve)}if(se(tt)){const ve=as(au);se($e)||(ve.status="fulfilled",ve.value=!0),su(ve)}else throw tt}return{mutate:Ho,get data(){return Y.data=!0,$e},get error(){return Y.error=!0,tt},get isValidating(){return Y.isValidating=!0,Vs},get isLoading(){return Y.isLoading=!0,vd}}},RN=jc.defineProperty(mN,"defaultValue",{value:Sv}),dm=bN(TN),AN=Object.freeze(Object.defineProperty({__proto__:null,SWRConfig:RN,default:dm,mutate:Nv,preload:xN,unstable_serialize:CN,useSWRConfig:Rv},Symbol.toStringTag,{value:"Module"})),ON=()=>{},IN=ON(),Ah=Object,jg=e=>e===IN,FN=e=>typeof e=="function",jl=new WeakMap,LN=e=>Ah.prototype.toString.call(e),iu=(e,t)=>e===`[object ${t}]`;let MN=0;const Oh=e=>{const t=typeof e,r=LN(e),n=iu(r,"Date"),s=iu(r,"RegExp"),i=iu(r,"Object");let o,l;if(Ah(e)===e&&!n&&!s){if(o=jl.get(e),o)return o;if(o=++MN+"~",jl.set(e,o),Array.isArray(e)){for(o="@",l=0;l<e.length;l++)o+=Oh(e[l])+",";jl.set(e,o)}if(i){o="#";const c=Ah.keys(e).sort();for(;!jg(l=c.pop());)jg(e[l])||(o+=l+":"+Oh(e[l])+",");jl.set(e,o)}}else o=n?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return o},UN=e=>{if(FN(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Oh(e):"",[e,t]},DN=e=>UN(e?e(0,null):null)[0],ou=Promise.resolve(),zN=e=>(t,r,n)=>{const s=w.useRef(!1),{cache:i,initialSize:o=1,revalidateAll:l=!1,persistSize:c=!1,revalidateFirstPage:d=!0,revalidateOnMount:u=!1,parallel:h=!1}=n,[,,,f]=br.get(Fo);let g;try{g=DN(t),g&&(g=Pv+g)}catch{}const[y,m,k]=jn(i,g),x=w.useCallback(()=>se(y()._l)?o:y()._l,[i,g,o]);yv.useSyncExternalStore(w.useCallback(P=>g?k(g,()=>{P()}):()=>{},[i,g]),x,x);const p=w.useCallback(()=>{const P=y()._l;return se(P)?o:P},[g,o]),v=w.useRef(p());Ii(()=>{if(!s.current){s.current=!0;return}g&&m({_l:c?v.current:p()})},[g,i]);const b=u&&!s.current,_=e(g,async P=>{const S=y()._i,T=y()._r;m({_r:Ze});const I=[],z=p(),[J]=jn(i,P),Y=J().data,xe=[];let Pe=null;for(let de=0;de<z;++de){const[L,G]=Va(t(de,h?null:Pe));if(!L)break;const[X,ie]=jn(i,L);let Z=X().data;const tt=l||S||se(Z)||d&&!de&&!se(Y)||b||Y&&!se(Y[de])&&!n.compare(Y[de],Z);if(r&&(typeof T=="function"?T(Z,G):tt)){const He=async()=>{if(!(L in f))Z=await r(G);else{const Ve=f[L];delete f[L],Z=await Ve}ie({data:Z,_k:G}),I[de]=Z};h?xe.push(He):await He()}else I[de]=Z;h||(Pe=Z)}return h&&await Promise.all(xe.map(de=>de())),m({_i:Ze}),I},n),N=w.useCallback(function(P,S){const T=typeof S=="boolean"?{revalidate:S}:S||{},I=T.revalidate!==!1;return g?(I&&(se(P)?m({_i:!0,_r:T.revalidate}):m({_i:!1,_r:T.revalidate})),arguments.length?_.mutate(P,{...T,revalidate:I}):_.mutate()):ou},[g,i]),j=w.useCallback(P=>{if(!g)return ou;const[,S]=jn(i,g);let T;if(nr(P)?T=P(p()):typeof P=="number"&&(T=P),typeof T!="number")return ou;S({_l:T}),v.current=T;const I=[],[z]=jn(i,g);let J=null;for(let Y=0;Y<T;++Y){const[xe]=Va(t(Y,J)),[Pe]=jn(i,xe),de=xe?Pe().data:Ze;if(se(de))return N(z().data);I.push(de),J=de}return N(I)},[g,i,N,p]);return{size:p(),setSize:j,mutate:N,get data(){return _.data},get error(){return _.error},get isValidating(){return _.isValidating},get isLoading(){return _.isLoading}}},$N=kN(dm,zN);var _g=Object.prototype.hasOwnProperty;function Ng(e,t,r){for(r of e.keys())if(Fi(r,t))return r}function Fi(e,t){var r,n,s;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&Fi(e[n],t[n]););return n===-1}if(r===Set){if(e.size!==t.size)return!1;for(n of e)if(s=n,s&&typeof s=="object"&&(s=Ng(t,s),!s)||!t.has(s))return!1;return!0}if(r===Map){if(e.size!==t.size)return!1;for(n of e)if(s=n[0],s&&typeof s=="object"&&(s=Ng(t,s),!s)||!Fi(n[1],t.get(s)))return!1;return!0}if(r===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(r===DataView){if((n=e.byteLength)===t.byteLength)for(;n--&&e.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(e)){if((n=e.byteLength)===t.byteLength)for(;n--&&e[n]===t[n];);return n===-1}if(!r||typeof e=="object"){n=0;for(r in e)if(_g.call(e,r)&&++n&&!_g.call(t,r)||!(r in t)||!Fi(e[r],t[r]))return!1;return Object.keys(t).length===n}}return e!==e&&t!==t}function BN(e,t){if(!e)throw typeof t=="string"?new Error(t):new Error(`${t.displayName} not found`)}var Wr=(e,t)=>{const{assertCtxFn:r=BN}=t||{},n=O.createContext(void 0);return n.displayName=e,[n,()=>{const o=O.useContext(n);return r(o,`${e} not found`),o.value},()=>{const o=O.useContext(n);return o?o.value:{}}]},um={};U1(um,{useSWR:()=>dm,useSWRInfinite:()=>$N});D1(um,AN);var[Av,rd]=Wr("ClerkInstanceContext"),[WN,qN]=Wr("UserContext"),[HN,Y3]=Wr("ClientContext"),[VN,KN]=Wr("SessionContext");O.createContext({});var[QN,X3]=Wr("CheckoutContext"),GN=({children:e,...t})=>O.createElement(QN.Provider,{value:{value:t}},e),[JN,Z3]=Wr("OrganizationContext"),YN=({children:e,organization:t,swrConfig:r})=>O.createElement(um.SWRConfig,{value:r},O.createElement(JN.Provider,{value:{value:{organization:t}}},e));function nd(e){if(!O.useContext(Av)){if(typeof e=="function"){e();return}throw new Error(`${e} can only be used within the <ClerkProvider /> component.

Possible fixes:
1. Ensure that the <ClerkProvider /> is correctly wrapping your application where this component is used.
2. Check for multiple versions of the \`@clerk/shared\` package in your project. Use a tool like \`npm ls @clerk/shared\` to identify multiple versions, and update your dependencies to only rely on one.

Learn more: https://clerk.com/docs/components/clerk-provider`.trim())}}typeof window<"u"?O.useLayoutEffect:O.useEffect;var Sg="useSession",XN=()=>{var r;nd(Sg);const e=KN(),t=rd();return(r=t.telemetry)==null||r.record(pv(Sg)),e===void 0?{isLoaded:!1,isSignedIn:void 0,session:void 0}:e===null?{isLoaded:!0,isSignedIn:!1,session:null}:{isLoaded:!0,isSignedIn:t.isSignedIn,session:e}},Eg="useUser";function Ct(){var r;nd(Eg);const e=qN();return(r=rd().telemetry)==null||r.record(pv(Eg)),e===void 0?{isLoaded:!1,isSignedIn:void 0,user:void 0}:e===null?{isLoaded:!0,isSignedIn:!1,user:null}:{isLoaded:!0,isSignedIn:!0,user:e}}var ZN=()=>(nd("useClerk"),rd()),Pg=Fi,eS=e=>{const t=w.useRef(e);return w.useEffect(()=>{t.current=e},[e]),t.current},Bt=(e,t,r)=>{const n=!!r,s=w.useRef(r);w.useEffect(()=>{s.current=r},[r]),w.useEffect(()=>{if(!n||!e)return()=>{};const i=(...o)=>{s.current&&s.current(...o)};return e.on(t,i),()=>{e.off(t,i)}},[n,t,e,s])},Ov=O.createContext(null);Ov.displayName="ElementsContext";var tS=(e,t)=>{if(!e)throw new Error(`Could not find Elements context; You need to wrap the part of your app that ${t} in an <Elements> provider.`);return e},_c=e=>e!==null&&typeof e=="object",rS=(e,t,r)=>_c(e)?Object.keys(e).reduce((n,s)=>{const i=!_c(t)||!Iv(e[s],t[s]);return r.includes(s)?(i&&console.warn(`Unsupported prop change: options.${s} is not a mutable property.`),n):i?{...n||{},[s]:e[s]}:n},null):null,Cg="[object Object]",Iv=(e,t)=>{if(!_c(e)||!_c(t))return e===t;const r=Array.isArray(e),n=Array.isArray(t);if(r!==n)return!1;const s=Object.prototype.toString.call(e)===Cg,i=Object.prototype.toString.call(t)===Cg;if(s!==i)return!1;if(!s&&!r)return e===t;const o=Object.keys(e),l=Object.keys(t);if(o.length!==l.length)return!1;const c={};for(let g=0;g<o.length;g+=1)c[o[g]]=!0;for(let g=0;g<l.length;g+=1)c[l[g]]=!0;const d=Object.keys(c);if(d.length!==o.length)return!1;const u=e,h=t,f=g=>Iv(u[g],h[g]);return d.every(f)},Tg=e=>{const t=O.useContext(Ov);return tS(t,e)},nS=e=>e.charAt(0).toUpperCase()+e.slice(1),sS=(e,t)=>{const r=`${nS(e)}Element`,i=t?o=>{Tg(`mounts <${r}>`);const{id:l,className:c}=o;return O.createElement("div",{id:l,className:c})}:({id:o,className:l,fallback:c,options:d={},onBlur:u,onFocus:h,onReady:f,onChange:g,onEscape:y,onClick:m,onLoadError:k,onLoaderStart:x,onNetworksChange:p,onConfirm:v,onCancel:b,onShippingAddressChange:_,onShippingRateChange:N})=>{const j=Tg(`mounts <${r}>`),P="elements"in j?j.elements:null,[S,T]=O.useState(null),I=O.useRef(null),z=O.useRef(null),[J,Y]=w.useState(!1);Bt(S,"blur",u),Bt(S,"focus",h),Bt(S,"escape",y),Bt(S,"click",m),Bt(S,"loaderror",k),Bt(S,"loaderstart",x),Bt(S,"networkschange",p),Bt(S,"confirm",v),Bt(S,"cancel",b),Bt(S,"shippingaddresschange",_),Bt(S,"shippingratechange",N),Bt(S,"change",g);let xe;f&&(xe=()=>{Y(!0),f(S)}),Bt(S,"ready",xe),O.useLayoutEffect(()=>{if(I.current===null&&z.current!==null&&P){let de=null;P&&(de=P.create(e,d)),I.current=de,T(de),de&&de.mount(z.current)}},[P,d]);const Pe=eS(d);return O.useEffect(()=>{if(!I.current)return;const de=rS(d,Pe,["paymentRequest"]);de&&"update"in I.current&&I.current.update(de)},[d,Pe]),O.useLayoutEffect(()=>()=>{if(I.current&&typeof I.current.destroy=="function")try{I.current.destroy(),I.current=null}catch{}},[]),O.createElement(O.Fragment,null,!J&&c,O.createElement("div",{id:o,style:{height:J?"unset":"0px",visibility:J?"visible":"hidden"},className:l,ref:z}))};return i.displayName=r,i.__elementType=e,i},aS=typeof window>"u";sS("payment",aS);Wr("StripeLibsContext");Wr("PaymentElementContext");Wr("StripeUtilsContext");var Dr=dv({packageName:"@clerk/clerk-react"});function iS(e){Dr.setMessages(e).setPackageName(e)}var[oS,eT]=Wr("AuthContext"),lS=Av,cS=rd,dS="You've added multiple <ClerkProvider> components in your React component tree. Wrap your components in a single <ClerkProvider>.",uS=e=>`You've passed multiple children components to <${e}/>. You can only pass a single child component or text.`,lu="Unsupported usage of isSatellite, domain or proxyUrl. The usage of isSatellite, domain or proxyUrl as function is not supported in non-browser environments.",hS="<UserProfile.Page /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",fS="<UserProfile.Link /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",mS="<OrganizationProfile.Page /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",pS="<OrganizationProfile.Link /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",gS=e=>`<${e} /> can only accept <${e}.Page /> and <${e}.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.`,xS=e=>`Missing props. <${e}.Page /> component requires the following props: url, label, labelIcon, alongside with children to be rendered inside the page.`,yS=e=>`Missing props. <${e}.Link /> component requires the following props: url, label and labelIcon.`,vS="<UserButton /> can only accept <UserButton.UserProfilePage />, <UserButton.UserProfileLink /> and <UserButton.MenuItems /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",bS="<UserButton.MenuItems /> component can only accept <UserButton.Action /> and <UserButton.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",wS="<UserButton.MenuItems /> component needs to be a direct child of `<UserButton />`.",kS="<UserButton.Action /> component needs to be a direct child of `<UserButton.MenuItems />`.",jS="<UserButton.Link /> component needs to be a direct child of `<UserButton.MenuItems />`.",_S="Missing props. <UserButton.Link /> component requires the following props: href, label and labelIcon.",NS="Missing props. <UserButton.Action /> component requires the following props: label.",SS=e=>{nd(()=>{Dr.throwMissingClerkProviderError({source:e})})},Ae=(e,t)=>{const n=(typeof t=="string"?t:t==null?void 0:t.component)||e.displayName||e.name||"Component";e.displayName=n;const s=typeof t=="string"?void 0:t,i=o=>{SS(n||"withClerk");const l=cS();return!l.loaded&&!(s!=null&&s.renderWhileLoading)?null:O.createElement(e,{...o,component:n,clerk:l})};return i.displayName=`withClerk(${n})`,i},ES=()=>{try{return!1}catch{}return!1},PS=()=>{try{return!1}catch{}return!1},CS=()=>{try{return!0}catch{}return!1},Rg=new Set,hm=(e,t,r)=>{const n=PS()||CS(),s=r??e;Rg.has(s)||n||(Rg.add(s),console.warn(`Clerk - DEPRECATION WARNING: "${e}" is deprecated and will be removed in the next major release.
${t}`))};Ae(({clerk:e,...t})=>{const{client:r,session:n}=e,s=r.signedInSessions?r.signedInSessions.length>0:r.activeSessions&&r.activeSessions.length>0;return O.useEffect(()=>{n===null&&s?e.redirectToAfterSignOut():e.redirectToSignIn(t)},[]),null},"RedirectToSignIn");Ae(({clerk:e,...t})=>(O.useEffect(()=>{e.redirectToSignUp(t)},[]),null),"RedirectToSignUp");Ae(({clerk:e,...t})=>(O.useEffect(()=>{e.redirectToTasks(t)},[]),null),"RedirectToTasks");Ae(({clerk:e})=>(O.useEffect(()=>{hm("RedirectToUserProfile","Use the `redirectToUserProfile()` method instead."),e.redirectToUserProfile()},[]),null),"RedirectToUserProfile");Ae(({clerk:e})=>(O.useEffect(()=>{hm("RedirectToOrganizationProfile","Use the `redirectToOrganizationProfile()` method instead."),e.redirectToOrganizationProfile()},[]),null),"RedirectToOrganizationProfile");Ae(({clerk:e})=>(O.useEffect(()=>{hm("RedirectToCreateOrganization","Use the `redirectToCreateOrganization()` method instead."),e.redirectToCreateOrganization()},[]),null),"RedirectToCreateOrganization");Ae(({clerk:e,...t})=>(O.useEffect(()=>{e.handleRedirectCallback(t)},[]),null),"AuthenticateWithRedirectCallback");var Nt=e=>{ES()&&console.error(`Clerk: ${e}`)};function cu(e,t,r){if(typeof e=="function")return e(t);if(typeof e<"u")return e;if(typeof r<"u")return r}var Ag=(e,...t)=>{const r={...e};for(const n of t)delete r[n];return r},sd=e=>t=>{try{return O.Children.only(e)}catch{return Dr.throw(uS(t))}},ad=(e,t)=>(e||(e=t),typeof e=="string"&&(e=O.createElement("button",null,e)),e),id=e=>(...t)=>{if(e&&typeof e=="function")return e(...t)};function TS(e){return typeof e=="function"}var _l=new Map;function RS(e,t,r=1){O.useEffect(()=>{const n=_l.get(e)||0;return n==r?Dr.throw(t):(_l.set(e,n+1),()=>{_l.set(e,(_l.get(e)||1)-1)})},[])}function AS(e,t,r){const n=e.displayName||e.name||t||"Component",s=i=>(RS(t,r),O.createElement(e,{...i}));return s.displayName=`withMaxAllowedInstancesGuard(${n})`,s}var Li=e=>{const[t,r]=w.useState(new Map);return e.map(n=>({id:n.id,mount:s=>r(i=>new Map(i).set(String(n.id),s)),unmount:()=>r(s=>{const i=new Map(s);return i.set(String(n.id),null),i}),portal:()=>{const s=t.get(String(n.id));return s?Jc.createPortal(n.component,s):null}}))},_t=(e,t)=>!!e&&O.isValidElement(e)&&(e==null?void 0:e.type)===t,Fv=(e,t)=>Uv({children:e,reorderItemsLabels:["account","security"],LinkComponent:Mo,PageComponent:Lo,MenuItemsComponent:ld,componentName:"UserProfile"},t),Lv=(e,t)=>Uv({children:e,reorderItemsLabels:["general","members"],LinkComponent:dd,PageComponent:cd,componentName:"OrganizationProfile"},t),Mv=e=>{const t=[],r=[dd,cd,ld,Lo,Mo];return O.Children.forEach(e,n=>{r.some(s=>_t(n,s))||t.push(n)}),t},Uv=(e,t)=>{const{children:r,LinkComponent:n,PageComponent:s,MenuItemsComponent:i,reorderItemsLabels:o,componentName:l}=e,{allowForAnyChildren:c=!1}=t||{},d=[];O.Children.forEach(r,p=>{if(!_t(p,s)&&!_t(p,n)&&!_t(p,i)){p&&!c&&Nt(gS(l));return}const{props:v}=p,{children:b,label:_,url:N,labelIcon:j}=v;if(_t(p,s))if(Og(v,o))d.push({label:_});else if(du(v))d.push({label:_,labelIcon:j,children:b,url:N});else{Nt(xS(l));return}if(_t(p,n))if(uu(v))d.push({label:_,labelIcon:j,url:N});else{Nt(yS(l));return}});const u=[],h=[],f=[];d.forEach((p,v)=>{if(du(p)){u.push({component:p.children,id:v}),h.push({component:p.labelIcon,id:v});return}uu(p)&&f.push({component:p.labelIcon,id:v})});const g=Li(u),y=Li(h),m=Li(f),k=[],x=[];return d.forEach((p,v)=>{if(Og(p,o)){k.push({label:p.label});return}if(du(p)){const{portal:b,mount:_,unmount:N}=g.find(T=>T.id===v),{portal:j,mount:P,unmount:S}=y.find(T=>T.id===v);k.push({label:p.label,url:p.url,mount:_,unmount:N,mountIcon:P,unmountIcon:S}),x.push(b),x.push(j);return}if(uu(p)){const{portal:b,mount:_,unmount:N}=m.find(j=>j.id===v);k.push({label:p.label,url:p.url,mountIcon:_,unmountIcon:N}),x.push(b);return}}),{customPages:k,customPagesPortals:x}},Og=(e,t)=>{const{children:r,label:n,url:s,labelIcon:i}=e;return!r&&!s&&!i&&t.some(o=>o===n)},du=e=>{const{children:t,label:r,url:n,labelIcon:s}=e;return!!t&&!!n&&!!s&&!!r},uu=e=>{const{children:t,label:r,url:n,labelIcon:s}=e;return!t&&!!n&&!!s&&!!r},OS=e=>IS({children:e,reorderItemsLabels:["manageAccount","signOut"],MenuItemsComponent:ld,MenuActionComponent:zv,MenuLinkComponent:$v,UserProfileLinkComponent:Mo,UserProfilePageComponent:Lo}),IS=({children:e,MenuItemsComponent:t,MenuActionComponent:r,MenuLinkComponent:n,UserProfileLinkComponent:s,UserProfilePageComponent:i,reorderItemsLabels:o})=>{const l=[],c=[],d=[];O.Children.forEach(e,y=>{if(!_t(y,t)&&!_t(y,s)&&!_t(y,i)){y&&Nt(vS);return}if(_t(y,s)||_t(y,i))return;const{props:m}=y;O.Children.forEach(m.children,k=>{if(!_t(k,r)&&!_t(k,n)){k&&Nt(bS);return}const{props:x}=k,{label:p,labelIcon:v,href:b,onClick:_,open:N}=x;if(_t(k,r))if(Ig(x,o))l.push({label:p});else if(hu(x)){const j={label:p,labelIcon:v};if(_!==void 0)l.push({...j,onClick:_});else if(N!==void 0)l.push({...j,open:N.startsWith("/")?N:`/${N}`});else{Nt("Custom menu item must have either onClick or open property");return}}else{Nt(NS);return}if(_t(k,n))if(fu(x))l.push({label:p,labelIcon:v,href:b});else{Nt(_S);return}})});const u=[],h=[];l.forEach((y,m)=>{hu(y)&&u.push({component:y.labelIcon,id:m}),fu(y)&&h.push({component:y.labelIcon,id:m})});const f=Li(u),g=Li(h);return l.forEach((y,m)=>{if(Ig(y,o)&&c.push({label:y.label}),hu(y)){const{portal:k,mount:x,unmount:p}=f.find(b=>b.id===m),v={label:y.label,mountIcon:x,unmountIcon:p};"onClick"in y?v.onClick=y.onClick:"open"in y&&(v.open=y.open),c.push(v),d.push(k)}if(fu(y)){const{portal:k,mount:x,unmount:p}=g.find(v=>v.id===m);c.push({label:y.label,href:y.href,mountIcon:x,unmountIcon:p}),d.push(k)}}),{customMenuItems:c,customMenuItemsPortals:d}},Ig=(e,t)=>{const{children:r,label:n,onClick:s,labelIcon:i}=e;return!r&&!s&&!i&&t.some(o=>o===n)},hu=e=>{const{label:t,labelIcon:r,onClick:n,open:s}=e;return!!r&&!!t&&(typeof n=="function"||typeof s=="string")},fu=e=>{const{label:t,href:r,labelIcon:n}=e;return!!r&&!!n&&!!t},FS=e=>{const t=e==null?void 0:e.isReady;return r=>new Promise((n,s)=>{const{root:i=document==null?void 0:document.body,selector:o,timeout:l=0}=r;if(!i){s(new Error("No root element provided"));return}let c=i;if(o&&(c=i==null?void 0:i.querySelector(o)),t(c,o)){n();return}const d=new MutationObserver(u=>{for(const h of u)if(!c&&o&&(c=i==null?void 0:i.querySelector(o)),(e.childList&&h.type==="childList"||e.attributes&&h.type==="attributes")&&t(c,o)){d.disconnect(),n();return}});d.observe(i,e),l>0&&setTimeout(()=>{d.disconnect(),s(new Error(`Timeout waiting for ${o}`))},l)})},LS=FS({childList:!0,subtree:!0,isReady:(e,t)=>{var r;return!!(e!=null&&e.childElementCount)&&((r=e==null?void 0:e.matches)==null?void 0:r.call(e,t))&&e.childElementCount>0}});function Yt(e,t){const r=w.useRef(),[n,s]=w.useState("rendering");return w.useEffect(()=>{if(!e)throw new Error("Clerk: no component name provided, unable to detect mount.");if(typeof window<"u"&&!r.current){const i=`[data-clerk-component="${e}"]`,o=t==null?void 0:t.selector;r.current=LS({selector:o?i+o:i}).then(()=>{s("rendered")}).catch(()=>{s("error")})}},[e,t==null?void 0:t.selector]),n}var Nl=e=>"mount"in e,Fg=e=>"open"in e,Lg=e=>e==null?void 0:e.map(({mountIcon:t,unmountIcon:r,...n})=>n),Tt=class extends O.PureComponent{constructor(){super(...arguments),this.rootRef=O.createRef()}componentDidUpdate(e){var t,r,n,s;if(!Nl(e)||!Nl(this.props))return;const i=Ag(e.props,"customPages","customMenuItems","children"),o=Ag(this.props.props,"customPages","customMenuItems","children"),l=((t=i.customPages)==null?void 0:t.length)!==((r=o.customPages)==null?void 0:r.length),c=((n=i.customMenuItems)==null?void 0:n.length)!==((s=o.customMenuItems)==null?void 0:s.length),d=Lg(e.props.customMenuItems),u=Lg(this.props.props.customMenuItems);(!Pg(i,o)||!Pg(d,u)||l||c)&&this.rootRef.current&&this.props.updateProps({node:this.rootRef.current,props:this.props.props})}componentDidMount(){this.rootRef.current&&(Nl(this.props)&&this.props.mount(this.rootRef.current,this.props.props),Fg(this.props)&&this.props.open(this.props.props))}componentWillUnmount(){this.rootRef.current&&(Nl(this.props)&&this.props.unmount(this.rootRef.current),Fg(this.props)&&this.props.close())}render(){const{hideRootHtmlElement:e=!1}=this.props,t={ref:this.rootRef,...this.props.rootProps,...this.props.component&&{"data-clerk-component":this.props.component}};return O.createElement(O.Fragment,null,!e&&O.createElement("div",{...t}),this.props.children)}},od=e=>{var t,r;return O.createElement(O.Fragment,null,(t=e==null?void 0:e.customPagesPortals)==null?void 0:t.map((n,s)=>w.createElement(n,{key:s})),(r=e==null?void 0:e.customMenuItemsPortals)==null?void 0:r.map((n,s)=>w.createElement(n,{key:s})))},MS=Ae(({clerk:e,component:t,fallback:r,...n})=>{const i=Yt(t)==="rendering"||!e.loaded,o={...i&&r&&{style:{display:"none"}}};return O.createElement(O.Fragment,null,i&&r,e.loaded&&O.createElement(Tt,{component:t,mount:e.mountSignIn,unmount:e.unmountSignIn,updateProps:e.__unstable__updateProps,props:n,rootProps:o}))},{component:"SignIn",renderWhileLoading:!0}),US=Ae(({clerk:e,component:t,fallback:r,...n})=>{const i=Yt(t)==="rendering"||!e.loaded,o={...i&&r&&{style:{display:"none"}}};return O.createElement(O.Fragment,null,i&&r,e.loaded&&O.createElement(Tt,{component:t,mount:e.mountSignUp,unmount:e.unmountSignUp,updateProps:e.__unstable__updateProps,props:n,rootProps:o}))},{component:"SignUp",renderWhileLoading:!0});function Lo({children:e}){return Nt(hS),O.createElement(O.Fragment,null,e)}function Mo({children:e}){return Nt(fS),O.createElement(O.Fragment,null,e)}var DS=Ae(({clerk:e,component:t,fallback:r,...n})=>{const i=Yt(t)==="rendering"||!e.loaded,o={...i&&r&&{style:{display:"none"}}},{customPages:l,customPagesPortals:c}=Fv(n.children);return O.createElement(O.Fragment,null,i&&r,O.createElement(Tt,{component:t,mount:e.mountUserProfile,unmount:e.unmountUserProfile,updateProps:e.__unstable__updateProps,props:{...n,customPages:l},rootProps:o},O.createElement(od,{customPagesPortals:c})))},{component:"UserProfile",renderWhileLoading:!0}),zS=Object.assign(DS,{Page:Lo,Link:Mo}),Dv=w.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),$S=Ae(({clerk:e,component:t,fallback:r,...n})=>{const i=Yt(t)==="rendering"||!e.loaded,o={...i&&r&&{style:{display:"none"}}},{customPages:l,customPagesPortals:c}=Fv(n.children,{allowForAnyChildren:!!n.__experimental_asProvider}),d=Object.assign(n.userProfileProps||{},{customPages:l}),{customMenuItems:u,customMenuItemsPortals:h}=OS(n.children),f=Mv(n.children),g={mount:e.mountUserButton,unmount:e.unmountUserButton,updateProps:e.__unstable__updateProps,props:{...n,userProfileProps:d,customMenuItems:u}},y={customPagesPortals:c,customMenuItemsPortals:h};return O.createElement(Dv.Provider,{value:g},i&&r,e.loaded&&O.createElement(Tt,{component:t,...g,hideRootHtmlElement:!!n.__experimental_asProvider,rootProps:o},n.__experimental_asProvider?f:null,O.createElement(od,{...y})))},{component:"UserButton",renderWhileLoading:!0});function ld({children:e}){return Nt(wS),O.createElement(O.Fragment,null,e)}function zv({children:e}){return Nt(kS),O.createElement(O.Fragment,null,e)}function $v({children:e}){return Nt(jS),O.createElement(O.Fragment,null,e)}function BS(e){const t=w.useContext(Dv),r={...t,props:{...t.props,...e}};return O.createElement(Tt,{...r})}Object.assign($S,{UserProfilePage:Lo,UserProfileLink:Mo,MenuItems:ld,Action:zv,Link:$v,__experimental_Outlet:BS});function cd({children:e}){return Nt(mS),O.createElement(O.Fragment,null,e)}function dd({children:e}){return Nt(pS),O.createElement(O.Fragment,null,e)}var WS=Ae(({clerk:e,component:t,fallback:r,...n})=>{const i=Yt(t)==="rendering"||!e.loaded,o={...i&&r&&{style:{display:"none"}}},{customPages:l,customPagesPortals:c}=Lv(n.children);return O.createElement(O.Fragment,null,i&&r,e.loaded&&O.createElement(Tt,{component:t,mount:e.mountOrganizationProfile,unmount:e.unmountOrganizationProfile,updateProps:e.__unstable__updateProps,props:{...n,customPages:l},rootProps:o},O.createElement(od,{customPagesPortals:c})))},{component:"OrganizationProfile",renderWhileLoading:!0});Object.assign(WS,{Page:cd,Link:dd});Ae(({clerk:e,component:t,fallback:r,...n})=>{const i=Yt(t)==="rendering"||!e.loaded,o={...i&&r&&{style:{display:"none"}}};return O.createElement(O.Fragment,null,i&&r,e.loaded&&O.createElement(Tt,{component:t,mount:e.mountCreateOrganization,unmount:e.unmountCreateOrganization,updateProps:e.__unstable__updateProps,props:n,rootProps:o}))},{component:"CreateOrganization",renderWhileLoading:!0});var Bv=w.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),qS=Ae(({clerk:e,component:t,fallback:r,...n})=>{const i=Yt(t)==="rendering"||!e.loaded,o={...i&&r&&{style:{display:"none"}}},{customPages:l,customPagesPortals:c}=Lv(n.children,{allowForAnyChildren:!!n.__experimental_asProvider}),d=Object.assign(n.organizationProfileProps||{},{customPages:l}),u=Mv(n.children),h={mount:e.mountOrganizationSwitcher,unmount:e.unmountOrganizationSwitcher,updateProps:e.__unstable__updateProps,props:{...n,organizationProfileProps:d},rootProps:o,component:t};return e.__experimental_prefetchOrganizationSwitcher(),O.createElement(Bv.Provider,{value:h},O.createElement(O.Fragment,null,i&&r,e.loaded&&O.createElement(Tt,{...h,hideRootHtmlElement:!!n.__experimental_asProvider},n.__experimental_asProvider?u:null,O.createElement(od,{customPagesPortals:c}))))},{component:"OrganizationSwitcher",renderWhileLoading:!0});function HS(e){const t=w.useContext(Bv),r={...t,props:{...t.props,...e}};return O.createElement(Tt,{...r})}Object.assign(qS,{OrganizationProfilePage:cd,OrganizationProfileLink:dd,__experimental_Outlet:HS});Ae(({clerk:e,component:t,fallback:r,...n})=>{const i=Yt(t)==="rendering"||!e.loaded,o={...i&&r&&{style:{display:"none"}}};return O.createElement(O.Fragment,null,i&&r,e.loaded&&O.createElement(Tt,{component:t,mount:e.mountOrganizationList,unmount:e.unmountOrganizationList,updateProps:e.__unstable__updateProps,props:n,rootProps:o}))},{component:"OrganizationList",renderWhileLoading:!0});Ae(({clerk:e,component:t,fallback:r,...n})=>{const i=Yt(t)==="rendering"||!e.loaded,o={...i&&r&&{style:{display:"none"}}};return O.createElement(O.Fragment,null,i&&r,e.loaded&&O.createElement(Tt,{component:t,open:e.openGoogleOneTap,close:e.closeGoogleOneTap,updateProps:e.__unstable__updateProps,props:n,rootProps:o}))},{component:"GoogleOneTap",renderWhileLoading:!0});Ae(({clerk:e,component:t,fallback:r,...n})=>{const i=Yt(t)==="rendering"||!e.loaded,o={...i&&r&&{style:{display:"none"}}};return O.createElement(O.Fragment,null,i&&r,e.loaded&&O.createElement(Tt,{component:t,mount:e.mountWaitlist,unmount:e.unmountWaitlist,updateProps:e.__unstable__updateProps,props:n,rootProps:o}))},{component:"Waitlist",renderWhileLoading:!0});Ae(({clerk:e,component:t,fallback:r,...n})=>{const i=Yt(t,{selector:'[data-component-status="ready"]'})==="rendering"||!e.loaded,o={...i&&r&&{style:{display:"none"}}};return O.createElement(O.Fragment,null,i&&r,e.loaded&&O.createElement(Tt,{component:t,mount:e.mountPricingTable,unmount:e.unmountPricingTable,updateProps:e.__unstable__updateProps,props:n,rootProps:o}))},{component:"PricingTable",renderWhileLoading:!0});Ae(({clerk:e,component:t,fallback:r,...n})=>{const i=Yt(t)==="rendering"||!e.loaded,o={...i&&r&&{style:{display:"none"}}};return O.createElement(O.Fragment,null,i&&r,e.loaded&&O.createElement(Tt,{component:t,mount:e.mountApiKeys,unmount:e.unmountApiKeys,updateProps:e.__unstable__updateProps,props:n,rootProps:o}))},{component:"ApiKeys",renderWhileLoading:!0});Ae(({clerk:e,component:t,fallback:r,...n})=>{const i=Yt(t)==="rendering"||!e.loaded,o={...i&&r&&{style:{display:"none"}}};return O.createElement(O.Fragment,null,i&&r,e.loaded&&O.createElement(Tt,{component:t,mount:e.mountTaskChooseOrganization,unmount:e.unmountTaskChooseOrganization,updateProps:e.__unstable__updateProps,props:n,rootProps:o}))},{component:"TaskChooseOrganization",renderWhileLoading:!0});var Wv=e=>{throw TypeError(e)},fm=(e,t,r)=>t.has(e)||Wv("Cannot "+r),Ce=(e,t,r)=>(fm(e,t,"read from private field"),r?r.call(e):t.get(e)),xn=(e,t,r)=>t.has(e)?Wv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ls=(e,t,r,n)=>(fm(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),mu=(e,t,r)=>(fm(e,t,"access private method"),r),VS=(e,t="5.91.2")=>{if(e)return e;const r=KS(t);return r?r==="snapshot"?"5.91.2":r:QS(t)},KS=e=>{var t;return(t=e.trim().replace(/^v/,"").match(/-(.+?)(\.|$)/))==null?void 0:t[1]},QS=e=>e.trim().replace(/^v/,"").split(".")[0];function GS(e){return e?JS(e)||qv(e):!0}function JS(e){return/^http(s)?:\/\//.test(e||"")}function qv(e){return e.startsWith("/")}function YS(e){return e?qv(e)?new URL(e,window.location.origin).toString():e:""}function XS(e){if(!e)return"";let t;if(e.match(/^(clerk\.)+\w*$/))t=/(clerk\.)*(?=clerk\.)/;else{if(e.match(/\.clerk.accounts/))return e;t=/^(clerk\.)*/gi}return`clerk.${e.replace(t,"")}`}var ZS={initialDelay:125,maxDelayBetweenRetries:0,factor:2,shouldRetry:(e,t)=>t<5,retryImmediately:!1,jitter:!0},e2=100,Hv=async e=>new Promise(t=>setTimeout(t,e)),Vv=(e,t)=>t?e*(1+Math.random()):e,t2=e=>{let t=0;const r=()=>{const n=e.initialDelay,s=e.factor;let i=n*Math.pow(s,t);return i=Vv(i,e.jitter),Math.min(e.maxDelayBetweenRetries||i,i)};return async()=>{await Hv(r()),t++}},r2=async(e,t={})=>{let r=0;const{shouldRetry:n,initialDelay:s,maxDelayBetweenRetries:i,factor:o,retryImmediately:l,jitter:c}={...ZS,...t},d=t2({initialDelay:s,maxDelayBetweenRetries:i,factor:o,jitter:c});for(;;)try{return await e()}catch(u){if(r++,!n(u,r))throw u;l&&r===1?await Hv(Vv(e2,c)):await d()}},n2="loadScript cannot be called when document does not exist",s2="loadScript cannot be called without a src";async function a2(e="",t){const{async:r,defer:n,beforeLoad:s,crossOrigin:i,nonce:o}=t||{};return r2(()=>new Promise((c,d)=>{e||d(new Error(s2)),(!document||!document.body)&&d(n2);const u=document.createElement("script");i&&u.setAttribute("crossorigin",i),u.async=r||!1,u.defer=n||!1,u.addEventListener("load",()=>{u.remove(),c(u)}),u.addEventListener("error",()=>{u.remove(),d()}),u.src=e,u.nonce=o,s==null||s(u),document.body.appendChild(u)}),{shouldRetry:(c,d)=>d<=5})}var Kv="Clerk: Failed to load Clerk",{isDevOrStagingUrl:i2}=B1(),Qv=dv({packageName:"@clerk/shared"});function o2(e){Qv.setPackageName({packageName:e})}function Ih(){if(typeof window>"u"||!window.Clerk)return!1;const e=window.Clerk;return typeof e=="object"&&typeof e.load=="function"}function Mg(e){return new Promise((t,r)=>{let n=!1;const s=(d,u)=>{clearTimeout(d),clearInterval(u)},i=()=>{n||Ih()&&(n=!0,s(l,c),t(null))},l=setTimeout(()=>{n||(n=!0,s(l,c),Ih()?t(null):r(new Error(Kv)))},e);i();const c=setInterval(()=>{if(n){clearInterval(c);return}i()},100)})}var l2=async e=>{const t=(e==null?void 0:e.scriptLoadTimeout)??15e3;if(Ih())return null;if(document.querySelector("script[data-clerk-js-script]"))return Mg(t);if(!(e!=null&&e.publishableKey))return Qv.throwMissingPublishableKeyError(),null;const n=Mg(t);return a2(c2(e),{async:!0,crossOrigin:"anonymous",nonce:e.nonce,beforeLoad:u2(e)}).catch(()=>{throw new Error(Kv)}),n},c2=e=>{var u,h;const{clerkJSUrl:t,clerkJSVariant:r,clerkJSVersion:n,proxyUrl:s,domain:i,publishableKey:o}=e;if(t)return t;let l="";s&&GS(s)?l=YS(s).replace(/http(s)?:\/\//,""):i&&!i2(((u=gg(o))==null?void 0:u.frontendApi)||"")?l=XS(i):l=((h=gg(o))==null?void 0:h.frontendApi)||"";const c=r?`${r.replace(/\.+$/,"")}.`:"",d=VS(n);return`https://${l}/npm/@clerk/clerk-js@${d}/dist/clerk.${c}browser.js`},d2=e=>{const t={};return e.publishableKey&&(t["data-clerk-publishable-key"]=e.publishableKey),e.proxyUrl&&(t["data-clerk-proxy-url"]=e.proxyUrl),e.domain&&(t["data-clerk-domain"]=e.domain),e.nonce&&(t.nonce=e.nonce),t},u2=e=>t=>{const r=d2(e);for(const n in r)t.setAttribute(n,r[n])},h2=(e,t,r)=>!e&&r?f2(r):m2(t),f2=e=>{const t=e.userId,r=e.user,n=e.sessionId,s=e.sessionStatus,i=e.sessionClaims,o=e.session,l=e.organization,c=e.orgId,d=e.orgRole,u=e.orgPermissions,h=e.orgSlug,f=e.actor,g=e.factorVerificationAge;return{userId:t,user:r,sessionId:n,session:o,sessionStatus:s,sessionClaims:i,organization:l,orgId:c,orgRole:d,orgPermissions:u,orgSlug:h,actor:f,factorVerificationAge:g}},m2=e=>{var m,k,x,p;const t=e.user?e.user.id:e.user,r=e.user,n=e.session?e.session.id:e.session,s=e.session,i=(m=e.session)==null?void 0:m.status,o=e.session?(x=(k=e.session.lastActiveToken)==null?void 0:k.jwt)==null?void 0:x.claims:null,l=e.session?e.session.factorVerificationAge:null,c=s==null?void 0:s.actor,d=e.organization,u=e.organization?e.organization.id:e.organization,h=d==null?void 0:d.slug,f=d&&((p=r==null?void 0:r.organizationMemberships)==null?void 0:p.find(v=>v.organization.id===u)),g=f&&f.permissions,y=f&&f.role;return{userId:t,user:r,sessionId:n,session:s,sessionStatus:i,sessionClaims:o,organization:d,orgId:u,orgRole:y,orgSlug:h,orgPermissions:g,actor:c,factorVerificationAge:l}};function Nc(){return typeof window<"u"}var Ug=(e,t,r,n,s)=>{const{notify:i}=s||{};let o=e.get(r);o||(o=[],e.set(r,o)),o.push(n),i&&t.has(r)&&n(t.get(r))},Dg=(e,t,r)=>(e.get(t)||[]).map(n=>n(r)),zg=(e,t,r)=>{const n=e.get(t);n&&(r?n.splice(n.indexOf(r)>>>0,1):e.set(t,[]))},p2=()=>{const e=new Map,t=new Map,r=new Map;return{on:(...s)=>Ug(e,t,...s),prioritizedOn:(...s)=>Ug(r,t,...s),emit:(s,i)=>{t.set(s,i),Dg(r,s,i),Dg(e,s,i)},off:(...s)=>zg(e,...s),prioritizedOff:(...s)=>zg(r,...s),internal:{retrieveListeners:s=>e.get(s)||[]}}},Sl={Status:"status"},g2=()=>p2();typeof window<"u"&&!window.global&&(window.global=typeof global>"u"?window:global);Ae(({clerk:e,children:t,...r})=>{const{signUpFallbackRedirectUrl:n,forceRedirectUrl:s,fallbackRedirectUrl:i,signUpForceRedirectUrl:o,mode:l,initialValues:c,withSignUp:d,oauthFlow:u,...h}=r;t=ad(t,"Sign in");const f=sd(t)("SignInButton"),g=()=>{const k={forceRedirectUrl:s,fallbackRedirectUrl:i,signUpFallbackRedirectUrl:n,signUpForceRedirectUrl:o,initialValues:c,withSignUp:d,oauthFlow:u};return l==="modal"?e.openSignIn({...k,appearance:r.appearance}):e.redirectToSignIn({...k,signInFallbackRedirectUrl:i,signInForceRedirectUrl:s})},m={...h,onClick:async k=>(f&&typeof f=="object"&&"props"in f&&await id(f.props.onClick)(k),g())};return O.cloneElement(f,m)},{component:"SignInButton",renderWhileLoading:!0});Ae(({clerk:e,children:t,...r})=>{const{redirectUrl:n,...s}=r;t=ad(t,"Sign in with Metamask");const i=sd(t)("SignInWithMetamaskButton"),o=async()=>{async function d(){await e.authenticateWithMetamask({redirectUrl:n||void 0})}d()},c={...s,onClick:async d=>(await id(i.props.onClick)(d),o())};return O.cloneElement(i,c)},{component:"SignInWithMetamask",renderWhileLoading:!0});Ae(({clerk:e,children:t,...r})=>{const{redirectUrl:n="/",signOutOptions:s,...i}=r;t=ad(t,"Sign out");const o=sd(t)("SignOutButton"),l=()=>e.signOut({redirectUrl:n,...s}),d={...i,onClick:async u=>(await id(o.props.onClick)(u),l())};return O.cloneElement(o,d)},{component:"SignOutButton",renderWhileLoading:!0});Ae(({clerk:e,children:t,...r})=>{const{fallbackRedirectUrl:n,forceRedirectUrl:s,signInFallbackRedirectUrl:i,signInForceRedirectUrl:o,mode:l,initialValues:c,oauthFlow:d,...u}=r;t=ad(t,"Sign up");const h=sd(t)("SignUpButton"),f=()=>{const m={fallbackRedirectUrl:n,forceRedirectUrl:s,signInFallbackRedirectUrl:i,signInForceRedirectUrl:o,initialValues:c,oauthFlow:d};return l==="modal"?e.openSignUp({...m,appearance:r.appearance,unsafeMetadata:r.unsafeMetadata}):e.redirectToSignUp({...m,signUpFallbackRedirectUrl:n,signUpForceRedirectUrl:s})},y={...u,onClick:async m=>(h&&typeof h=="object"&&"props"in h&&await id(h.props.onClick)(m),f())};return O.cloneElement(h,y)},{component:"SignUpButton",renderWhileLoading:!0});var $g=()=>({fields:{firstName:null,lastName:null,emailAddress:null,identifier:null,phoneNumber:null,password:null,username:null,code:null,captcha:null,legalAccepted:null},raw:null,global:null}),x2=class{constructor(e){this.isomorphicClerk=e,this.signInSignalProxy=this.buildSignInProxy(),this.signUpSignalProxy=this.buildSignUpProxy()}signInSignal(){return this.signInSignalProxy}signUpSignal(){return this.signUpSignalProxy}buildSignInProxy(){const e=()=>this.client.signIn.__internal_future;return{errors:$g(),fetchStatus:"idle",signIn:{status:"needs_identifier",availableStrategies:[],isTransferable:!1,create:this.gateMethod(e,"create"),password:this.gateMethod(e,"password"),sso:this.gateMethod(e,"sso"),finalize:this.gateMethod(e,"finalize"),emailCode:this.wrapMethods(()=>e().emailCode,["sendCode","verifyCode"]),resetPasswordEmailCode:this.wrapMethods(()=>e().resetPasswordEmailCode,["sendCode","verifyCode","submitPassword"]),phoneCode:this.wrapMethods(()=>e().phoneCode,["sendCode","verifyCode"]),mfa:this.wrapMethods(()=>e().mfa,["sendPhoneCode","verifyPhoneCode","verifyTOTP","verifyBackupCode"])}}}buildSignUpProxy(){const e=this.gateProperty.bind(this),t=this.gateMethod.bind(this),r=this.wrapMethods.bind(this),n=()=>this.client.signUp.__internal_future;return{errors:$g(),fetchStatus:"idle",signUp:{get status(){return e(n,"status","missing_requirements")},get unverifiedFields(){return e(n,"unverifiedFields",[])},get isTransferable(){return e(n,"isTransferable",!1)},create:t(n,"create"),sso:t(n,"sso"),password:t(n,"password"),finalize:t(n,"finalize"),verifications:r(()=>n().verifications,["sendEmailCode","verifyEmailCode","sendPhoneCode","verifyPhoneCode"])}}}__internal_effect(e){throw new Error("__internal_effect called before Clerk is loaded")}__internal_computed(e){throw new Error("__internal_computed called before Clerk is loaded")}get client(){const e=this.isomorphicClerk.client;if(!e)throw new Error("Clerk client not ready");return e}gateProperty(e,t,r){return(()=>!Nc()||!this.isomorphicClerk.loaded?r:e()[t])()}gateMethod(e,t){return async(...r)=>{if(!Nc())return Dr.throw(`Attempted to call a method (${t}) that is not supported on the server.`);this.isomorphicClerk.loaded||await new Promise(s=>this.isomorphicClerk.addOnLoaded(s));const n=e();return n[t].apply(n,r)}}wrapMethods(e,t){return Object.fromEntries(t.map(r=>[r,this.gateMethod(e,r)]))}};typeof globalThis.__BUILD_DISABLE_RHC__>"u"&&(globalThis.__BUILD_DISABLE_RHC__=!1);var y2={name:"@clerk/clerk-react",version:"5.46.1",environment:"production"},Vl,na,sa,yn,Vr,Kl,_n,ki,Ql,Gv=class Jv{constructor(t){xn(this,ki),this.clerkjs=null,this.preopenOneTap=null,this.preopenUserVerification=null,this.preopenSignIn=null,this.preopenCheckout=null,this.preopenPlanDetails=null,this.preopenSubscriptionDetails=null,this.preopenSignUp=null,this.preopenUserProfile=null,this.preopenOrganizationProfile=null,this.preopenCreateOrganization=null,this.preOpenWaitlist=null,this.premountSignInNodes=new Map,this.premountSignUpNodes=new Map,this.premountUserProfileNodes=new Map,this.premountUserButtonNodes=new Map,this.premountOrganizationProfileNodes=new Map,this.premountCreateOrganizationNodes=new Map,this.premountOrganizationSwitcherNodes=new Map,this.premountOrganizationListNodes=new Map,this.premountMethodCalls=new Map,this.premountWaitlistNodes=new Map,this.premountPricingTableNodes=new Map,this.premountApiKeysNodes=new Map,this.premountOAuthConsentNodes=new Map,this.premountTaskChooseOrganizationNodes=new Map,this.premountAddListenerCalls=new Map,this.loadedListeners=[],xn(this,Vl,"loading"),xn(this,na),xn(this,sa),xn(this,yn),xn(this,Vr,g2()),xn(this,Kl),this.buildSignInUrl=s=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildSignInUrl(s))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildSignInUrl",i)},this.buildSignUpUrl=s=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildSignUpUrl(s))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildSignUpUrl",i)},this.buildAfterSignInUrl=(...s)=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildAfterSignInUrl(...s))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildAfterSignInUrl",i)},this.buildAfterSignUpUrl=(...s)=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildAfterSignUpUrl(...s))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildAfterSignUpUrl",i)},this.buildAfterSignOutUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildAfterSignOutUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildAfterSignOutUrl",s)},this.buildNewSubscriptionRedirectUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildNewSubscriptionRedirectUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildNewSubscriptionRedirectUrl",s)},this.buildAfterMultiSessionSingleSignOutUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildAfterMultiSessionSingleSignOutUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildAfterMultiSessionSingleSignOutUrl",s)},this.buildUserProfileUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildUserProfileUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildUserProfileUrl",s)},this.buildCreateOrganizationUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildCreateOrganizationUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildCreateOrganizationUrl",s)},this.buildOrganizationProfileUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildOrganizationProfileUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildOrganizationProfileUrl",s)},this.buildWaitlistUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildWaitlistUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildWaitlistUrl",s)},this.buildTasksUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildTasksUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildTasksUrl",s)},this.buildUrlWithAuth=s=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildUrlWithAuth(s))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildUrlWithAuth",i)},this.handleUnauthenticated=async()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.handleUnauthenticated()};this.clerkjs&&this.loaded?s():this.premountMethodCalls.set("handleUnauthenticated",s)},this.on=(...s)=>{var i;if((i=this.clerkjs)!=null&&i.on)return this.clerkjs.on(...s);Ce(this,Vr).on(...s)},this.off=(...s)=>{var i;if((i=this.clerkjs)!=null&&i.off)return this.clerkjs.off(...s);Ce(this,Vr).off(...s)},this.addOnLoaded=s=>{this.loadedListeners.push(s),this.loaded&&this.emitLoaded()},this.emitLoaded=()=>{this.loadedListeners.forEach(s=>s()),this.loadedListeners=[]},this.beforeLoad=s=>{if(!s)throw new Error("Failed to hydrate latest Clerk JS")},this.hydrateClerkJS=s=>{var i;if(!s)throw new Error("Failed to hydrate latest Clerk JS");return this.clerkjs=s,this.premountMethodCalls.forEach(o=>o()),this.premountAddListenerCalls.forEach((o,l)=>{o.nativeUnsubscribe=s.addListener(l)}),(i=Ce(this,Vr).internal.retrieveListeners("status"))==null||i.forEach(o=>{this.on("status",o,{notify:!0})}),this.preopenSignIn!==null&&s.openSignIn(this.preopenSignIn),this.preopenCheckout!==null&&s.__internal_openCheckout(this.preopenCheckout),this.preopenPlanDetails!==null&&s.__internal_openPlanDetails(this.preopenPlanDetails),this.preopenSubscriptionDetails!==null&&s.__internal_openSubscriptionDetails(this.preopenSubscriptionDetails),this.preopenSignUp!==null&&s.openSignUp(this.preopenSignUp),this.preopenUserProfile!==null&&s.openUserProfile(this.preopenUserProfile),this.preopenUserVerification!==null&&s.__internal_openReverification(this.preopenUserVerification),this.preopenOneTap!==null&&s.openGoogleOneTap(this.preopenOneTap),this.preopenOrganizationProfile!==null&&s.openOrganizationProfile(this.preopenOrganizationProfile),this.preopenCreateOrganization!==null&&s.openCreateOrganization(this.preopenCreateOrganization),this.preOpenWaitlist!==null&&s.openWaitlist(this.preOpenWaitlist),this.premountSignInNodes.forEach((o,l)=>{s.mountSignIn(l,o)}),this.premountSignUpNodes.forEach((o,l)=>{s.mountSignUp(l,o)}),this.premountUserProfileNodes.forEach((o,l)=>{s.mountUserProfile(l,o)}),this.premountUserButtonNodes.forEach((o,l)=>{s.mountUserButton(l,o)}),this.premountOrganizationListNodes.forEach((o,l)=>{s.mountOrganizationList(l,o)}),this.premountWaitlistNodes.forEach((o,l)=>{s.mountWaitlist(l,o)}),this.premountPricingTableNodes.forEach((o,l)=>{s.mountPricingTable(l,o)}),this.premountApiKeysNodes.forEach((o,l)=>{s.mountApiKeys(l,o)}),this.premountOAuthConsentNodes.forEach((o,l)=>{s.__internal_mountOAuthConsent(l,o)}),this.premountTaskChooseOrganizationNodes.forEach((o,l)=>{s.mountTaskChooseOrganization(l,o)}),typeof this.clerkjs.status>"u"&&Ce(this,Vr).emit(Sl.Status,"ready"),this.emitLoaded(),this.clerkjs},this.__experimental_checkout=(...s)=>{var i;return(i=this.clerkjs)==null?void 0:i.__experimental_checkout(...s)},this.__unstable__updateProps=async s=>{const i=await mu(this,ki,Ql).call(this);if(i&&"__unstable__updateProps"in i)return i.__unstable__updateProps(s)},this.setActive=s=>this.clerkjs?this.clerkjs.setActive(s):Promise.reject(),this.openSignIn=s=>{this.clerkjs&&this.loaded?this.clerkjs.openSignIn(s):this.preopenSignIn=s},this.closeSignIn=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignIn():this.preopenSignIn=null},this.__internal_openCheckout=s=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openCheckout(s):this.preopenCheckout=s},this.__internal_closeCheckout=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeCheckout():this.preopenCheckout=null},this.__internal_openPlanDetails=s=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openPlanDetails(s):this.preopenPlanDetails=s},this.__internal_closePlanDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closePlanDetails():this.preopenPlanDetails=null},this.__internal_openSubscriptionDetails=s=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openSubscriptionDetails(s):this.preopenSubscriptionDetails=s??null},this.__internal_closeSubscriptionDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeSubscriptionDetails():this.preopenSubscriptionDetails=null},this.__internal_openReverification=s=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openReverification(s):this.preopenUserVerification=s},this.__internal_closeReverification=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeReverification():this.preopenUserVerification=null},this.openGoogleOneTap=s=>{this.clerkjs&&this.loaded?this.clerkjs.openGoogleOneTap(s):this.preopenOneTap=s},this.closeGoogleOneTap=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeGoogleOneTap():this.preopenOneTap=null},this.openUserProfile=s=>{this.clerkjs&&this.loaded?this.clerkjs.openUserProfile(s):this.preopenUserProfile=s},this.closeUserProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeUserProfile():this.preopenUserProfile=null},this.openOrganizationProfile=s=>{this.clerkjs&&this.loaded?this.clerkjs.openOrganizationProfile(s):this.preopenOrganizationProfile=s},this.closeOrganizationProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeOrganizationProfile():this.preopenOrganizationProfile=null},this.openCreateOrganization=s=>{this.clerkjs&&this.loaded?this.clerkjs.openCreateOrganization(s):this.preopenCreateOrganization=s},this.closeCreateOrganization=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeCreateOrganization():this.preopenCreateOrganization=null},this.openWaitlist=s=>{this.clerkjs&&this.loaded?this.clerkjs.openWaitlist(s):this.preOpenWaitlist=s},this.closeWaitlist=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeWaitlist():this.preOpenWaitlist=null},this.openSignUp=s=>{this.clerkjs&&this.loaded?this.clerkjs.openSignUp(s):this.preopenSignUp=s},this.closeSignUp=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignUp():this.preopenSignUp=null},this.mountSignIn=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignIn(s,i):this.premountSignInNodes.set(s,i)},this.unmountSignIn=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignIn(s):this.premountSignInNodes.delete(s)},this.mountSignUp=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignUp(s,i):this.premountSignUpNodes.set(s,i)},this.unmountSignUp=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignUp(s):this.premountSignUpNodes.delete(s)},this.mountUserProfile=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserProfile(s,i):this.premountUserProfileNodes.set(s,i)},this.unmountUserProfile=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserProfile(s):this.premountUserProfileNodes.delete(s)},this.mountOrganizationProfile=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationProfile(s,i):this.premountOrganizationProfileNodes.set(s,i)},this.unmountOrganizationProfile=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationProfile(s):this.premountOrganizationProfileNodes.delete(s)},this.mountCreateOrganization=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountCreateOrganization(s,i):this.premountCreateOrganizationNodes.set(s,i)},this.unmountCreateOrganization=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountCreateOrganization(s):this.premountCreateOrganizationNodes.delete(s)},this.mountOrganizationSwitcher=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationSwitcher(s,i):this.premountOrganizationSwitcherNodes.set(s,i)},this.unmountOrganizationSwitcher=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationSwitcher(s):this.premountOrganizationSwitcherNodes.delete(s)},this.__experimental_prefetchOrganizationSwitcher=()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.__experimental_prefetchOrganizationSwitcher()};this.clerkjs&&this.loaded?s():this.premountMethodCalls.set("__experimental_prefetchOrganizationSwitcher",s)},this.mountOrganizationList=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationList(s,i):this.premountOrganizationListNodes.set(s,i)},this.unmountOrganizationList=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationList(s):this.premountOrganizationListNodes.delete(s)},this.mountUserButton=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserButton(s,i):this.premountUserButtonNodes.set(s,i)},this.unmountUserButton=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserButton(s):this.premountUserButtonNodes.delete(s)},this.mountWaitlist=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountWaitlist(s,i):this.premountWaitlistNodes.set(s,i)},this.unmountWaitlist=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountWaitlist(s):this.premountWaitlistNodes.delete(s)},this.mountPricingTable=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountPricingTable(s,i):this.premountPricingTableNodes.set(s,i)},this.unmountPricingTable=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountPricingTable(s):this.premountPricingTableNodes.delete(s)},this.mountApiKeys=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountApiKeys(s,i):this.premountApiKeysNodes.set(s,i)},this.unmountApiKeys=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountApiKeys(s):this.premountApiKeysNodes.delete(s)},this.__internal_mountOAuthConsent=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_mountOAuthConsent(s,i):this.premountOAuthConsentNodes.set(s,i)},this.__internal_unmountOAuthConsent=s=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_unmountOAuthConsent(s):this.premountOAuthConsentNodes.delete(s)},this.mountTaskChooseOrganization=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountTaskChooseOrganization(s,i):this.premountTaskChooseOrganizationNodes.set(s,i)},this.unmountTaskChooseOrganization=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountTaskChooseOrganization(s):this.premountTaskChooseOrganizationNodes.delete(s)},this.addListener=s=>{if(this.clerkjs)return this.clerkjs.addListener(s);{const i=()=>{var o;const l=this.premountAddListenerCalls.get(s);l&&((o=l.nativeUnsubscribe)==null||o.call(l),this.premountAddListenerCalls.delete(s))};return this.premountAddListenerCalls.set(s,{unsubscribe:i,nativeUnsubscribe:void 0}),i}},this.navigate=s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.navigate(s)};this.clerkjs&&this.loaded?i():this.premountMethodCalls.set("navigate",i)},this.redirectWithAuth=async(...s)=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectWithAuth(...s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectWithAuth",i)},this.redirectToSignIn=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToSignIn(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToSignIn",i)},this.redirectToSignUp=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToSignUp(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToSignUp",i)},this.redirectToUserProfile=async()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToUserProfile()};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToUserProfile",s)},this.redirectToAfterSignUp=()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignUp()};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToAfterSignUp",s)},this.redirectToAfterSignIn=()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignIn()};this.clerkjs&&this.loaded?s():this.premountMethodCalls.set("redirectToAfterSignIn",s)},this.redirectToAfterSignOut=()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignOut()};this.clerkjs&&this.loaded?s():this.premountMethodCalls.set("redirectToAfterSignOut",s)},this.redirectToOrganizationProfile=async()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToOrganizationProfile()};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToOrganizationProfile",s)},this.redirectToCreateOrganization=async()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToCreateOrganization()};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToCreateOrganization",s)},this.redirectToWaitlist=async()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToWaitlist()};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToWaitlist",s)},this.redirectToTasks=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToTasks(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToTasks",i)},this.handleRedirectCallback=async s=>{var i;const o=()=>{var l;return(l=this.clerkjs)==null?void 0:l.handleRedirectCallback(s)};this.clerkjs&&this.loaded?(i=o())==null||i.catch(()=>{}):this.premountMethodCalls.set("handleRedirectCallback",o)},this.handleGoogleOneTapCallback=async(s,i)=>{var o;const l=()=>{var c;return(c=this.clerkjs)==null?void 0:c.handleGoogleOneTapCallback(s,i)};this.clerkjs&&this.loaded?(o=l())==null||o.catch(()=>{}):this.premountMethodCalls.set("handleGoogleOneTapCallback",l)},this.handleEmailLinkVerification=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.handleEmailLinkVerification(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("handleEmailLinkVerification",i)},this.authenticateWithMetamask=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithMetamask(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithMetamask",i)},this.authenticateWithCoinbaseWallet=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithCoinbaseWallet(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithCoinbaseWallet",i)},this.authenticateWithBase=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithBase(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithBase",i)},this.authenticateWithOKXWallet=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithOKXWallet(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithOKXWallet",i)},this.authenticateWithWeb3=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithWeb3(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithWeb3",i)},this.authenticateWithGoogleOneTap=async s=>(await mu(this,ki,Ql).call(this)).authenticateWithGoogleOneTap(s),this.__internal_loadStripeJs=async()=>(await mu(this,ki,Ql).call(this)).__internal_loadStripeJs(),this.createOrganization=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.createOrganization(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("createOrganization",i)},this.getOrganization=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.getOrganization(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("getOrganization",i)},this.joinWaitlist=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.joinWaitlist(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("joinWaitlist",i)},this.signOut=async(...s)=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.signOut(...s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("signOut",i)};const{Clerk:r=null,publishableKey:n}=t||{};ls(this,yn,n),ls(this,sa,t==null?void 0:t.proxyUrl),ls(this,na,t==null?void 0:t.domain),this.options=t,this.Clerk=r,this.mode=Nc()?"browser":"server",ls(this,Kl,new x2(this)),this.options.sdkMetadata||(this.options.sdkMetadata=y2),Ce(this,Vr).emit(Sl.Status,"loading"),Ce(this,Vr).prioritizedOn(Sl.Status,s=>ls(this,Vl,s)),Ce(this,yn)&&this.loadClerkJS()}get publishableKey(){return Ce(this,yn)}get loaded(){var t;return((t=this.clerkjs)==null?void 0:t.loaded)||!1}get status(){var t;return this.clerkjs?((t=this.clerkjs)==null?void 0:t.status)||(this.clerkjs.loaded?"ready":"loading"):Ce(this,Vl)}static getOrCreateInstance(t){return(!Nc()||!Ce(this,_n)||t.Clerk&&Ce(this,_n).Clerk!==t.Clerk||Ce(this,_n).publishableKey!==t.publishableKey)&&ls(this,_n,new Jv(t)),Ce(this,_n)}static clearInstance(){ls(this,_n,null)}get domain(){return typeof window<"u"&&window.location?cu(Ce(this,na),new URL(window.location.href),""):typeof Ce(this,na)=="function"?Dr.throw(lu):Ce(this,na)||""}get proxyUrl(){return typeof window<"u"&&window.location?cu(Ce(this,sa),new URL(window.location.href),""):typeof Ce(this,sa)=="function"?Dr.throw(lu):Ce(this,sa)||""}__internal_getOption(t){var r,n;return(r=this.clerkjs)!=null&&r.__internal_getOption?(n=this.clerkjs)==null?void 0:n.__internal_getOption(t):this.options[t]}get sdkMetadata(){var t;return((t=this.clerkjs)==null?void 0:t.sdkMetadata)||this.options.sdkMetadata||void 0}get instanceType(){var t;return(t=this.clerkjs)==null?void 0:t.instanceType}get frontendApi(){var t;return((t=this.clerkjs)==null?void 0:t.frontendApi)||""}get isStandardBrowser(){var t;return((t=this.clerkjs)==null?void 0:t.isStandardBrowser)||this.options.standardBrowser||!1}get isSatellite(){return typeof window<"u"&&window.location?cu(this.options.isSatellite,new URL(window.location.href),!1):typeof this.options.isSatellite=="function"?Dr.throw(lu):!1}async loadClerkJS(){var t;if(!(this.mode!=="browser"||this.loaded)){typeof window<"u"&&(window.__clerk_publishable_key=Ce(this,yn),window.__clerk_proxy_url=this.proxyUrl,window.__clerk_domain=this.domain);try{if(this.Clerk){let r;TS(this.Clerk)?(r=new this.Clerk(Ce(this,yn),{proxyUrl:this.proxyUrl,domain:this.domain}),this.beforeLoad(r),await r.load(this.options)):(r=this.Clerk,r.loaded||(this.beforeLoad(r),await r.load(this.options))),global.Clerk=r}else if(!__BUILD_DISABLE_RHC__){if(global.Clerk||await l2({...this.options,publishableKey:Ce(this,yn),proxyUrl:this.proxyUrl,domain:this.domain,nonce:this.options.nonce}),!global.Clerk)throw new Error("Failed to download latest ClerkJS. Contact support@clerk.com.");this.beforeLoad(global.Clerk),await global.Clerk.load(this.options)}return(t=global.Clerk)!=null&&t.loaded?this.hydrateClerkJS(global.Clerk):void 0}catch(r){const n=r;Ce(this,Vr).emit(Sl.Status,"error"),console.error(n.stack||n.message||n);return}}}get version(){var t;return(t=this.clerkjs)==null?void 0:t.version}get client(){if(this.clerkjs)return this.clerkjs.client}get session(){if(this.clerkjs)return this.clerkjs.session}get user(){if(this.clerkjs)return this.clerkjs.user}get organization(){if(this.clerkjs)return this.clerkjs.organization}get telemetry(){if(this.clerkjs)return this.clerkjs.telemetry}get __unstable__environment(){if(this.clerkjs)return this.clerkjs.__unstable__environment}get isSignedIn(){return this.clerkjs?this.clerkjs.isSignedIn:!1}get billing(){var t;return(t=this.clerkjs)==null?void 0:t.billing}get __internal_state(){return this.loaded&&this.clerkjs?this.clerkjs.__internal_state:Ce(this,Kl)}get apiKeys(){var t;return(t=this.clerkjs)==null?void 0:t.apiKeys}__unstable__setEnvironment(...t){if(this.clerkjs&&"__unstable__setEnvironment"in this.clerkjs)this.clerkjs.__unstable__setEnvironment(t);else return}};Vl=new WeakMap;na=new WeakMap;sa=new WeakMap;yn=new WeakMap;Vr=new WeakMap;Kl=new WeakMap;_n=new WeakMap;ki=new WeakSet;Ql=function(){return new Promise(e=>{this.addOnLoaded(()=>e(this.clerkjs))})};xn(Gv,_n);var Bg=Gv;function v2(e){const{isomorphicClerkOptions:t,initialState:r,children:n}=e,{isomorphicClerk:s,clerkStatus:i}=b2(t),[o,l]=O.useState({client:s.client,session:s.session,user:s.user,organization:s.organization});O.useEffect(()=>s.addListener(z=>l({...z})),[]);const c=h2(s.loaded,o,r),d=O.useMemo(()=>({value:s}),[i]),u=O.useMemo(()=>({value:o.client}),[o.client]),{sessionId:h,sessionStatus:f,sessionClaims:g,session:y,userId:m,user:k,orgId:x,actor:p,organization:v,orgRole:b,orgSlug:_,orgPermissions:N,factorVerificationAge:j}=c,P=O.useMemo(()=>({value:{sessionId:h,sessionStatus:f,sessionClaims:g,userId:m,actor:p,orgId:x,orgRole:b,orgSlug:_,orgPermissions:N,factorVerificationAge:j}}),[h,f,m,p,x,b,_,j,g==null?void 0:g.__raw]),S=O.useMemo(()=>({value:y}),[h,y]),T=O.useMemo(()=>({value:k}),[m,k]),I=O.useMemo(()=>({value:{organization:v}}),[x,v]);return O.createElement(lS.Provider,{value:d},O.createElement(HN.Provider,{value:u},O.createElement(VN.Provider,{value:S},O.createElement(YN,{...I.value},O.createElement(oS.Provider,{value:P},O.createElement(WN.Provider,{value:T},O.createElement(GN,{value:void 0},n)))))))}var b2=e=>{const t=O.useRef(Bg.getOrCreateInstance(e)),[r,n]=O.useState(t.current.status);return O.useEffect(()=>{t.current.__unstable__updateProps({appearance:e.appearance})},[e.appearance]),O.useEffect(()=>{t.current.__unstable__updateProps({options:e})},[e.localization]),O.useEffect(()=>(t.current.on("status",n),()=>{t.current&&t.current.off("status",n),Bg.clearInstance()}),[]),{isomorphicClerk:t.current,clerkStatus:r}};function w2(e){const{initialState:t,children:r,__internal_bypassMissingPublishableKey:n,...s}=e,{publishableKey:i="",Clerk:o}=s;return!o&&!n&&(i?i&&!wh(i)&&Dr.throwInvalidPublishableKeyError({key:i}):Dr.throwMissingPublishableKeyError()),O.createElement(v2,{initialState:t,isomorphicClerkOptions:s},r)}var Yv=AS(w2,"ClerkProvider",dS);Yv.displayName="ClerkProvider";iS({packageName:"@clerk/clerk-react"});o2("@clerk/clerk-react");var k2={locale:"es-ES",apiKeys:{action__add:void 0,action__search:void 0,createdAndExpirationStatus__expiresOn:void 0,createdAndExpirationStatus__never:void 0,detailsTitle__emptyRow:void 0,formButtonPrimary__add:void 0,formFieldCaption__expiration__expiresOn:void 0,formFieldCaption__expiration__never:void 0,formFieldOption__expiration__180d:void 0,formFieldOption__expiration__1d:void 0,formFieldOption__expiration__1y:void 0,formFieldOption__expiration__30d:void 0,formFieldOption__expiration__60d:void 0,formFieldOption__expiration__7d:void 0,formFieldOption__expiration__90d:void 0,formFieldOption__expiration__never:void 0,formHint:void 0,formTitle:void 0,lastUsed__days:void 0,lastUsed__hours:void 0,lastUsed__minutes:void 0,lastUsed__months:void 0,lastUsed__seconds:void 0,lastUsed__years:void 0,menuAction__revoke:void 0,revokeConfirmation:{confirmationText:void 0,formButtonPrimary__revoke:void 0,formHint:void 0,formTitle:void 0}},backButton:"Atrás",badge__activePlan:void 0,badge__canceledEndsAt:void 0,badge__currentPlan:void 0,badge__default:"Por defecto",badge__endsAt:void 0,badge__expired:void 0,badge__freeTrial:void 0,badge__otherImpersonatorDevice:"Otro dispositivo de imitación",badge__pastDueAt:void 0,badge__pastDuePlan:void 0,badge__primary:"Primario",badge__renewsAt:void 0,badge__requiresAction:"Requiere acción",badge__startsAt:void 0,badge__thisDevice:"Este dispositivo",badge__trialEndsAt:void 0,badge__unverified:"No confirmado",badge__upcomingPlan:void 0,badge__userDevice:"Dispositivo de usuario",badge__you:"Usted",commerce:{addPaymentMethod:void 0,alwaysFree:void 0,annually:void 0,availableFeatures:void 0,billedAnnually:void 0,billedMonthlyOnly:void 0,cancelFreeTrial:void 0,cancelFreeTrialAccessUntil:void 0,cancelFreeTrialTitle:void 0,cancelSubscription:void 0,cancelSubscriptionAccessUntil:void 0,cancelSubscriptionNoCharge:void 0,cancelSubscriptionPastDue:void 0,cancelSubscriptionTitle:void 0,cannotSubscribeMonthly:void 0,cannotSubscribeUnrecoverable:void 0,checkout:{description__paymentSuccessful:void 0,description__subscriptionSuccessful:void 0,downgradeNotice:void 0,emailForm:{subtitle:void 0,title:void 0},lineItems:{title__freeTrialEndsAt:void 0,title__paymentMethod:void 0,title__statementId:void 0,title__subscriptionBegins:void 0,title__totalPaid:void 0},pastDueNotice:void 0,perMonth:void 0,title:void 0,title__paymentSuccessful:void 0,title__subscriptionSuccessful:void 0,title__trialSuccess:void 0,totalDueAfterTrial:void 0},credit:void 0,creditRemainder:void 0,defaultFreePlanActive:void 0,free:void 0,getStarted:void 0,keepFreeTrial:void 0,keepSubscription:void 0,manage:void 0,manageSubscription:void 0,month:void 0,monthly:void 0,pastDue:void 0,pay:void 0,paymentMethods:void 0,paymentSource:{applePayDescription:{annual:void 0,monthly:void 0},dev:{anyNumbers:void 0,cardNumber:void 0,cvcZip:void 0,developmentMode:void 0,expirationDate:void 0,testCardInfo:void 0}},popular:void 0,pricingTable:{billingCycle:void 0,included:void 0},reSubscribe:void 0,seeAllFeatures:void 0,startFreeTrial:void 0,startFreeTrial__days:void 0,subscribe:void 0,subscriptionDetails:{beginsOn:void 0,currentBillingCycle:void 0,endsOn:void 0,firstPaymentAmount:void 0,firstPaymentOn:void 0,nextPaymentAmount:void 0,nextPaymentOn:void 0,pastDueAt:void 0,renewsAt:void 0,subscribedOn:void 0,title:void 0,trialEndsOn:void 0,trialStartedOn:void 0},subtotal:void 0,switchPlan:void 0,switchToAnnual:void 0,switchToAnnualWithAnnualPrice:void 0,switchToMonthly:void 0,switchToMonthlyWithPrice:void 0,totalDue:void 0,totalDueToday:void 0,viewFeatures:void 0,viewPayment:void 0,year:void 0},createOrganization:{formButtonSubmit:"Crear organización",invitePage:{formButtonReset:"Saltar"},title:"Crear organización"},dates:{lastDay:"Ayer a las {{ date | timeString('es-ES') }}",next6Days:"{{ date | weekday('es-ES','long') }} a las {{ date | timeString('es-ES') }}",nextDay:"Mañana a las {{ date | timeString('es-ES') }}",numeric:"{{ date | numeric('es-ES') }}",previous6Days:"Último {{ date | weekday('es-ES','long') }} en {{ date | timeString('es-ES') }}",sameDay:"Hoy a las {{ date | timeString('es-ES') }}"},dividerText:"o",footerActionLink__alternativePhoneCodeProvider:void 0,footerActionLink__useAnotherMethod:"Usar otro método",footerPageLink__help:"Ayuda",footerPageLink__privacy:"Privacidad",footerPageLink__terms:"Términos",formButtonPrimary:"Continuar",formButtonPrimary__verify:"Verificar",formFieldAction__forgotPassword:"Has olvidado tu contraseña?",formFieldError__matchingPasswords:"Las contraseñas coinciden.",formFieldError__notMatchingPasswords:"Las contraseñas no coinciden.",formFieldError__verificationLinkExpired:"El enlace de verificación ha expirado. Por favor solicite uno nuevo.",formFieldHintText__optional:"Opcional",formFieldHintText__slug:"Un slug es un ID legible que debe ser único. Es comúnmente usado en URLs.",formFieldInputPlaceholder__apiKeyDescription:void 0,formFieldInputPlaceholder__apiKeyExpirationDate:void 0,formFieldInputPlaceholder__apiKeyName:void 0,formFieldInputPlaceholder__backupCode:"Ingrese su código de respaldo",formFieldInputPlaceholder__confirmDeletionUserAccount:"Eliminar cuenta",formFieldInputPlaceholder__emailAddress:"Ingrese su dirección de correo electrónico",formFieldInputPlaceholder__emailAddress_username:"Ingrese su correo electrónico o nombre de usuario",formFieldInputPlaceholder__emailAddresses:"Ingrese o pegue una o más direcciones de correo electrónico, separadas por espacios o comas",formFieldInputPlaceholder__firstName:"Ingrese su nombre",formFieldInputPlaceholder__lastName:"Ingrese su apellido",formFieldInputPlaceholder__organizationDomain:"Ingrese el dominio de la organización",formFieldInputPlaceholder__organizationDomainEmailAddress:"Ingrese un correo electrónico del dominio",formFieldInputPlaceholder__organizationName:"Ingrese el nombre de la organización",formFieldInputPlaceholder__organizationSlug:"Ingrese un slug único para la organización",formFieldInputPlaceholder__password:"Ingrese su contraseña",formFieldInputPlaceholder__phoneNumber:"Ingrese su número telefónico",formFieldInputPlaceholder__username:"Ingrese su nombre de usuario",formFieldLabel__apiKeyDescription:void 0,formFieldLabel__apiKeyExpiration:void 0,formFieldLabel__apiKeyName:void 0,formFieldLabel__automaticInvitations:"Activar invitaciones automáticas para este dominio",formFieldLabel__backupCode:"Código de respaldo",formFieldLabel__confirmDeletion:"Confirmación",formFieldLabel__confirmPassword:"Confirme la contraseña",formFieldLabel__currentPassword:"Contraseña actual",formFieldLabel__emailAddress:"Correo electrónico",formFieldLabel__emailAddress_username:"Correo electrónico o nombre de usuario",formFieldLabel__emailAddresses:"Direcciones de correo",formFieldLabel__firstName:"Nombre",formFieldLabel__lastName:"Apellido",formFieldLabel__newPassword:"Nueva contraseña",formFieldLabel__organizationDomain:"Dominio",formFieldLabel__organizationDomainDeletePending:"Borrar invitaciones y sugerencias pendientes",formFieldLabel__organizationDomainEmailAddress:"Correo de verificación",formFieldLabel__organizationDomainEmailAddressDescription:"Ingrese una dirección de correo electrónico bajo este dominio para recibir un código y verificarlo.",formFieldLabel__organizationName:"Nombre de la Organización",formFieldLabel__organizationSlug:"Slug",formFieldLabel__passkeyName:"Nombre de la clave de acceso",formFieldLabel__password:"Contraseña",formFieldLabel__phoneNumber:"Número telefónico",formFieldLabel__role:"Rol",formFieldLabel__signOutOfOtherSessions:"Cerrar sesión en todos los demás dispositivos",formFieldLabel__username:"Nombre de usuario",impersonationFab:{action__signOut:"Cerrar",title:"Registrado como {{identifier}}"},lastAuthenticationStrategy:"Último uso",maintenanceMode:"Modo de mantenimiento",membershipRole__admin:"Administrador",membershipRole__basicMember:"Miembro",membershipRole__guestMember:"Invitado",organizationList:{action__createOrganization:"Crear organización",action__invitationAccept:"Unirse",action__suggestionsAccept:"Solicitud a unirse",createOrganization:"Crear Organización",invitationAcceptedLabel:"Unido",subtitle:"para continuar a {{applicationName}}",suggestionsAcceptedLabel:"Aprobación pendiente",title:"Choose an account",titleWithoutPersonal:"Escoja una organización"},organizationProfile:{apiKeysPage:{title:void 0},badge__automaticInvitation:"Invitaciones automáticas",badge__automaticSuggestion:"Sugerencias automáticas",badge__manualInvitation:"Sin inscripción automática",badge__unverified:"No verificado",billingPage:{paymentHistorySection:{empty:void 0,notFound:void 0,tableHeader__amount:void 0,tableHeader__date:void 0,tableHeader__status:void 0},paymentSourcesSection:{actionLabel__default:void 0,actionLabel__remove:void 0,add:void 0,addSubtitle:void 0,cancelButton:void 0,formButtonPrimary__add:void 0,formButtonPrimary__pay:void 0,payWithTestCardButton:void 0,removeResource:{messageLine1:void 0,messageLine2:void 0,successMessage:void 0,title:void 0},title:void 0},start:{headerTitle__payments:void 0,headerTitle__plans:void 0,headerTitle__statements:void 0,headerTitle__subscriptions:void 0},statementsSection:{empty:void 0,itemCaption__paidForPlan:void 0,itemCaption__proratedCredit:void 0,itemCaption__subscribedAndPaidForPlan:void 0,notFound:void 0,tableHeader__amount:void 0,tableHeader__date:void 0,title:void 0,totalPaid:void 0},subscriptionsListSection:{actionLabel__manageSubscription:void 0,actionLabel__newSubscription:void 0,actionLabel__switchPlan:void 0,tableHeader__edit:void 0,tableHeader__plan:void 0,tableHeader__startDate:void 0,title:void 0},subscriptionsSection:{actionLabel__default:void 0},switchPlansSection:{title:void 0},title:void 0},createDomainPage:{subtitle:"Agregue el dominio para verificar. Los usuarios con direcciones de correo electrónico en este dominio pueden unirse a la organización automáticamente o solicitar unirse.",title:"Agregar dominio"},invitePage:{detailsTitle__inviteFailed:"No se pudieron enviar las invitaciones. Solucione lo siguiente y vuelva a intentarlo:",formButtonPrimary__continue:"Enviar invitaciones",selectDropdown__role:"Seleccionar rol",subtitle:"Invitar nuevos miembros a esta organización",successMessage:"Invitaciones enviadas con éxito",title:"Invitar miembros"},membersPage:{action__invite:"Invitar",action__search:"Buscar",activeMembersTab:{menuAction__remove:"Quitar miembro",tableHeader__actions:"Acciones",tableHeader__joined:"Unido",tableHeader__role:"Rol",tableHeader__user:"Usuario"},detailsTitle__emptyRow:"No hay miembros para mostrar",invitationsTab:{autoInvitations:{headerSubtitle:"Invite a usuarios conectando un dominio de correo electrónico con su organización. Cualquiera que se registre con un dominio de correo electrónico coincidente podrá unirse a la organización en cualquier momento.",headerTitle:"Invitaciones automáticas",primaryButton:"Gestionar dominios verificados"},table__emptyRow:"Sin invitaciones para mostrar"},invitedMembersTab:{menuAction__revoke:"Revocar invitación",tableHeader__invited:"Invitado"},requestsTab:{autoSuggestions:{headerSubtitle:"Los usuarios que se registren con un dominio de correo electrónico coincidente podrán ver una sugerencia para solicitar unirse a su organización.",headerTitle:"Sugerencias automáticas",primaryButton:"Gestionar dominios verificados"},menuAction__approve:"Aprobar",menuAction__reject:"Rechazar",tableHeader__requested:"Acceso solicitado",table__emptyRow:"Sin solicitudes para mostrar"},start:{headerTitle__invitations:"Invitaciones",headerTitle__members:"Miembros",headerTitle__requests:"Solicitudes"}},navbar:{apiKeys:void 0,billing:void 0,description:"Gestione su organización.",general:"General",members:"Miembros",title:"Organización"},plansPage:{alerts:{noPermissionsToManageBilling:void 0},title:void 0},profilePage:{dangerSection:{deleteOrganization:{actionDescription:'Escriba "{{organizationName}}" a continuación para continuar.',messageLine1:"¿Está seguro de que desea eliminar esta organización?",messageLine2:"Esta acción es permanente e irreversible.",successMessage:"Ha eliminado la organización.",title:"Borrar organización"},leaveOrganization:{actionDescription:'Escriba "{{organizationName}}" a continuación para continuar.',messageLine1:"¿Está seguro de que desea abandonar esta organización? Perderá el acceso a esta organización y sus aplicaciones.",messageLine2:"Esta acción es permanente e irreversible.",successMessage:"Has dejado la organización.",title:"Abandonar la organización"},title:"Peligro"},domainSection:{menuAction__manage:"Gestione",menuAction__remove:"Eliminar",menuAction__verify:"Verificar",primaryButton:"Añadir dominio",subtitle:"Permita que los usuarios se unan a la organización automáticamente o soliciten unirse basándose en un dominio de correo electrónico verificado.",title:"Dominios verificados"},successMessage:"La organización ha sido actualizada.",title:"Perfil de la organización"},removeDomainPage:{messageLine1:"Se eliminará el dominio de correo electrónico {{domain}}.",messageLine2:"Los usuarios no podrán unirse a la organización automáticamente después de esto.",successMessage:"{{dominio}} ha sido eliminado.",title:"Eliminar dominio"},start:{headerTitle__general:"General",headerTitle__members:"Miembros",profileSection:{primaryButton:"Actualizar perfil",title:"Perfil de la Organización",uploadAction__title:"Logo"}},verifiedDomainPage:{dangerTab:{calloutInfoLabel:"La eliminación de este dominio afectará a los usuarios invitados.",removeDomainActionLabel__remove:"Eliminar dominio",removeDomainSubtitle:"Elimine este dominio de sus dominios verificados",removeDomainTitle:"Eliminar dominio"},enrollmentTab:{automaticInvitationOption__description:"Los usuarios son invitados automáticamente a unirse a la organización cuando se registran y pueden unirse en cualquier momento.",automaticInvitationOption__label:"Invitaciones automáticas",automaticSuggestionOption__description:"Los usuarios reciben una sugerencia para solicitar unirse, pero deben ser aprobados por un administrador antes de poder unirse a la organización.",automaticSuggestionOption__label:"Sugerencias automáticas",calloutInfoLabel:"Cambiar el modo de inscripción solo afectará a nuevos usuarios.",calloutInvitationCountLabel:"Invitaciones pendientes enviadas a los usuarios: {{count}}",calloutSuggestionCountLabel:"Sugerencias pendientes enviadas a los usuarios: {{count}}",manualInvitationOption__description:"Los usuarios solo pueden ser invitados manualmente a la organización.",manualInvitationOption__label:"Sin inscripción automática",subtitle:"Elija cómo los usuarios de este dominio pueden unirse a la organización."},start:{headerTitle__danger:"Peligro",headerTitle__enrollment:"Opciones de inscripción"},subtitle:"El dominio {{domain}} está ahora verificado. Continúe seleccionando el modo de inscripción.",title:"Actualizar {{domain}}"},verifyDomainPage:{formSubtitle:"Ingrese el código de verificación enviado a su dirección de correo electrónico",formTitle:"Código de verificación",resendButton:"¿No recibió un código? Reenviar",subtitle:"El dominio {{domainName}} necesita ser verificado por correo electrónico.",subtitleVerificationCodeScreen:"Se envió un código de verificación a {{emailAddress}}. Ingrese el código para continuar.",title:"Verificar dominio"}},organizationSwitcher:{action__createOrganization:"Crear Organización",action__invitationAccept:"Unirse",action__manageOrganization:"Administrar Organización",action__suggestionsAccept:"Solicitar unirse",notSelected:"Ninguna organización seleccionada",personalWorkspace:"Espacio de trabajo personal",suggestionsAcceptedLabel:"Aprobación pendiente"},paginationButton__next:"Próximo",paginationButton__previous:"Previo",paginationRowText__displaying:"Mostrando",paginationRowText__of:"de",reverification:{alternativeMethods:{actionLink:"Probar otro método",actionText:"¿No tienes acceso a este método? Prueba otra opción.",blockButton__backupCode:"Usar código de respaldo",blockButton__emailCode:"Usar código de correo electrónico",blockButton__passkey:void 0,blockButton__password:"Usar contraseña",blockButton__phoneCode:"Usar código de teléfono",blockButton__totp:"Usar verificación TOTP",getHelp:{blockButton__emailSupport:"Contactar soporte por correo electrónico",content:"Si no puedes verificar tu identidad con los métodos anteriores, comunícate con nuestro equipo de soporte.",title:"Necesitas ayuda con la verificación?"},subtitle:"Selecciona uno de los métodos disponibles para verificar tu identidad.",title:"Reverificación de identidad"},backupCodeMfa:{subtitle:"Introduce tu código de respaldo para continuar con el acceso.",title:"Verificación por código de respaldo"},emailCode:{formTitle:"Ingresa el código que hemos enviado a tu correo electrónico.",resendButton:"Reenviar código",subtitle:"Revisa tu bandeja de entrada para el código de verificación.",title:"Verificación por correo electrónico"},noAvailableMethods:{message:"Lo sentimos, no tienes ningún método de verificación disponible. Contacta con soporte.",subtitle:"No se encontraron métodos alternativos disponibles.",title:"Métodos de verificación no disponibles"},passkey:{blockButton__passkey:void 0,subtitle:void 0,title:void 0},password:{actionLink:"¿Olvidaste tu contraseña? Recupérala aquí.",subtitle:"Usa tu contraseña para verificar tu identidad.",title:"Verificación por contraseña"},phoneCode:{formTitle:"Introduce el código enviado a tu teléfono.",resendButton:"Reenviar código",subtitle:"Recibirás un código SMS para verificar tu identidad.",title:"Verificación por teléfono"},phoneCodeMfa:{formTitle:"Código de verificación de 2 pasos",resendButton:"Reenviar código",subtitle:"Introduce el código de verificación de dos factores enviado a tu teléfono.",title:"Verificación por teléfono (2FA)"},totpMfa:{formTitle:"Código TOTP",subtitle:"Introduce el código de autenticación TOTP para completar la verificación.",title:"Verificación por TOTP (2FA)"}},signIn:{accountSwitcher:{action__addAccount:"Añadir cuenta",action__signOutAll:"Cerrar sesión de todas las cuentas",subtitle:"Seleccione la cuenta con la que desea continuar.",title:"Elija una cuenta"},alternativeMethods:{actionLink:"Consigue ayuda",actionText:"¿No tienes ninguno de estos?",blockButton__backupCode:"Usa un código de respaldo",blockButton__emailCode:"Enviar código a {{identifier}}",blockButton__emailLink:"Enviar enlace a {{identifier}}",blockButton__passkey:"Usar llave de acceso",blockButton__password:"Entra con tu contraseña",blockButton__phoneCode:"Enviar código a {{identifier}}",blockButton__totp:"Usa tu aplicación de autenticación",getHelp:{blockButton__emailSupport:"Soporte de correo electrónico",content:"Si tiene dificultades para iniciar sesión en su cuenta, envíenos un correo electrónico y trabajaremos con usted para restablecer el acceso lo antes posible.",title:"Consigue ayuda"},subtitle:"¿Tienes problemas? Puedes usar cualquiera de estos métodos para iniciar sesión.",title:"Usa otro método"},alternativePhoneCodeProvider:{formTitle:void 0,resendButton:void 0,subtitle:void 0,title:void 0},backupCodeMfa:{subtitle:"para continuar a {{applicationName}}",title:"Introduce un código de seguridad"},emailCode:{formTitle:"Código de verificación",resendButton:"Reenviar código",subtitle:"para continuar a {{applicationName}}",title:"Revise su correo electrónico"},emailLink:{clientMismatch:{subtitle:"El cliente no coincide con el solicitado. Por favor, intente de nuevo.",title:"Error de cliente no coincidente"},expired:{subtitle:"Regrese a la pestaña original para continuar.",title:"Este enlace de verificación ha expirado"},failed:{subtitle:"Regrese a la pestaña original para continuar.",title:"Este enlace de verificación es inválido"},formSubtitle:"Utilice el enlace de verificación enviado a su correo electrónico",formTitle:"Enlace de verificación",loading:{subtitle:"Serás redirigido pronto",title:"Iniciando sesión..."},resendButton:"Reenviar enlace",subtitle:"para continuar a {{applicationName}}",title:"Revise su correo electrónico",unusedTab:{title:"Puede cerrar esta pestaña"},verified:{subtitle:"Serás redirigido pronto",title:"Inició sesión con éxito"},verifiedSwitchTab:{subtitle:"Regrese a la pestaña original para continuar",subtitleNewTab:"Regrese a la pestaña recién abierta para continuar",titleNewTab:"Inició sesión en otra pestaña"}},forgotPassword:{formTitle:"Código de restablecimiento de contraseña",resendButton:"¿No recibiste un código? Reenviar",subtitle:"para restablecer tu contraseña",subtitle_email:"Primero, introduce el código enviado a tu correo electrónico",subtitle_phone:"Primero, introduce el código enviado a tu teléfono",title:"Restablecer contraseña"},forgotPasswordAlternativeMethods:{blockButton__resetPassword:"Restablecer tu contraseña",label__alternativeMethods:"O, inicia sesión con otro método",title:"¿Olvidaste tu contraseña?"},noAvailableMethods:{message:"No se puede continuar con el inicio de sesión. No hay ningún factor de autenticación disponible.",subtitle:"Ocurrió un error",title:"No puedo iniciar sesión"},passkey:{subtitle:"Use su clave de acceso para continuar con la autenticación.",title:"Clave de acceso"},password:{actionLink:"Usa otro método",subtitle:"para continuar a {{applicationName}}",title:"Introduzca su contraseña"},passwordPwned:{title:"Tu contraseña ha sido comprometida"},phoneCode:{formTitle:"Código de verificación",resendButton:"Reenviar código",subtitle:"para continuar a {{applicationName}}",title:"Revisa tu teléfono"},phoneCodeMfa:{formTitle:"Código de verificación",resendButton:"Reenviar código",subtitle:"Introduce el código enviado a tu teléfono para continuar.",title:"Revisa tu teléfono"},resetPassword:{formButtonPrimary:"Restablecer Contraseña",requiredMessage:"Por razones de seguridad, se requiere restablecer su contraseña.",successMessage:"Tu contraseña ha sido cambiada exitosamente. Iniciando sesión, por favor espera un momento.",title:"Establecer nueva contraseña"},resetPasswordMfa:{detailsLabel:"Necesitamos verificar tu identidad antes de restablecer tu contraseña."},start:{actionLink:"Regístrese",actionLink__join_waitlist:"Únase a la lista de espera",actionLink__use_email:"Usar correo electrónico",actionLink__use_email_username:"Usar correo electrónico o nombre de usuario",actionLink__use_passkey:"Usar una clave de acceso",actionLink__use_phone:"Usar teléfono",actionLink__use_username:"Usar nombre de usuario",actionText:"¿No tienes cuenta?",actionText__join_waitlist:"¿Te gustaría unirte a la lista de espera?",alternativePhoneCodeProvider:{actionLink:void 0,label:void 0,subtitle:void 0,title:void 0},subtitle:"para continuar a {{applicationName}}",subtitleCombined:void 0,title:"Entrar",titleCombined:void 0},totpMfa:{formTitle:"Código de verificación",subtitle:"Introduce el código que te enviamos a tu dispositivo",title:"Verificación de dos pasos"}},signInEnterPasswordTitle:"Ingresa tu contraseña",signUp:{alternativePhoneCodeProvider:{resendButton:void 0,subtitle:void 0,title:void 0},continue:{actionLink:"Entrar",actionText:"¿Tiene una cuenta?",subtitle:"para continuar a {{applicationName}}",title:"Rellene los campos que faltan"},emailCode:{formSubtitle:"Introduzca el código de verificación enviado a su correo electrónico",formTitle:"Código de verificación",resendButton:"Re-enviar código",subtitle:"para continuar a {{applicationName}}",title:"Verifique su correo electrónico"},emailLink:{clientMismatch:{subtitle:"Parece que no estás usando el dispositivo correcto para verificar tu cuenta.",title:"Error de dispositivo"},formSubtitle:"Utilice el enlace de verificación enviado a su dirección de correo electrónico",formTitle:"Enlace de verificación",loading:{title:"Registrando..."},resendButton:"Reenviar enlace",subtitle:"para continuar a {{applicationName}}",title:"Verifica tu correo electrónico",verified:{title:"Registrado con éxito"},verifiedSwitchTab:{subtitle:"Regrese a la pestaña recién abierta para continuar",subtitleNewTab:"Volver a la pestaña anterior para continuar",title:"Correo electrónico verificado con éxito"}},legalConsent:{checkbox:{label__onlyPrivacyPolicy:"He leído y acepto la Política de Privacidad",label__onlyTermsOfService:"He leído y acepto los Términos de Servicio",label__termsOfServiceAndPrivacyPolicy:'He leído y acepto los {{ termsOfServiceLink || link("Términos de Servicio") }} y la {{ privacyPolicyLink || link("Política de Privacidad") }}'},continue:{subtitle:"Al continuar, aceptas las condiciones mencionadas.",title:"Por favor, acepta nuestros términos y políticas para continuar"}},phoneCode:{formSubtitle:"Introduzca el código de verificación enviado a su número de teléfono",formTitle:"Código de verificación",resendButton:"Re-enviar código",subtitle:"para continuar a {{applicationName}}",title:"Verifique su teléfono"},restrictedAccess:{actionLink:"Contáctanos para más información",actionText:"¿Tienes problemas? Obtén ayuda",blockButton__emailSupport:"Soporte por correo electrónico",blockButton__joinWaitlist:"Unirte a la lista de espera",subtitle:"El acceso a esta funcionalidad está restringido en este momento.",subtitleWaitlist:"Te has unido a la lista de espera. Nos pondremos en contacto contigo pronto.",title:"Acceso restringido"},start:{actionLink:"Iniciar sesión",actionLink__use_email:"Usar correo electrónico",actionLink__use_phone:"Usar teléfono",actionText:"¿Ya tienes una cuenta?",alternativePhoneCodeProvider:{actionLink:void 0,label:void 0,subtitle:void 0,title:void 0},subtitle:"para continuar en {{applicationName}}",subtitleCombined:"para continuar en {{applicationName}}",title:"Crea tu cuenta",titleCombined:"Crea tu cuenta"}},socialButtonsBlockButton:"Continuar con {{provider|titleize}}",socialButtonsBlockButtonManyInView:"{{provider|titleize}}",taskChooseOrganization:{chooseOrganization:{action__createOrganization:void 0,action__invitationAccept:void 0,action__suggestionsAccept:void 0,subtitle:void 0,suggestionsAcceptedLabel:void 0,title:void 0},createOrganization:{formButtonReset:void 0,formButtonSubmit:void 0,formFieldInputPlaceholder__name:void 0,formFieldInputPlaceholder__slug:void 0,formFieldLabel__name:void 0,formFieldLabel__slug:void 0,subtitle:void 0,title:void 0},signOut:{actionLink:void 0,actionText:void 0}},unstable__errors:{already_a_member_in_organization:"{{email}} ya es miembro de la organización.",captcha_invalid:"Registro fallido debido a validaciones de seguridad fallidas. Por favor, actualice la página para intentarlo de nuevo o comuníquese con el soporte para más asistencia.",captcha_unavailable:"Registro fallido debido a una validación de bot fallida. Por favor, actualice la página para intentarlo de nuevo o comuníquese con el soporte para más asistencia.",form_code_incorrect:"El código ingresado es incorrecto.",form_identifier_exists__email_address:"Ya existe una cuenta con esta dirección de correo electrónico.",form_identifier_exists__phone_number:"Ya existe una cuenta con este número de teléfono.",form_identifier_exists__username:"Ya existe una cuenta con este nombre de usuario.",form_identifier_not_found:"No se ha encontrado ninguna cuenta con este identificador.",form_param_format_invalid:"Formato de parámetro inválido.",form_param_format_invalid__email_address:"La dirección de correo electrónico debe ser una dirección de correo electrónico válida.",form_param_format_invalid__phone_number:"El número de teléfono debe estar en un formato internacional válido.",form_param_max_length_exceeded__first_name:"El nombre no debe exceder los 256 caracteres.",form_param_max_length_exceeded__last_name:"El apellido no debe exceder los 256 caracteres.",form_param_max_length_exceeded__name:"El nombre no debe exceder los 256 caracteres.",form_param_nil:"Este campo es obligatorio.",form_param_type_invalid:void 0,form_param_type_invalid__email_address:void 0,form_param_type_invalid__phone_number:void 0,form_param_value_invalid:"Valor inválido.",form_password_incorrect:"Contraseña incorrecta.",form_password_length_too_short:"La contraseña es demasiado corta.",form_password_not_strong_enough:"Tu contraseña no es lo suficientemente fuerte.",form_password_pwned:"Tu contraseña ha sido comprometida en una violación de seguridad.",form_password_pwned__sign_in:"La contraseña ya está en uso en otro servicio.",form_password_size_in_bytes_exceeded:"Tu contraseña ha excedido el número máximo de bytes permitidos, por favor acórtala o elimina algunos caracteres especiales.",form_password_validation_failed:"La validación de la contraseña falló.",form_username_invalid_character:"El nombre de usuario contiene caracteres inválidos.",form_username_invalid_length:"El nombre de usuario debe tener entre 3 y 20 caracteres.",identification_deletion_failed:"No puedes eliminar tu última identificación.",not_allowed_access:"La dirección de correo electrónico o el número de teléfono no está permitido para registrarse. Esto puede deberse al uso de '+', '=', '#' o '.' en tu dirección de correo electrónico, el uso de un dominio conectado a un servicio de correo electrónico temporal o la exclusión explícita. Si cree que se trata de un error, póngase en contacto con el soporte.",organization_domain_blocked:"Este es un dominio bloqueado, por favor usa otro.",organization_domain_common:"Este es un dominio común, por favor usa otro.",organization_domain_exists_for_enterprise_connection:void 0,organization_membership_quota_exceeded:"Has alcanzado tu límite de miembros de la organización, incluyendo invitaciones pendientes.",organization_minimum_permissions_needed:"Es necesario que haya al menos un miembro de la organización con los permisos mínimos necesarios.",organization_not_found_or_unauthorized:void 0,organization_not_found_or_unauthorized_with_create_organization_disabled:void 0,passkey_already_exists:"Ya existe una clave de acceso.",passkey_not_supported:"Las claves de acceso no son compatibles.",passkey_pa_not_supported:"La clave de acceso no es compatible con la autenticación de dispositivos.",passkey_registration_cancelled:"El registro de la clave de acceso fue cancelado.",passkey_retrieval_cancelled:"La recuperación de la clave de acceso fue cancelada.",passwordComplexity:{maximumLength:"Menos de {{length}} caracteres",minimumLength:"{{length}} caracteres o más",requireLowercase:"Al menos una letra minúscula",requireNumbers:"Al menos un número",requireSpecialCharacter:"Al menos un carácter especial",requireUppercase:"Al menos una letra mayúscula",sentencePrefix:"Tu contraseña debe contener:"},phone_number_exists:"Este número de teléfono ya está en uso. Por favor, inténtelo con otro.",session_exists:"Ya has iniciado sesión",web3_missing_identifier:void 0,zxcvbn:{couldBeStronger:void 0,goodPassword:void 0,notEnough:void 0,suggestions:{allUppercase:void 0,anotherWord:void 0,associatedYears:void 0,capitalization:void 0,dates:void 0,l33t:void 0,longerKeyboardPattern:void 0,noNeed:void 0,pwned:void 0,recentYears:void 0,repeated:void 0,reverseWords:void 0,sequences:void 0,useWords:void 0},warnings:{common:void 0,commonNames:void 0,dates:void 0,extendedRepeat:void 0,keyPattern:void 0,namesByThemselves:void 0,pwned:void 0,recentYears:void 0,sequences:void 0,similarToCommon:void 0,simpleRepeat:void 0,straightRow:void 0,topHundred:void 0,topTen:void 0,userInputs:void 0,wordByItself:void 0}}},userButton:{action__addAccount:"Añadir cuenta",action__manageAccount:"Administrar cuenta",action__signOut:"Cerrar sesión",action__signOutAll:"Salir de todas las cuentas"},userProfile:{apiKeysPage:{title:void 0},backupCodePage:{actionLabel__copied:"¡Copiado!",actionLabel__copy:"Copiar todo",actionLabel__download:"Descargar .txt",actionLabel__print:"Imprimir",infoText1:"Se habilitarán códigos de respaldo para esta cuenta.",infoText2:"Mantenga los códigos de respaldo en secreto y guárdelos de forma segura. Puede regenerar códigos de respaldo si sospecha que se han visto comprometidos.",subtitle__codelist:"Guárdelos de forma segura y manténgalos en secreto.",successMessage:"Los códigos de respaldo ahora están habilitados. Puede usar uno de estos para iniciar sesión en su cuenta, si pierde el acceso a su dispositivo de autenticación. Cada código solo se puede utilizar una vez.",successSubtitle:"Puede usar uno de estos para iniciar sesión en su cuenta, si pierde el acceso a su dispositivo de autenticación.",title:"Agregar verificación de código de respaldo",title__codelist:"Códigos de respaldo"},billingPage:{paymentHistorySection:{empty:void 0,notFound:void 0,tableHeader__amount:void 0,tableHeader__date:void 0,tableHeader__status:void 0},paymentSourcesSection:{actionLabel__default:void 0,actionLabel__remove:void 0,add:void 0,addSubtitle:void 0,cancelButton:void 0,formButtonPrimary__add:void 0,formButtonPrimary__pay:void 0,payWithTestCardButton:void 0,removeResource:{messageLine1:void 0,messageLine2:void 0,successMessage:void 0,title:void 0},title:void 0},start:{headerTitle__payments:void 0,headerTitle__plans:void 0,headerTitle__statements:void 0,headerTitle__subscriptions:void 0},statementsSection:{empty:void 0,itemCaption__paidForPlan:void 0,itemCaption__proratedCredit:void 0,itemCaption__subscribedAndPaidForPlan:void 0,notFound:void 0,tableHeader__amount:void 0,tableHeader__date:void 0,title:void 0,totalPaid:void 0},subscriptionsListSection:{actionLabel__manageSubscription:void 0,actionLabel__newSubscription:void 0,actionLabel__switchPlan:void 0,tableHeader__edit:void 0,tableHeader__plan:void 0,tableHeader__startDate:void 0,title:void 0},subscriptionsSection:{actionLabel__default:void 0},switchPlansSection:{title:void 0},title:void 0},connectedAccountPage:{formHint:"Seleccione un proveedor para conectar su cuenta.",formHint__noAccounts:"No hay proveedores de cuentas externas disponibles.",removeResource:{messageLine1:"{{identifier}} será eliminado de esta cuenta.",messageLine2:"Ya no podrá usar esta cuenta activa y las funciones dependientes ya no funcionarán.",successMessage:"{{connectedAccount}} ha sido eliminado de su cuenta.",title:"Eliminar cuenta conectada"},socialButtonsBlockButton:"Conectar cuenta de {{provider | titleize}}",successMessage:"El proveedor ha sido agregado a su cuenta",title:"Agregar cuenta conectada"},deletePage:{actionDescription:'Escribe "Eliminar cuenta" a continuación para continuar.',confirm:"Eliminar cuenta",messageLine1:"¿Estás seguro de que quieres eliminar tu cuenta de Clerk? Por favor, contacta al propietario de la aplicación para eliminar tu información de su aplicación y otros servicios.",messageLine2:"Esta acción es permanente e irreversible.",title:"Eliminar cuenta"},emailAddressPage:{emailCode:{formHint:"A esta dirección de correo electrónico se le enviará un correo electrónico con un Código de verificación.",formSubtitle:"Introduzca el código de verificación enviado a {{identifier}}",formTitle:"Código de verificación",resendButton:"Re-enviar código",successMessage:"El correo electrónico {{identifier}} se ha agregado a su cuenta."},emailLink:{formHint:"Se enviará un correo electrónico con un enlace de verificación a esta dirección de correo electrónico.",formSubtitle:"Haga clic en el enlace de verificación en el correo electrónico enviado a {{identifier}}",formTitle:"Enlace de verificación",resendButton:"Reenviar enlace",successMessage:"El correo electrónico {{identifier}} se ha agregado a su cuenta."},enterpriseSSOLink:{formButton:void 0,formSubtitle:void 0},formHint:void 0,removeResource:{messageLine1:"{{identifier}} será eliminado de esta cuenta.",messageLine2:"Ya no podrá iniciar sesión con esta dirección de correo electrónico.",successMessage:"{{emailAddress}} ha sido eliminado de su cuenta.",title:"Eliminar dirección de correo electrónico"},title:"Agregar dirección de correo electrónico",verifyTitle:"Verificar correo electrónico"},formButtonPrimary__add:"Agregar",formButtonPrimary__continue:"Continuar",formButtonPrimary__finish:"Terminar",formButtonPrimary__remove:"Eliminar",formButtonPrimary__save:"Guardar",formButtonReset:"Cancelar",mfaPage:{formHint:"Seleccione un método para agregar.",title:"Agregar verificación en dos pasos"},mfaPhoneCodePage:{backButton:"Usar número existente",primaryButton__addPhoneNumber:"Agregar un número de teléfono",removeResource:{messageLine1:"{{identifier}} dejará de recibir el Código de verificación al iniciar sesión.",messageLine2:"Es posible que su cuenta no sea tan segura. ¿Estás seguro de que quieres continuar?",successMessage:"Se eliminó la verificación de dos pasos del código SMS para {{mfaPhoneCode}}",title:"Eliminar la verificación en dos pasos"},subtitle__availablePhoneNumbers:"Seleccione un número de teléfono para registrarse para la verificación en dos pasos del código SMS.",subtitle__unavailablePhoneNumbers:"No hay números de teléfono disponibles para registrarse para la verificación en dos pasos del código SMS.",successMessage1:"Al iniciar sesión, deberá ingresar un código de verificación enviado a este número de teléfono como un paso adicional.",successMessage2:"Guarde estos códigos de respaldo y almacénelos en un lugar seguro. Si pierde el acceso a su dispositivo de autenticación, puede usar los códigos de respaldo para iniciar sesión.",successTitle:"Verificación de código SMS habilitada",title:"Agregar verificación de código SMS"},mfaTOTPPage:{authenticatorApp:{buttonAbleToScan__nonPrimary:"Escanea el código QR en su lugar",buttonUnableToScan__nonPrimary:"¿No puedes escanear el código QR?",infoText__ableToScan:"Configure un nuevo método de inicio de sesión en su aplicación de autenticación y escanee el siguiente código QR para vincularlo a su cuenta.",infoText__unableToScan:"Configure un nuevo método de inicio de sesión en su autenticador e ingrese la clave que se proporciona a continuación.",inputLabel__unableToScan1:"Asegúrese de que las contraseñas basadas en el tiempo o de un solo uso estén habilitadas, luego termine de vincular su cuenta.",inputLabel__unableToScan2:"Alternativamente, si su autenticador admite TOTP URIs, también puede copiar el URI completo."},removeResource:{messageLine1:"El código de verificación de este autenticador ya no será necesario al iniciar sesión.",messageLine2:"Es posible que su cuenta no sea tan segura. ¿Estás seguro de que quieres continuar?",successMessage:"Se eliminó la verificación en dos pasos a través de la aplicación de autenticación.",title:"Eliminar la verificación en dos pasos"},successMessage:"La verificación en dos pasos ahora está habilitada. Al iniciar sesión, deberá ingresar un código de verificación de este autenticador como un paso adicional.",title:"Agregar aplicación de autenticación",verifySubtitle:"Ingrese el código de verificación generado por su autenticador",verifyTitle:"Código de verificación"},mobileButton__menu:"Menú",navbar:{account:"Perfil",apiKeys:void 0,billing:void 0,description:"Gestiona la información de tu cuenta.",security:"Seguridad",title:"Cuenta"},passkeyScreen:{removeResource:{messageLine1:"¿Estás seguro de que deseas eliminar este recurso?",title:"Eliminar Recurso"},subtitle__rename:"Ingresa el nuevo nombre para la clave de acceso.",title__rename:"Renombrar Clave de Acceso"},passwordPage:{checkboxInfoText__signOutOfOtherSessions:"Se recomienda cerrar sesión en todos los demás dispositivos que puedan haber usado su contraseña anterior.",readonly:"Su contraseña actualmente no puede ser editada porque solo puede iniciar sesión a través de la conexión empresarial.",successMessage__set:"Su contraseña ha sido establecida.",successMessage__signOutOfOtherSessions:"Todos los demás dispositivos han cerrado sesión.",successMessage__update:"Tu contraseña ha sido actualizada.",title__set:"Configurar la clave",title__update:"Cambiar contraseña"},phoneNumberPage:{infoText:"Se enviará un mensaje de texto con un enlace de verificación a este número de teléfono.",removeResource:{messageLine1:"{{identifier}} será eliminado de esta cuenta.",messageLine2:"Ya no podrá iniciar sesión con este número de teléfono.",successMessage:"{{phoneNumber}} ha sido eliminado de su cuenta.",title:"Eliminar número de teléfono"},successMessage:"{{identifier}} ha sido añadido a tu cuenta.",title:"Agregar el número de teléfono",verifySubtitle:"Introduzca el código de verificación enviado a {{identifier}}",verifyTitle:"Verificar número de teléfono"},plansPage:{title:void 0},profilePage:{fileDropAreaHint:"Cargue una imagen JPG, PNG, GIF o WEBP de menos de 10 MB",imageFormDestructiveActionSubtitle:"Eliminar la imagen",imageFormSubtitle:"Cargar imagen",imageFormTitle:"Imagen de perfil",readonly:"La información de su perfil ha sido proporcionada por la conexión empresarial y no puede ser editada.",successMessage:"Tu perfil ha sido actualizado.",title:"Actualizar Cuenta"},start:{activeDevicesSection:{destructiveAction:"Cerrar sesión en el dispositivo",title:"Dispositivos activos"},connectedAccountsSection:{actionLabel__connectionFailed:"Inténtelo nuevamente",actionLabel__reauthorize:"Autorizar ahora",destructiveActionTitle:"Quitar",primaryButton:"Conectar cuenta",subtitle__disconnected:void 0,subtitle__reauthorize:"Los permisos necesarios han sido actualizados, y podría estar experimentando funcionalidad limitada. Por favor, reautorice esta aplicación para evitar problemas.",title:"Cuentas conectadas"},dangerSection:{deleteAccountButton:"Eliminar cuenta",title:"Eliminar cuenta"},emailAddressesSection:{destructiveAction:"Eliminar dirección de correo electrónico",detailsAction__nonPrimary:"Establecer como primario",detailsAction__primary:"Completar la verificación",detailsAction__unverified:"Completar la verificación",primaryButton:"Agregar una dirección de correo electrónico",title:"Correos electrónicos"},enterpriseAccountsSection:{title:"Cuentas empresariales"},headerTitle__account:"Cuenta",headerTitle__security:"Seguridad",mfaSection:{backupCodes:{actionLabel__regenerate:"Regenerar códigos",headerTitle:"Códigos de respaldo",subtitle__regenerate:"Obtenga un nuevo conjunto de códigos de respaldo seguros. Los códigos de respaldo anteriores se eliminarán y no podrán ser usados.",title__regenerate:"Regenerar códigos de respaldo"},phoneCode:{actionLabel__setDefault:"Establecer por defecto",destructiveActionLabel:"Eliminar número telefónico"},primaryButton:"Añadir verificación de dos pasos",title:"Verificación de dos pasos",totp:{destructiveActionTitle:"Eliminar",headerTitle:"Aplicación de autenticación"}},passkeysSection:{menuAction__destructive:"Eliminar Clave de Acceso",menuAction__rename:"Renombrar Clave de Acceso",primaryButton:void 0,title:"Sección de Claves de Acceso"},passwordSection:{primaryButton__setPassword:"Establecer contraseña",primaryButton__updatePassword:"Cambiar contraseña",title:"Contraseña"},phoneNumbersSection:{destructiveAction:"Quitar número de teléfono",detailsAction__nonPrimary:"Establecer como primario",detailsAction__primary:"Completar la verificación",detailsAction__unverified:"Completar la verificación",primaryButton:"Agregar un número de teléfono",title:"Números telefónicos"},profileSection:{primaryButton:"Actualizar perfil",title:"Perfil"},usernameSection:{primaryButton__setUsername:"Crear nombre de usuario",primaryButton__updateUsername:"Cambiar nombre de usuario",title:"Nombre de usuario"},web3WalletsSection:{destructiveAction:"Quitar cartera",detailsAction__nonPrimary:void 0,primaryButton:"Agregar cartera Web3",title:"Cartera Web3"}},usernamePage:{successMessage:"Su nombre de usuario ha sido actualizado.",title__set:"Actualizar nombre de usuario",title__update:"Actualizar nombre de usuario"},web3WalletPage:{removeResource:{messageLine1:"{{identifier}} será eliminado de esta cuenta.",messageLine2:"Ya no podrá iniciar sesión con esta billetera web3.",successMessage:"{{web3Wallet}} ha sido eliminado de su cuenta.",title:"Eliminar la billetera web3"},subtitle__availableWallets:"Seleccione una billetera web3 para conectarse a su cuenta.",subtitle__unavailableWallets:"No hay billeteras web3 disponibles.",successMessage:"La billetera ha sido agregada a su cuenta.",title:"Añadir billetera Web3",web3WalletButtonsBlockButton:"Conectar billetera"}},waitlist:{start:{actionLink:"¡Únete a la lista de espera!",actionText:"Si no tienes acceso, puedes unirte a nuestra lista de espera para recibir una invitación más adelante.",formButton:"Unirse ahora",subtitle:"Sé uno de los primeros en acceder a {{applicationName}}.",title:"Únete a la lista de espera"},success:{message:"¡Felicidades! Te has unido exitosamente a la lista de espera.",subtitle:"Recibirás una invitación para unirte cuando haya espacio disponible.",title:"¡Te has unido a la lista de espera!"}}},Uo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},j2={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Pn,uf,_0,_2=(_0=class{constructor(){V(this,Pn,j2);V(this,uf,!1)}setTimeoutProvider(e){D(this,Pn,e)}setTimeout(e,t){return C(this,Pn).setTimeout(e,t)}clearTimeout(e){C(this,Pn).clearTimeout(e)}setInterval(e,t){return C(this,Pn).setInterval(e,t)}clearInterval(e){C(this,Pn).clearInterval(e)}},Pn=new WeakMap,uf=new WeakMap,_0),ws=new _2;function N2(e){setTimeout(e,0)}var zs=typeof window>"u"||"Deno"in globalThis;function Ot(){}function S2(e,t){return typeof e=="function"?e(t):e}function Fh(e){return typeof e=="number"&&e>=0&&e!==1/0}function Xv(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Qn(e,t){return typeof e=="function"?e(t):e}function er(e,t){return typeof e=="function"?e(t):e}function Wg(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==mm(o,t.options))return!1}else if(!co(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function qg(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(lo(t.options.mutationKey)!==lo(i))return!1}else if(!co(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function mm(e,t){return((t==null?void 0:t.queryKeyHashFn)||lo)(e)}function lo(e){return JSON.stringify(e,(t,r)=>Mh(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function co(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>co(e[r],t[r])):!1}var E2=Object.prototype.hasOwnProperty;function Zv(e,t){if(e===t)return e;const r=Hg(e)&&Hg(t);if(!r&&!(Mh(e)&&Mh(t)))return t;const s=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),o=i.length,l=r?new Array(o):{};let c=0;for(let d=0;d<o;d++){const u=r?d:i[d],h=e[u],f=t[u];if(h===f){l[u]=h,(r?d<s:E2.call(e,u))&&c++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){l[u]=f;continue}const g=Zv(h,f);l[u]=g,g===h&&c++}return s===o&&c===s?e:l}function Lh(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Hg(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Mh(e){if(!Vg(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Vg(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Vg(e){return Object.prototype.toString.call(e)==="[object Object]"}function P2(e){return new Promise(t=>{ws.setTimeout(t,e)})}function Uh(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Zv(e,t):t}function C2(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function T2(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var pm=Symbol();function eb(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===pm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function R2(e,t){return typeof e=="function"?e(...t):!!e}var ks,Cn,Na,N0,A2=(N0=class extends Uo{constructor(){super();V(this,ks,void 0);V(this,Cn,void 0);V(this,Na,void 0);D(this,Na,t=>{if(!zs&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){C(this,Cn)||this.setEventListener(C(this,Na))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,Cn))==null||t.call(this),D(this,Cn,void 0))}setEventListener(t){var r;D(this,Na,t),(r=C(this,Cn))==null||r.call(this),D(this,Cn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){C(this,ks)!==t&&(D(this,ks,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof C(this,ks)=="boolean"?C(this,ks):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ks=new WeakMap,Cn=new WeakMap,Na=new WeakMap,N0),gm=new A2;function Dh(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var O2=N2;function I2(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=O2;const i=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var dt=I2(),Sa,Tn,Ea,S0,F2=(S0=class extends Uo{constructor(){super();V(this,Sa,!0);V(this,Tn,void 0);V(this,Ea,void 0);D(this,Ea,t=>{if(!zs&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){C(this,Tn)||this.setEventListener(C(this,Ea))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,Tn))==null||t.call(this),D(this,Tn,void 0))}setEventListener(t){var r;D(this,Ea,t),(r=C(this,Tn))==null||r.call(this),D(this,Tn,t(this.setOnline.bind(this)))}setOnline(t){C(this,Sa)!==t&&(D(this,Sa,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return C(this,Sa)}},Sa=new WeakMap,Tn=new WeakMap,Ea=new WeakMap,S0),Sc=new F2;function L2(e){return Math.min(1e3*2**e,3e4)}function tb(e){return(e??"online")==="online"?Sc.isOnline():!0}var zh=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function rb(e){let t=!1,r=0,n;const s=Dh(),i=()=>s.status!=="pending",o=m=>{var k;if(!i()){const x=new zh(m);f(x),(k=e.onCancel)==null||k.call(e,x)}},l=()=>{t=!0},c=()=>{t=!1},d=()=>gm.isFocused()&&(e.networkMode==="always"||Sc.isOnline())&&e.canRun(),u=()=>tb(e.networkMode)&&e.canRun(),h=m=>{i()||(n==null||n(),s.resolve(m))},f=m=>{i()||(n==null||n(),s.reject(m))},g=()=>new Promise(m=>{var k;n=x=>{(i()||d())&&m(x)},(k=e.onPause)==null||k.call(e)}).then(()=>{var m;n=void 0,i()||(m=e.onContinue)==null||m.call(e)}),y=()=>{if(i())return;let m;const k=r===0?e.initialPromise:void 0;try{m=k??e.fn()}catch(x){m=Promise.reject(x)}Promise.resolve(m).then(h).catch(x=>{var N;if(i())return;const p=e.retry??(zs?0:3),v=e.retryDelay??L2,b=typeof v=="function"?v(r,x):v,_=p===!0||typeof p=="number"&&r<p||typeof p=="function"&&p(r,x);if(t||!_){f(x);return}r++,(N=e.onFail)==null||N.call(e,r,x),P2(b).then(()=>d()?void 0:g()).then(()=>{t?f(x):y()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n==null||n(),s),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?y():g().then(y),s)}}var js,E0,nb=(E0=class{constructor(){V(this,js,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Fh(this.gcTime)&&D(this,js,ws.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(zs?1/0:5*60*1e3))}clearGcTimeout(){C(this,js)&&(ws.clearTimeout(C(this,js)),D(this,js,void 0))}},js=new WeakMap,E0),_s,Pa,Zt,Ns,st,xo,Ss,mr,Kr,P0,M2=(P0=class extends nb{constructor(t){super();V(this,mr);V(this,_s,void 0);V(this,Pa,void 0);V(this,Zt,void 0);V(this,Ns,void 0);V(this,st,void 0);V(this,xo,void 0);V(this,Ss,void 0);D(this,Ss,!1),D(this,xo,t.defaultOptions),this.setOptions(t.options),this.observers=[],D(this,Ns,t.client),D(this,Zt,C(this,Ns).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,D(this,_s,Kg(this.options)),this.state=t.state??C(this,_s),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=C(this,st))==null?void 0:t.promise}setOptions(t){if(this.options={...C(this,xo),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Kg(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),D(this,_s,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&C(this,Zt).remove(this)}setData(t,r){const n=Uh(this.state.data,t,this.options);return ue(this,mr,Kr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ue(this,mr,Kr).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=C(this,st))==null?void 0:n.promise;return(s=C(this,st))==null||s.cancel(t),r?r.then(Ot).catch(Ot):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(C(this,_s))}isActive(){return this.observers.some(t=>er(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===pm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Qn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Xv(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=C(this,st))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=C(this,st))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),C(this,Zt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(C(this,st)&&(C(this,Ss)?C(this,st).cancel({revert:!0}):C(this,st).cancelRetry()),this.scheduleGc()),C(this,Zt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ue(this,mr,Kr).call(this,{type:"invalidate"})}async fetch(t,r){var c,d,u,h,f,g,y,m,k,x,p,v;if(this.state.fetchStatus!=="idle"&&((c=C(this,st))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(C(this,st))return C(this,st).continueRetry(),C(this,st).promise}if(t&&this.setOptions(t),!this.options.queryFn){const b=this.observers.find(_=>_.options.queryFn);b&&this.setOptions(b.options)}const n=new AbortController,s=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(D(this,Ss,!0),n.signal)})},i=()=>{const b=eb(this.options,r),N=(()=>{const j={client:C(this,Ns),queryKey:this.queryKey,meta:this.meta};return s(j),j})();return D(this,Ss,!1),this.options.persister?this.options.persister(b,N,this):b(N)},l=(()=>{const b={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:C(this,Ns),state:this.state,fetchFn:i};return s(b),b})();(d=this.options.behavior)==null||d.onFetch(l,this),D(this,Pa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&ue(this,mr,Kr).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),D(this,st,rb({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:b=>{b instanceof zh&&b.revert&&this.setState({...C(this,Pa),fetchStatus:"idle"}),n.abort()},onFail:(b,_)=>{ue(this,mr,Kr).call(this,{type:"failed",failureCount:b,error:_})},onPause:()=>{ue(this,mr,Kr).call(this,{type:"pause"})},onContinue:()=>{ue(this,mr,Kr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const b=await C(this,st).start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),(g=(f=C(this,Zt).config).onSuccess)==null||g.call(f,b,this),(m=(y=C(this,Zt).config).onSettled)==null||m.call(y,b,this.state.error,this),b}catch(b){if(b instanceof zh){if(b.silent)return C(this,st).promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw ue(this,mr,Kr).call(this,{type:"error",error:b}),(x=(k=C(this,Zt).config).onError)==null||x.call(k,b,this),(v=(p=C(this,Zt).config).onSettled)==null||v.call(p,this.state.data,b,this),b}finally{this.scheduleGc()}}},_s=new WeakMap,Pa=new WeakMap,Zt=new WeakMap,Ns=new WeakMap,st=new WeakMap,xo=new WeakMap,Ss=new WeakMap,mr=new WeakSet,Kr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...sb(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return D(this,Pa,t.manual?s:void 0),s;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),dt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),C(this,Zt).notify({query:this,type:"updated",action:t})})},P0);function sb(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:tb(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Kg(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Rt,he,yo,wt,Es,Ca,Xr,Rn,vo,Ta,Ra,Ps,Cs,An,Aa,Ts,ji,bo,$h,wo,Bh,ko,Wh,jo,qh,_o,Hh,No,Vh,So,Kh,Oc,ab,C0,U2=(C0=class extends Uo{constructor(t,r){super();V(this,Ts);V(this,bo);V(this,wo);V(this,ko);V(this,jo);V(this,_o);V(this,No);V(this,So);V(this,Oc);V(this,Rt,void 0);V(this,he,void 0);V(this,yo,void 0);V(this,wt,void 0);V(this,Es,void 0);V(this,Ca,void 0);V(this,Xr,void 0);V(this,Rn,void 0);V(this,vo,void 0);V(this,Ta,void 0);V(this,Ra,void 0);V(this,Ps,void 0);V(this,Cs,void 0);V(this,An,void 0);V(this,Aa,new Set);this.options=r,D(this,Rt,t),D(this,Rn,null),D(this,Xr,Dh()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(C(this,he).addObserver(this),Qg(C(this,he),this.options)?ue(this,Ts,ji).call(this):this.updateResult(),ue(this,jo,qh).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Qh(C(this,he),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Qh(C(this,he),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ue(this,_o,Hh).call(this),ue(this,No,Vh).call(this),C(this,he).removeObserver(this)}setOptions(t){const r=this.options,n=C(this,he);if(this.options=C(this,Rt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof er(this.options.enabled,C(this,he))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ue(this,So,Kh).call(this),C(this,he).setOptions(this.options),r._defaulted&&!Lh(this.options,r)&&C(this,Rt).getQueryCache().notify({type:"observerOptionsUpdated",query:C(this,he),observer:this});const s=this.hasListeners();s&&Gg(C(this,he),n,this.options,r)&&ue(this,Ts,ji).call(this),this.updateResult(),s&&(C(this,he)!==n||er(this.options.enabled,C(this,he))!==er(r.enabled,C(this,he))||Qn(this.options.staleTime,C(this,he))!==Qn(r.staleTime,C(this,he)))&&ue(this,bo,$h).call(this);const i=ue(this,wo,Bh).call(this);s&&(C(this,he)!==n||er(this.options.enabled,C(this,he))!==er(r.enabled,C(this,he))||i!==C(this,An))&&ue(this,ko,Wh).call(this,i)}getOptimisticResult(t){const r=C(this,Rt).getQueryCache().build(C(this,Rt),t),n=this.createResult(r,t);return z2(this,n)&&(D(this,wt,n),D(this,Ca,this.options),D(this,Es,C(this,he).state)),n}getCurrentResult(){return C(this,wt)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&!this.options.experimental_prefetchInRender&&C(this,Xr).status==="pending"&&C(this,Xr).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,s))})}trackProp(t){C(this,Aa).add(t)}getCurrentQuery(){return C(this,he)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=C(this,Rt).defaultQueryOptions(t),n=C(this,Rt).getQueryCache().build(C(this,Rt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ue(this,Ts,ji).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),C(this,wt)))}createResult(t,r){var S;const n=C(this,he),s=this.options,i=C(this,wt),o=C(this,Es),l=C(this,Ca),d=t!==n?t.state:C(this,yo),{state:u}=t;let h={...u},f=!1,g;if(r._optimisticResults){const T=this.hasListeners(),I=!T&&Qg(t,r),z=T&&Gg(t,n,r,s);(I||z)&&(h={...h,...sb(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:y,errorUpdatedAt:m,status:k}=h;g=h.data;let x=!1;if(r.placeholderData!==void 0&&g===void 0&&k==="pending"){let T;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(T=i.data,x=!0):T=typeof r.placeholderData=="function"?r.placeholderData((S=C(this,Ra))==null?void 0:S.state.data,C(this,Ra)):r.placeholderData,T!==void 0&&(k="success",g=Uh(i==null?void 0:i.data,T,r),f=!0)}if(r.select&&g!==void 0&&!x)if(i&&g===(o==null?void 0:o.data)&&r.select===C(this,vo))g=C(this,Ta);else try{D(this,vo,r.select),g=r.select(g),g=Uh(i==null?void 0:i.data,g,r),D(this,Ta,g),D(this,Rn,null)}catch(T){D(this,Rn,T)}C(this,Rn)&&(y=C(this,Rn),g=C(this,Ta),m=Date.now(),k="error");const p=h.fetchStatus==="fetching",v=k==="pending",b=k==="error",_=v&&p,N=g!==void 0,P={status:k,fetchStatus:h.fetchStatus,isPending:v,isSuccess:k==="success",isError:b,isInitialLoading:_,isLoading:_,data:g,dataUpdatedAt:h.dataUpdatedAt,error:y,errorUpdatedAt:m,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:p,isRefetching:p&&!v,isLoadingError:b&&!N,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:b&&N,isStale:xm(t,r),refetch:this.refetch,promise:C(this,Xr),isEnabled:er(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const T=J=>{P.status==="error"?J.reject(P.error):P.data!==void 0&&J.resolve(P.data)},I=()=>{const J=D(this,Xr,P.promise=Dh());T(J)},z=C(this,Xr);switch(z.status){case"pending":t.queryHash===n.queryHash&&T(z);break;case"fulfilled":(P.status==="error"||P.data!==z.value)&&I();break;case"rejected":(P.status!=="error"||P.error!==z.reason)&&I();break}}return P}updateResult(){const t=C(this,wt),r=this.createResult(C(this,he),this.options);if(D(this,Es,C(this,he).state),D(this,Ca,this.options),C(this,Es).data!==void 0&&D(this,Ra,C(this,he)),Lh(r,t))return;D(this,wt,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!C(this,Aa).size)return!0;const o=new Set(i??C(this,Aa));return this.options.throwOnError&&o.add("error"),Object.keys(C(this,wt)).some(l=>{const c=l;return C(this,wt)[c]!==t[c]&&o.has(c)})};ue(this,Oc,ab).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ue(this,jo,qh).call(this)}},Rt=new WeakMap,he=new WeakMap,yo=new WeakMap,wt=new WeakMap,Es=new WeakMap,Ca=new WeakMap,Xr=new WeakMap,Rn=new WeakMap,vo=new WeakMap,Ta=new WeakMap,Ra=new WeakMap,Ps=new WeakMap,Cs=new WeakMap,An=new WeakMap,Aa=new WeakMap,Ts=new WeakSet,ji=function(t){ue(this,So,Kh).call(this);let r=C(this,he).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Ot)),r},bo=new WeakSet,$h=function(){ue(this,_o,Hh).call(this);const t=Qn(this.options.staleTime,C(this,he));if(zs||C(this,wt).isStale||!Fh(t))return;const n=Xv(C(this,wt).dataUpdatedAt,t)+1;D(this,Ps,ws.setTimeout(()=>{C(this,wt).isStale||this.updateResult()},n))},wo=new WeakSet,Bh=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(C(this,he)):this.options.refetchInterval)??!1},ko=new WeakSet,Wh=function(t){ue(this,No,Vh).call(this),D(this,An,t),!(zs||er(this.options.enabled,C(this,he))===!1||!Fh(C(this,An))||C(this,An)===0)&&D(this,Cs,ws.setInterval(()=>{(this.options.refetchIntervalInBackground||gm.isFocused())&&ue(this,Ts,ji).call(this)},C(this,An)))},jo=new WeakSet,qh=function(){ue(this,bo,$h).call(this),ue(this,ko,Wh).call(this,ue(this,wo,Bh).call(this))},_o=new WeakSet,Hh=function(){C(this,Ps)&&(ws.clearTimeout(C(this,Ps)),D(this,Ps,void 0))},No=new WeakSet,Vh=function(){C(this,Cs)&&(ws.clearInterval(C(this,Cs)),D(this,Cs,void 0))},So=new WeakSet,Kh=function(){const t=C(this,Rt).getQueryCache().build(C(this,Rt),this.options);if(t===C(this,he))return;const r=C(this,he);D(this,he,t),D(this,yo,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},Oc=new WeakSet,ab=function(t){dt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(C(this,wt))}),C(this,Rt).getQueryCache().notify({query:C(this,he),type:"observerResultsUpdated"})})},C0);function D2(e,t){return er(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Qg(e,t){return D2(e,t)||e.state.data!==void 0&&Qh(e,t,t.refetchOnMount)}function Qh(e,t,r){if(er(t.enabled,e)!==!1&&Qn(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&xm(e,t)}return!1}function Gg(e,t,r,n){return(e!==t||er(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&xm(e,r)}function xm(e,t){return er(t.enabled,e)!==!1&&e.isStaleByTime(Qn(t.staleTime,e))}function z2(e,t){return!Lh(e.getCurrentResult(),t)}function Jg(e){return{onFetch:(t,r)=>{var u,h,f,g,y;const n=t.options,s=(f=(h=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((g=t.state.data)==null?void 0:g.pages)||[],o=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let m=!1;const k=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},x=eb(t.options,t.fetchOptions),p=async(v,b,_)=>{if(m)return Promise.reject();if(b==null&&v.pages.length)return Promise.resolve(v);const j=(()=>{const I={client:t.client,queryKey:t.queryKey,pageParam:b,direction:_?"backward":"forward",meta:t.options.meta};return k(I),I})(),P=await x(j),{maxPages:S}=t.options,T=_?T2:C2;return{pages:T(v.pages,P,S),pageParams:T(v.pageParams,b,S)}};if(s&&i.length){const v=s==="backward",b=v?$2:Yg,_={pages:i,pageParams:o},N=b(n,_);l=await p(_,N,v)}else{const v=e??i.length;do{const b=c===0?o[0]??n.initialPageParam:Yg(n,l);if(c>0&&b==null)break;l=await p(l,b),c++}while(c<v)}return l};t.options.persister?t.fetchFn=()=>{var m,k;return(k=(m=t.options).persister)==null?void 0:k.call(m,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function Yg(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function $2(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Eo,Ar,kt,Rs,Or,vn,T0,B2=(T0=class extends nb{constructor(t){super();V(this,Or);V(this,Eo,void 0);V(this,Ar,void 0);V(this,kt,void 0);V(this,Rs,void 0);D(this,Eo,t.client),this.mutationId=t.mutationId,D(this,kt,t.mutationCache),D(this,Ar,[]),this.state=t.state||W2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){C(this,Ar).includes(t)||(C(this,Ar).push(t),this.clearGcTimeout(),C(this,kt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){D(this,Ar,C(this,Ar).filter(r=>r!==t)),this.scheduleGc(),C(this,kt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){C(this,Ar).length||(this.state.status==="pending"?this.scheduleGc():C(this,kt).remove(this))}continue(){var t;return((t=C(this,Rs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,d,u,h,f,g,y,m,k,x,p,v,b,_,N,j,P,S;const r=()=>{ue(this,Or,vn).call(this,{type:"continue"})},n={client:C(this,Eo),meta:this.options.meta,mutationKey:this.options.mutationKey};D(this,Rs,rb({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(T,I)=>{ue(this,Or,vn).call(this,{type:"failed",failureCount:T,error:I})},onPause:()=>{ue(this,Or,vn).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>C(this,kt).canRun(this)}));const s=this.state.status==="pending",i=!C(this,Rs).canStart();try{if(s)r();else{ue(this,Or,vn).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=C(this,kt).config).onMutate)==null?void 0:l.call(o,t,this,n));const I=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,t,n));I!==this.state.context&&ue(this,Or,vn).call(this,{type:"pending",context:I,variables:t,isPaused:i})}const T=await C(this,Rs).start();return await((h=(u=C(this,kt).config).onSuccess)==null?void 0:h.call(u,T,t,this.state.context,this,n)),await((g=(f=this.options).onSuccess)==null?void 0:g.call(f,T,t,this.state.context,n)),await((m=(y=C(this,kt).config).onSettled)==null?void 0:m.call(y,T,null,this.state.variables,this.state.context,this,n)),await((x=(k=this.options).onSettled)==null?void 0:x.call(k,T,null,t,this.state.context,n)),ue(this,Or,vn).call(this,{type:"success",data:T}),T}catch(T){try{throw await((v=(p=C(this,kt).config).onError)==null?void 0:v.call(p,T,t,this.state.context,this,n)),await((_=(b=this.options).onError)==null?void 0:_.call(b,T,t,this.state.context,n)),await((j=(N=C(this,kt).config).onSettled)==null?void 0:j.call(N,void 0,T,this.state.variables,this.state.context,this,n)),await((S=(P=this.options).onSettled)==null?void 0:S.call(P,void 0,T,t,this.state.context,n)),T}finally{ue(this,Or,vn).call(this,{type:"error",error:T})}}finally{C(this,kt).runNext(this)}}},Eo=new WeakMap,Ar=new WeakMap,kt=new WeakMap,Rs=new WeakMap,Or=new WeakSet,vn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),dt.batch(()=>{C(this,Ar).forEach(n=>{n.onMutationUpdate(t)}),C(this,kt).notify({mutation:this,type:"updated",action:t})})},T0);function W2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Zr,pr,Po,R0,q2=(R0=class extends Uo{constructor(t={}){super();V(this,Zr,void 0);V(this,pr,void 0);V(this,Po,void 0);this.config=t,D(this,Zr,new Set),D(this,pr,new Map),D(this,Po,0)}build(t,r,n){const s=new B2({client:t,mutationCache:this,mutationId:++tl(this,Po)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){C(this,Zr).add(t);const r=El(t);if(typeof r=="string"){const n=C(this,pr).get(r);n?n.push(t):C(this,pr).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(C(this,Zr).delete(t)){const r=El(t);if(typeof r=="string"){const n=C(this,pr).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&C(this,pr).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=El(t);if(typeof r=="string"){const n=C(this,pr).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=El(t);if(typeof r=="string"){const s=(n=C(this,pr).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){dt.batch(()=>{C(this,Zr).forEach(t=>{this.notify({type:"removed",mutation:t})}),C(this,Zr).clear(),C(this,pr).clear()})}getAll(){return Array.from(C(this,Zr))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>qg(r,n))}findAll(t={}){return this.getAll().filter(r=>qg(t,r))}notify(t){dt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return dt.batch(()=>Promise.all(t.map(r=>r.continue().catch(Ot))))}},Zr=new WeakMap,pr=new WeakMap,Po=new WeakMap,R0);function El(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Ir,A0,H2=(A0=class extends Uo{constructor(t={}){super();V(this,Ir,void 0);this.config=t,D(this,Ir,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??mm(s,r);let o=this.get(i);return o||(o=new M2({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){C(this,Ir).has(t.queryHash)||(C(this,Ir).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=C(this,Ir).get(t.queryHash);r&&(t.destroy(),r===t&&C(this,Ir).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){dt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return C(this,Ir).get(t)}getAll(){return[...C(this,Ir).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Wg(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Wg(t,n)):r}notify(t){dt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){dt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){dt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ir=new WeakMap,A0),De,On,In,Oa,Ia,Fn,Fa,La,O0,V2=(O0=class{constructor(e={}){V(this,De,void 0);V(this,On,void 0);V(this,In,void 0);V(this,Oa,void 0);V(this,Ia,void 0);V(this,Fn,void 0);V(this,Fa,void 0);V(this,La,void 0);D(this,De,e.queryCache||new H2),D(this,On,e.mutationCache||new q2),D(this,In,e.defaultOptions||{}),D(this,Oa,new Map),D(this,Ia,new Map),D(this,Fn,0)}mount(){tl(this,Fn)._++,C(this,Fn)===1&&(D(this,Fa,gm.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,De).onFocus())})),D(this,La,Sc.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,De).onOnline())})))}unmount(){var e,t;tl(this,Fn)._--,C(this,Fn)===0&&((e=C(this,Fa))==null||e.call(this),D(this,Fa,void 0),(t=C(this,La))==null||t.call(this),D(this,La,void 0))}isFetching(e){return C(this,De).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return C(this,On).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=C(this,De).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=C(this,De).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Qn(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return C(this,De).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=C(this,De).get(n.queryHash),i=s==null?void 0:s.state.data,o=S2(t,i);if(o!==void 0)return C(this,De).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return dt.batch(()=>C(this,De).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=C(this,De).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=C(this,De);dt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=C(this,De);return dt.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=dt.batch(()=>C(this,De).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Ot).catch(Ot)}invalidateQueries(e,t={}){return dt.batch(()=>(C(this,De).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=dt.batch(()=>C(this,De).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Ot)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Ot)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=C(this,De).build(this,t);return r.isStaleByTime(Qn(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ot).catch(Ot)}fetchInfiniteQuery(e){return e.behavior=Jg(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ot).catch(Ot)}ensureInfiniteQueryData(e){return e.behavior=Jg(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Sc.isOnline()?C(this,On).resumePausedMutations():Promise.resolve()}getQueryCache(){return C(this,De)}getMutationCache(){return C(this,On)}getDefaultOptions(){return C(this,In)}setDefaultOptions(e){D(this,In,e)}setQueryDefaults(e,t){C(this,Oa).set(lo(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...C(this,Oa).values()],r={};return t.forEach(n=>{co(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){C(this,Ia).set(lo(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...C(this,Ia).values()],r={};return t.forEach(n=>{co(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...C(this,In).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=mm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===pm&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...C(this,In).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){C(this,De).clear(),C(this,On).clear()}},De=new WeakMap,On=new WeakMap,In=new WeakMap,Oa=new WeakMap,Ia=new WeakMap,Fn=new WeakMap,Fa=new WeakMap,La=new WeakMap,O0),ib=w.createContext(void 0),ob=e=>{const t=w.useContext(ib);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},K2=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(ib.Provider,{value:e,children:t})),lb=w.createContext(!1),Q2=()=>w.useContext(lb);lb.Provider;function G2(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var J2=w.createContext(G2()),Y2=()=>w.useContext(J2),X2=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Z2=e=>{w.useEffect(()=>{e.clearReset()},[e])},eE=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||R2(r,[e.error,n])),tE=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},rE=(e,t)=>e.isLoading&&e.isFetching&&!t,nE=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Xg=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function sE(e,t,r){var h,f,g,y,m;const n=Q2(),s=Y2(),i=ob(r),o=i.defaultQueryOptions(e);(f=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,o),o._optimisticResults=n?"isRestoring":"optimistic",tE(o),X2(o,s),Z2(s);const l=!i.getQueryCache().get(o.queryHash),[c]=w.useState(()=>new t(i,o)),d=c.getOptimisticResult(o),u=!n&&e.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(k=>{const x=u?c.subscribe(dt.batchCalls(k)):Ot;return c.updateResult(),x},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),w.useEffect(()=>{c.setOptions(o)},[o,c]),nE(o,d))throw Xg(o,c,s);if(eE({result:d,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((y=(g=i.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||y.call(g,o,d),o.experimental_prefetchInRender&&!zs&&rE(d,n)){const k=l?Xg(o,c,s):(m=i.getQueryCache().get(o.queryHash))==null?void 0:m.promise;k==null||k.catch(Ot).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function cb(e,t){return sE(e,U2,t)}const aE="modulepreload",iE=function(e){return"/"+e},Zg={},Do=function(t,r,n){if(!r||r.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=iE(i),i in Zg)return;Zg[i]=!0;const o=i.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!n)for(let u=s.length-1;u>=0;u--){const h=s[u];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const d=document.createElement("link");if(d.rel=o?"stylesheet":aE,o||(d.as="script",d.crossOrigin=""),d.href=i,document.head.appendChild(d),o)return new Promise((u,h)=>{d.addEventListener("load",u),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};var oE=function(){return null};const lE=new V2({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3,retry:2,refetchOnWindowFocus:!1,refetchOnReconnect:!0},mutations:{retry:1}}}),Oe={products:{all:["products"],lists:()=>[...Oe.products.all,"list"],list:e=>[...Oe.products.lists(),e],details:()=>[...Oe.products.all,"detail"],detail:e=>[...Oe.products.details(),e],search:e=>[...Oe.products.all,"search",e]},reviews:{all:["reviews"],lists:()=>[...Oe.reviews.all,"list"],list:e=>[...Oe.reviews.lists(),e],stats:()=>[...Oe.reviews.all,"stats"],stat:e=>[...Oe.reviews.stats(),e]},user:{all:["user"],profile:e=>[...Oe.user.all,"profile",e],addresses:e=>[...Oe.user.all,"addresses",e],history:e=>[...Oe.user.all,"history",e],wishlist:e=>[...Oe.user.all,"wishlist",e]},orders:{all:["orders"],lists:()=>[...Oe.orders.all,"list"],list:e=>[...Oe.orders.lists(),e],details:()=>[...Oe.orders.all,"detail"],detail:e=>[...Oe.orders.details(),e]}},db={realtime:{staleTime:0,gcTime:1*60*1e3,refetchInterval:30*1e3},static:{staleTime:30*60*1e3,gcTime:60*60*1e3,refetchOnWindowFocus:!1},user:{staleTime:15*60*1e3,gcTime:30*60*1e3,refetchOnWindowFocus:!0}},ub=w.createContext(void 0),ns=()=>{const e=w.useContext(ub);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e},cE=({children:e})=>{const[t,r]=w.useState([]);w.useEffect(()=>{const f=localStorage.getItem("mercadillo-cart");if(f)try{r(JSON.parse(f))}catch(g){console.error("Error loading cart from localStorage:",g)}},[]),w.useEffect(()=>{localStorage.setItem("mercadillo-cart",JSON.stringify(t))},[t]);const n=(f,g=1)=>{r(y=>{const m=y.find(x=>x.producto.id===f.id),k=m?m.cantidad:0;if(k+g>f.stock){const x=f.stock-k;if(x<=0)return console.warn(`No hay más stock disponible para ${f.nombre}`),y;console.warn(`Solo se pueden agregar ${x} unidades de ${f.nombre}`),g=x}return m?y.map(x=>x.producto.id===f.id?{...x,cantidad:x.cantidad+g}:x):[...y,{producto:f,cantidad:g}]})},s=f=>{r(g=>g.filter(y=>y.producto.id!==f))},i=(f,g)=>{if(g<=0){s(f);return}r(y=>y.map(m=>{if(m.producto.id===f){const k=Math.min(g,m.producto.stock);return k!==g&&console.warn(`Stock limitado: solo hay ${m.producto.stock} unidades disponibles de ${m.producto.nombre}`),{...m,cantidad:k}}return m}))},o=()=>{r([])},l=()=>t.reduce((f,g)=>f+g.cantidad,0),c=()=>t.reduce((f,g)=>f+g.producto.precio*g.cantidad,0),d=()=>c()*.18,h={items:t,addToCart:n,removeFromCart:s,updateQuantity:i,clearCart:o,getTotalItems:l,getSubtotal:c,getIGV:d,getTotal:()=>c()+d()};return a.jsx(ub.Provider,{value:h,children:e})},dE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Do(()=>Promise.resolve().then(()=>Za),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class ym extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class uE extends ym{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class e0 extends ym{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class t0 extends ym{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Gh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Gh||(Gh={}));var hE=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class fE{constructor(t,{headers:r={},customFetch:n,region:s=Gh.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=dE(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return hE(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const h=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(m=>{throw new uE(m)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new e0(h);if(!h.ok)throw new t0(h);let g=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return g==="application/json"?y=yield h.json():g==="application/octet-stream"?y=yield h.blob():g==="text/event-stream"?y=h:g==="multipart/form-data"?y=yield h.formData():y=yield h.text(),{data:y,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof t0||s instanceof e0?s.context:void 0}}})}}var Ft={},vm={},ud={},zo={},hd={},fd={},mE=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ka=mE();const pE=Ka.fetch,hb=Ka.fetch.bind(Ka),fb=Ka.Headers,gE=Ka.Request,xE=Ka.Response,Za=Object.freeze(Object.defineProperty({__proto__:null,Headers:fb,Request:gE,Response:xE,default:hb,fetch:pE},Symbol.toStringTag,{value:"Module"})),yE=vw(Za);var md={};Object.defineProperty(md,"__esModule",{value:!0});let vE=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};md.default=vE;var mb=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fd,"__esModule",{value:!0});const bE=mb(yE),wE=mb(md);let kE=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=bE.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c,d;let u=null,h=null,f=null,g=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=p:h=JSON.parse(p))}const k=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),x=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");k&&x&&x.length>1&&(f=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,g=406,y="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const k=await i.text();try{u=JSON.parse(k),Array.isArray(u)&&i.status===404&&(h=[],u=null,g=200,y="OK")}catch{i.status===404&&k===""?(g=204,y="No Content"):u={message:k}}if(u&&this.isMaybeSingle&&(!((d=u==null?void 0:u.details)===null||d===void 0)&&d.includes("0 rows"))&&(u=null,g=200,y="OK"),u&&this.shouldThrowOnError)throw new wE.default(u)}return{error:u,data:h,count:f,status:g,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};fd.default=kE;var jE=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hd,"__esModule",{value:!0});const _E=jE(fd);let NE=class extends _E.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};hd.default=NE;var SE=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zo,"__esModule",{value:!0});const EE=SE(hd);let PE=class extends EE.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};zo.default=PE;var CE=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ud,"__esModule",{value:!0});const pi=CE(zo);let TE=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new pi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var s;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new pi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new pi.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new pi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new pi.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};ud.default=TE;var pb=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vm,"__esModule",{value:!0});const RE=pb(ud),AE=pb(zo);let OE=class gb{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new RE.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new gb(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let d;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{c.searchParams.append(h,f)})):(l="POST",d=r);const u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new AE.default({method:l,url:c,headers:u,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};vm.default=OE;var ei=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.PostgrestError=Ft.PostgrestBuilder=Ft.PostgrestTransformBuilder=Ft.PostgrestFilterBuilder=Ft.PostgrestQueryBuilder=Ft.PostgrestClient=void 0;const xb=ei(vm);Ft.PostgrestClient=xb.default;const yb=ei(ud);Ft.PostgrestQueryBuilder=yb.default;const vb=ei(zo);Ft.PostgrestFilterBuilder=vb.default;const bb=ei(hd);Ft.PostgrestTransformBuilder=bb.default;const wb=ei(fd);Ft.PostgrestBuilder=wb.default;const kb=ei(md);Ft.PostgrestError=kb.default;var IE=Ft.default={PostgrestClient:xb.default,PostgrestQueryBuilder:yb.default,PostgrestFilterBuilder:vb.default,PostgrestTransformBuilder:bb.default,PostgrestBuilder:wb.default,PostgrestError:kb.default};const{PostgrestClient:FE,PostgrestQueryBuilder:iT,PostgrestFilterBuilder:oT,PostgrestTransformBuilder:lT,PostgrestBuilder:cT,PostgrestError:dT}=IE;class LE{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const ME="2.15.5",UE=`realtime-js/${ME}`,DE="1.0.0",Jh=1e4,zE=1e3,$E=100;var Mi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Mi||(Mi={}));var Je;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Je||(Je={}));var yr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(yr||(yr={}));var Yh;(function(e){e.websocket="websocket"})(Yh||(Yh={}));var gs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(gs||(gs={}));class BE{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+i));o=o+i;const d=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class jb{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var _e;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(_e||(_e={}));const r0=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=WE(o,e,t,s),i),{})},WE=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?_b(i,o):Xh(o)},_b=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return KE(t,r)}switch(e){case _e.bool:return qE(t);case _e.float4:case _e.float8:case _e.int2:case _e.int4:case _e.int8:case _e.numeric:case _e.oid:return HE(t);case _e.json:case _e.jsonb:return VE(t);case _e.timestamp:return QE(t);case _e.abstime:case _e.date:case _e.daterange:case _e.int4range:case _e.int8range:case _e.money:case _e.reltime:case _e.text:case _e.time:case _e.timestamptz:case _e.timetz:case _e.tsrange:case _e.tstzrange:return Xh(t);default:return Xh(t)}},Xh=e=>e,qE=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},HE=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},VE=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},KE=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>_b(t,l))}return e},QE=e=>typeof e=="string"?e.replace(" ","T"):e,Nb=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class pu{constructor(t,r,n={},s=Jh){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var n0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(n0||(n0={}));class Ui{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ui.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Ui.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ui.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=i[d];if(h){const f=u.map(k=>k.presence_ref),g=h.map(k=>k.presence_ref),y=u.filter(k=>g.indexOf(k.presence_ref)<0),m=h.filter(k=>f.indexOf(k.presence_ref)<0);y.length>0&&(l[d]=y),m.length>0&&(c[d]=m)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const h=t[l].map(g=>g.presence_ref),f=u.filter(g=>h.indexOf(g.presence_ref)<0);t[l].unshift(...f)}n(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),t[l]=d,s(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var s0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(s0||(s0={}));var Di;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Di||(Di={}));var Jr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Jr||(Jr={}));class bm{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new pu(this,yr.join,this.params,this.timeout),this.rejoinTimer=new jb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Je.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(yr.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ui(this),this.broadcastEndpointURL=Nb(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Je.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,d=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[Di.PRESENCE]&&this.bindings[Di.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(Jr.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(Jr.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var y;if(this.socket.setAuth(),g===void 0){t==null||t(Jr.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,k=(y=m==null?void 0:m.length)!==null&&y!==void 0?y:0,x=[];for(let p=0;p<k;p++){const v=m[p],{filter:{event:b,schema:_,table:N,filter:j}}=v,P=g&&g[p];if(P&&P.event===b&&P.schema===_&&P.table===N&&P.filter===j)x.push(Object.assign(Object.assign({},v),{id:P.id}));else{this.unsubscribe(),this.state=Je.errored,t==null||t(Jr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Jr.SUBSCRIBED);return}}).receive("error",g=>{this.state=Je.errored,t==null||t(Jr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Jr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Je.joined&&t===Di.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Je.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(yr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new pu(this,yr.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Je.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new pu(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>$E){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=yr;if(n&&[l,c,d,u].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var y,m,k;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((k=(m=g.filter)===null||m===void 0?void 0:m.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(g=>g.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var y,m,k,x,p,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const b=g.id,_=(y=g.filter)===null||y===void 0?void 0:y.event;return b&&((m=r.ids)===null||m===void 0?void 0:m.includes(b))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const b=(p=(x=g==null?void 0:g.filter)===null||x===void 0?void 0:x.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return b==="*"||b===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:m,table:k,commit_timestamp:x,type:p,errors:v}=y;f=Object.assign(Object.assign({},{schema:m,table:k,commit_timestamp:x,eventType:p,new:{},old:{},errors:v}),this._getPayloadRecords(y))}g.callback(f,n)})}_isClosed(){return this.state===Je.closed}_isJoined(){return this.state===Je.joined}_isJoining(){return this.state===Je.joining}_isLeaving(){return this.state===Je.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&bm.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(yr.close,{},t)}_onError(t){this._on(yr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Je.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=r0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=r0(t.columns,t.old_record)),r}}const gu=()=>{},Pl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},GE=[1e3,2e3,5e3,1e4],JE=1e4,YE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class XE{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Jh,this.transport=null,this.heartbeatIntervalMs=Pl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=gu,this.ref=0,this.reconnectTimer=null,this.logger=gu,this.conn=null,this.sendBuffer=[],this.serializer=new BE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Do(()=>Promise.resolve().then(()=>Za),void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Yh.websocket}`,this.httpEndpoint=Nb(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=LE.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:DE}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Mi.connecting:return gs.Connecting;case Mi.open:return gs.Open;case Mi.closing:return gs.Closing;default:return gs.Closed}}isConnected(){return this.connectionState()===gs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new bm(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(zE,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Pl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(yr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([YE],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:UE};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(yr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new jb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Pl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,l,c,d,u;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Jh,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Pl.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:gu,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:h=>GE[h-1]||JE,this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(h,f)=>f(JSON.stringify(h)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class wm extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ye(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class ZE extends wm{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Zh extends wm{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var eP=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const Sb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Do(()=>Promise.resolve().then(()=>Za),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},tP=()=>eP(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Do(()=>Promise.resolve().then(()=>Za),void 0)).Response:Response}),ef=e=>{if(Array.isArray(e))return e.map(r=>ef(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=ef(n)}),t},rP=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var qs=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const xu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),nP=(e,t,r)=>qs(void 0,void 0,void 0,function*(){const n=yield tP();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new ZE(xu(s),i,o))}).catch(s=>{t(new Zh(xu(s),s))}):t(new Zh(xu(e),e))}),sP=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(rP(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function $o(e,t,r,n,s,i){return qs(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,sP(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>nP(c,l,n))})})}function Ec(e,t,r,n){return qs(this,void 0,void 0,function*(){return $o(e,"GET",t,r,n)})}function Rr(e,t,r,n,s){return qs(this,void 0,void 0,function*(){return $o(e,"POST",t,n,s,r)})}function tf(e,t,r,n,s){return qs(this,void 0,void 0,function*(){return $o(e,"PUT",t,n,s,r)})}function aP(e,t,r,n){return qs(this,void 0,void 0,function*(){return $o(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Eb(e,t,r,n,s){return qs(this,void 0,void 0,function*(){return $o(e,"DELETE",t,n,s,r)})}var bt=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const iP={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},a0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class oP{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Sb(s)}uploadOrUpdate(t,r,n,s){return bt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},a0),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),h=yield(t=="PUT"?tf:Rr)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(Ye(i))return{data:null,error:i};throw i}})}upload(t,r,n){return bt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return bt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:a0.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield tf(this.fetch,l.toString(),c,{headers:u});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(Ye(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return bt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Rr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new wm("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}update(t,r,n){return bt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return bt(this,void 0,void 0,function*(){try{return{data:yield Rr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}copy(t,r,n){return bt(this,void 0,void 0,function*(){try{return{data:{path:(yield Rr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return bt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Rr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return bt(this,void 0,void 0,function*(){try{const s=yield Rr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}download(t,r){return bt(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Ec(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Ye(l))return{data:null,error:l};throw l}})}info(t){return bt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ec(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ef(n),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}exists(t){return bt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield aP(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ye(n)&&n instanceof Zh){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(t){return bt(this,void 0,void 0,function*(){try{return{data:yield Eb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}list(t,r,n){return bt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},iP),r),{prefix:t||""});return{data:yield Rr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}listV2(t,r){return bt(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Rr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const lP="2.11.1",cP={"X-Client-Info":`storage-js/${lP}`};var Xs=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class dP{constructor(t,r={},n,s){const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},cP),r),this.fetch=Sb(n)}listBuckets(){return Xs(this,void 0,void 0,function*(){try{return{data:yield Ec(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ye(t))return{data:null,error:t};throw t}})}getBucket(t){return Xs(this,void 0,void 0,function*(){try{return{data:yield Ec(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Xs(this,void 0,void 0,function*(){try{return{data:yield Rr(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Xs(this,void 0,void 0,function*(){try{return{data:yield tf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Xs(this,void 0,void 0,function*(){try{return{data:yield Rr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Xs(this,void 0,void 0,function*(){try{return{data:yield Eb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}}class uP extends dP{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new oP(this.url,this.headers,t,this.fetch)}}const hP="2.57.2";let _i="";typeof Deno<"u"?_i="deno":typeof document<"u"?_i="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_i="react-native":_i="node";const fP={"X-Client-Info":`supabase-js-${_i}/${hP}`},mP={headers:fP},pP={schema:"public"},gP={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},xP={};var yP=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const vP=e=>{let t;return e?t=e:typeof fetch>"u"?t=hb:t=fetch,(...r)=>t(...r)},bP=()=>typeof Headers>"u"?fb:Headers,wP=(e,t,r)=>{const n=vP(r),s=bP();return(i,o)=>yP(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new s(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:d}))})};var kP=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};function jP(e){return e.endsWith("/")?e:e+"/"}function _P(e,t){var r,n;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:d,realtime:u,global:h}=t,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>kP(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const Pb="2.71.1",aa=30*1e3,rf=3,yu=rf*aa,NP="http://localhost:9999",SP="supabase.auth.token",EP={"X-Client-Info":`gotrue-js/${Pb}`},nf="X-Supabase-Api-Version",Cb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},PP=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,CP=10*60*1e3;class km extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function te(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class TP extends km{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function RP(e){return te(e)&&e.name==="AuthApiError"}class Tb extends km{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ss extends km{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class bn extends ss{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function AP(e){return te(e)&&e.name==="AuthSessionMissingError"}class Cl extends ss{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Tl extends ss{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Rl extends ss{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function OP(e){return te(e)&&e.name==="AuthImplicitGrantRedirectError"}class i0 extends ss{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class sf extends ss{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function vu(e){return te(e)&&e.name==="AuthRetryableFetchError"}class o0 extends ss{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class af extends ss{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),l0=` 	
\r=`.split(""),IP=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<l0.length;t+=1)e[l0[t].charCodeAt(0)]=-2;for(let t=0;t<Pc.length;t+=1)e[Pc[t].charCodeAt(0)]=t;return e})();function c0(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Pc[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Pc[n]),t.queuedBits-=6}}function Rb(e,t,r){const n=IP[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function d0(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{MP(o,n,r)};for(let o=0;o<e.length;o+=1)Rb(e.charCodeAt(o),s,i);return t.join("")}function FP(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function LP(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}FP(n,t)}}function MP(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function UP(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Rb(e.charCodeAt(s),r,n);return new Uint8Array(t)}function DP(e){const t=[];return LP(e,r=>t.push(r)),new Uint8Array(t)}function zP(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>c0(s,r,n)),c0(null,r,n),t.join("")}function $P(e){return Math.round(Date.now()/1e3)+e}function BP(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const hr=()=>typeof window<"u"&&typeof document<"u",cs={tested:!1,writable:!1},Ab=()=>{if(!hr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(cs.tested)return cs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),cs.tested=!0,cs.writable=!0}catch{cs.tested=!0,cs.writable=!1}return cs.writable};function WP(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Ob=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Do(()=>Promise.resolve().then(()=>Za),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},qP=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ia=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ds=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},pn=async(e,t)=>{await e.removeItem(t)};class pd{constructor(){this.promise=new pd.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}pd.promiseConstructor=Promise;function bu(e){const t=e.split(".");if(t.length!==3)throw new af("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!PP.test(t[n]))throw new af("JWT not in base64url format");return{header:JSON.parse(d0(t[0])),payload:JSON.parse(d0(t[1])),signature:UP(t[2]),raw:{header:t[0],payload:t[1]}}}async function HP(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function VP(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function KP(e){return("0"+e.toString(16)).substr(-2)}function QP(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,KP).join("")}async function GP(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function JP(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await GP(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Zs(e,t,r=!1){const n=QP();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await ia(e,`${t}-code-verifier`,s);const i=await JP(n);return[i,n===i?"plain":"s256"]}const YP=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function XP(e){const t=e.headers.get(nf);if(!t||!t.match(YP))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function ZP(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function eC(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const tC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ea(e){if(!tC.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function wu(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function u0(e){return JSON.parse(JSON.stringify(e))}var rC=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const fs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),nC=[502,503,504];async function h0(e){var t;if(!qP(e))throw new sf(fs(e),0);if(nC.includes(e.status))throw new sf(fs(e),e.status);let r;try{r=await e.json()}catch(i){throw new Tb(fs(i),i)}let n;const s=XP(e);if(s&&s.getTime()>=Cb["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new o0(fs(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new bn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new o0(fs(r),e.status,r.weak_password.reasons);throw new TP(fs(r),e.status||500,n)}const sC=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function oe(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[nf]||(i[nf]=Cb["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await aC(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function aC(e,t,r,n,s,i){const o=sC(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new sf(fs(c),0)}if(l.ok||await h0(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await h0(c)}}function Qr(e){var t;let r=null;cC(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=$P(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function f0(e){const t=Qr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function En(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function iC(e){return{data:e,error:null}}function oC(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=rC(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function lC(e){return e}function cC(e){return e.access_token&&e.refresh_token&&e.expires_in}const ku=["global","local","others"];var dC=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class uC{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Ob(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=ku[0]){if(ku.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ku.join(", ")}`);try{return await oe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:En})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=dC(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:oC,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(te(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await oe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:En})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:lC});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(y=>{const m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(y.split(";")[1].split("=")[1]);d[`${k}Page`]=m}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(te(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){ea(t);try{return await oe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:En})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ea(t);try{return await oe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:En})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ea(t);try{return await oe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:En})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ea(t.userId);try{const{data:r,error:n}=await oe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(te(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ea(t.userId),ea(t.id);try{return{data:await oe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}}function m0(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function hC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ta={debug:!!(globalThis&&Ab()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ib extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class fC extends Ib{}async function mC(e,t,r){ta.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ta.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){ta.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{ta.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw ta.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new fC(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ta.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}hC();const pC={url:NP,storageKey:SP,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:EP,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function p0(e,t,r){return await r()}const ra={};class uo{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=uo.nextInstanceID,uo.nextInstanceID+=1,this.instanceID>0&&hr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},pC),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new uC({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ob(s.fetch),this.lock=s.lock||p0,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:hr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=mC:this.lock=p0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Ab()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=m0(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=m0(this.memoryStorage)),hr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=ra[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ra[this.storageKey]=Object.assign(Object.assign({},ra[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ra[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ra[this.storageKey]=Object.assign(Object.assign({},ra[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Pb}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=WP(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),hr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),OP(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return te(r)?{error:r}:{error:new Tb("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Qr}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(te(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:u,password:h,options:f}=t;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Zs(this.storage,this.storageKey)),i=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:y},xform:Qr})}else if("phone"in t){const{phone:u,password:h,options:f}=t;i=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Qr})}else throw new Tl("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(te(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:f0})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:f0})}else throw new Tl("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Cl}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(te(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,o,l,c,d,u,h,f,g;let y,m;if("message"in t)y=t.message,m=t.signature;else{const{chain:k,wallet:x,statement:p,options:v}=t;let b;if(hr())if(typeof x=="object")b=x;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))b=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=x}const _=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const N=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),p?{statement:p}:null));let j;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")j=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)j=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)y=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),m=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${_.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(n=v==null?void 0:v.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((d=v==null?void 0:v.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((h=(u=v==null?void 0:v.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...v.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const N=await b.signMessage(new TextEncoder().encode(y),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=N}}try{const{data:k,error:x}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:zP(m)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Qr});if(x)throw x;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new Cl}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:x})}catch(k){if(te(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(t){const r=await ds(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Qr});if(await pn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Cl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(te(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Qr}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Cl}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(te(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Zs(this.storage,this.storageKey));const{error:h}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Tl("You must provide either an email or phone number.")}catch(l){if(te(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Qr});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(te(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Zs(this.storage,this.storageKey)),await oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:iC})}catch(i){if(te(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new bn;const{error:s}=await oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(te(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await oe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await oe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Tl("You must provide either an email or phone number and a type")}catch(r){if(te(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ds(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<yu:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await ds(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=wu()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:En}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new bn}:await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:En})})}catch(r){if(te(r))return AP(r)&&(await this._removeSession(),await pn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new bn;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Zs(this.storage,this.storageKey));const{data:d,error:u}=await oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:En});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new bn;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=bu(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(te(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new bn;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(te(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!hr())throw new Rl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Rl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new i0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Rl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new i0("No code detected.");const{data:p,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!o||!d)throw new Rl("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let f=u+h;c&&(f=parseInt(c));const g=f-u;g*1e3<=aa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const y=f-h;u-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,u):u-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,u);const{data:m,error:k}=await this._getUser(i);if(k)throw k;const x={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:d,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if(te(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ds(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(RP(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await pn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=BP(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Zs(this.storage,this.storageKey,!0));try{return await oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(te(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,d,u;const{data:h,error:f}=i;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await oe(this.fetch,"GET",g,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return hr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(te(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await oe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(te(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await VP(async s=>(s>0&&await HP(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Qr})),(s,i)=>{const o=200*Math.pow(2,s);return i&&vu(i)&&Date.now()+o-n<aa})}catch(n){if(this._debug(r,"error",n),te(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),hr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await ds(this.storage,this.storageKey);if(s&&this.userStorage){let o=await ds(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await ia(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:wu()}else if(s&&!s.user&&!s.user){const o=await ds(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await pn(this.storage,this.storageKey+"-user"),await ia(this.storage,this.storageKey,s)):s.user=wu()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<yu;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${yu}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),vu(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new bn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new pd;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new bn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),te(i)){const o={session:null,error:i};return vu(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ia(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=u0(s);await ia(this.storage,this.storageKey,i)}else{const s=u0(r);await ia(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await pn(this.storage,this.storageKey),await pn(this.storage,this.storageKey+"-code-verifier"),await pn(this.storage,this.storageKey+"-user"),this.userStorage&&await pn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&hr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),aa);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/aa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${aa}ms, refresh threshold is ${rf} ticks`),s<=rf&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Ib)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!hr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Zs(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await oe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(te(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await oe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(te(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(te(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(te(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=bu(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+CP>s)return n;const{data:i,error:o}=await oe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:g,error:y}=await this.getSession();if(y||!g.session)return{data:null,error:y};n=g.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=bu(n);r!=null&&r.allowExpired||ZP(i.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:i,header:s,signature:o},error:null}}const u=eC(s.alg),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,DP(`${l}.${c}`)))throw new af("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}}}uo.nextInstanceID=0;const gC=uo;class xC extends gC{constructor(t){super(t)}}var yC=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class vC{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=jP(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:pP,realtime:xP,auth:Object.assign(Object.assign({},gP),{storageKey:d}),global:mP},h=_P(n??{},u);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=wP(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new FE(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new uP(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new fE(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return yC(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:l,lock:c,debug:d},u,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new xC({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:l,lock:c,debug:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new XE(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Fb=(e,t,r)=>new vC(e,t,r);function bC(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}bC()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const wC=Fb("https://xwubnuokmfghtyyfpgtl.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh3dWJudW9rbWZnaHR5eWZwZ3RsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY5NTA3NTEsImV4cCI6MjA3MjUyNjc1MX0.H2x6CfC2z2ttnghuZvGpIdGlvUWlYy5GWjpR6Ok5SbA");class kC{constructor(t){el(this,"client");el(this,"currentUserId",null);this.client=t}setCurrentUser(t){this.currentUserId=t,console.log("SupabaseWithAuth: Usuario establecido:",t)}getCurrentUserId(){return this.currentUserId}from(t){const r=this.client.from(t);if(t==="direcciones_usuario"&&this.currentUserId){const n=r.insert.bind(r),s=r.select.bind(r),i=r.update.bind(r),o=r.delete.bind(r);return{...r,select:(l="*")=>s(l).eq("usuario_id",this.currentUserId),insert:l=>{const c=Array.isArray(l)?l.map(d=>({...d,usuario_id:this.currentUserId})):{...l,usuario_id:this.currentUserId};return n(c)},update:l=>i(l).eq("usuario_id",this.currentUserId),delete:()=>o().eq("usuario_id",this.currentUserId)}}return r}get auth(){return this.client.auth}get rpc(){return this.client.rpc.bind(this.client)}get storage(){return this.client.storage}get realtime(){return this.client.realtime}}const g0=new kC(wC),Lb=w.createContext(void 0),jm=()=>{const e=w.useContext(Lb);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},jC=({children:e})=>{const{user:t,isLoaded:r}=Ct(),[n,s]=w.useState(null),[i,o]=w.useState(!0),[l,c]=w.useState(null),{isLoaded:d,isSignedIn:u}=XN(),[h,f]=w.useState(null);w.useEffect(()=>{d?u?(f(g0),console.log("AuthContext: Cliente Supabase conectado.")):(f(null),s(null),console.log("AuthContext: Cliente Supabase desconectado.")):(f(null),console.log("AuthContext: Cliente Supabase desconectado (Clerk no cargado)."))},[d,u]),w.useEffect(()=>{(async()=>{var p,v,b,_,N,j,P,S,T,I;if(!(!r||!h)){if(o(!0),c(null),!t||!t.id){console.warn("AuthContext: Usuario de Clerk no autenticado o ID no disponible."),s(null),c("Usuario no autenticado o ID no disponible."),o(!1);return}try{const{data:z,error:J}=await h.from("usuarios").select("id, email, nombre, apellido, telefono, direccion, rol, created_at").eq("id",t.id).single();if(J&&J.code==="PGRST116"){const Y={id:t.id,email:((p=t.emailAddresses[0])==null?void 0:p.emailAddress)||"",nombre:t.firstName||"",apellido:t.lastName||"",telefono:((b=(v=t.phoneNumbers)==null?void 0:v[0])==null?void 0:b.phoneNumber)||void 0,direccion:void 0,rol:"cliente"},{data:xe,error:Pe}=await h.from("usuarios").insert([Y]).select("id, email, nombre, apellido, telefono, direccion, rol, created_at").single();if(Pe){console.error("Error creating user:",Pe),c("Error al crear el perfil de usuario. Intentalo mas tarde.");return}s(xe),console.log("AuthContext: Usuario creado exitosamente en Supabase.")}else if(J){if(console.error("Error fetching user:",J),J.code==="401"||(_=J.message)!=null&&_.includes("JWT")){console.log("AuthContext: Error de JWT, intentando crear usuario directamente...");const Y={id:t.id,email:((N=t.emailAddresses[0])==null?void 0:N.emailAddress)||"",nombre:t.firstName||"",apellido:t.lastName||"",telefono:((P=(j=t.phoneNumbers)==null?void 0:j[0])==null?void 0:P.phoneNumber)||void 0,direccion:void 0,rol:"cliente"},{data:xe,error:Pe}=await h.from("usuarios").upsert([Y],{onConflict:"id"}).select("id, email, nombre, apellido, telefono, direccion, rol, created_at").single();if(!Pe&&xe){s(xe),console.log("AuthContext: Usuario creado/actualizado exitosamente saltando JWT.");return}}c("Error al cargar la informacion del usuario. La app funcionará con datos limitados."),s({id:t.id,email:((S=t.emailAddresses[0])==null?void 0:S.emailAddress)||"",nombre:t.firstName||"",apellido:t.lastName||"",telefono:((I=(T=t.phoneNumbers)==null?void 0:T[0])==null?void 0:I.phoneNumber)||void 0,direccion:void 0,rol:"cliente",created_at:new Date().toISOString()});return}else s(z),console.log("AuthContext: Usuario cargado exitosamente desde Supabase.")}catch(z){console.error("Error inesperado en fetchUser:",z),c("Ocurrio un error inesperado al gestionar tu perfil.")}finally{o(!1)}}})()},[t,r,h]);const g=async x=>{if(!(!n||!h))try{const{data:p,error:v}=await h.from("usuarios").update(x).eq("id",n.id).select().single();if(v){console.error("Error updating user:",v);return}s(p)}catch(p){console.error("Error inesperado en updateUser:",p)}},y=(n==null?void 0:n.rol)==="admin",k={clerkUser:t,user:n,isAdmin:y,isLoading:i,isAuthenticated:u,error:l,updateUser:g,logout:async()=>{try{await g0.auth.signOut()}catch(x){console.error("AuthContext: Error al cerrar la sesion de Supabase durante el logout:",x)}s(null),c(null),f(null)},supabaseAuthenticatedClient:h};return a.jsx(Lb.Provider,{value:k,children:e})},Mb=w.createContext(void 0),Ub=()=>{const e=w.useContext(Mb);if(!e)throw new Error("useNotifications must be used within a NotificationProvider");return e},_C=({children:e})=>{const[t,r]=w.useState([]),n=w.useCallback(o=>{const l=`notification-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,c={...o,id:l,duration:o.duration||5e3};r(d=>[...d,c]),c.duration&&c.duration>0&&setTimeout(()=>{s(l)},c.duration)},[]),s=w.useCallback(o=>{r(l=>l.filter(c=>c.id!==o))},[]),i=w.useCallback(()=>{r([])},[]);return a.jsx(Mb.Provider,{value:{notifications:t,addNotification:n,removeNotification:s,clearNotifications:i},children:e})},_m=()=>{const{addNotification:e}=Ub();return{showSuccess:(t,r,n)=>e({type:"success",title:t,message:r,...n}),showError:(t,r,n)=>e({type:"error",title:t,message:r,duration:7e3,...n}),showWarning:(t,r,n)=>e({type:"warning",title:t,message:r,...n}),showInfo:(t,r,n)=>e({type:"info",title:t,message:r,...n}),showOrderSuccess:t=>e({type:"success",title:"¡Pedido realizado!",message:`Tu pedido #${t} ha sido procesado exitosamente.`,actionLabel:"Ver pedido",actionHandler:()=>window.location.href="/perfil/pedidos"}),showAddressAdded:()=>e({type:"success",title:"Dirección guardada",message:"Tu nueva dirección ha sido guardada exitosamente."}),showAddressUpdated:()=>e({type:"success",title:"Dirección actualizada",message:"Los cambios en tu dirección han sido guardados."}),showAddressDeleted:()=>e({type:"info",title:"Dirección eliminada",message:"La dirección ha sido eliminada de tu cuenta."}),showWishlistAdded:t=>e({type:"success",title:"Agregado a favoritos",message:`${t} ha sido agregado a tu lista de deseos.`,actionLabel:"Ver lista",actionHandler:()=>window.location.href="/perfil/lista-deseos"}),showWishlistRemoved:t=>e({type:"info",title:"Eliminado de favoritos",message:`${t} ha sido eliminado de tu lista de deseos.`}),showCartAdded:t=>e({type:"success",title:"Agregado al carrito",message:`${t} ha sido agregado a tu carrito.`,actionLabel:"Ver carrito",actionHandler:()=>window.location.href="/cart"}),showReviewAdded:()=>e({type:"success",title:"Reseña publicada",message:"Tu reseña ha sido publicada exitosamente."}),showReviewDeleted:()=>e({type:"info",title:"Reseña eliminada",message:"Tu reseña ha sido eliminada."}),showPaymentError:t=>e({type:"error",title:"Error en el pago",message:t||"Hubo un problema procesando tu pago. Por favor, intenta nuevamente.",duration:1e4})}};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var NC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),B=(e,t)=>{const r=w.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...d},u)=>w.createElement("svg",{ref:u,...NC,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${SC(e)}`,l].join(" "),...d},[...t.map(([h,f])=>w.createElement(h,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=B("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=B("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=B("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=B("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=B("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=B("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=B("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=B("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=B("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=B("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=B("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=B("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=B("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=B("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=B("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=B("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=B("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=B("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=B("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=B("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=B("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=B("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=B("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=B("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=B("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=B("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=B("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=B("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=B("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=B("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=B("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=B("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=B("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=B("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=B("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=B("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=B("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=B("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=B("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=B("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=B("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=B("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=B("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=B("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=B("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=B("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=B("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=B("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=B("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=B("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=B("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=B("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=B("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=B("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=B("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=B("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=B("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=B("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=B("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=B("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=B("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=B("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=B("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=B("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=B("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ae=Fb("https://xwubnuokmfghtyyfpgtl.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh3dWJudW9rbWZnaHR5eWZwZ3RsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY5NTA3NTEsImV4cCI6MjA3MjUyNjc1MX0.H2x6CfC2z2ttnghuZvGpIdGlvUWlYy5GWjpR6Ok5SbA",{auth:{persistSession:!0,autoRefreshToken:!1,detectSessionInUrl:!1}}),Kb=w.createContext(void 0),Qb=()=>{const e=w.useContext(Kb);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},t4=({children:e})=>{const t=()=>{if(typeof window<"u"){const l=localStorage.getItem("theme");return l||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}return"light"},[r,n]=w.useState(t);w.useEffect(()=>{const l=window.document.documentElement;l.classList.remove("light","dark"),l.classList.add(r),localStorage.setItem("theme",r)},[r]),w.useEffect(()=>{const l=window.matchMedia("(prefers-color-scheme: dark)"),c=d=>{localStorage.getItem("theme")||n(d.matches?"dark":"light")};return l.addEventListener("change",c),()=>l.removeEventListener("change",c)},[]);const o={theme:r,toggleTheme:()=>{n(l=>l==="light"?"dark":"light")},setTheme:l=>{n(l)}};return a.jsx(Kb.Provider,{value:o,children:e})},r4=()=>{const{theme:e,toggleTheme:t}=Qb();return a.jsx("button",{onClick:t,className:"p-2 rounded-lg transition-colors duration-200 bg-gray-100 hover:bg-gray-200 dark:bg-gray-800 dark:hover:bg-gray-700 text-gris-oscuro dark:text-gray-200","aria-label":`Cambiar a modo ${e==="light"?"oscuro":"claro"}`,title:`Cambiar a modo ${e==="light"?"oscuro":"claro"}`,children:e==="light"?a.jsx(QC,{className:"w-5 h-5"}):a.jsx(ZC,{className:"w-5 h-5"})})},n4=({className:e="",size:t="medium"})=>{const[r,n]=w.useState(!1),s={small:"h-8",medium:"h-12",large:"h-16",navbar:"h-14"},i={small:"h-8 text-lg px-2",medium:"h-12 text-xl px-3",large:"h-16 text-2xl px-4",navbar:"h-14 text-xl px-3"};return a.jsx(ce,{to:"/",className:`flex items-center space-x-2 ${e}`,children:a.jsx("div",{className:"relative",children:r?a.jsx("div",{className:`${i[t]} flex items-center justify-center bg-amarillo dark:bg-yellow-500 rounded-lg text-gris-oscuro dark:text-gray-900 font-bold transition-transform duration-200 hover:scale-105 border border-gray-200 dark:border-gray-600 shadow-sm`,children:"Mercadillo"}):a.jsx("img",{src:"https://res.cloudinary.com/ddbjhpjri/image/upload/f_auto,q_auto/v1759101870/mercadillo/logo_v1.webp",alt:"Mercadillo Lima Perú Logo",className:`${s[t]} w-auto object-contain transition-transform duration-200 hover:scale-105 rounded-lg border border-gray-200 dark:border-gray-600 shadow-sm`,onError:()=>n(!0),onLoad:()=>n(!1)})})})},df=({value:e,onChange:t,onSearch:r,productos:n,placeholder:s="¿Qué estás buscando hoy?"})=>{const[i,o]=w.useState([]),[l,c]=w.useState([]),[d,u]=w.useState(!1),[h,f]=w.useState(-1),g=w.useRef(null),y=w.useRef(null),m=["smartphone","laptop","camiseta","zapatillas","sofá","mesa","pelota","raqueta"];w.useEffect(()=>{const b=localStorage.getItem("recentSearches");b&&c(JSON.parse(b))},[]),w.useEffect(()=>{if(e.length<2){o([]);return}const b=n.filter(j=>j.nombre.toLowerCase().includes(e.toLowerCase())||j.descripcion.toLowerCase().includes(e.toLowerCase())||j.categoria.toLowerCase().includes(e.toLowerCase())).slice(0,5).map(j=>j.nombre),_=Array.from(new Set(n.filter(j=>j.categoria.toLowerCase().includes(e.toLowerCase())).map(j=>j.categoria))).slice(0,3),N=[...new Set([...b,..._])].slice(0,6);o(N)},[e,n]),w.useEffect(()=>{const b=_=>{g.current&&!g.current.contains(_.target)&&(u(!1),f(-1))};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const k=b=>{if(!b.trim())return;const _=[b,...l.filter(N=>N!==b)].slice(0,5);c(_),localStorage.setItem("recentSearches",JSON.stringify(_))},x=b=>{t(b),r(b),k(b),u(!1),f(-1)},p=b=>{var N;if(!d)return;const _=i.length+l.length+m.length;switch(b.key){case"ArrowDown":b.preventDefault(),f(j=>j<_-1?j+1:-1);break;case"ArrowUp":b.preventDefault(),f(j=>j>-1?j-1:_-1);break;case"Enter":if(b.preventDefault(),h===-1)x(e);else{let j="";h<i.length?j=i[h]:h<i.length+l.length?j=l[h-i.length]:j=m[h-i.length-l.length],x(j)}break;case"Escape":u(!1),f(-1),(N=y.current)==null||N.blur();break}},v=()=>{c([]),localStorage.removeItem("recentSearches")};return a.jsxs("div",{className:"relative flex-1",ref:g,children:[a.jsxs("div",{className:"relative",children:[a.jsx(Gl,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5 z-10"}),a.jsx("input",{ref:y,type:"text",placeholder:s,value:e,onChange:b=>t(b.target.value),onFocus:()=>u(!0),onKeyDown:p,className:"w-full pl-12 pr-12 py-3 border border-gray-300 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-amarillo dark:focus:ring-yellow-500 focus:border-transparent bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 text-lg transition-all duration-200"}),e&&a.jsx("button",{onClick:()=>t(""),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors duration-200",children:a.jsx(Wo,{className:"w-5 h-5"})})]}),d&&a.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 z-50 max-h-96 overflow-y-auto",children:[i.length>0&&a.jsxs("div",{className:"p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-2 uppercase tracking-wide",children:"Sugerencias"}),i.map((b,_)=>a.jsx("button",{onClick:()=>x(b),className:`w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-150 ${_===h?"bg-amarillo dark:bg-yellow-500 text-gris-oscuro dark:text-gray-900":"text-gray-700 dark:text-gray-300"}`,children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Gl,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{children:b})]})},b))]}),l.length>0&&a.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Búsquedas Recientes"}),a.jsx("button",{onClick:v,className:"text-xs text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:"Limpiar"})]}),l.map((b,_)=>{const N=i.length+_;return a.jsx("button",{onClick:()=>x(b),className:`w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-150 ${N===h?"bg-amarillo dark:bg-yellow-500 text-gris-oscuro dark:text-gray-900":"text-gray-700 dark:text-gray-300"}`,children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ar,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{children:b})]})},b)})]}),(!e||e.length<2)&&a.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-2 uppercase tracking-wide",children:"Búsquedas Populares"}),m.map((b,_)=>{const N=i.length+l.length+_;return a.jsx("button",{onClick:()=>x(b),className:`w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-150 ${N===h?"bg-amarillo dark:bg-yellow-500 text-gris-oscuro dark:text-gray-900":"text-gray-700 dark:text-gray-300"}`,children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Vb,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"capitalize",children:b})]})},b)})]}),e.length>=2&&i.length===0&&a.jsxs("div",{className:"p-6 text-center text-gray-500 dark:text-gray-400",children:[a.jsx(Gl,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),a.jsxs("p",{children:['No encontramos sugerencias para "',e,'"']}),a.jsx("p",{className:"text-sm mt-1",children:"Presiona Enter para buscar de todos modos"})]})]})]})},s4=({className:e=""})=>{var d;const{user:t,isLoaded:r}=Ct(),{signOut:n}=ZN(),[s,i]=w.useState(!1),o=w.useRef(null);if(w.useEffect(()=>{const u=h=>{o.current&&!o.current.contains(h.target)&&i(!1)};return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[]),!r||!t)return null;const l=()=>{n(),i(!1)},c=[{icon:lf,label:"Lista de Deseos",path:"/perfil/lista-deseos",description:"Productos guardados"},{icon:qe,label:"Mis Pedidos",path:"/perfil/pedidos",description:"Historial de compras"},{icon:jr,label:"Mis Reseñas",path:"/perfil/reseñas",description:"Reseñas escritas"},{icon:ar,label:"Historial",path:"/perfil/historial",description:"Productos visitados"},{icon:Gn,label:"Direcciones",path:"/perfil/direcciones",description:"Direcciones de envío"}];return a.jsxs("div",{className:`relative ${e}`,ref:o,children:[a.jsxs("button",{onClick:()=>i(!s),className:`\r
          flex items-center space-x-2 px-3 py-2 rounded-lg\r
          text-gray-700 dark:text-gray-200\r
          hover:bg-gray-100 dark:hover:bg-gray-700\r
          transition-colors duration-200\r
          focus:outline-none focus:ring-2 focus:ring-blue-500\r
        `,"aria-label":"Menu de perfil",children:[t.imageUrl?a.jsx("img",{src:t.imageUrl,alt:t.fullName||"Usuario",className:"w-8 h-8 rounded-full object-cover"}):a.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center",children:a.jsx(Xn,{className:"w-4 h-4 text-white"})}),a.jsx("span",{className:"hidden md:block font-medium",children:t.firstName||"Usuario"}),a.jsx(RC,{className:`w-4 h-4 transition-transform duration-200 ${s?"rotate-180":""}`})]}),s&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-25 lg:hidden",onClick:()=>i(!1)}),a.jsxs("div",{className:`\r
            absolute right-0 mt-2 w-80 z-50\r
            bg-white dark:bg-gray-800\r
            border border-gray-200 dark:border-gray-700\r
            rounded-lg shadow-xl\r
            py-2\r
          `,children:[a.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[t.imageUrl?a.jsx("img",{src:t.imageUrl,alt:t.fullName||"Usuario",className:"w-12 h-12 rounded-full object-cover"}):a.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-600 flex items-center justify-center",children:a.jsx(Xn,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100 truncate",children:t.fullName||`${t.firstName} ${t.lastName}`}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:(d=t.emailAddresses[0])==null?void 0:d.emailAddress})]})]})}),a.jsx("div",{className:"py-2",children:c.map(u=>{const h=u.icon;return a.jsxs(ce,{to:u.path,onClick:()=>i(!1),className:`\r
                      flex items-center px-4 py-3\r
                      text-gray-700 dark:text-gray-200\r
                      hover:bg-gray-50 dark:hover:bg-gray-700\r
                      transition-colors duration-200\r
                      group\r
                    `,children:[a.jsx(h,{className:"w-5 h-5 mr-3 text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-400"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium",children:u.label}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:u.description})]})]},u.path)})}),a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-2"}),a.jsxs("div",{className:"py-2",children:[a.jsxs(ce,{to:"/perfil/configuracion",onClick:()=>i(!1),className:`\r
                  flex items-center px-4 py-2\r
                  text-gray-700 dark:text-gray-200\r
                  hover:bg-gray-50 dark:hover:bg-gray-700\r
                  transition-colors duration-200\r
                  group\r
                `,children:[a.jsx(JC,{className:"w-5 h-5 mr-3 text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-400"}),a.jsx("span",{className:"font-medium",children:"Configuración"})]}),a.jsxs("button",{onClick:l,className:`\r
                  w-full flex items-center px-4 py-2\r
                  text-gray-700 dark:text-gray-200\r
                  hover:bg-red-50 dark:hover:bg-red-900/20\r
                  hover:text-red-600 dark:hover:text-red-400\r
                  transition-colors duration-200\r
                  group\r
                `,children:[a.jsx(qC,{className:"w-5 h-5 mr-3 text-gray-400 group-hover:text-red-600 dark:group-hover:text-red-400"}),a.jsx("span",{className:"font-medium",children:"Cerrar Sesión"})]})]})]})]})]})},a4=()=>{const{user:e}=Ct(),{isAdmin:t}=jm(),{getTotalItems:r}=ns(),[n,s]=w.useState(!1),[i,o]=w.useState(""),[l,c]=w.useState([]),d=Br(),h=Nr().pathname==="/";w.useEffect(()=>{(async()=>{try{let k=ae.from("productos").select("*").gt("stock",0),{data:x,error:p}=await k.order("created_at",{ascending:!1});if(p){const{data:v,error:b}=await k;b||c(v||[])}else c(x||[])}catch(k){console.error("Error loading products for search:",k)}})()},[]);const f=()=>s(!n),g=m=>{m.trim()?(d(`/catalogo?search=${encodeURIComponent(m.trim())}`),o("")):d("/catalogo"),s(!1)},y=[{name:"Catálogo",path:"/catalogo"},{name:"Sobre nosotros",path:"/sobre-nosotros"},{name:"Contáctanos",path:"/contacto"}];return h||y.unshift({name:"Inicio",path:"/"}),t&&y.push({name:"Admin",path:"/admin"}),a.jsx("nav",{className:"bg-blanco dark:bg-gray-800 shadow-md sticky top-0 z-50 transition-colors duration-200",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex justify-between items-center h-20",children:[a.jsx(n4,{size:"navbar",className:"flex-shrink-0"}),a.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[h&&a.jsx("div",{className:"w-80",children:a.jsx(df,{value:i,onChange:o,onSearch:g,productos:l,placeholder:"Buscar productos..."})}),y.map(m=>a.jsx(ce,{to:m.path,className:"text-gris-oscuro dark:text-gray-200 hover:text-dorado dark:hover:text-yellow-400 transition-colors duration-200 font-medium",children:m.name},m.name))]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(r4,{}),a.jsxs(ce,{to:"/carrito",className:"relative p-2 text-gris-oscuro dark:text-gray-200 hover:text-dorado dark:hover:text-yellow-400 transition-colors duration-200",children:[a.jsx(zr,{className:"w-6 h-6"}),r()>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-amarillo text-gris-oscuro text-xs rounded-full w-5 h-5 flex items-center justify-center font-semibold",children:r()})]}),e?a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx(s4,{})}):a.jsxs("div",{className:"hidden md:flex items-center space-x-2",children:[a.jsx(ce,{to:"/sign-in",className:"text-gris-oscuro dark:text-gray-200 hover:text-dorado dark:hover:text-yellow-400 transition-colors duration-200 font-medium",children:"Iniciar Sesión"}),a.jsx(ce,{to:"/sign-up",className:"btn-primary",children:"Registrarse"})]}),a.jsx("button",{onClick:f,className:"md:hidden p-2 text-gris-oscuro dark:text-gray-200 hover:text-dorado dark:hover:text-yellow-400 transition-colors duration-200",children:n?a.jsx(Wo,{className:"w-6 h-6"}):a.jsx(HC,{className:"w-6 h-6"})})]})]}),n&&a.jsx("div",{className:"md:hidden py-4 border-t border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex flex-col space-y-4",children:[h&&a.jsx("div",{className:"w-full",children:a.jsx(df,{value:i,onChange:o,onSearch:g,productos:l,placeholder:"Buscar productos..."})}),y.map(m=>a.jsx(ce,{to:m.path,className:"text-gris-oscuro dark:text-gray-200 hover:text-dorado dark:hover:text-yellow-400 transition-colors duration-200 font-medium",onClick:()=>s(!1),children:m.name},m.name)),!e&&a.jsxs(a.Fragment,{children:[a.jsx(ce,{to:"/sign-in",className:"text-gris-oscuro dark:text-gray-200 hover:text-dorado dark:hover:text-yellow-400 transition-colors duration-200 font-medium",onClick:()=>s(!1),children:"Iniciar Sesión"}),a.jsx(ce,{to:"/sign-up",className:"btn-primary text-center",onClick:()=>s(!1),children:"Registrarse"})]})]})})]})})},i4=()=>a.jsx("footer",{className:"bg-gris-oscuro text-blanco",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"col-span-1 md:col-span-2",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx("div",{className:"w-8 h-8 bg-amarillo rounded-full flex items-center justify-center",children:a.jsx(qe,{className:"w-5 h-5 text-gris-oscuro"})}),a.jsx("span",{className:"text-xl font-bold",children:"Mercadillo Lima Perú"})]}),a.jsx("p",{className:"text-gris-claro mb-4 max-w-md",children:"Tu tienda online de confianza en El Agustino, Lima Este. Productos de calidad con envío rápido y seguro a toda Lima y el Perú."}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-gris-claro",children:[a.jsx(Gn,{className:"w-4 h-4"}),a.jsx("span",{children:"El Agustino, Lima Este 15007"})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-gris-claro",children:[a.jsx(Bb,{className:"w-4 h-4"}),a.jsx("span",{children:"+51 977 933 410"})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-gris-claro",children:[a.jsx(Nm,{className:"w-4 h-4"}),a.jsx("span",{children:"contactomercadillo@gmail.com"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Enlaces Rápidos"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx(ce,{to:"/",className:"text-gris-claro hover:text-amarillo transition-colors duration-200",children:"Inicio"})}),a.jsx("li",{children:a.jsx(ce,{to:"/catalogo",className:"text-gris-claro hover:text-amarillo transition-colors duration-200",children:"Catálogo"})}),a.jsx("li",{children:a.jsx(ce,{to:"/carrito",className:"text-gris-claro hover:text-amarillo transition-colors duration-200",children:"Carrito"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Información"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx(ce,{to:"/terminos",className:"text-gris-claro hover:text-amarillo transition-colors duration-200",children:"Términos y Condiciones"})}),a.jsx("li",{children:a.jsx(ce,{to:"/privacidad",className:"text-gris-claro hover:text-amarillo transition-colors duration-200",children:"Política de Privacidad"})}),a.jsx("li",{children:a.jsx(ce,{to:"/envios",className:"text-gris-claro hover:text-amarillo transition-colors duration-200",children:"Envíos y Devoluciones"})}),a.jsx("li",{children:a.jsx(ce,{to:"/contacto",className:"text-gris-claro hover:text-amarillo transition-colors duration-200",children:"Contacto"})})]}),a.jsxs("div",{className:"flex space-x-3 mt-4",children:[a.jsx("a",{href:"https://wa.me/51977933410",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-green-500 hover:bg-green-600 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110","aria-label":"WhatsApp",children:a.jsx(mo,{className:"w-5 h-5 text-white"})}),a.jsx("a",{href:"https://www.facebook.com/mercadillo.276649",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-blue-600 hover:bg-blue-700 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110","aria-label":"Facebook",children:a.jsx(MC,{className:"w-5 h-5 text-white"})})]})]})]}),a.jsx("div",{className:"mt-8 pt-8 text-center",children:a.jsx("p",{className:"text-gris-claro",children:"© 2025 Mercadillo Lima Perú. Todos los derechos reservados."})})]})}),o4=({children:e})=>a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(a4,{}),a.jsx("main",{className:"flex-1",children:e}),a.jsx(i4,{})]}),l4=()=>{const{theme:e}=Qb(),t=e==="dark",r=w.useRef([]),n=w.useRef(null),s=w.useRef(null);return w.useEffect(()=>{r.current.forEach(u=>clearTimeout(u)),r.current=[],n.current&&(clearInterval(n.current),n.current=null),s.current&&(s.current.disconnect(),s.current=null),t?(document.documentElement.classList.add("dark"),document.body.classList.add("dark")):(document.documentElement.classList.remove("dark"),document.body.classList.remove("dark"));const i=window.fetch;window.fetch=async(u,h)=>{const f=typeof u=="string"?u:u.toString();return f.includes("commerce/statements")||f.includes("/v1/me/commerce/statements")?Promise.resolve(new Response(JSON.stringify([]),{status:200,statusText:"OK",headers:{"Content-Type":"application/json"}})):i(u,h)};const o=()=>{document.querySelectorAll('.min-h-screen, [class*="bg-hueso"]').forEach(p=>{p.style.setProperty("background-color","#111827","important")}),document.querySelectorAll('[class*="cl-"], [data-clerk], [role="dialog"]').forEach(p=>{const v=p;v.classList.add("dark");const b=v.classList.contains("cl-formButtonPrimary"),_=v.classList.contains("cl-footerActionLink"),N=v.tagName==="IMG"||v.tagName==="SVG";!b&&!_&&!N&&(v.style.setProperty("background-color","#1f2937","important"),v.style.setProperty("color","#f3f4f6","important"),v.style.setProperty("border-color","#374151","important"))}),document.querySelectorAll(".cl-userButtonPopoverCard, .cl-card, .cl-popoverBox, .cl-userPreview, .cl-userButtonPopoverRootBox").forEach(p=>{const v=p;v.style.setProperty("background-color","#1f2937","important"),v.style.setProperty("color","#f3f4f6","important"),v.style.setProperty("border-color","#374151","important")});let g=document.getElementById("clerk-dark-mode-styles");g||(g=document.createElement("style"),g.id="clerk-dark-mode-styles",document.head.appendChild(g)),g.textContent=`
        /* Aplicar modo oscuro específicamente al UserButton y su menú */
        .cl-userButtonPopoverCard {
          background-color: #1f2937 !important;
          border: none !important;
          border-radius: 8px !important;
          box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2) !important;
          overflow: hidden !important;
        }
        
        .cl-card,
        .cl-popoverBox,
        .cl-userButtonPopoverRootBox {
          background-color: #1f2937 !important;
          border: none !important;
          border-radius: 8px !important;
        }
        
        /* Eliminar borde del área de información del usuario */
        .cl-userPreview {
          background-color: #1f2937 !important;
          border: none !important;
          border-bottom: none !important;
        }
        
        /* Elementos de texto del menú */
        .cl-userButtonPopoverCard .cl-userPreview,
        .cl-userButtonPopoverCard .cl-menuItem,
        .cl-userButtonPopoverCard .cl-menuItemTextPrimary,
        .cl-userButtonPopoverCard .cl-menuItemTextSecondary {
          color: #f3f4f6 !important;
          background-color: transparent !important;
        }
        
        /* Botones del menú sin bordes extraños */
        .cl-menuItem {
          background-color: transparent !important;
          border: none !important;
          border-radius: 6px !important;
        }
        
        /* Hover effects más naturales */
        .cl-menuItem:hover {
          background-color: #374151 !important;
          border-radius: 6px !important;
        }
        
        /* Hacer que el Sign out tenga esquinas sutiles como Manage account */
        .cl-menuItem:last-child {
          background-color: transparent !important;
          border: none !important;
          border-radius: 6px !important;
          position: relative !important;
        }
        
        /* Eliminar el contenedor principal que causa esquinas pronunciadas */
        .cl-userButtonPopoverCard {
          background-color: #1f2937 !important;
          border: none !important;
          border-radius: 6px !important;
          box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2) !important;
          overflow: visible !important;
        }
        
        /* Eliminar todos los pseudo-elementos que causen esquinas blancas */
        .cl-userButtonPopoverCard::before,
        .cl-userButtonPopoverCard::after,
        .cl-userPreview::before,
        .cl-userPreview::after,
        .cl-menuItem::before,
        .cl-menuItem::after {
          display: none !important;
          content: none !important;
        }
        
        /* Corregir sombra del avatar del usuario sin bordes extraños */
        .cl-userButtonAvatarBox,
        .cl-avatarBox {
          box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.3), 0 1px 2px 0 rgba(0, 0, 0, 0.2) !important;
          border: none !important;
        }
        
        /* Separadores del menú */
        .cl-menuItemDivider {
          background-color: #374151 !important;
          border: none !important;
        }
        
        /* Estilos para la página de gestión de cuenta (Manage account) */
        /* Forzar TODOS los elementos del UserProfile a ser oscuros */
        .cl-userProfile,
        .cl-userProfile *,
        .cl-profilePage,
        .cl-profilePage *,
        .cl-profileSection,
        .cl-profileSectionContent {
          background-color: #1f2937 !important;
          color: #f3f4f6 !important;
        }
        
        /* Contenedor principal de la página de cuenta */
        .cl-userProfile .cl-card,
        .cl-profilePage .cl-card {
          background-color: #1f2937 !important;
          border: none !important;
        }
        
        /* FORZAR el sidebar/barra lateral izquierda a ser oscura */
        .cl-userProfile > div,
        .cl-userProfile > div > div,
        .cl-userProfile .cl-navbar,
        .cl-userProfile .cl-profileSectionPrimaryButton,
        .cl-navbarMobileMenuRow,
        .cl-navbarMobileMenuButton {
          background-color: #1f2937 !important;
          background: #1f2937 !important;
          color: #f3f4f6 !important;
        }
        
        /* Eliminar cualquier fondo blanco en el modal/container principal */
        [data-clerk-modal],
        [data-clerk-modal] *,
        .cl-modalContent,
        .cl-modalContent *,
        .cl-rootBox,
        .cl-rootBox * {
          background-color: #1f2937 !important;
          background: #1f2937 !important;
        }
        
        /* Títulos y subtítulos de la página de cuenta */
        .cl-profileSectionTitle,
        .cl-profileSectionSubtitle,
        .cl-userProfile h1,
        .cl-userProfile h2,
        .cl-userProfile h3 {
          color: #f3f4f6 !important;
        }
        
        /* Área de contenido principal */
        .cl-profileSectionContent,
        .cl-userProfile .cl-profileSection {
          background-color: #1f2937 !important;
          color: #f3f4f6 !important;
        }
        
        /* Navbar de la página de cuenta */
        .cl-navbar,
        .cl-userProfile .cl-navbar {
          background-color: #1f2937 !important;
          border-color: #374151 !important;
        }
        
        /* Botones de navegación */
        .cl-navbarButton {
          color: #f3f4f6 !important;
          background-color: transparent !important;
        }
        
        .cl-navbarButton:hover {
          background-color: #374151 !important;
        }
        
        /* Campos de entrada y formularios */
        .cl-userProfile .cl-formFieldInput {
          background-color: #374151 !important;
          border-color: #4b5563 !important;
          color: #f3f4f6 !important;
        }
        
        /* Etiquetas de formulario */
        .cl-userProfile .cl-formFieldLabel {
          color: #f3f4f6 !important;
        }
      `;const y=()=>{const p=document.querySelector(".cl-userButtonPopoverCard");if(p){const v=p;v.style.setProperty("background-color","#1f2937","important"),v.style.setProperty("border","none","important"),v.style.setProperty("border-radius","6px","important"),v.style.setProperty("overflow","visible","important");const b=p.querySelector(".cl-userPreview");if(b){const N=b;N.style.setProperty("border","none","important"),N.style.setProperty("border-bottom","none","important")}p.querySelectorAll(".cl-menuItem").forEach(N=>{N.style.setProperty("border-radius","6px","important")})}},m=()=>{document.querySelectorAll('[class*="cl-userProfile"], [class*="cl-profilePage"], [class*="cl-modal"], [data-clerk-modal], .cl-rootBox').forEach(b=>{const _=b;_.style.setProperty("background-color","#1f2937","important"),_.style.setProperty("background","#1f2937","important"),_.style.setProperty("color","#f3f4f6","important"),_.querySelectorAll("*").forEach(j=>{const P=j;P.style.setProperty("background-color","#1f2937","important"),P.style.setProperty("background","#1f2937","important"),P.style.setProperty("color","#f3f4f6","important")})}),document.querySelectorAll("*").forEach(b=>{const _=b,N=window.getComputedStyle(_);(N.backgroundColor==="rgb(255, 255, 255)"||N.backgroundColor==="white"||N.backgroundColor==="#ffffff"||N.backgroundColor==="#fff")&&_.closest('[class*="cl-"], [data-clerk-modal]')&&(_.style.setProperty("background-color","#1f2937","important"),_.style.setProperty("background","#1f2937","important"))})},k=()=>{document.querySelectorAll(".cl-userButtonPopoverCard, .cl-userButtonPopoverCard *, .cl-menuItem, .cl-menuItem *, .cl-userPreview, .cl-userPreview *").forEach(b=>{const _=b;_.style.setProperty("background-color","#1f2937","important"),_.style.setProperty("background","#1f2937","important"),_.style.setProperty("border","none","important"),_.style.setProperty("border-radius","6px","important")}),document.querySelectorAll("*").forEach(b=>{const _=b,N=window.getComputedStyle(_);(N.backgroundColor==="rgb(255, 255, 255)"||N.backgroundColor==="white"||N.backgroundColor==="#ffffff"||N.backgroundColor==="#fff")&&_.closest(".cl-userButtonPopoverCard, .cl-userButtonPopoverRootBox, .cl-popoverBox")&&(_.style.setProperty("background-color","#1f2937","important"),_.style.setProperty("background","#1f2937","important"),_.style.setProperty("border","none","important"),_.style.setProperty("border-radius","6px","important"))})};y(),m(),k(),r.current.push(setTimeout(y,100)),r.current.push(setTimeout(m,100)),r.current.push(setTimeout(k,100)),r.current.push(setTimeout(m,300)),r.current.push(setTimeout(k,300)),r.current.push(setTimeout(m,500)),r.current.push(setTimeout(k,500)),r.current.push(setTimeout(m,1e3)),r.current.push(setTimeout(k,1e3)),document.querySelectorAll('.cl-formButtonPrimary, button[type="submit"]').forEach(p=>{var b;const v=p;((b=v.textContent)!=null&&b.includes("Continue")||v.classList.contains("cl-formButtonPrimary"))&&(v.style.setProperty("background-color","#1f2937","important"),v.style.setProperty("color","#f3f4f6","important"),v.style.setProperty("border","1px solid #374151","important"),v.style.setProperty("text-decoration","none","important"))})},l=()=>{document.querySelectorAll('.min-h-screen, [class*="bg-hueso"]').forEach(m=>{m.style.removeProperty("background-color")}),document.querySelectorAll('[class*="cl-"], [data-clerk], [role="dialog"]').forEach(m=>{var p;const k=m;k.classList.remove("dark"),k.classList.contains("cl-formButtonPrimary")||((p=k.textContent)==null?void 0:p.includes("Continue"))||(k.style.removeProperty("background-color"),k.style.removeProperty("color"),k.style.removeProperty("border-color"))}),document.querySelectorAll(".cl-userButtonPopoverCard, .cl-card, .cl-popoverBox, .cl-userPreview, .cl-userButtonPopoverRootBox, .cl-popoverArrow, .cl-userButtonAvatarBox, .cl-avatarBox, .cl-menuItem, .cl-menuItemDivider").forEach(m=>{const k=m;k.style.removeProperty("background-color"),k.style.removeProperty("color"),k.style.removeProperty("border-color"),k.style.removeProperty("border-radius"),k.style.removeProperty("border"),k.style.removeProperty("box-shadow"),k.style.removeProperty("overflow")});const g=document.getElementById("clerk-dark-mode-styles");g&&g.remove(),document.querySelectorAll('.cl-formButtonPrimary, button[type="submit"]').forEach(m=>{var p;const k=m;(((p=k.textContent)==null?void 0:p.includes("Continue"))||k.classList.contains("cl-formButtonPrimary"))&&(k.style.setProperty("background-color","#FFD700","important"),k.style.setProperty("color","#333333","important"),k.style.setProperty("border","none","important"),k.style.setProperty("text-decoration","none","important"))})},c=()=>{document.querySelectorAll("*").forEach(h=>{var g,y;const f=h;t||f.classList.remove("dark"),((g=f.getAttribute("style"))!=null&&g.includes("background-color: #1f2937")||(y=f.getAttribute("style"))!=null&&y.includes("background-color: #111827"))&&(f.style.removeProperty("background-color"),f.style.removeProperty("color"),f.style.removeProperty("border-color"))})},d=()=>{c(),t?o():l()};return d(),s.current=new MutationObserver(()=>{const u=setTimeout(d,10);r.current.push(u)}),s.current.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class","style"]}),n.current=setInterval(d,500),()=>{r.current.forEach(u=>clearTimeout(u)),r.current=[],n.current&&(clearInterval(n.current),n.current=null),s.current&&(s.current.disconnect(),s.current=null),window.fetch=i}},[e]),null},c4=({notification:e,onRemove:t})=>{const[r,n]=w.useState(!1),[s,i]=w.useState(!1);w.useEffect(()=>{const d=setTimeout(()=>n(!0),100);return()=>clearTimeout(d)},[]);const o=()=>{i(!0),setTimeout(()=>t(e.id),300)},l=()=>{switch(e.type){case"success":return a.jsx(ho,{className:"w-5 h-5 text-green-500"});case"error":return a.jsx(go,{className:"w-5 h-5 text-red-500"});case"warning":return a.jsx(EC,{className:"w-5 h-5 text-yellow-500"});case"info":return a.jsx(x0,{className:"w-5 h-5 text-blue-500"});default:return a.jsx(x0,{className:"w-5 h-5 text-gray-500"})}},c=()=>{const d="border-l-4 shadow-lg rounded-lg p-4 mb-4 transition-all duration-300 ease-in-out transform";if(s)return`${d} translate-x-full opacity-0`;if(!r)return`${d} translate-x-full opacity-0`;switch(e.type){case"success":return`${d} bg-green-50 dark:bg-green-900/20 border-green-500 translate-x-0 opacity-100`;case"error":return`${d} bg-red-50 dark:bg-red-900/20 border-red-500 translate-x-0 opacity-100`;case"warning":return`${d} bg-yellow-50 dark:bg-yellow-900/20 border-yellow-500 translate-x-0 opacity-100`;case"info":return`${d} bg-blue-50 dark:bg-blue-900/20 border-blue-500 translate-x-0 opacity-100`;default:return`${d} bg-gray-50 dark:bg-gray-900/20 border-gray-500 translate-x-0 opacity-100`}};return a.jsx("div",{className:c(),children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 mr-3 mt-0.5",children:l()}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-1",children:e.title}),a.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:e.message}),e.actionLabel&&e.actionHandler&&a.jsx("button",{onClick:e.actionHandler,className:"mt-2 text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors duration-200",children:e.actionLabel})]}),a.jsx("button",{onClick:o,className:"flex-shrink-0 ml-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors duration-200",children:a.jsx(Wo,{className:"w-4 h-4"})})]})})},d4=()=>{const{notifications:e,removeNotification:t}=Ub();return e.length===0?null:a.jsx("div",{className:"fixed top-4 right-4 z-50 max-w-sm w-full",children:a.jsx("div",{className:"space-y-2",children:e.map(r=>a.jsx(c4,{notification:r,onRemove:t},r.id))})})};function u4(){return a.jsxs(K2,{client:lE,children:[a.jsx(jC,{children:a.jsx(h4,{})}),a.jsx(oE,{initialIsOpen:!1})]})}const h4=()=>a.jsx(_C,{children:a.jsxs(cE,{children:[a.jsx(l4,{}),a.jsx(o4,{children:a.jsx(c1,{})}),a.jsx(d4,{})]})});const Ht=({rating:e,onRatingChange:t,readonly:r=!1,size:n="md",showText:s=!1,className:i=""})=>{const[o,l]=w.useState(0),c={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},d={sm:"text-sm",md:"text-base",lg:"text-lg"},u=y=>{!r&&t&&t(y)},h=y=>{r||l(y)},f=()=>{r||l(0)},g=o>0?o:e;return a.jsxs("div",{className:`flex items-center gap-1 ${i}`,children:[a.jsx("div",{className:"flex items-center gap-0.5",onMouseLeave:f,children:[1,2,3,4,5].map(y=>{const m=y<=g,k=o>0&&y<=o;return a.jsx("button",{type:"button",disabled:r,onClick:()=>u(y),onMouseEnter:()=>h(y),className:`
                ${c[n]}
                ${r?"cursor-default":"cursor-pointer hover:scale-110 transition-all duration-150 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-opacity-50 rounded"}
                ${m?k?"text-yellow-500 fill-current":"text-yellow-400 fill-current":k?"text-yellow-300 fill-current":"text-gray-300 dark:text-gray-600"}
                ${!r&&k?"transform scale-110":""}
              `,"aria-label":`${y} estrella${y>1?"s":""}`,children:a.jsx(jr,{className:`
                  w-full h-full transition-all duration-150
                  ${m||k&&y<=o?"fill-current":""}
                `})},y)})}),s&&a.jsx("span",{className:`ml-2 text-gray-600 dark:text-gray-400 ${d[n]}`,children:g>0?a.jsxs(a.Fragment,{children:[g.toFixed(1)," de 5 estrella",g!==1?"s":""]}):"Sin calificaciones"}),!r&&o>0&&a.jsxs("span",{className:`ml-2 text-yellow-600 dark:text-yellow-400 font-medium ${d[n]}`,children:[o," estrella",o>1?"s":""]})]})},b0=({src:e,alt:t,width:r,height:n,className:s="",priority:i=!1,placeholder:o,onLoad:l,onError:c})=>{const[d,u]=w.useState(!1),[h,f]=w.useState(i),[g,y]=w.useState(!1),m=w.useRef(null);w.useEffect(()=>{if(i)return;const _=m.current;if(!_)return;const N=new IntersectionObserver(([j])=>{j.isIntersecting&&(f(!0),N.disconnect())},{threshold:.1,rootMargin:"50px"});return N.observe(_),()=>N.disconnect()},[i]);const k=e.includes("cloudinary.com"),x=()=>{if(!k)return e;const _=e.split("/"),N=_.findIndex(I=>I==="upload");if(N===-1)return e;const j=_.slice(N+1).join("/"),P=_[3],S=[];r&&S.push(`w_${r}`),n&&S.push(`h_${n}`),S.push("f_auto","q_auto","c_fill");const T=S.join(",");return`https://res.cloudinary.com/${P}/image/upload/${T}/${j}`},p=()=>{u(!0),l==null||l()},v=()=>{y(!0),c==null||c()},b=`data:image/svg+xml;base64,${btoa(`
    <svg width="${r||300}" height="${n||200}" xmlns="http://www.w3.org/2000/svg">
      <rect width="100%" height="100%" fill="#f3f4f6"/>
      <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="14" fill="#9ca3af" text-anchor="middle" dy=".3em">
        Cargando...
      </text>
    </svg>
  `)}`;return a.jsxs("div",{ref:m,className:`relative overflow-hidden ${s}`,style:{width:r?`${r}px`:"100%",height:n?`${n}px`:"auto",minHeight:n?`${n}px`:"200px"},children:[!d&&!g&&a.jsx("div",{className:"absolute inset-0 bg-gray-100 dark:bg-gray-800 flex items-center justify-center transition-opacity duration-300",children:a.jsx("img",{src:o||b,alt:"Cargando...",className:"w-full h-full object-cover opacity-50"})}),h&&!g&&a.jsx("img",{src:x(),alt:t,width:r,height:n,className:`w-full h-full object-cover transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,loading:i?"eager":"lazy",decoding:"async",onLoad:p,onError:v}),g&&a.jsx("div",{className:"absolute inset-0 bg-gray-200 dark:bg-gray-700 flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[a.jsx("svg",{className:"w-12 h-12 mx-auto mb-2",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),a.jsx("p",{className:"text-sm",children:"Error al cargar imagen"})]})})]})};async function f4(e,t=50){try{const{data:r,error:n}=await ae.from("pedidos").select("*").eq("usuario_id",e).order("created_at",{ascending:!1}).limit(t);return n?(console.error("Error fetching user orders:",n),{data:null,error:n.message}):{data:r,error:null}}catch(r){return console.error("Unexpected error fetching orders:",r),{data:null,error:"Error inesperado al obtener los pedidos"}}}async function m4(e,t){try{const{data:r,error:n}=await ae.from("pedidos").select("id, items").eq("usuario_id",e).eq("estado","entregado");if(n)return console.error("Error checking user purchases:",n),{purchased:!1,error:n.message};for(const s of r)if((Array.isArray(s.items)?s.items:[]).some(l=>l.id===t))return{purchased:!0,pedido_id:s.id,error:null};return{purchased:!1,error:null}}catch(r){return console.error("Unexpected error checking purchases:",r),{purchased:!1,error:"Error inesperado al verificar compras"}}}const Gb=async(e,t)=>{try{const r=await m4(e,t);if(r.error)return console.error("Error al verificar compras:",r.error),{can_review:!1,message:"Error al verificar historial de compras"};if(!r.purchased)return{can_review:!1,message:"Debes haber comprado este producto para poder reseñarlo"};const{data:n,error:s}=await ae.from("resenas").select("id").eq("usuario_id",e).eq("producto_id",t).single();return s&&s.code!=="PGRST116"?(console.error("Error al verificar reseña existente:",s),{can_review:!1,message:"Error al verificar reseñas existentes"}):n?{can_review:!1,message:"Ya has creado una reseña para este producto"}:{can_review:!0,message:"Puedes crear una reseña para este producto",pedido_id:r.pedido_id}}catch(r){return console.error("Error en canUserReviewProduct:",r),{can_review:!1,message:"Error interno del servidor"}}},p4=async(e,t)=>{try{const r=await Gb(e,t.producto_id);if(!r.can_review)return{success:!1,error:r.message};const{data:n,error:s}=await ae.from("resenas").insert({usuario_id:e,producto_id:t.producto_id,pedido_id:t.pedido_id,calificacion:t.calificacion,comentario:t.comentario||null}).select(`
        *,
        usuario:usuarios(nombre, apellido)
      `).single();return s?(console.error("Error al crear reseña:",s),{success:!1,error:"Error al crear la reseña"}):{success:!0,review:n}}catch(r){return console.error("Error en createReview:",r),{success:!1,error:"Error interno del servidor"}}},g4=async(e,t=10,r=0)=>{try{const{data:n,error:s}=await ae.from("resenas").select(`
        *,
        usuario:usuarios(nombre, apellido)
      `).eq("producto_id",e).order("created_at",{ascending:!1}).range(r,r+t-1);if(s)return console.error("Error al obtener reseñas:",s),{reviews:[],total:0};const{count:i}=await ae.from("resenas").select("*",{count:"exact",head:!0}).eq("producto_id",e);return{reviews:n||[],total:i||0}}catch(n){return console.error("Error en getProductReviews:",n),{reviews:[],total:0}}},Jb=async e=>{try{const{data:t,error:r}=await ae.from("resenas").select("calificacion").eq("producto_id",e);if(r)return console.error("Error al obtener estadísticas de reseñas:",r),{promedio:0,total:0,distribucion:{cinco:0,cuatro:0,tres:0,dos:0,uno:0}};if(!t||t.length===0)return{promedio:0,total:0,distribucion:{cinco:0,cuatro:0,tres:0,dos:0,uno:0}};const n=t.length,i=t.reduce((l,c)=>l+c.calificacion,0)/n,o={cinco:t.filter(l=>l.calificacion===5).length,cuatro:t.filter(l=>l.calificacion===4).length,tres:t.filter(l=>l.calificacion===3).length,dos:t.filter(l=>l.calificacion===2).length,uno:t.filter(l=>l.calificacion===1).length};return{promedio:Math.round(i*10)/10,total:n,distribucion:o}}catch(t){return console.error("Error en getProductReviewStats:",t),{promedio:0,total:0,distribucion:{cinco:0,cuatro:0,tres:0,dos:0,uno:0}}}},x4=async(e,t)=>{try{const{error:r}=await ae.from("resenas").delete().eq("id",e).eq("usuario_id",t);return r?(console.error("Error al eliminar reseña:",r),{success:!1,error:"Error al eliminar la reseña"}):{success:!0}}catch(r){return console.error("Error en deleteReview:",r),{success:!1,error:"Error interno del servidor"}}},y4=async(e,t)=>{try{const{data:r,error:n}=await ae.from("resenas").select(`
        *,
        usuario:usuarios(nombre, apellido)
      `).eq("usuario_id",e).eq("producto_id",t).single();return n&&n.code!=="PGRST116"?(console.error("Error al obtener reseña del usuario:",n),null):r||null}catch(r){return console.error("Error en getUserReviewForProduct:",r),null}},v4=e=>cb({queryKey:Oe.reviews.stat(e),queryFn:()=>Jb(e),...db.static,enabled:!!e}),Sm=w.memo(({producto:e,viewMode:t="grid"})=>{const{addToCart:r,items:n}=ns(),[s,i]=w.useState(!1),[o,l]=w.useState(null),{data:c={promedio:0,total:0,distribucion:{cinco:0,cuatro:0,tres:0,dos:0,uno:0}}}=v4(e.id),d=w.useMemo(()=>{const f=n.find(k=>k.producto.id===e.id),g=f?f.cantidad:0,y=e.stock-g,m=y<=0;return{existingItem:f,currentQuantityInCart:g,availableStock:y,isOutOfStock:m}},[n,e.id,e.stock]),u=w.useMemo(()=>new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN"}).format(e.precio),[e.precio]),h=w.useCallback(async f=>{if(f.preventDefault(),f.stopPropagation(),!s){i(!0),l(null);try{if(d.currentQuantityInCart>=e.stock){l("Sin stock disponible"),setTimeout(()=>l(null),2e3);return}r(e),l("¡Agregado al carrito!"),setTimeout(()=>l(null),1500)}catch{l("Error al agregar"),setTimeout(()=>l(null),2e3)}finally{i(!1)}}},[s,d.currentQuantityInCart,e,r]);return t==="list"?a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg hover:shadow-xl dark:hover:shadow-gray-700/50 transition-all duration-300 overflow-hidden relative",children:[o&&a.jsx("div",{className:`absolute top-4 left-4 z-10 text-sm font-medium px-3 py-2 rounded-lg shadow-lg ${o.includes("Error")||o.includes("Sin stock")?"bg-red-100 text-red-800 border border-red-200":"bg-green-100 text-green-800 border border-green-200"}`,children:o}),a.jsx(ce,{to:`/producto/${e.id}`,children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"w-48 h-48 flex-shrink-0 overflow-hidden",children:a.jsx(b0,{src:e.imagen,alt:e.nombre,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-500",priority:!1})}),a.jsxs("div",{className:"flex-1 p-6 flex flex-col justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsx("h3",{className:"text-xl font-bold text-gris-oscuro dark:text-gray-100 line-clamp-2 flex-1",children:e.nombre}),a.jsxs("div",{className:"ml-4 text-right",children:[a.jsx("div",{className:"text-2xl font-bold text-dorado dark:text-yellow-400 mb-1",children:u}),a.jsxs("div",{className:"flex items-center justify-end mb-2",children:[a.jsx(Ht,{rating:c.promedio,readonly:!0,size:"sm"}),c.total>0&&a.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 ml-2",children:["(",c.promedio.toFixed(1),")"]})]})]})]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4 line-clamp-3 leading-relaxed",children:e.descripcion}),a.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[a.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300",children:e.categoria}),a.jsx("span",{className:`text-sm font-semibold px-2 py-1 rounded-md ${d.availableStock>0?d.availableStock>10?"text-green-700 dark:text-green-400 bg-green-50 dark:bg-green-900/30":"text-yellow-700 dark:text-yellow-400 bg-yellow-50 dark:bg-yellow-900/30":"text-red-700 dark:text-red-400 bg-red-50 dark:bg-red-900/30"}`,children:d.availableStock>0?d.availableStock>10?`${d.availableStock} disponibles`:`¡Solo quedan ${d.availableStock}!`:"Sin stock"}),d.currentQuantityInCart>0&&a.jsxs("span",{className:"text-sm text-blue-700 dark:text-blue-400 font-semibold bg-blue-50 dark:bg-blue-900/30 px-2 py-1 rounded-md",children:[d.currentQuantityInCart," en carrito"]})]})]}),a.jsx("div",{children:a.jsxs("button",{onClick:h,disabled:d.isOutOfStock||s,className:"w-full btn-primary py-3 flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed text-base font-semibold",children:[a.jsx(zr,{className:"w-5 h-5"}),a.jsx("span",{children:s?"Agregando...":d.isOutOfStock?"Sin Stock":"Agregar al carrito"})]})})]})]})})]}):a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg hover:shadow-xl dark:hover:shadow-gray-700/50 transition-all duration-300 overflow-hidden group relative",children:[o&&a.jsx("div",{className:`absolute top-3 left-3 right-3 z-10 text-xs font-medium px-3 py-2 rounded-lg shadow-lg ${o.includes("Error")||o.includes("Sin stock")?"bg-red-100 text-red-800 border border-red-200":"bg-green-100 text-green-800 border border-green-200"}`,children:o}),a.jsxs(ce,{to:`/producto/${e.id}`,children:[a.jsxs("div",{className:"aspect-square overflow-hidden relative",children:[a.jsx(b0,{src:e.imagen,alt:e.nombre,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",priority:!1}),a.jsx("div",{className:"absolute top-3 right-3",children:a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-white/90 dark:bg-gray-800/90 text-gray-700 dark:text-gray-300 shadow-sm",children:e.categoria})})]}),a.jsxs("div",{className:"p-5",children:[a.jsx("h3",{className:"font-bold text-lg text-gris-oscuro dark:text-gray-100 mb-2 line-clamp-2 leading-tight",children:e.nombre}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 line-clamp-2 leading-relaxed",children:e.descripcion}),a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(Ht,{rating:c.promedio,readonly:!0,size:"sm"}),c.total>0&&a.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:["(",c.promedio.toFixed(1),")"]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"text-center sm:text-left mb-2",children:a.jsx("span",{className:"text-xl font-bold text-dorado dark:text-yellow-400",children:u})}),a.jsxs("div",{className:"flex flex-col items-center sm:flex-row sm:justify-between",children:[a.jsx("div",{className:"sm:flex-1"}),a.jsxs("div",{className:"text-center sm:text-right",children:[a.jsx("span",{className:`text-sm font-semibold px-2 py-1 rounded-md ${d.availableStock>0?d.availableStock>10?"text-green-700 dark:text-green-400 bg-green-50 dark:bg-green-900/30":"text-yellow-700 dark:text-yellow-400 bg-yellow-50 dark:bg-yellow-900/30":"text-red-700 dark:text-red-400 bg-red-50 dark:bg-red-900/30"}`,children:d.availableStock>0?d.availableStock>10?`${d.availableStock} disponibles`:`¡Solo ${d.availableStock}!`:"Sin stock"}),d.currentQuantityInCart>0&&a.jsxs("div",{className:"text-xs text-blue-700 dark:text-blue-400 font-semibold mt-1 bg-blue-50 dark:bg-blue-900/30 px-2 py-1 rounded-md",children:[d.currentQuantityInCart," en carrito"]})]})]})]}),a.jsx("div",{children:a.jsxs("button",{onClick:h,disabled:d.isOutOfStock||s,className:"w-full btn-primary py-2.5 flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-semibold",children:[a.jsx(zr,{className:"w-4 h-4"}),a.jsx("span",{children:s?"Agregando...":d.isOutOfStock?"Sin Stock":"Agregar"})]})})]})]})]})});Sm.displayName="ProductCard";const b4=()=>{const[e,t]=w.useState([]),[r,n]=w.useState(!0),[s,i]=w.useState(null);w.useEffect(()=>{(async()=>{try{n(!0),i(null);let c=ae.from("productos").select("*").gt("stock",0),{data:d,error:u}=await c.order("created_at",{ascending:!1}).limit(8);if(u){const{data:h,error:f}=await c.limit(8);if(f){i("No se pudo cargar la informacion, intentalo mas tarde");return}d=h}t(d||[])}catch{i("Ocurrio un error inesperado al cargar los productos.")}finally{n(!1)}})()},[]);const o=[{icon:a.jsx($s,{className:"w-8 h-8"}),title:"Envio Rapido",description:"Entrega en 24-48 horas en El Agustino y Lima Este"},{icon:a.jsx(gd,{className:"w-8 h-8"}),title:"Compra Segura",description:"Pagos seguros con Mercado Pago"},{icon:a.jsx(zC,{className:"w-8 h-8"}),title:"Soporte 24/7",description:"Atencion al cliente siempre disponible"}];return a.jsxs("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 transition-colors duration-200",children:[a.jsxs("section",{className:"relative w-full h-96 overflow-hidden",children:[a.jsx("img",{src:"https://res.cloudinary.com/ddbjhpjri/image/upload/f_auto,q_auto,w_1920,h_400,c_fill,g_center/v1759101989/mercadillo/banner_v1.webp",alt:"Mercadillo Lima Peru Banner",className:"w-full h-full object-cover",onError:l=>{l.currentTarget.style.display="none";const c=l.currentTarget.nextElementSibling;c&&(c.style.display="flex")}}),a.jsx("div",{style:{display:"none"},className:"absolute inset-0 bg-gradient-to-r from-amarillo to-dorado dark:from-yellow-600 dark:to-yellow-400 flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-gris-oscuro",children:[a.jsx("div",{className:"text-6xl font-bold mb-4",children:"🏪"}),a.jsx("h2",{className:"text-2xl font-bold",children:"Mercadillo Lima Perú"})]})}),a.jsx("div",{className:"absolute inset-0 bg-gris-oscuro bg-opacity-50 dark:bg-black dark:bg-opacity-60 flex items-center justify-center text-center p-4",children:a.jsxs("div",{className:"max-w-3xl mx-auto",children:[a.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-blanco mb-4",children:"Bienvenido a Mercadillo El Agustino"}),a.jsx("p",{className:"text-xl md:text-2xl text-hueso dark:text-gray-200 mb-8",children:"Descubre los mejores productos de El Agustino, Lima Este. Calidad garantizada y envio rapido a toda Lima."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsxs(ce,{to:"/catalogo",className:"btn-primary text-lg px-8 py-3 flex items-center justify-center space-x-2",children:[a.jsx("span",{children:"Ver Catalogo"}),a.jsx(of,{className:"w-5 h-5"})]}),a.jsx(ce,{to:"/carrito",className:"bg-blanco dark:bg-gray-800 text-gris-oscuro dark:text-gray-200 hover:bg-hueso dark:hover:bg-gray-700 font-semibold py-3 px-8 rounded-lg transition-colors duration-200 text-lg",children:"Mi Carrito"})]})]})})]}),a.jsx("section",{className:"py-16 bg-blanco dark:bg-gray-800 transition-colors duration-200",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:o.map((l,c)=>a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-amarillo dark:bg-yellow-500 rounded-full flex items-center justify-center mx-auto mb-4 text-gris-oscuro dark:text-gray-900",children:l.icon}),a.jsx("h3",{className:"text-xl font-semibold text-gris-oscuro dark:text-gray-100 mb-2",children:l.title}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:l.description})]},c))})})}),a.jsx("section",{className:"py-16 bg-hueso dark:bg-gray-900 transition-colors duration-200",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"Productos Destacados"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"Descubre nuestra seleccion de productos mas populares y mejor valorados"})]}),r?a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amarillo dark:border-yellow-500"})}):s?a.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center bg-red-100 dark:bg-red-900 rounded-lg shadow-md max-w-md mx-auto",children:[a.jsx("p",{className:"text-xl font-semibold text-red-800 dark:text-red-200 mb-4",children:"⚠️ Error al cargar productos"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:s}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Por favor, verifica tu conexion a internet o intentalo de nuevo mas tarde."})]}):a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map(l=>a.jsx(Sm,{producto:l},l.id))}),a.jsx("div",{className:"text-center mt-12",children:a.jsxs(ce,{to:"/catalogo",className:"btn-primary text-lg px-8 py-3 inline-flex items-center space-x-2",children:[a.jsx("span",{children:"Ver Todos los Productos"}),a.jsx(of,{className:"w-5 h-5"})]})})]})}),a.jsx("section",{className:"py-16 bg-blanco dark:bg-gray-800 transition-colors duration-200",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("div",{className:"text-center mb-12",children:a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"Lo que dicen nuestros clientes"})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{name:"Maria Gonzalez",location:"El Agustino, Lima",rating:5,comment:"Excelente servicio y productos de calidad. El envio fue super rapido aqui en El Agustino."},{name:"Carlos Mendoza",location:"Santa Anita, Lima",rating:5,comment:"Muy buena experiencia de compra. Me llego rapidisimo desde El Agustino."},{name:"Ana Rodriguez",location:"San Juan de Lurigancho, Lima",rating:5,comment:"Productos autenticos y precios justos. Perfecto para la zona de Lima Este."}].map((l,c)=>a.jsxs("div",{className:"card p-6",children:[a.jsx("div",{className:"flex items-center mb-4",children:[...Array(l.rating)].map((d,u)=>a.jsx(jr,{className:"w-5 h-5 text-amarillo dark:text-yellow-500 fill-current"},u))}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4 italic",children:['"',l.comment,'"']}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gris-oscuro dark:text-gray-100",children:l.name}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:l.location})]})]},c))})]})})]})},w4=()=>{const[e,t]=w.useState([]),[r,n]=w.useState([]),[s,i]=w.useState(!0),[o,l]=w.useState(null),[c,d]=w.useState(""),[u,h]=w.useState(""),[f,g]=w.useState("nombre"),[y,m]=w.useState("grid"),[k,x]=w.useState(!1),[p,v]=w.useState({min:"",max:""}),[b,_]=td(),N=[{name:"Todos",icon:xd,value:""},{name:"Electrónicos",icon:Hb,value:"Electrónicos"},{name:"Ropa",icon:YC,value:"Ropa"},{name:"Hogar",icon:Bo,value:"Hogar"},{name:"Deportes",icon:LC,value:"Deportes"},{name:"Libros",icon:CC,value:"Libros"},{name:"Otros",icon:qe,value:"Otros"}];w.useEffect(()=>{const S=b.get("search");S&&d(S)},[b]),w.useEffect(()=>{(async()=>{try{i(!0),l(null);let T=ae.from("productos").select("*").gt("stock",0),{data:I,error:z}=await T.order("created_at",{ascending:!1});if(z){const{data:J,error:Y}=await T;if(Y){l("No se pudo cargar la información del catálogo, inténtalo más tarde"),t([]),n([]);return}I=J}t(I||[]),n(I||[])}catch(T){console.error("Error en fetchProductos en Catalog:",T),l("Ocurrió un error inesperado al cargar el catálogo."),t([]),n([])}finally{i(!1)}})()},[]),w.useEffect(()=>{let S=e;c&&(S=S.filter(T=>T.nombre.toLowerCase().includes(c.toLowerCase())||T.descripcion.toLowerCase().includes(c.toLowerCase()))),u&&(S=S.filter(T=>T.categoria===u)),p.min&&(S=S.filter(T=>T.precio>=parseFloat(p.min))),p.max&&(S=S.filter(T=>T.precio<=parseFloat(p.max))),S=[...S].sort((T,I)=>{let z=0;switch(f){case"precio-asc":z=T.precio-I.precio;break;case"precio-desc":z=I.precio-T.precio;break;case"nombre":z=T.nombre.localeCompare(I.nombre,"es",{sensitivity:"base"});break;case"stock":z=I.stock-T.stock;break;case"newest":const J=new Date(T.created_at||"").getTime();z=new Date(I.created_at||"").getTime()-J;break;default:z=T.nombre.localeCompare(I.nombre,"es",{sensitivity:"base"});break}return z}),n(S)},[e,c,u,f,p]);const j=Array.from(new Set(e.map(S=>S.categoria))),P=()=>{d(""),h(""),v({min:"",max:""}),_({})};return s?a.jsx("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 flex items-center justify-center transition-colors duration-200",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-amarillo dark:border-yellow-500"})}):a.jsx("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 transition-colors duration-200",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"py-8 text-center",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"Nuestros Productos"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"Descubre los mejores productos de Lima, Perú. Calidad garantizada y envío rápido."})]}),o&&a.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center bg-red-100 dark:bg-red-900 rounded-lg shadow-md max-w-md mx-auto my-4",children:[a.jsx("p",{className:"text-xl font-semibold text-red-800 dark:text-red-200 mb-4",children:"⚠️ Error al cargar el catálogo"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:o}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Por favor, verifica tu conexión a internet o inténtalo de nuevo más tarde."})]}),a.jsx("div",{className:"mb-8",children:a.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-6",children:N.map(({name:S,icon:T,value:I})=>a.jsxs("button",{onClick:()=>h(I),className:`flex flex-col items-center p-4 rounded-xl transition-all duration-200 min-w-[100px] ${u===I?"bg-amarillo dark:bg-yellow-500 text-gris-oscuro dark:text-gray-900 shadow-lg transform scale-105":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 shadow-md hover:shadow-lg"}`,children:[a.jsx(T,{className:"w-8 h-8 mb-2"}),a.jsx("span",{className:"text-sm font-medium",children:S})]},S))})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 mb-8 transition-colors duration-200",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[a.jsx(df,{value:c,onChange:d,onSearch:S=>{S.trim()?_({search:S.trim()}):_({})},productos:e,placeholder:"¿Qué estás buscando hoy?"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:()=>x(!k),className:"flex items-center space-x-2 px-4 py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200",children:[a.jsx(XC,{className:"w-5 h-5"}),a.jsx("span",{className:"hidden sm:inline",children:"Filtros"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>m("grid"),className:`p-3 rounded-xl transition-colors duration-200 ${y==="grid"?"bg-amarillo dark:bg-yellow-500 text-gris-oscuro dark:text-gray-900":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:a.jsx(DC,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>m("list"),className:`p-3 rounded-xl transition-colors duration-200 ${y==="list"?"bg-amarillo dark:bg-yellow-500 text-gris-oscuro dark:text-gray-900":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:a.jsx($C,{className:"w-5 h-5"})})]})]})]}),k&&a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gris-oscuro dark:text-gray-200 mb-3",children:"Rango de Precio"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"flex-1",children:a.jsx("input",{type:"number",placeholder:"Min",value:p.min,onChange:S=>v(T=>({...T,min:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-amarillo dark:focus:ring-yellow-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})}),a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"—"}),a.jsx("div",{className:"flex-1",children:a.jsx("input",{type:"number",placeholder:"Max",value:p.max,onChange:S=>v(T=>({...T,max:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-amarillo dark:focus:ring-yellow-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gris-oscuro dark:text-gray-200 mb-3",children:"Categoría"}),a.jsxs("select",{value:u,onChange:S=>h(S.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-amarillo dark:focus:ring-yellow-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[a.jsx("option",{value:"",children:"Todas las categorías"}),j.map(S=>a.jsx("option",{value:S,children:S},S))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gris-oscuro dark:text-gray-200 mb-3",children:"Ordenar por"}),a.jsxs("select",{value:f,onChange:S=>g(S.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-amarillo dark:focus:ring-yellow-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[a.jsx("option",{value:"nombre",children:"📝 A-Z (Alfabético)"}),a.jsx("option",{value:"precio-asc",children:"💰 Precio: Menor → Mayor"}),a.jsx("option",{value:"precio-desc",children:"💎 Precio: Mayor → Menor"}),a.jsx("option",{value:"newest",children:"🆕 Más Recientes Primero"}),a.jsx("option",{value:"stock",children:"📦 Mayor Stock Disponible"})]})]})]}),a.jsx("div",{className:"flex justify-end mt-6",children:a.jsxs("button",{onClick:P,className:"flex items-center space-x-2 px-4 py-2 text-sm text-gray-600 dark:text-gray-400 hover:text-gris-oscuro dark:hover:text-gray-200 transition-colors duration-200",children:[a.jsx(Wo,{className:"w-4 h-4"}),a.jsx("span",{children:"Limpiar filtros"})]})})]})]}),a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[a.jsx("span",{className:"font-semibold text-gris-oscuro dark:text-gray-200",children:r.length})," ","de"," ",a.jsx("span",{className:"font-semibold text-gris-oscuro dark:text-gray-200",children:e.length})," ","productos"]}),u&&a.jsxs("p",{className:"text-sm text-amarillo dark:text-yellow-400 mt-1",children:["Categoría: ",a.jsx("span",{className:"font-medium",children:u})]})]}),a.jsxs("div",{className:"hidden md:flex items-center space-x-2 bg-green-100 dark:bg-green-900/30 px-3 py-1 rounded-full",children:[a.jsx(jr,{className:"w-4 h-4 text-green-600 dark:text-green-400 fill-current"}),a.jsx("span",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"Calidad garantizada"})]})]}),r.length===0?a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"text-8xl mb-6",children:"🔍"}),a.jsx("h3",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"No encontramos productos"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 max-w-md mx-auto",children:"Intenta ajustar tus filtros de búsqueda o explora nuestras categorías más populares."}),a.jsx("button",{onClick:P,className:"btn-primary px-6 py-3",children:"Ver todos los productos"})]}):a.jsx("div",{className:`grid gap-6 pb-12 ${y==="grid"?"grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"grid-cols-1 max-w-4xl mx-auto"}`,children:r.map(S=>a.jsx("div",{className:"transform hover:scale-105 transition-transform duration-200",children:a.jsx(Sm,{producto:S,viewMode:y})},S.id))})]})})},Yb=({productId:e,onReviewCreated:t,onCancel:r,skipPurchaseValidation:n=!1})=>{const{user:s}=Ct(),[i,o]=w.useState(0),[l,c]=w.useState(""),[d,u]=w.useState(!1),[h,f]=w.useState(""),[g,y]=w.useState(null),[m,k]=w.useState(""),[x,p]=w.useState(!0);O.useEffect(()=>{(async()=>{if(!(s!=null&&s.id))return;if(n){y(!0),k("test-order-id"),p(!1);return}p(!0);const N=await Gb(s.id,e);y(N.can_review),k(N.pedido_id||""),N.can_review||f(N.message),p(!1)})()},[s==null?void 0:s.id,e,n]);const v=async _=>{if(_.preventDefault(),!(s!=null&&s.id)){f("Debes estar autenticado para crear una reseña");return}if(i===0){f("Debes seleccionar una calificación");return}if(!m){f("No se encontró el pedido asociado");return}u(!0),f("");const N={producto_id:e,pedido_id:m,calificacion:i,comentario:l.trim()||void 0},j=await p4(s.id,N);j.success?(o(0),c(""),t&&t()):f(j.error||"Error al crear la reseña"),u(!1)},b=()=>{o(0),c(""),f(""),r&&r()};return s?x?a.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-600 rounded w-3/4 mb-4"}),a.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-600 rounded w-1/2"})]})}):g===!1?a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Cc,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),a.jsx("p",{className:"text-red-800 dark:text-red-200",children:h})]})}):a.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6 shadow-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(mo,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Escribe tu reseña"})]}),a.jsxs("form",{onSubmit:v,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gris-oscuro dark:text-gray-200 mb-2",children:"Calificación *"}),a.jsx("div",{className:"mb-2",children:a.jsx(Ht,{rating:i,onRatingChange:o,size:"lg",showText:!1})}),i>0&&a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Has seleccionado ",i," de 5 estrella",i!==1?"s":""]}),i===0&&a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Haz clic en las estrellas para calificar"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gris-oscuro dark:text-gray-200 mb-2",children:"Comentario (opcional)"}),a.jsx("textarea",{value:l,onChange:_=>c(_.target.value),placeholder:"Cuéntanos qué te pareció este producto...",rows:4,maxLength:500,className:`\r
              w-full px-3 py-2 \r
              border border-gray-300 dark:border-gray-600 \r
              rounded-lg\r
              bg-white dark:bg-gray-700\r
              text-gris-oscuro dark:text-gray-100\r
              placeholder-gray-500 dark:placeholder-gray-400\r
              focus:ring-2 focus:ring-azul dark:focus:ring-blue-500 focus:border-transparent\r
              resize-none\r
            `}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[l.length,"/500 caracteres"]})]}),h&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:a.jsx("p",{className:"text-red-800 dark:text-red-200 text-sm",children:h})}),a.jsxs("div",{className:"flex gap-3 pt-2",children:[a.jsxs("button",{type:"submit",disabled:d||i===0,className:`\r
              flex items-center gap-2 px-6 py-3\r
              bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600\r
              disabled:bg-gray-400 disabled:cursor-not-allowed\r
              text-white font-semibold\r
              rounded-lg shadow-md hover:shadow-lg\r
              transition-all duration-200\r
              focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50\r
              border border-blue-700 dark:border-blue-400\r
            `,children:[a.jsx(qb,{className:"w-5 h-5"}),d?"Enviando...":"Enviar reseña"]}),r&&a.jsx("button",{type:"button",onClick:b,disabled:d,className:`\r
                px-6 py-3\r
                border-2 border-gray-400 dark:border-gray-500\r
                bg-white dark:bg-gray-800\r
                text-gray-700 dark:text-gray-200 font-semibold\r
                hover:bg-gray-100 dark:hover:bg-gray-700\r
                hover:border-gray-500 dark:hover:border-gray-400\r
                disabled:opacity-50 disabled:cursor-not-allowed\r
                rounded-lg shadow-md hover:shadow-lg\r
                transition-all duration-200\r
                focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50\r
              `,children:"Cancelar"})]})]})]}):a.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Cc,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"}),a.jsx("p",{className:"text-yellow-800 dark:text-yellow-200",children:"Debes iniciar sesión para escribir una reseña"})]})})},Xb=({productId:e,refreshTrigger:t=0})=>{const{user:r}=Ct(),[n,s]=w.useState([]),[i,o]=w.useState(null),[l,c]=w.useState(!0),[d,u]=w.useState(""),[h,f]=w.useState(!1),[g,y]=w.useState(1),[m,k]=w.useState(0),x=5,p=async()=>{c(!0);try{const j=(g-1)*x,{reviews:P,total:S}=await g4(e,x,j);if(s(P),k(S),r!=null&&r.id){const T=await y4(r.id,e);o(T)}}catch(j){console.error("Error loading reviews:",j)}finally{c(!1)}};w.useEffect(()=>{p()},[e,g,r==null?void 0:r.id,t]);const v=async j=>{if(!(r!=null&&r.id)||!window.confirm("¿Estás seguro de que quieres eliminar tu reseña?"))return;u(j);const S=await x4(j,r.id);S.success?await p():alert(S.error||"Error al eliminar la reseña"),u("")},b=()=>{f(!1),p()},_=j=>new Date(j).toLocaleDateString("es-PE",{year:"numeric",month:"long",day:"numeric"}),N=Math.ceil(m/x);return l&&g===1?a.jsx("div",{className:"space-y-4",children:[1,2,3].map(j=>a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gray-200 dark:bg-gray-600 rounded-full"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-600 rounded w-1/4 mb-2"}),a.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-600 rounded w-1/3"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-600 rounded w-full"}),a.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-600 rounded w-3/4"})]})]})},j))}):a.jsxs("div",{className:"space-y-6",children:[r&&!i&&!h&&a.jsx("div",{className:"text-center",children:a.jsxs("button",{onClick:()=>f(!0),className:`\r
              inline-flex items-center gap-2 px-6 py-3\r
              bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600\r
              text-white font-semibold\r
              rounded-lg shadow-md hover:shadow-lg\r
              transition-all duration-200\r
              focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50\r
              border border-blue-700 dark:border-blue-400\r
            `,children:[a.jsx(mo,{className:"w-5 h-5"}),"Escribir reseña"]})}),h&&a.jsx(Yb,{productId:e,onReviewCreated:b,onCancel:()=>f(!1)}),i&&a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:a.jsx(Xn,{className:"w-4 h-4 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Tu reseña"}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-700 dark:text-blue-300",children:[a.jsx(Tc,{className:"w-3 h-3"}),_(i.created_at)]})]})]}),a.jsx("button",{onClick:()=>v(i.id),disabled:d===i.id,className:`\r
                p-1 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-200\r
                disabled:opacity-50 disabled:cursor-not-allowed\r
                rounded transition-colors duration-200\r
                focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50\r
              `,title:"Eliminar reseña",children:a.jsx(Hs,{className:"w-4 h-4"})})]}),a.jsx(Ht,{rating:i.calificacion,readonly:!0,size:"sm"}),i.comentario&&a.jsx("p",{className:"mt-3 text-blue-800 dark:text-blue-200",children:i.comentario})]}),n.length>0?a.jsx("div",{className:"space-y-4",children:n.map(j=>{var P,S;return a.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gray-500 rounded-full flex items-center justify-center",children:a.jsx(Xn,{className:"w-4 h-4 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"font-medium text-gris-oscuro dark:text-gray-100",children:[(P=j.usuario)==null?void 0:P.nombre," ",(S=j.usuario)==null?void 0:S.apellido]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[a.jsx(Tc,{className:"w-3 h-3"}),_(j.created_at)]})]})]}),a.jsx(Ht,{rating:j.calificacion,readonly:!0,size:"sm"}),j.comentario&&a.jsx("p",{className:"mt-3 text-gris-oscuro dark:text-gray-200",children:j.comentario})]},j.id)})}):!h&&!i&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(mo,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-2",children:"Aún no hay reseñas para este producto"}),a.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:"Sé el primero en compartir tu opinión"})]}),N>1&&a.jsxs("div",{className:"flex justify-center items-center gap-2 mt-6",children:[a.jsx("button",{onClick:()=>y(j=>Math.max(1,j-1)),disabled:g===1||l,className:`\r
              px-3 py-1 text-sm\r
              border border-gray-300 dark:border-gray-600\r
              text-gris-oscuro dark:text-gray-200\r
              hover:bg-gray-50 dark:hover:bg-gray-700\r
              disabled:opacity-50 disabled:cursor-not-allowed\r
              rounded transition-colors duration-200\r
            `,children:"Anterior"}),a.jsxs("span",{className:"px-3 py-1 text-sm text-gray-600 dark:text-gray-400",children:["Página ",g," de ",N]}),a.jsx("button",{onClick:()=>y(j=>Math.min(N,j+1)),disabled:g===N||l,className:`\r
              px-3 py-1 text-sm\r
              border border-gray-300 dark:border-gray-600\r
              text-gris-oscuro dark:text-gray-200\r
              hover:bg-gray-50 dark:hover:bg-gray-700\r
              disabled:opacity-50 disabled:cursor-not-allowed\r
              rounded transition-colors duration-200\r
            `,children:"Siguiente"})]})]})};async function k4(e){try{const{data:t,error:r}=await ae.from("lista_deseos").select(`
        *,
        producto:productos(id, nombre, precio, imagen, stock)
      `).eq("usuario_id",e).order("created_at",{ascending:!1});return r?(console.error("Error fetching wishlist:",r),{data:null,error:r.message}):{data:t,error:null}}catch(t){return console.error("Unexpected error fetching wishlist:",t),{data:null,error:"Error inesperado al obtener lista de deseos"}}}async function j4(e,t){try{const{error:r}=await ae.from("lista_deseos").delete().eq("usuario_id",e).eq("producto_id",t);return r?(console.error("Error removing from wishlist:",r),{success:!1,error:r.message}):{success:!0,error:null}}catch(r){return console.error("Unexpected error removing from wishlist:",r),{success:!1,error:"Error inesperado al remover de lista de deseos"}}}async function _4(e,t=20){try{const{data:r,error:n}=await ae.from("historial_navegacion").select(`
        *,
        producto:productos(id, nombre, precio, imagen)
      `).eq("usuario_id",e).order("updated_at",{ascending:!1}).limit(t);return n?(console.error("Error fetching navigation history:",n),{data:null,error:n.message}):{data:r,error:null}}catch(r){return console.error("Unexpected error fetching navigation history:",r),{data:null,error:"Error inesperado al obtener historial"}}}async function N4(e,t){try{console.log(`Intentando agregar al historial: usuario=${e}, producto=${t}`);try{console.log("Intento 1: Llamando a RPC actualizar_historial_navegacion");const{data:r,error:n}=await ae.rpc("actualizar_historial_navegacion",{p_usuario_id:e,p_producto_id:t});if(n)throw console.error("Error en RPC:",n.message),n;return console.log("RPC exitoso:",r),{success:!0,error:null}}catch(r){console.warn("RPC falló, intentando métodos alternativos:",r),console.log("Intento 2: Inserción directa usando fetch API");try{const n=await fetch("https://xwubnuokmfghtyyfpgtl.supabase.co/rest/v1/historial_navegacion",{method:"POST",headers:{"Content-Type":"application/json",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh3dWJudW9rbWZnaHR5eWZwZ3RsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY5NTA3NTEsImV4cCI6MjA3MjUyNjc1MX0.H2x6CfC2z2ttnghuZvGpIdGlvUWlYy5GWjpR6Ok5SbA",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh3dWJudW9rbWZnaHR5eWZwZ3RsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY5NTA3NTEsImV4cCI6MjA3MjUyNjc1MX0.H2x6CfC2z2ttnghuZvGpIdGlvUWlYy5GWjpR6Ok5SbA",Prefer:"resolution=merge-duplicates"},body:JSON.stringify({usuario_id:e,producto_id:t,updated_at:new Date().toISOString()})});if(n.ok)return console.log("Fetch API exitoso"),{success:!0,error:null};const s=await n.text();console.error("Error en fetch API:",n.status,s)}catch(n){console.error("Error en fetch:",n)}console.log("Intento 3: UPSERT usando Supabase client");try{const{data:n,error:s}=await ae.from("historial_navegacion").upsert({usuario_id:e,producto_id:t,updated_at:new Date().toISOString()},{onConflict:"usuario_id,producto_id",ignoreDuplicates:!1});if(s){console.error("Error en UPSERT:",s.message),console.log("Intento 4: Inserción simple");const{data:i,error:o}=await ae.from("historial_navegacion").insert({usuario_id:e,producto_id:t,updated_at:new Date().toISOString()});return o?(console.error("Todos los métodos fallaron. Último error:",o.message),{success:!1,error:`Error: ${o.message}. El historial no se pudo guardar.`}):(console.log("Inserción simple exitosa:",i),{success:!0,error:null})}return console.log("UPSERT exitoso:",n),{success:!0,error:null}}catch(n){return console.error("Error en operaciones con Supabase client:",n),{success:!1,error:"Todos los métodos fallaron. El historial no se pudo guardar."}}}}catch(r){return console.error("Error general al agregar al historial de navegación:",r),{success:!1,error:"Error general. El historial no se pudo guardar."}}}async function S4(e){try{const{error:t}=await ae.from("historial_navegacion").delete().eq("usuario_id",e);return t?(console.error("Error clearing navigation history:",t),{success:!1,error:t.message}):{success:!0,error:null}}catch(t){return console.error("Unexpected error clearing navigation history:",t),{success:!1,error:"Error inesperado al limpiar historial"}}}async function Zb(e){try{const{data:t,error:r}=await ae.from("direcciones_usuario").select("*").eq("usuario_id",e).order("es_predeterminada",{ascending:!1}).order("created_at",{ascending:!1});return r?(console.error("Error fetching user addresses:",r),{data:null,error:r.message}):{data:t,error:null}}catch(t){return console.error("Unexpected error fetching addresses:",t),{data:null,error:"Error inesperado al obtener direcciones"}}}async function E4(e,t){try{const{data:r,error:n}=await ae.from("direcciones_usuario").insert([{usuario_id:e,...t,provincia:t.provincia||"Lima",departamento:t.departamento||"Lima"}]).select().single();return n?(console.error("Error creating address:",n),{data:null,error:n.message}):{data:r,error:null}}catch(r){return console.error("Unexpected error creating address:",r),{data:null,error:"Error inesperado al crear dirección"}}}async function w0(e,t){try{const{data:r,error:n}=await ae.from("direcciones_usuario").update(t).eq("id",e).select().single();return n?(console.error("Error updating address:",n),{data:null,error:n.message}):{data:r,error:null}}catch(r){return console.error("Unexpected error updating address:",r),{data:null,error:"Error inesperado al actualizar dirección"}}}async function P4(e){try{const{error:t}=await ae.from("direcciones_usuario").delete().eq("id",e);return t?(console.error("Error deleting address:",t),{success:!1,error:t.message}):{success:!0,error:null}}catch(t){return console.error("Unexpected error deleting address:",t),{success:!1,error:"Error inesperado al eliminar dirección"}}}const C4=()=>{const{id:e}=Q_(),t=Br(),{user:r}=Ct(),{addToCart:n,items:s}=ns(),[i,o]=w.useState(null),[l,c]=w.useState(!0),[d,u]=w.useState(1),[h,f]=w.useState(!1),[g,y]=w.useState(null),[m,k]=w.useState({promedio:0,total:0,distribucion:{cinco:0,cuatro:0,tres:0,dos:0,uno:0}}),[x]=w.useState(0);w.useEffect(()=>{(async()=>{if(e)try{const{data:P,error:S}=await ae.from("productos").select("*").eq("id",e).single();if(S){console.error("Error fetching product:",S),t("/catalogo");return}o(P);const T=await Jb(P.id);if(k(T),r!=null&&r.id)try{console.log("Intentando agregar al historial:",{userId:r.id,productId:P.id});const I=await N4(r.id,P.id);I.success?console.log("Producto agregado al historial de navegación exitosamente"):console.error("Error al agregar al historial:",I.error)}catch(I){console.error("Error inesperado al agregar al historial:",I)}}catch(P){console.error("Error in fetchProducto:",P),t("/catalogo")}finally{c(!1)}})()},[e,t]);const p=async()=>{if(i){f(!0),y(null);try{const j=s.find(I=>I.producto.id===i.id),P=j?j.cantidad:0,S=i.stock-P;if(d>S){y(`Solo ${S} unidades disponibles`),setTimeout(()=>y(null),3e3);return}n(i,d),y(`¡${d} producto${d>1?"s":""} agregado${d>1?"s":""} al carrito!`),setTimeout(()=>y(null),2e3);const T=S-d;d>=T&&u(1)}catch{y("Error al agregar al carrito"),setTimeout(()=>y(null),3e3)}finally{f(!1)}}},v=j=>new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN"}).format(j),b=i?s.find(j=>j.producto.id===i.id):null,_=b?b.cantidad:0,N=i?i.stock-_:0;return l?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-amarillo"})}):i?a.jsx("div",{className:"min-h-screen bg-hueso py-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[g&&a.jsx("div",{className:`mb-6 p-4 rounded-lg ${g.includes("Error")||g.includes("Solo")?"bg-red-100 text-red-800 border border-red-200":"bg-green-100 text-green-800 border border-green-200"}`,children:g}),a.jsx("div",{className:"mb-6",children:a.jsxs("button",{onClick:()=>t("/catalogo"),className:"flex items-center space-x-2 text-gray-600 hover:text-gris-oscuro transition-colors duration-200",children:[a.jsx(Db,{className:"w-5 h-5"}),a.jsx("span",{children:"Volver al catálogo"})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[a.jsx("div",{className:"space-y-4",children:a.jsx("div",{className:"aspect-square overflow-hidden rounded-lg bg-blanco",children:a.jsx("img",{src:i.imagen,alt:i.nombre,className:"w-full h-full object-cover"})})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gris-oscuro mb-2",children:i.nombre}),a.jsx("p",{className:"text-lg text-gray-600 mb-4",children:i.categoria}),a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx(Ht,{rating:m.promedio,readonly:!0,size:"md"}),a.jsx("span",{className:"text-gray-600",children:m.total>0?`(${m.promedio.toFixed(1)}) - ${m.total} reseña${m.total>1?"s":""}`:"Sin reseñas aún"})]})]}),a.jsxs("div",{className:"border-t border-b border-gray-200 py-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("span",{className:"text-3xl font-bold text-dorado",children:v(i.precio)}),a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${N>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:N>0?`${N} disponibles`:"Agotado"}),_>0&&a.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Ya tienes ",_," en tu carrito"]})]})]}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:i.descripcion})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("label",{className:"text-gris-oscuro dark:text-gray-200 font-medium",children:"Cantidad:"}),a.jsxs("div",{className:"flex items-center border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 shadow-sm",children:[a.jsx("button",{onClick:()=>u(Math.max(1,d-1)),className:"px-3 py-2 text-gray-600 dark:text-gray-400 hover:bg-amarillo hover:text-gris-oscuro dark:hover:bg-yellow-500 dark:hover:text-gray-900 disabled:hover:bg-transparent disabled:opacity-40 disabled:cursor-not-allowed transition-all duration-200 rounded-l-lg font-semibold text-lg",disabled:d<=1,children:"-"}),a.jsx("span",{className:"px-4 py-2 border-x border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-600 text-gris-oscuro dark:text-gray-200 font-medium min-w-[50px] text-center",children:d}),a.jsx("button",{onClick:()=>u(Math.min(N,d+1)),className:"px-3 py-2 text-gray-600 dark:text-gray-400 hover:bg-amarillo hover:text-gris-oscuro dark:hover:bg-yellow-500 dark:hover:text-gray-900 disabled:hover:bg-transparent disabled:opacity-40 disabled:cursor-not-allowed transition-all duration-200 rounded-r-lg font-semibold text-lg",disabled:d>=N,children:"+"})]}),a.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Máximo: ",N]})]}),a.jsxs("button",{onClick:p,disabled:N===0||h,className:"w-full btn-primary flex items-center justify-center space-x-2 py-4 text-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(zr,{className:"w-6 h-6"}),a.jsx("span",{children:h?"Agregando...":N>0?"Agregar al carrito":"Producto agotado"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 pt-6 border-t border-gray-200",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx($s,{className:"w-6 h-6 text-amarillo"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gris-oscuro",children:"Envío Gratis"}),a.jsx("p",{className:"text-sm text-gray-600",children:"En compras +S/50"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(gd,{className:"w-6 h-6 text-amarillo"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gris-oscuro",children:"Garantía"}),a.jsx("p",{className:"text-sm text-gray-600",children:"30 días"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Wb,{className:"w-6 h-6 text-amarillo"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gris-oscuro",children:"Devolución"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Fácil y rápida"})]})]})]})]})]}),a.jsx("div",{className:"mt-16",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100",children:"Reseñas del producto"}),m.total>0&&a.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[a.jsx(Ht,{rating:m.promedio,readonly:!0,size:"sm"}),a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[m.promedio.toFixed(1)," de 5 estrellas (",m.total," reseña",m.total>1?"s":"",")"]})]})]}),a.jsx("div",{className:"p-6",children:a.jsx(Xb,{productId:i.id,refreshTrigger:x})})]})})})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gris-oscuro mb-4",children:"Producto no encontrado"}),a.jsx("button",{onClick:()=>t("/catalogo"),className:"btn-primary",children:"Volver al catálogo"})]})})},T4=({className:e="w-full btn-primary text-center py-3 text-lg block",children:t="Proceder al Pago"})=>{const{user:r,isLoaded:n}=Ct(),s=Br(),i=()=>{if(n){if(!r){s("/sign-in",{state:{from:"/checkout",message:"Debes iniciar sesión para proceder con el pago"}});return}s("/checkout")}};return n?a.jsx("button",{onClick:i,className:e,children:a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx(zr,{className:"w-5 h-5"}),a.jsx("span",{children:t})]})}):a.jsx("button",{disabled:!0,className:`${e} disabled:opacity-50 disabled:cursor-not-allowed`,children:a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}),a.jsx("span",{children:"Cargando..."})]})})},R4=()=>{const{items:e,updateQuantity:t,removeFromCart:r,getSubtotal:n,getIGV:s,getTotal:i}=ns(),o=l=>new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN"}).format(l);return e.length===0?a.jsx("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 py-8 transition-colors duration-200",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"text-center py-16",children:[a.jsx(xd,{className:"w-24 h-24 text-gray-300 dark:text-gray-600 mx-auto mb-6"}),a.jsx("h1",{className:"text-3xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"Tu carrito está vacío"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-8",children:"Agrega algunos productos para comenzar tu compra"}),a.jsxs(ce,{to:"/catalogo",className:"btn-primary text-lg px-8 py-3 inline-flex items-center space-x-2",children:[a.jsx("span",{children:"Ver Catálogo"}),a.jsx(of,{className:"w-5 h-5"})]})]})})}):a.jsx("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 py-8 transition-colors duration-200",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gris-oscuro dark:text-gray-100 mb-8",children:"Mi Carrito"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2 space-y-4",children:e.map(l=>a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-20 h-20 overflow-hidden rounded-lg bg-gray-100 dark:bg-gray-700",children:a.jsx("img",{src:l.producto.imagen,alt:l.producto.nombre,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-gris-oscuro dark:text-gray-100 mb-1",children:l.producto.nombre}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:l.producto.categoria}),a.jsx("p",{className:"text-lg font-bold text-dorado dark:text-yellow-400",children:o(l.producto.precio)})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"flex items-center border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 shadow-sm",children:[a.jsx("button",{onClick:()=>t(l.producto.id,l.cantidad-1),className:"p-2 hover:bg-amarillo hover:text-gris-oscuro dark:hover:bg-yellow-500 dark:hover:text-gray-900 transition-all duration-200 rounded-l-lg",children:a.jsx(KC,{className:"w-4 h-4"})}),a.jsx("span",{className:"px-3 py-2 border-x border-gray-300 dark:border-gray-600 text-gris-oscuro dark:text-gray-200 bg-gray-50 dark:bg-gray-600 min-w-[50px] text-center font-medium",children:l.cantidad}),a.jsx("button",{onClick:()=>t(l.producto.id,l.cantidad+1),className:"p-2 hover:bg-amarillo hover:text-gris-oscuro dark:hover:bg-yellow-500 dark:hover:text-gray-900 disabled:hover:bg-transparent disabled:opacity-40 disabled:cursor-not-allowed transition-all duration-200 rounded-r-lg",disabled:l.cantidad>=l.producto.stock,children:a.jsx(po,{className:"w-4 h-4"})})]}),a.jsx("button",{onClick:()=>r(l.producto.id),className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors duration-200",children:a.jsx(Hs,{className:"w-5 h-5"})})]})]})},l.producto.id))}),a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"card p-6 sticky top-8",children:[a.jsx("h2",{className:"text-xl font-bold text-gris-oscuro dark:text-gray-100 mb-6",children:"Resumen del Pedido"}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal:"}),a.jsx("span",{className:"font-medium text-gris-oscuro dark:text-gray-200",children:o(n())})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"IGV (18%):"}),a.jsx("span",{className:"font-medium text-gris-oscuro dark:text-gray-200",children:o(s())})]}),a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-4",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-lg font-bold text-gris-oscuro dark:text-gray-100",children:"Total:"}),a.jsx("span",{className:"text-lg font-bold text-dorado dark:text-yellow-400",children:o(i())})]})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(T4,{}),a.jsx(ce,{to:"/catalogo",className:"w-full btn-secondary text-center py-3 block",children:"Seguir Comprando"})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-600",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{children:"Envío gratis en compras +S/50"})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400 mt-2",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),a.jsx("span",{children:"Pago 100% seguro"})]})]})]})})]})]})})};var Em={};Object.defineProperty(Em,"__esModule",{value:!0});var ew=Em.loadMercadoPago=void 0;const tw="https://sdk.mercadopago.com/js/v2",A4=/^https:\/\/sdk\.mercadopago\.com\/js\/v2\/?(\?.*)?$/,k0="MercadoPago has already been initialized in your window, please remove the duplicate import",O4="MercadoPago.js not available",I4="Failed to load MercadoPago.js",F4=()=>{for(var e=document.querySelectorAll(`script[src^="${tw}"`),t=0;t<e.length;t++){var r=e[t];if(A4.test(r.src))return r}return null},L4=()=>{const e=document.createElement("script");e.src=tw;const t=document.head||document.body;if(!t)throw new Error("Expected document.body or document.head not to be null. MercadoPago requires a <body> or a <head> element, please add on your project.");return t.appendChild(e),e};let Al=null;const M4=()=>(Al!==null||(Al=new Promise((e,t)=>{if(typeof window>"u"){e(null);return}if(window.MercadoPago){console.warn(k0),e(window.MercadoPago);return}try{let r=F4();r?console.warn(k0):r||(r=L4()),r.addEventListener("load",()=>{window.MercadoPago?e(window.MercadoPago):t(new Error(O4))}),r.addEventListener("error",()=>{t(new Error(I4))})}catch(r){t(r);return}})),Al);ew=Em.loadMercadoPago=M4;var U4=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class Lr{static getInstance(){return U4(this,void 0,void 0,function*(){if(this.publicKey)return this.loadedInstanceMercadoPago||(yield ew(),this.loadedInstanceMercadoPago=!0),this.instanceMercadoPago||(this.instanceMercadoPago=new window.MercadoPago(this.publicKey,this.options)),this.instanceMercadoPago;console.error("Expected the PUBLIC_KEY to render the MercadoPago SDK React")})}}Lr.publicKey=null;Lr.options={};Lr.instanceMercadoPago=void 0;Lr.loadedInstanceMercadoPago=!1;function D4(e,t){return Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(n=>Object.prototype.hasOwnProperty.call(t,n)&&e[n]===t[n])}const z4=(e,t)=>{const r=Object.assign(Object.assign({},t),{frontEndStack:"react"}),n=!D4(Lr.options,r);(e!==Lr.publicKey||n)&&(Lr.publicKey=e,Lr.options=r,Lr.instanceMercadoPago=void 0)};var $4=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const B4=()=>$4(void 0,void 0,void 0,function*(){}),W4=()=>{},q4=e=>{console.error(e)};var H4=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const V4=({settings:e,name:t,containerId:r,controller:n})=>H4(void 0,void 0,void 0,function*(){const s=yield Lr.getInstance(),i=s==null?void 0:s.bricks();window[n]=yield i==null?void 0:i.create(t,r,e)}),K4=200,Q4=({onReady:e=W4,onError:t=q4,onSubmit:r=B4,customization:n,initialization:s,locale:i,id:o="walletBrick_container"})=>(w.useEffect(()=>{const l={settings:{initialization:s,customization:n,locale:i,callbacks:{onReady:e,onSubmit:r,onError:t}},name:"wallet",containerId:o,controller:"walletBrickController"},c=setTimeout(()=>{V4(l)},K4);return()=>{var d;clearTimeout(c),(d=window.walletBrickController)===null||d===void 0||d.unmount()}},[n,s,e,t,r]),O.createElement("div",{id:o}));globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;const yd={CLERK_PUBLISHABLE_KEY:"pk_live_Y2xlcmsubWVyY2FkaWxsby5hcHAk",SUPABASE_URL:"https://xwubnuokmfghtyyfpgtl.supabase.co",SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh3dWJudW9rbWZnaHR5eWZwZ3RsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY5NTA3NTEsImV4cCI6MjA3MjUyNjc1MX0.H2x6CfC2z2ttnghuZvGpIdGlvUWlYy5GWjpR6Ok5SbA",MERCADOPAGO_PUBLIC_KEY:"APP_USR-4ec080b8-74c5-4558-b6c2-0b0dcc31bda8",MERCADOPAGO_ACCESS_TOKEN:{}.VITE_MERCADOPAGO_ACCESS_TOKEN,CLOUDINARY_CLOUD_NAME:"ddbjhpjri",CLOUDINARY_UPLOAD_PRESET:"mercadillo_upload"},G4=["CLERK_PUBLISHABLE_KEY","SUPABASE_URL","SUPABASE_ANON_KEY","MERCADOPAGO_PUBLIC_KEY","CLOUDINARY_CLOUD_NAME","CLOUDINARY_UPLOAD_PRESET"];for(const e of G4)if(!yd[e])throw new Error(`Missing required environment variable: VITE_${e}`);const J4={publicKey:yd.MERCADOPAGO_PUBLIC_KEY,locale:"es-PE",currency:"PEN"},Y4=async e=>{try{const t=await fetch("/api/mercadopago/create-preference",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Error al crear la preferencia de pago");return await t.json()}catch(t){throw console.error("Error creating payment preference:",t),t}},X4=(e,t)=>e.map(r=>({id:r.id.toString(),title:r.nombre,quantity:r.cantidad,unit_price:parseFloat(r.precio),picture_url:r.imagen_url||`${t}/logo.webp`,category_id:r.categoria||"general"})),Z4=e=>{const t=e.reduce((s,i)=>s+i.unit_price*i.quantity,0),r=t*.18,n=t+r;return{subtotal:Math.round(t*100)/100,tax:Math.round(r*100)/100,total:Math.round(n*100)/100}};z4(J4.publicKey,{locale:"es-PE"});const e3=({onError:e,shippingAddress:t="Lima, Perú"})=>{const{items:r}=ns(),{user:n}=Ct(),[s,i]=w.useState(null),[o,l]=w.useState(!1),[c,d]=w.useState(null),u=async()=>{var f,g;if(!n||r.length===0){d("No hay productos en el carrito o usuario no autenticado");return}l(!0),d(null);try{const y=window.location.origin,m=r.map(b=>({id:b.producto.id,nombre:b.producto.nombre,precio:b.producto.precio,cantidad:b.cantidad,imagen:b.producto.imagen})),k=X4(m,y),x=Z4(k),p={items:k,payer:{name:n.fullName||n.firstName||"Cliente",email:((f=n.emailAddresses[0])==null?void 0:f.emailAddress)||"cliente@mercadillo.app",phone:(g=n.phoneNumbers[0])==null?void 0:g.phoneNumber},back_urls:{success:`${y}/checkout/success`,failure:`${y}/checkout/failure`,pending:`${y}/checkout/pending`},auto_return:"approved",notification_url:`${y}/api/mercadopago/webhook`,user_id:n.id,shipping_address:t,metadata:{user_id:n.id,order_total:x.total}},v=await Y4(p);i(v.id)}catch(y){console.error("Error creating preference:",y),d("Error al crear la preferencia de pago"),e==null||e(y)}finally{l(!1)}},h=f=>{console.error("Payment error:",f),d("Error en el pago"),e==null||e(f)};return w.useEffect(()=>{r.length>0&&n&&u()},[r,n]),r.length===0?a.jsx("div",{className:"text-center p-8",children:a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No hay productos en el carrito"})}):o?a.jsxs("div",{className:"flex flex-col items-center justify-center p-8 space-y-4",children:[a.jsx(BC,{className:"w-8 h-8 animate-spin text-blue-600"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Preparando checkout..."})]}):c?a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:[a.jsx("p",{className:"text-red-800 dark:text-red-200",children:c}),a.jsx("button",{onClick:u,className:"mt-4 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Reintentar"})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"Resumen del Pedido"}),a.jsxs("div",{className:"space-y-2",children:[r.map(f=>a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[f.producto.nombre," x ",f.cantidad]}),a.jsxs("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:["S/ ",(f.producto.precio*f.cantidad).toFixed(2)]})]},f.producto.id)),a.jsx("div",{className:"border-t pt-2 mt-2",children:a.jsxs("div",{className:"flex justify-between font-semibold text-gray-900 dark:text-gray-100",children:[a.jsx("span",{children:"Total:"}),a.jsxs("span",{children:["S/ ",r.reduce((f,g)=>f+g.producto.precio*g.cantidad,0).toFixed(2)]})]})})]})]}),a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[a.jsxs("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2 flex items-center",children:[a.jsx(fo,{className:"w-4 h-4 mr-2"}),"Métodos de pago disponibles:"]}),a.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(fo,{className:"w-3 h-3 mr-2"}),"Tarjetas de crédito y débito"]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hb,{className:"w-3 h-3 mr-2"}),"Yape, Plin y transferencias bancarias"]}),a.jsx("div",{children:"• PagoEfectivo y otros métodos"})]})]}),s&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"Proceder al Pago"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Serás redirigido a Mercado Pago para completar tu pago de forma segura."}),a.jsx(Q4,{initialization:{preferenceId:s},onReady:()=>console.log("Wallet ready"),onError:f=>h(f)})]})]})]})},t3=()=>{var v;const{items:e}=ns(),{user:t}=Ct(),r=Br(),{showOrderSuccess:n,showPaymentError:s}=_m(),[i,o]=w.useState([]),[l,c]=w.useState(null),[d,u]=w.useState(!1),[h,f]=w.useState({nombre:"",telefono:"",direccion:"",terminos:!1});w.useEffect(()=>{t!=null&&t.id&&g()},[t==null?void 0:t.id]);const g=async()=>{if(!(t!=null&&t.id))return;const b=await Zb(t.id);if(!b.error&&b.data){o(b.data);const _=b.data.find(N=>N.es_predeterminada);_&&(c(_),f(N=>({...N,direccion:`${_.direccion_completa}, ${_.distrito?_.distrito+", ":""}${_.provincia}, ${_.departamento}${_.codigo_postal?" - "+_.codigo_postal:""}`})))}};w.useEffect(()=>{t&&f(b=>{var _;return{...b,nombre:t.fullName||t.firstName||b.nombre,telefono:((_=t.phoneNumbers[0])==null?void 0:_.phoneNumber)||b.telefono}})},[t]);const y=b=>{const{name:_,value:N,type:j}=b.target;f(P=>({...P,[_]:j==="checkbox"?b.target.checked:N}))},m=b=>{c(b),u(!1),f(_=>({..._,direccion:`${b.direccion_completa}, ${b.distrito?b.distrito+", ":""}${b.provincia}, ${b.departamento}${b.codigo_postal?" - "+b.codigo_postal:""}`}))},k=()=>{c(null),u(!0),f(b=>({...b,direccion:""}))},x=b=>{console.log("Payment successful:",b);const _=b.payment_id||Date.now().toString();n(_),r("/checkout/success")},p=b=>{console.error("Payment error:",b),s(b.message||"Error procesando el pago")};return e.length===0?a.jsx("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 py-8 transition-colors duration-200",children:a.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[a.jsx(xd,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),a.jsx("h1",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"Tu carrito está vacío"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"Agrega productos a tu carrito para continuar con la compra"}),a.jsx("button",{onClick:()=>r("/catalogo"),className:"btn-primary",children:"Ver Catálogo"})]})}):t?a.jsx("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 py-8 transition-colors duration-200",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gris-oscuro dark:text-gray-100 mb-8",children:"Finalizar Compra"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"card p-6",children:[a.jsxs("h2",{className:"text-xl font-bold text-gris-oscuro dark:text-gray-100 mb-6 flex items-center",children:[a.jsx(Xn,{className:"w-6 h-6 mr-2 text-amarillo dark:text-yellow-400"}),"Información de Envío"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gris-oscuro dark:text-gray-200 mb-2",children:"Nombre Completo"}),a.jsx("input",{type:"text",name:"nombre",value:h.nombre,onChange:y,required:!0,className:"input-field",placeholder:"Ingresa tu nombre completo"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gris-oscuro dark:text-gray-200 mb-2",children:"Email"}),a.jsx("input",{type:"email",value:((v=t.emailAddresses[0])==null?void 0:v.emailAddress)||"",disabled:!0,className:"input-field bg-gray-100 dark:bg-gray-700"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gris-oscuro dark:text-gray-200 mb-2",children:"Teléfono"}),a.jsx("input",{type:"tel",name:"telefono",value:h.telefono,onChange:y,required:!0,className:"input-field",placeholder:"+51 999 999 999"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gris-oscuro dark:text-gray-200 mb-2",children:"Dirección de Envío"}),i.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Direcciones guardadas:"}),a.jsxs("div",{className:"space-y-2",children:[i.map(b=>a.jsx("div",{className:`p-3 border-2 rounded-lg cursor-pointer transition-colors duration-200 ${(l==null?void 0:l.id)===b.id?"border-amarillo dark:border-yellow-400 bg-yellow-50 dark:bg-yellow-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,onClick:()=>m(b),children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[a.jsx(Gn,{className:"w-4 h-4 text-gray-500"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:b.nombre}),b.es_predeterminada&&a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100",children:"Predeterminada"})]}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:b.direccion_completa}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:[b.distrito&&`${b.distrito}, `,b.provincia,", ",b.departamento,b.codigo_postal&&` - ${b.codigo_postal}`]})]}),a.jsx("input",{type:"radio",name:"address",checked:(l==null?void 0:l.id)===b.id,onChange:()=>m(b),className:"mt-1 text-amarillo dark:text-yellow-400 focus:ring-amarillo dark:focus:ring-yellow-400"})]})},b.id)),a.jsx("div",{className:`p-3 border-2 rounded-lg cursor-pointer transition-colors duration-200 ${d?"border-amarillo dark:border-yellow-400 bg-yellow-50 dark:bg-yellow-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,onClick:k,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(po,{className:"w-4 h-4 text-gray-500"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Usar nueva dirección"})]}),a.jsx("input",{type:"radio",name:"address",checked:d,onChange:k,className:"text-amarillo dark:text-yellow-400 focus:ring-amarillo dark:focus:ring-yellow-400"})]})})]})]}),(d||i.length===0)&&a.jsx("textarea",{name:"direccion",value:h.direccion,onChange:y,required:!0,rows:3,className:"input-field",placeholder:"Ingresa tu dirección completa de entrega"}),i.length>0&&a.jsx("div",{className:"mt-3",children:a.jsx("button",{type:"button",onClick:()=>r("/perfil/direcciones"),className:"text-sm text-amarillo dark:text-yellow-400 hover:underline",children:"Gestionar mis direcciones"})})]})]})]}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("input",{type:"checkbox",id:"terminos",name:"terminos",checked:h.terminos,onChange:y,required:!0,className:"mt-1 text-amarillo dark:text-yellow-400 focus:ring-amarillo dark:focus:ring-yellow-400 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600"}),a.jsxs("label",{htmlFor:"terminos",className:"text-sm text-gray-600 dark:text-gray-400",children:["Acepto los"," ",a.jsx("a",{href:"/terminos",className:"text-amarillo dark:text-yellow-400 hover:underline",children:"términos y condiciones"})," ","y la"," ",a.jsx("a",{href:"/privacidad",className:"text-amarillo dark:text-yellow-400 hover:underline",children:"política de privacidad"})]})]})})]}),a.jsx("div",{className:"space-y-6",children:h.terminos&&h.nombre&&h.telefono&&h.direccion?a.jsx(e3,{onSuccess:x,onError:p}):a.jsxs("div",{className:"card p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100 flex items-center",children:[a.jsx(fo,{className:"w-5 h-5 mr-2"}),"Completa la información"]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Completa todos los campos requeridos y acepta los términos para continuar con el pago."})]})})]})]})}):a.jsx("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 py-8 transition-colors duration-200",children:a.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[a.jsx(Xn,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),a.jsx("h1",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"Inicia sesión para continuar"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"Necesitas iniciar sesión para completar tu compra"}),a.jsx("button",{onClick:()=>r("/signin"),className:"btn-primary",children:"Iniciar Sesión"})]})})},r3=()=>{const e=Br(),[t]=td(),r=t.get("payment_id"),n=t.get("status"),s=t.get("external_reference");return w.useEffect(()=>{console.log("Checkout Success params:",{paymentId:r,status:n,externalReference:s})},[r,n,s]),a.jsx("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 py-8 transition-colors duration-200",children:a.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ho,{className:"w-20 h-20 text-green-500 mx-auto mb-6"}),a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"¡Pago Exitoso!"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-8",children:"Tu pedido ha sido procesado correctamente"}),r&&a.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-6 mb-8",children:[a.jsx("h3",{className:"font-semibold text-green-800 dark:text-green-200 mb-2",children:"Detalles del Pago"}),a.jsxs("div",{className:"text-sm text-green-700 dark:text-green-300 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"ID de Pago:"})," ",r]}),n&&a.jsxs("p",{children:[a.jsx("strong",{children:"Estado:"})," ",n]}),s&&a.jsxs("p",{children:[a.jsx("strong",{children:"Referencia:"})," ",s]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-8",children:[a.jsx(qe,{className:"w-12 h-12 text-amarillo dark:text-yellow-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gris-oscuro dark:text-gray-100 mb-2",children:"¿Qué sigue?"}),a.jsxs("div",{className:"text-gray-600 dark:text-gray-400 space-y-2 text-sm",children:[a.jsx("p",{children:"✓ Recibirás un email de confirmación"}),a.jsx("p",{children:"✓ Prepararemos tu pedido para envío"}),a.jsx("p",{children:"✓ Te notificaremos cuando esté en camino"}),a.jsx("p",{children:"✓ Podrás seguir tu pedido desde tu perfil"})]})]}),a.jsxs("div",{className:"space-x-4",children:[a.jsx("button",{onClick:()=>e("/profile"),className:"btn-primary",children:"Ver mis Pedidos"}),a.jsxs("button",{onClick:()=>e("/"),className:"btn-secondary flex items-center space-x-2",children:[a.jsx(Bo,{className:"w-4 h-4"}),a.jsx("span",{children:"Volver al Inicio"})]})]})]})})})},n3=()=>{const e=Br(),[t]=td(),r=t.get("payment_id"),n=t.get("status");return a.jsx("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 py-8 transition-colors duration-200",children:a.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx(go,{className:"w-20 h-20 text-red-500 mx-auto mb-6"}),a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"Pago No Completado"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-8",children:"Hubo un problema al procesar tu pago"}),r&&a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6 mb-8",children:[a.jsx("h3",{className:"font-semibold text-red-800 dark:text-red-200 mb-2",children:"Información del Error"}),a.jsxs("div",{className:"text-sm text-red-700 dark:text-red-300 space-y-1",children:[r&&a.jsxs("p",{children:[a.jsx("strong",{children:"ID de Pago:"})," ",r]}),n&&a.jsxs("p",{children:[a.jsx("strong",{children:"Estado:"})," ",n]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-8",children:[a.jsx("h3",{className:"text-xl font-semibold text-gris-oscuro dark:text-gray-100 mb-4",children:"¿Qué puedes hacer?"}),a.jsxs("div",{className:"text-gray-600 dark:text-gray-400 space-y-3 text-sm",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-amarillo dark:bg-yellow-400 rounded-full mt-2 flex-shrink-0"}),a.jsx("p",{children:"Verifica que tus datos de pago sean correctos"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-amarillo dark:bg-yellow-400 rounded-full mt-2 flex-shrink-0"}),a.jsx("p",{children:"Asegúrate de tener fondos suficientes en tu cuenta"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-amarillo dark:bg-yellow-400 rounded-full mt-2 flex-shrink-0"}),a.jsx("p",{children:"Intenta nuevamente con otro método de pago"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-amarillo dark:bg-yellow-400 rounded-full mt-2 flex-shrink-0"}),a.jsx("p",{children:"Contacta a nuestro soporte si el problema persiste"})]})]})]}),a.jsxs("div",{className:"space-x-4",children:[a.jsxs("button",{onClick:()=>e("/checkout"),className:"btn-primary flex items-center space-x-2",children:[a.jsx(zr,{className:"w-4 h-4"}),a.jsx("span",{children:"Intentar de Nuevo"})]}),a.jsxs("button",{onClick:()=>e("/"),className:"btn-secondary flex items-center space-x-2",children:[a.jsx(Bo,{className:"w-4 h-4"}),a.jsx("span",{children:"Volver al Inicio"})]})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["¿Necesitas ayuda?"," ",a.jsx("a",{href:"/contacto",className:"text-amarillo dark:text-yellow-400 hover:underline",children:"Contacta nuestro soporte"})]})})]})})})},s3=()=>{const e=Br(),[t]=td(),r=t.get("payment_id"),n=t.get("status");return a.jsx("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 py-8 transition-colors duration-200",children:a.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ar,{className:"w-20 h-20 text-yellow-500 mx-auto mb-6"}),a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"Pago Pendiente"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-8",children:"Tu pago está siendo procesado"}),r&&a.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-6 mb-8",children:[a.jsx("h3",{className:"font-semibold text-yellow-800 dark:text-yellow-200 mb-2",children:"Detalles del Pago"}),a.jsxs("div",{className:"text-sm text-yellow-700 dark:text-yellow-300 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"ID de Pago:"})," ",r]}),n&&a.jsxs("p",{children:[a.jsx("strong",{children:"Estado:"})," ",n]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-8",children:[a.jsx("h3",{className:"text-xl font-semibold text-gris-oscuro dark:text-gray-100 mb-4",children:"¿Qué está pasando?"}),a.jsxs("div",{className:"text-gray-600 dark:text-gray-400 space-y-3 text-sm",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mt-2 flex-shrink-0"}),a.jsx("p",{children:"Tu pago está siendo verificado por Mercado Pago"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mt-2 flex-shrink-0"}),a.jsx("p",{children:"Este proceso puede tomar unos minutos"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mt-2 flex-shrink-0"}),a.jsx("p",{children:"Recibirás una notificación cuando se complete"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mt-2 flex-shrink-0"}),a.jsx("p",{children:"Puedes cerrar esta página sin problemas"})]})]})]}),a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-8",children:a.jsxs("p",{className:"text-blue-800 dark:text-blue-200 text-sm",children:["💡 ",a.jsx("strong",{children:"Consejo:"})," Guarda el ID de pago para futuras consultas"]})}),a.jsxs("div",{className:"space-x-4",children:[a.jsxs("button",{onClick:()=>e("/profile"),className:"btn-primary flex items-center space-x-2",children:[a.jsx(GC,{className:"w-4 h-4"}),a.jsx("span",{children:"Ver Estado del Pedido"})]}),a.jsxs("button",{onClick:()=>e("/"),className:"btn-secondary flex items-center space-x-2",children:[a.jsx(Bo,{className:"w-4 h-4"}),a.jsx("span",{children:"Volver al Inicio"})]})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["¿Tienes dudas sobre tu pago?"," ",a.jsx("a",{href:"/contacto",className:"text-amarillo dark:text-yellow-400 hover:underline",children:"Contacta nuestro soporte"})]})})]})})})},a3=()=>{const{user:e,updateUser:t}=jm(),[r,n]=w.useState([]),[s,i]=w.useState(!0),[o,l]=w.useState(!1),[c,d]=w.useState({telefono:(e==null?void 0:e.telefono)||"",direccion:(e==null?void 0:e.direccion)||""});w.useEffect(()=>{(async()=>{if(e)try{const{data:m,error:k}=await ae.from("pedidos").select("*").eq("usuario_id",e.id).order("created_at",{ascending:!1});if(k){console.error("Error fetching orders:",k);return}n(m||[])}catch(m){console.error("Error in fetchPedidos:",m)}finally{i(!1)}})()},[e]);const u=async()=>{try{await t(c),l(!1)}catch(y){console.error("Error updating user:",y)}},h=y=>new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN"}).format(y),f=y=>new Date(y).toLocaleDateString("es-PE",{year:"numeric",month:"long",day:"numeric"}),g=y=>{switch(y){case"pendiente":return"bg-yellow-100 text-yellow-800";case"procesando":return"bg-blue-100 text-blue-800";case"enviado":return"bg-purple-100 text-purple-800";case"entregado":return"bg-green-100 text-green-800";case"cancelado":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return s?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-amarillo"})}):a.jsx("div",{className:"min-h-screen bg-hueso py-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gris-oscuro mb-8",children:"Mi Perfil"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"card p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h2",{className:"text-xl font-bold text-gris-oscuro flex items-center",children:[a.jsx(Xn,{className:"w-6 h-6 mr-2 text-amarillo"}),"Informacion Personal"]}),a.jsx("button",{onClick:()=>l(!o),className:"p-2 text-amarillo hover:bg-amarillo hover:text-gris-oscuro rounded-lg transition-colors duration-200",children:a.jsx(zb,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Nombre Completo"}),a.jsxs("p",{className:"text-gris-oscuro font-medium",children:[e==null?void 0:e.nombre," ",e==null?void 0:e.apellido]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Email"}),a.jsx("p",{className:"text-gris-oscuro",children:e==null?void 0:e.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Telefono"}),o?a.jsx("input",{type:"tel",value:c.telefono,onChange:y=>d(m=>({...m,telefono:y.target.value})),className:"input-field"}):a.jsx("p",{className:"text-gris-oscuro",children:(e==null?void 0:e.telefono)||"No especificado"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Direccion"}),o?a.jsx("textarea",{value:c.direccion,onChange:y=>d(m=>({...m,direccion:y.target.value})),rows:3,className:"input-field"}):a.jsx("p",{className:"text-gris-oscuro",children:(e==null?void 0:e.direccion)||"No especificada"})]}),o&&a.jsxs("div",{className:"flex space-x-2 pt-4",children:[a.jsx("button",{onClick:u,className:"btn-primary flex-1",children:"Guardar"}),a.jsx("button",{onClick:()=>{l(!1),d({telefono:(e==null?void 0:e.telefono)||"",direccion:(e==null?void 0:e.direccion)||""})},className:"btn-secondary flex-1",children:"Cancelar"})]})]})]})}),a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"card p-6",children:[a.jsxs("h2",{className:"text-xl font-bold text-gris-oscuro mb-6 flex items-center",children:[a.jsx(qe,{className:"w-6 h-6 mr-2 text-amarillo"}),"Historial de Pedidos"]}),r.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(qe,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"No tienes pedidos aun"})]}):a.jsx("div",{className:"space-y-4",children:r.map(y=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-semibold text-gris-oscuro",children:["Pedido #",y.id.slice(-8)]}),a.jsx("p",{className:"text-sm text-gray-600",children:f(y.created_at)})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-bold text-dorado",children:h(y.total)}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g(y.estado)}`,children:y.estado})]})]}),a.jsx("div",{className:"space-y-2",children:y.items.map((m,k)=>a.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[a.jsx("div",{className:"w-8 h-8 overflow-hidden rounded bg-gray-100",children:a.jsx("img",{src:m.imagen,alt:m.nombre,className:"w-full h-full object-cover"})}),a.jsx("span",{className:"flex-1",children:m.nombre}),a.jsxs("span",{className:"text-gray-600",children:["x",m.cantidad]}),a.jsx("span",{className:"font-medium",children:h(m.precio*m.cantidad)})]},k))}),a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Subtotal:"}),a.jsx("span",{children:h(y.subtotal)})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"IGV (18%):"}),a.jsx("span",{children:h(y.igv)})]}),a.jsxs("div",{className:"flex justify-between font-semibold",children:[a.jsx("span",{children:"Total:"}),a.jsx("span",{children:h(y.total)})]})]})]},y.id))})]})})]})]})})},j0=yd.CLOUDINARY_CLOUD_NAME,i3=yd.CLOUDINARY_UPLOAD_PRESET,o3=async e=>{const t=new FormData;t.append("file",e),t.append("upload_preset",i3),t.append("cloud_name",j0);try{const r=await fetch(`https://api.cloudinary.com/v1_1/${j0}/image/upload`,{method:"POST",body:t});if(!r.ok)throw new Error("Error uploading image");return(await r.json()).secure_url}catch(r){throw console.error("Error uploading image:",r),r}},l3=()=>{const[e,t]=w.useState([]),[r,n]=w.useState(!0),[s,i]=w.useState(!1),[o,l]=w.useState(null),[c,d]=w.useState(""),[u,h]=w.useState({nombre:"",descripcion:"",precio:"",stock:"",categoria:"",imagen:""});w.useEffect(()=>{f()},[]);const f=async()=>{try{const{data:_,error:N}=await ae.from("productos").select("*").order("created_at",{ascending:!1});if(N){console.error("Error fetching products:",N);return}t(_||[])}catch(_){console.error("Error in fetchProductos:",_)}finally{n(!1)}},g=_=>{const{name:N,value:j}=_.target;h(P=>({...P,[N]:j}))},y=async _=>{var j;const N=(j=_.target.files)==null?void 0:j[0];if(N)try{const P=await o3(N);h(S=>({...S,imagen:P}))}catch(P){console.error("Error uploading image:",P),alert("Error al subir la imagen")}},m=async _=>{_.preventDefault();try{const N={nombre:u.nombre,descripcion:u.descripcion,precio:parseFloat(u.precio),stock:parseInt(u.stock),categoria:u.categoria,imagen:u.imagen};if(o){const{error:j}=await ae.from("productos").update(N).eq("id",o.id);if(j){console.error("Error updating product:",j);return}}else{const{error:j}=await ae.from("productos").insert([N]);if(j){console.error("Error creating product:",j);return}}h({nombre:"",descripcion:"",precio:"",stock:"",categoria:"",imagen:""}),l(null),i(!1),f()}catch(N){console.error("Error in handleSubmit:",N)}},k=_=>{l(_),h({nombre:_.nombre,descripcion:_.descripcion,precio:_.precio.toString(),stock:_.stock.toString(),categoria:_.categoria,imagen:_.imagen}),i(!0)},x=async _=>{if(confirm("¿Estás seguro de que quieres eliminar este producto?"))try{const{error:N}=await ae.from("productos").delete().eq("id",_);if(N){console.error("Error deleting product:",N);return}f()}catch(N){console.error("Error in handleDelete:",N)}},p=()=>{l(null),h({nombre:"",descripcion:"",precio:"",stock:"",categoria:"",imagen:""}),i(!0)},v=e.filter(_=>_.nombre.toLowerCase().includes(c.toLowerCase())||_.categoria.toLowerCase().includes(c.toLowerCase())),b=_=>new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN"}).format(_);return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amarillo"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro",children:"Gestión de Productos"}),a.jsx("p",{className:"text-gray-600",children:"Administra tu catálogo de productos"})]}),a.jsxs("button",{onClick:p,className:"btn-primary flex items-center space-x-2",children:[a.jsx(po,{className:"w-5 h-5"}),a.jsx("span",{children:"Nuevo Producto"})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Gl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Buscar productos...",value:c,onChange:_=>d(_.target.value),className:"input-field pl-10"})]}),a.jsx("div",{className:"card overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Producto"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoría"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Precio"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map(_=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-12 h-12 overflow-hidden rounded-lg bg-gray-100",children:a.jsx("img",{src:_.imagen,alt:_.nombre,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gris-oscuro",children:_.nombre}),a.jsx("div",{className:"text-sm text-gray-500 line-clamp-1",children:_.descripcion})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded-full",children:_.categoria})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-dorado",children:b(_.precio)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${_.stock>10?"bg-green-100 text-green-800":_.stock>0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:_.stock})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>k(_),className:"text-amarillo hover:text-dorado transition-colors duration-200",children:a.jsx($b,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>x(_.id),className:"text-red-500 hover:text-red-700 transition-colors duration-200",children:a.jsx(Hs,{className:"w-4 h-4"})})]})})]},_.id))})]})})}),s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx("h3",{className:"text-xl font-bold text-gris-oscuro mb-6",children:o?"Editar Producto":"Nuevo Producto"}),a.jsxs("form",{onSubmit:m,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gris-oscuro mb-2",children:"Nombre"}),a.jsx("input",{type:"text",name:"nombre",value:u.nombre,onChange:g,required:!0,className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gris-oscuro mb-2",children:"Categoría"}),a.jsxs("select",{name:"categoria",value:u.categoria,onChange:g,required:!0,className:"input-field",children:[a.jsx("option",{value:"",children:"Seleccionar categoría"}),a.jsx("option",{value:"Electrónicos",children:"Electrónicos"}),a.jsx("option",{value:"Ropa",children:"Ropa"}),a.jsx("option",{value:"Hogar",children:"Hogar"}),a.jsx("option",{value:"Deportes",children:"Deportes"}),a.jsx("option",{value:"Libros",children:"Libros"}),a.jsx("option",{value:"Otros",children:"Otros"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gris-oscuro mb-2",children:"Descripción"}),a.jsx("textarea",{name:"descripcion",value:u.descripcion,onChange:g,required:!0,rows:3,className:"input-field"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gris-oscuro mb-2",children:"Precio (S/)"}),a.jsx("input",{type:"number",name:"precio",value:u.precio,onChange:g,required:!0,min:"0",step:"0.01",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gris-oscuro mb-2",children:"Stock"}),a.jsx("input",{type:"number",name:"stock",value:u.stock,onChange:g,required:!0,min:"0",className:"input-field"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gris-oscuro mb-2",children:"Imagen"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:y,className:"hidden",id:"image-upload"}),a.jsxs("label",{htmlFor:"image-upload",className:"btn-secondary flex items-center space-x-2 cursor-pointer",children:[a.jsx(e4,{className:"w-4 h-4"}),a.jsx("span",{children:"Subir Imagen"})]}),u.imagen&&a.jsx("div",{className:"w-16 h-16 overflow-hidden rounded-lg bg-gray-100",children:a.jsx("img",{src:u.imagen,alt:"Preview",className:"w-full h-full object-cover"})})]})]}),a.jsxs("div",{className:"flex space-x-4 pt-4",children:[a.jsxs("button",{type:"submit",className:"btn-primary flex-1",children:[o?"Actualizar":"Crear"," Producto"]}),a.jsx("button",{type:"button",onClick:()=>i(!1),className:"btn-secondary flex-1",children:"Cancelar"})]})]})]})})]})},c3=()=>{const[e,t]=w.useState([]),[r,n]=w.useState(!0),[s,i]=w.useState(null),[o,l]=w.useState("");w.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:m,error:k}=await ae.from("pedidos").select("*").order("created_at",{ascending:!1});if(k){console.error("Error fetching orders:",k);return}t(m||[])}catch(m){console.error("Error in fetchPedidos:",m)}finally{n(!1)}},d=async(m,k)=>{try{const{error:x}=await ae.from("pedidos").update({estado:k}).eq("id",m);if(x){console.error("Error updating order status:",x);return}c(),i(null)}catch(x){console.error("Error in updateOrderStatus:",x)}},u=m=>new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN"}).format(m),h=m=>new Date(m).toLocaleDateString("es-PE",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),f=m=>{switch(m){case"pendiente":return"bg-yellow-100 text-yellow-800";case"procesando":return"bg-blue-100 text-blue-800";case"enviado":return"bg-purple-100 text-purple-800";case"entregado":return"bg-green-100 text-green-800";case"cancelado":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},g=m=>{switch(m){case"pendiente":return a.jsx(qe,{className:"w-4 h-4"});case"procesando":return a.jsx(qe,{className:"w-4 h-4"});case"enviado":return a.jsx($s,{className:"w-4 h-4"});case"entregado":return a.jsx(ho,{className:"w-4 h-4"});case"cancelado":return a.jsx(go,{className:"w-4 h-4"});default:return a.jsx(qe,{className:"w-4 h-4"})}},y=e.filter(m=>o===""||m.estado===o);return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amarillo"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro",children:"Gestión de Pedidos"}),a.jsx("p",{className:"text-gray-600",children:"Administra todos los pedidos de la tienda"})]})}),a.jsx("div",{className:"flex flex-wrap gap-4",children:a.jsxs("select",{value:o,onChange:m=>l(m.target.value),className:"input-field",children:[a.jsx("option",{value:"",children:"Todos los estados"}),a.jsx("option",{value:"pendiente",children:"Pendiente"}),a.jsx("option",{value:"procesando",children:"Procesando"}),a.jsx("option",{value:"enviado",children:"Enviado"}),a.jsx("option",{value:"entregado",children:"Entregado"}),a.jsx("option",{value:"cancelado",children:"Cancelado"})]})}),a.jsx("div",{className:"card overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pedido"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(m=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsxs("div",{className:"text-sm font-medium text-gris-oscuro",children:["#",m.id.slice(-8)]}),a.jsxs("div",{className:"text-sm text-gray-500",children:[m.items.length," producto(s)"]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gris-oscuro",children:m.usuario_id.slice(-8)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f(m.estado)}`,children:[g(m.estado),a.jsx("span",{className:"ml-1 capitalize",children:m.estado})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-dorado",children:u(m.total)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h(m.created_at)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsx("button",{onClick:()=>i(m),className:"text-amarillo hover:text-dorado transition-colors duration-200",children:a.jsx(Rc,{className:"w-4 h-4"})})})]},m.id))})]})})}),s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-gris-oscuro",children:["Pedido #",s.id.slice(-8)]}),a.jsx("button",{onClick:()=>i(null),className:"text-gray-400 hover:text-gray-600",children:a.jsx(go,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-gris-oscuro mb-4",children:"Productos"}),a.jsx("div",{className:"space-y-4",children:s.items.map((m,k)=>a.jsxs("div",{className:"flex items-center space-x-4 p-4 border border-gray-200 rounded-lg",children:[a.jsx("div",{className:"w-16 h-16 overflow-hidden rounded-lg bg-gray-100",children:a.jsx("img",{src:m.imagen,alt:m.nombre,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h5",{className:"font-medium text-gris-oscuro",children:m.nombre}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Cantidad: ",m.cantidad]}),a.jsx("p",{className:"text-sm font-medium text-dorado",children:u(m.precio*m.cantidad)})]})]},k))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-gris-oscuro mb-4",children:"Detalles del Pedido"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Estado actual:"}),a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f(s.estado)}`,children:[g(s.estado),a.jsx("span",{className:"ml-1 capitalize",children:s.estado})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Fecha:"}),a.jsx("p",{className:"text-gris-oscuro",children:h(s.created_at)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Dirección de envío:"}),a.jsx("p",{className:"text-gris-oscuro",children:s.direccion_envio})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Método de pago:"}),a.jsx("p",{className:"text-gris-oscuro capitalize",children:s.metodo_pago})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),a.jsx("span",{className:"font-medium",children:u(s.subtotal)})]}),a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{className:"text-gray-600",children:"IGV (18%):"}),a.jsx("span",{className:"font-medium",children:u(s.igv)})]}),a.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[a.jsx("span",{className:"text-gris-oscuro",children:"Total:"}),a.jsx("span",{className:"text-dorado",children:u(s.total)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Actualizar estado:"}),a.jsx("div",{className:"flex space-x-2",children:["pendiente","procesando","enviado","entregado","cancelado"].map(m=>a.jsx("button",{onClick:()=>d(s.id,m),disabled:s.estado===m,className:`px-3 py-1 text-xs font-medium rounded-full transition-colors duration-200 ${s.estado===m?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-amarillo text-gris-oscuro hover:bg-dorado"}`,children:m},m))})]})]})]})]})]})})]})},d3=()=>{const[e,t]=w.useState([]),[r,n]=w.useState(!0),[s,i]=w.useState("");w.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:h,error:f}=await ae.from("usuarios").select("*").order("created_at",{ascending:!1});if(f){console.error("Error fetching users:",f);return}t(h||[])}catch(h){console.error("Error in fetchUsuarios:",h)}finally{n(!1)}},l=async(h,f)=>{try{const{error:g}=await ae.from("usuarios").update({rol:f}).eq("id",h);if(g){console.error("Error updating user role:",g);return}o()}catch(g){console.error("Error in updateUserRole:",g)}},c=h=>new Date(h).toLocaleDateString("es-PE",{year:"numeric",month:"short",day:"numeric"}),d=e.filter(h=>h.nombre.toLowerCase().includes(s.toLowerCase())||h.apellido.toLowerCase().includes(s.toLowerCase())||h.email.toLowerCase().includes(s.toLowerCase())),u={total:e.length,admins:e.filter(h=>h.rol==="admin").length,clientes:e.filter(h=>h.rol==="cliente").length};return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amarillo"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro",children:"Gestión de Usuarios"}),a.jsx("p",{className:"text-gray-600",children:"Administra los usuarios de la plataforma"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Usuarios"}),a.jsx("p",{className:"text-2xl font-bold text-gris-oscuro",children:u.total})]}),a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx(Ac,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Administradores"}),a.jsx("p",{className:"text-2xl font-bold text-gris-oscuro",children:u.admins})]}),a.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:a.jsx(cf,{className:"w-6 h-6 text-purple-600"})})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Clientes"}),a.jsx("p",{className:"text-2xl font-bold text-gris-oscuro",children:u.clientes})]}),a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:a.jsx(v0,{className:"w-6 h-6 text-green-600"})})]})})]}),a.jsx("div",{className:"relative",children:a.jsx("input",{type:"text",placeholder:"Buscar usuarios...",value:s,onChange:h=>i(h.target.value),className:"input-field"})}),a.jsx("div",{className:"card overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usuario"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rol"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha Registro"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(h=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 bg-amarillo rounded-full flex items-center justify-center",children:a.jsxs("span",{className:"text-gris-oscuro font-semibold",children:[h.nombre.charAt(0),h.apellido.charAt(0)]})}),a.jsxs("div",{className:"ml-4",children:[a.jsxs("div",{className:"text-sm font-medium text-gris-oscuro",children:[h.nombre," ",h.apellido]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",h.id.slice(-8)]})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Nm,{className:"w-4 h-4 mr-2"}),h.email]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${h.rol==="admin"?"bg-purple-100 text-purple-800":"bg-green-100 text-green-800"}`,children:h.rol==="admin"?a.jsxs(a.Fragment,{children:[a.jsx(cf,{className:"w-3 h-3 mr-1"}),"Admin"]}):a.jsxs(a.Fragment,{children:[a.jsx(v0,{className:"w-3 h-3 mr-1"}),"Cliente"]})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Tc,{className:"w-4 h-4 mr-2"}),c(h.created_at)]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsx("div",{className:"flex space-x-2",children:h.rol==="admin"?a.jsx("button",{onClick:()=>l(h.id,"cliente"),className:"text-green-600 hover:text-green-800 transition-colors duration-200",children:"Hacer Cliente"}):a.jsx("button",{onClick:()=>l(h.id,"admin"),className:"text-purple-600 hover:text-purple-800 transition-colors duration-200",children:"Hacer Admin"})})})]},h.id))})]})})})]})},u3=()=>{const[e,t]=w.useState({totalProductos:0,totalPedidos:0,totalUsuarios:0,ingresosTotales:0,pedidosHoy:0,pedidosMes:0}),[r,n]=w.useState(!0);w.useEffect(()=>{(async()=>{try{const[o,l,c]=await Promise.all([ae.from("productos").select("id",{count:"exact"}),ae.from("pedidos").select("id, total, created_at, estado",{count:"exact"}),ae.from("usuarios").select("id",{count:"exact"})]),d=l.data||[],u=o.count||0,h=l.count||0,f=c.count||0,g=d.reduce((p,v)=>v.estado&&v.estado!=="cancelado"?p+v.total:p,0)||0,y=new Date().toISOString().split("T")[0],m=d.filter(p=>p.created_at.startsWith(y)).length||0,k=new Date;k.setDate(1);const x=d.filter(p=>new Date(p.created_at)>=k).length||0;t({totalProductos:u,totalPedidos:h,totalUsuarios:f,ingresosTotales:g,pedidosHoy:m,pedidosMes:x})}catch(o){console.error("Error fetching stats:",o)}finally{n(!1)}})()},[]);const s=i=>new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN"}).format(i);return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amarillo"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Productos"}),a.jsx("p",{className:"text-2xl font-bold text-gris-oscuro",children:e.totalProductos})]}),a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx(qe,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Pedidos"}),a.jsx("p",{className:"text-2xl font-bold text-gris-oscuro",children:e.totalPedidos})]}),a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:a.jsx(zr,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Usuarios"}),a.jsx("p",{className:"text-2xl font-bold text-gris-oscuro",children:e.totalUsuarios})]}),a.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:a.jsx(Ac,{className:"w-6 h-6 text-purple-600"})})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ingresos Totales"}),a.jsx("p",{className:"text-2xl font-bold text-dorado",children:s(e.ingresosTotales)})]}),a.jsx("div",{className:"w-12 h-12 bg-amarillo rounded-lg flex items-center justify-center",children:a.jsx(FC,{className:"w-6 h-6 text-gris-oscuro"})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"card p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gris-oscuro mb-4",children:"Actividad Reciente"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx(Vb,{className:"w-4 h-4 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gris-oscuro",children:"Pedidos hoy"}),a.jsxs("p",{className:"text-xs text-gray-600",children:[e.pedidosHoy," nuevos pedidos"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(qe,{className:"w-4 h-4 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gris-oscuro",children:"Productos activos"}),a.jsxs("p",{className:"text-xs text-gray-600",children:[e.totalProductos," productos en catálogo"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:a.jsx(Ac,{className:"w-4 h-4 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gris-oscuro",children:"Usuarios registrados"}),a.jsxs("p",{className:"text-xs text-gray-600",children:[e.totalUsuarios," usuarios activos"]})]})]})]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gris-oscuro mb-4",children:"Resumen del Mes"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Pedidos este mes:"}),a.jsx("span",{className:"font-semibold text-gris-oscuro",children:e.pedidosMes})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Ingresos totales:"}),a.jsx("span",{className:"font-semibold text-dorado",children:s(e.ingresosTotales)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Promedio por pedido:"}),a.jsx("span",{className:"font-semibold text-gris-oscuro",children:e.totalPedidos>0?s(e.ingresosTotales/e.totalPedidos):"S/ 0.00"})]})]})]})]})]})},h3=()=>{const e=Nr(),t=[{path:"/admin",icon:PC,label:"Dashboard"},{path:"/admin/productos",icon:qe,label:"Productos"},{path:"/admin/pedidos",icon:zr,label:"Pedidos"},{path:"/admin/usuarios",icon:Ac,label:"Usuarios"}];return a.jsx("div",{className:"min-h-screen bg-hueso",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gris-oscuro",children:"Panel de Administración"}),a.jsx("p",{className:"text-lg text-gray-600 mt-2",children:"Gestiona tu tienda online desde aquí"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsx("nav",{className:"card p-4",children:a.jsx("ul",{className:"space-y-2",children:t.map(r=>{const n=r.icon,s=e.pathname===r.path;return a.jsx("li",{children:a.jsxs(ce,{to:r.path,className:`flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors duration-200 ${s?"bg-amarillo text-gris-oscuro":"text-gray-600 hover:bg-gray-100"}`,children:[a.jsx(n,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:r.label})]})},r.path)})})})}),a.jsx("div",{className:"lg:col-span-3",children:a.jsxs(u1,{children:[a.jsx(wi,{path:"/",element:a.jsx(u3,{})}),a.jsx(wi,{path:"/productos",element:a.jsx(l3,{})}),a.jsx(wi,{path:"/pedidos",element:a.jsx(c3,{})}),a.jsx(wi,{path:"/usuarios",element:a.jsx(d3,{})})]})})]})]})})},Hr=({children:e,requireAdmin:t=!1})=>{const{user:r,isLoaded:n}=Ct(),{isAdmin:s,isLoading:i}=jm(),o=Nr();if(w.useEffect(()=>{var l;n&&r&&((l=o.state)!=null&&l.from)},[n,r,o.state]),!n||i)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-hueso dark:bg-gray-900",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amarillo dark:border-yellow-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gris-claro dark:text-gray-400",children:"Verificando autenticación..."})]})});if(!r){const l=(o.pathname==="/checkout","/sign-in"),c=o.pathname==="/checkout"?"Debes iniciar sesión para proceder con el pago":"Debes iniciar sesión para acceder a esta página";return a.jsx(l1,{to:l,state:{from:o.pathname,message:c},replace:!0})}return t&&!s?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gris-oscuro mb-4",children:"Acceso Denegado"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"No tienes permisos para acceder a esta página."}),a.jsx("button",{onClick:()=>window.history.back(),className:"btn-primary",children:"Volver"})]})}):a.jsx(a.Fragment,{children:e})};class f3 extends w.Component{constructor(){super(...arguments);el(this,"state",{hasError:!1})}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,n){console.error("Uncaught error:",r,n)}render(){return this.state.hasError?a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-hueso text-gris-oscuro p-4 text-center",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"⚠️ Algo salio mal."}),a.jsx("p",{className:"text-lg mb-4",children:"Ha ocurrido un error inesperado en la aplicacion."}),a.jsx("p",{className:"text-md text-gray-600",children:"Por favor, recarga la pagina o intentalo de nuevo mas tarde."}),!1]}):this.props.children}}const m3=()=>null,p3=()=>a.jsx("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 py-12 transition-colors duration-200",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 bg-amarillo dark:bg-yellow-500 rounded-full flex items-center justify-center",children:a.jsx(UC,{className:"w-8 h-8 text-gris-oscuro dark:text-gray-900"})})}),a.jsx("h1",{className:"text-4xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"Términos y Condiciones"}),a.jsx("p",{className:"text-lg text-gris-claro dark:text-gray-400 max-w-2xl mx-auto",children:"Al utilizar nuestros servicios, aceptas estos términos y condiciones. Por favor, léelos cuidadosamente."})]}),a.jsxs("div",{className:"card p-8 space-y-8",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Xn,{className:"w-6 h-6 text-amarillo dark:text-yellow-400 mr-3"}),a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100",children:"1. Aceptación de los Términos"})]}),a.jsxs("div",{className:"text-gray-600 dark:text-gray-400 space-y-4",children:[a.jsx("p",{children:"Al acceder y utilizar Mercadillo Lima Perú, usted acepta estar sujeto a estos términos y condiciones de uso, todas las leyes y regulaciones aplicables, y acepta que es responsable del cumplimiento de las leyes locales aplicables."}),a.jsx("p",{children:"Si no está de acuerdo con alguno de estos términos, tiene prohibido usar o acceder a este sitio web."})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(fo,{className:"w-6 h-6 text-amarillo dark:text-yellow-400 mr-3"}),a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100",children:"2. Uso del Sitio Web"})]}),a.jsxs("div",{className:"text-gray-600 dark:text-gray-400 space-y-4",children:[a.jsx("p",{children:"Usted puede usar nuestro sitio web para fines legales únicamente. No puede usar el sitio web:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[a.jsx("li",{children:"Para fines comerciales no autorizados"}),a.jsx("li",{children:"Para dañar o intentar dañar menores de cualquier manera"}),a.jsx("li",{children:"Para transmitir o procurar el envío de publicidad o material promocional no solicitado"}),a.jsx("li",{children:"Para hacerse pasar por otra persona o entidad"}),a.jsx("li",{children:"Para cargar contenido que contenga virus, código malicioso o similar"})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(gd,{className:"w-6 h-6 text-amarillo dark:text-yellow-400 mr-3"}),a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100",children:"3. Productos y Servicios"})]}),a.jsxs("div",{className:"text-gray-600 dark:text-gray-400 space-y-4",children:[a.jsx("p",{children:"Mercadillo Lima Perú se reserva el derecho de rechazar el servicio, terminar cuentas, eliminar o editar contenido, o cancelar pedidos a su sola discreción."}),a.jsx("p",{children:"Los precios de nuestros productos están sujetos a cambios sin previo aviso. Nos reservamos el derecho de modificar o descontinuar el servicio (o cualquier parte o contenido del mismo) sin previo aviso en cualquier momento."})]})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"4. Información de la Cuenta"}),a.jsxs("div",{className:"text-gray-600 dark:text-gray-400 space-y-4",children:[a.jsx("p",{children:"Usted es responsable de mantener la confidencialidad de su cuenta y contraseña, y de restringir el acceso a su computadora. Acepta asumir la responsabilidad de todas las actividades que ocurran bajo su cuenta o contraseña."}),a.jsx("p",{children:"Nos reservamos el derecho de rechazar el servicio, terminar cuentas, eliminar o editar contenido, o cancelar pedidos a nuestra sola discreción."})]})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"5. Política de Privacidad"}),a.jsx("div",{className:"text-gray-600 dark:text-gray-400 space-y-4",children:a.jsx("p",{children:"Su privacidad es importante para nosotros. Nuestra Política de Privacidad explica cómo recopilamos, usamos y protegemos su información cuando utiliza nuestro servicio."})})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"6. Limitación de Responsabilidad"}),a.jsx("div",{className:"text-gray-600 dark:text-gray-400 space-y-4",children:a.jsx("p",{children:"En ningún caso Mercadillo Lima Perú o sus proveedores serán responsables de cualquier daño (incluyendo, sin limitación, daños por pérdida de datos o ganancias, o debido a la interrupción del negocio) que surja del uso o la incapacidad de usar los materiales en el sitio web de Mercadillo Lima Perú."})})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"7. Modificaciones"}),a.jsx("div",{className:"text-gray-600 dark:text-gray-400 space-y-4",children:a.jsx("p",{children:"Mercadillo Lima Perú puede revisar estos términos de servicio para su sitio web en cualquier momento sin previo aviso. Al usar este sitio web, usted acepta estar sujeto a la versión actual de estos términos de servicio."})})]}),a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-6 mt-8",children:[a.jsxs("p",{className:"text-sm text-gris-claro dark:text-gray-400",children:[a.jsx("strong",{children:"Última actualización:"})," Enero 2024"]}),a.jsx("p",{className:"text-sm text-gris-claro dark:text-gray-400 mt-2",children:"Si tiene alguna pregunta sobre estos Términos y Condiciones, póngase en contacto con nosotros en contactomercadillo@gmail.com"})]})]})]})}),g3=()=>a.jsx("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 py-12 transition-colors duration-200",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 bg-amarillo dark:bg-yellow-500 rounded-full flex items-center justify-center",children:a.jsx(gd,{className:"w-8 h-8 text-gris-oscuro dark:text-gray-900"})})}),a.jsx("h1",{className:"text-4xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"Política de Privacidad"}),a.jsx("p",{className:"text-lg text-gris-claro dark:text-gray-400 max-w-2xl mx-auto",children:"En Mercadillo Lima Perú valoramos tu privacidad y nos comprometemos a proteger tu información personal."})]}),a.jsxs("div",{className:"card p-8 space-y-8",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Rc,{className:"w-6 h-6 text-amarillo dark:text-yellow-400 mr-3"}),a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100",children:"1. Información que Recopilamos"})]}),a.jsxs("div",{className:"text-gray-600 dark:text-gray-400 space-y-4",children:[a.jsx("p",{children:"Recopilamos información que usted nos proporciona directamente, como cuando:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[a.jsx("li",{children:"Crea una cuenta en nuestro sitio web"}),a.jsx("li",{children:"Realiza una compra o solicita información"}),a.jsx("li",{children:"Se suscribe a nuestro boletín informativo"}),a.jsx("li",{children:"Participa en encuestas o promociones"}),a.jsx("li",{children:"Se comunica con nosotros"})]}),a.jsx("p",{children:"Esta información puede incluir: nombre, dirección de correo electrónico, número de teléfono, dirección de envío, información de pago y preferencias de comunicación."})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(IC,{className:"w-6 h-6 text-amarillo dark:text-yellow-400 mr-3"}),a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100",children:"2. Cómo Utilizamos su Información"})]}),a.jsxs("div",{className:"text-gray-600 dark:text-gray-400 space-y-4",children:[a.jsx("p",{children:"Utilizamos la información que recopilamos para:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[a.jsx("li",{children:"Procesar y entregar sus pedidos"}),a.jsx("li",{children:"Gestionar su cuenta y proporcionar servicio al cliente"}),a.jsx("li",{children:"Enviar información sobre productos, servicios y promociones"}),a.jsx("li",{children:"Mejorar nuestro sitio web y servicios"}),a.jsx("li",{children:"Personalizar su experiencia de compra"}),a.jsx("li",{children:"Cumplir con obligaciones legales"})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(cf,{className:"w-6 h-6 text-amarillo dark:text-yellow-400 mr-3"}),a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100",children:"3. Compartir Información"})]}),a.jsxs("div",{className:"text-gray-600 dark:text-gray-400 space-y-4",children:[a.jsx("p",{children:"No vendemos, comercializamos o transferimos su información personal a terceros, excepto en las siguientes circunstancias:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[a.jsx("li",{children:"Con proveedores de servicios que nos ayudan a operar nuestro negocio"}),a.jsx("li",{children:"Para cumplir con la ley o responder a procesos legales"}),a.jsx("li",{children:"Para proteger nuestros derechos, propiedad o seguridad"}),a.jsx("li",{children:"Con su consentimiento explícito"})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(WC,{className:"w-6 h-6 text-amarillo dark:text-yellow-400 mr-3"}),a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100",children:"4. Seguridad de los Datos"})]}),a.jsxs("div",{className:"text-gray-600 dark:text-gray-400 space-y-4",children:[a.jsx("p",{children:"Implementamos medidas de seguridad técnicas y organizativas apropiadas para proteger su información personal contra:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[a.jsx("li",{children:"Acceso no autorizado"}),a.jsx("li",{children:"Alteración, divulgación o destrucción"}),a.jsx("li",{children:"Procesamiento ilegal"}),a.jsx("li",{children:"Pérdida accidental"})]}),a.jsx("p",{children:"Utilizamos encriptación SSL para proteger la información sensible durante la transmisión y almacenamos datos en servidores seguros con acceso restringido."})]})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"5. Sus Derechos"}),a.jsxs("div",{className:"text-gray-600 dark:text-gray-400 space-y-4",children:[a.jsx("p",{children:"Usted tiene derecho a:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[a.jsx("li",{children:"Acceder a su información personal que tenemos"}),a.jsx("li",{children:"Corregir información inexacta o incompleta"}),a.jsx("li",{children:"Solicitar la eliminación de su información personal"}),a.jsx("li",{children:"Oponerse al procesamiento de su información"}),a.jsx("li",{children:"Solicitar la portabilidad de sus datos"}),a.jsx("li",{children:"Retirar su consentimiento en cualquier momento"})]}),a.jsx("p",{children:"Para ejercer estos derechos, contáctenos en contactomercadillo@gmail.com"})]})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"6. Cookies y Tecnologías Similares"}),a.jsxs("div",{className:"text-gray-600 dark:text-gray-400 space-y-4",children:[a.jsx("p",{children:"Utilizamos cookies y tecnologías similares para:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[a.jsx("li",{children:"Recordar sus preferencias y configuraciones"}),a.jsx("li",{children:"Analizar el tráfico y uso del sitio web"}),a.jsx("li",{children:"Personalizar contenido y anuncios"}),a.jsx("li",{children:"Proporcionar funciones de redes sociales"})]}),a.jsx("p",{children:"Puede controlar las cookies a través de la configuración de su navegador."})]})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"7. Retención de Datos"}),a.jsx("div",{className:"text-gray-600 dark:text-gray-400 space-y-4",children:a.jsx("p",{children:"Conservamos su información personal solo mientras sea necesario para cumplir con los fines para los cuales fue recopilada, incluidos los requisitos legales, contables o de informes."})})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"8. Cambios a esta Política"}),a.jsx("div",{className:"text-gray-600 dark:text-gray-400 space-y-4",children:a.jsx("p",{children:'Podemos actualizar esta Política de Privacidad ocasionalmente. Le notificaremos sobre cualquier cambio publicando la nueva Política de Privacidad en esta página y actualizando la fecha de "última actualización".'})})]}),a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-6 mt-8",children:[a.jsxs("p",{className:"text-sm text-gris-claro dark:text-gray-400",children:[a.jsx("strong",{children:"Última actualización:"})," Enero 2024"]}),a.jsx("p",{className:"text-sm text-gris-claro dark:text-gray-400 mt-2",children:"Si tiene alguna pregunta sobre esta Política de Privacidad, póngase en contacto con nosotros en contactomercadillo@gmail.com"})]})]})]})}),x3=()=>a.jsx("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 py-12 transition-colors duration-200",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 bg-amarillo dark:bg-yellow-500 rounded-full flex items-center justify-center",children:a.jsx($s,{className:"w-8 h-8 text-gris-oscuro dark:text-gray-900"})})}),a.jsx("h1",{className:"text-4xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"Envíos y Devoluciones"}),a.jsx("p",{className:"text-lg text-gris-claro dark:text-gray-400 max-w-2xl mx-auto",children:"Información completa sobre nuestras políticas de envío y devoluciones para que tengas la mejor experiencia de compra."})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"card p-8",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx($s,{className:"w-6 h-6 text-amarillo dark:text-yellow-400 mr-3"}),a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100",children:"Política de Envíos"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(ar,{className:"w-5 h-5 text-amarillo dark:text-yellow-400 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gris-oscuro dark:text-gray-100",children:"Tiempos de Entrega"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-600",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"El Agustino y Santa Anita"}),a.jsx("span",{className:"font-medium text-gris-oscuro dark:text-gray-200",children:"24 horas"})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-600",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Lima Este (SJL, ATE)"}),a.jsx("span",{className:"font-medium text-gris-oscuro dark:text-gray-200",children:"24-48 horas"})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-600",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Lima Metropolitana"}),a.jsx("span",{className:"font-medium text-gris-oscuro dark:text-gray-200",children:"24-48 horas"})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-600",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Lima Provincias"}),a.jsx("span",{className:"font-medium text-gris-oscuro dark:text-gray-200",children:"2-4 días hábiles"})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-600",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Provincias"}),a.jsx("span",{className:"font-medium text-gris-oscuro dark:text-gray-200",children:"3-7 días hábiles"})]}),a.jsxs("div",{className:"flex justify-between items-center py-2",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Zonas Remotas"}),a.jsx("span",{className:"font-medium text-gris-oscuro dark:text-gray-200",children:"5-10 días hábiles"})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(fo,{className:"w-5 h-5 text-amarillo dark:text-yellow-400 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gris-oscuro dark:text-gray-100",children:"Costos de Envío"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-600",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"El Agustino y Santa Anita"}),a.jsx("span",{className:"font-medium text-gris-oscuro dark:text-gray-200",children:"S/ 10.00"})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-600",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Lima Este (SJL, ATE)"}),a.jsx("span",{className:"font-medium text-gris-oscuro dark:text-gray-200",children:"S/ 12.00"})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-600",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Lima Metropolitana"}),a.jsx("span",{className:"font-medium text-gris-oscuro dark:text-gray-200",children:"S/ 15.00"})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-600",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Lima Provincias"}),a.jsx("span",{className:"font-medium text-gris-oscuro dark:text-gray-200",children:"S/ 25.00"})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-600",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Provincias"}),a.jsx("span",{className:"font-medium text-gris-oscuro dark:text-gray-200",children:"S/ 35.00"})]}),a.jsxs("div",{className:"flex justify-between items-center py-2",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"Envío Gratis"}),a.jsxs("span",{className:"font-medium text-gris-oscuro dark:text-gray-200",children:["Compras ",">","= S/ 150"]})]})]})]})]}),a.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(qe,{className:"w-5 h-5 text-green-600 dark:text-green-400 mr-2"}),a.jsx("p",{className:"text-green-800 dark:text-green-200 font-medium",children:"¡Envío gratuito en compras superiores a S/ 150.00 en todo el Perú!"})]})}),a.jsxs("div",{className:"text-gray-600 dark:text-gray-400 space-y-4",children:[a.jsx("h4",{className:"font-semibold text-gris-oscuro dark:text-gray-100 mb-2",children:"Información Importante:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[a.jsx("li",{children:"Los tiempos de entrega se calculan en días hábiles (lunes a viernes)"}),a.jsx("li",{children:"Los envíos se realizan de lunes a sábado"}),a.jsx("li",{children:"Recibirás un código de seguimiento una vez que tu pedido sea despachado"}),a.jsx("li",{children:"Es necesario que alguien esté presente para recibir el paquete"}),a.jsx("li",{children:"Se requiere DNI para la entrega del pedido"})]})]})]}),a.jsxs("div",{className:"card p-8",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx(Wb,{className:"w-6 h-6 text-amarillo dark:text-yellow-400 mr-3"}),a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100",children:"Política de Devoluciones"})]}),a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ar,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mr-2"}),a.jsx("p",{className:"text-blue-800 dark:text-blue-200 font-medium",children:"Tienes hasta 30 días calendario para solicitar una devolución"})]})}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gris-oscuro dark:text-gray-100 mb-4",children:"Condiciones para Devolución"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600 dark:text-gray-400",children:[a.jsx("li",{children:"El producto debe estar en su estado original"}),a.jsx("li",{children:"Debe incluir todos los accesorios y empaques"}),a.jsx("li",{children:"No debe mostrar signos de uso o daño"}),a.jsx("li",{children:"Debe conservar las etiquetas originales"}),a.jsx("li",{children:"Presentar la boleta o factura de compra"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gris-oscuro dark:text-gray-100 mb-4",children:"Productos No Retornables"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600 dark:text-gray-400",children:[a.jsx("li",{children:"Productos de higiene personal"}),a.jsx("li",{children:"Ropa íntima y trajes de baño"}),a.jsx("li",{children:"Productos personalizados"}),a.jsx("li",{children:"Productos perecederos"}),a.jsx("li",{children:"Software y productos digitales"})]})]})]}),a.jsxs("div",{className:"mt-8 space-y-4 text-gray-600 dark:text-gray-400",children:[a.jsx("h4",{className:"font-semibold text-gris-oscuro dark:text-gray-100",children:"Proceso de Devolución:"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsx("div",{className:"w-8 h-8 bg-amarillo dark:bg-yellow-500 text-gris-oscuro dark:text-gray-900 rounded-full flex items-center justify-center mx-auto mb-2 font-bold",children:"1"}),a.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Contacta nuestro servicio al cliente"})]}),a.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsx("div",{className:"w-8 h-8 bg-amarillo dark:bg-yellow-500 text-gris-oscuro dark:text-gray-900 rounded-full flex items-center justify-center mx-auto mb-2 font-bold",children:"2"}),a.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Envía el producto siguiendo las instrucciones"})]}),a.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsx("div",{className:"w-8 h-8 bg-amarillo dark:bg-yellow-500 text-gris-oscuro dark:text-gray-900 rounded-full flex items-center justify-center mx-auto mb-2 font-bold",children:"3"}),a.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Recibe tu reembolso en 5-7 días hábiles"})]})]})]})]}),a.jsxs("div",{className:"card p-8",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx(Gn,{className:"w-6 h-6 text-amarillo dark:text-yellow-400 mr-3"}),a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100",children:"¿Necesitas Ayuda?"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gris-oscuro dark:text-gray-100 mb-4",children:"Servicio al Cliente"}),a.jsxs("div",{className:"space-y-2 text-gray-600 dark:text-gray-400",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Teléfono:"})," +51 977 933 410"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Email:"})," contactomercadillo@gmail.com"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Horarios:"})," Lunes a Viernes 9:00 AM - 6:00 PM"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Sábados:"})," 9:00 AM - 2:00 PM"]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gris-oscuro dark:text-gray-100 mb-4",children:"Dirección"}),a.jsxs("div",{className:"space-y-2 text-gray-600 dark:text-gray-400",children:[a.jsx("p",{children:"Mercadillo Lima Perú"}),a.jsx("p",{children:"El Agustino"}),a.jsx("p",{children:"Lima Este 15007"}),a.jsx("p",{children:"Perú"})]})]})]})]})]})]})});class qo{constructor(t=0,r="Network Error"){this.status=t,this.text=r}}const y3=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},ut={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:y3()},Pm=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},v3=(e,t="https://api.emailjs.com")=>{if(!e)return;const r=Pm(e);ut.publicKey=r.publicKey,ut.blockHeadless=r.blockHeadless,ut.storageProvider=r.storageProvider,ut.blockList=r.blockList,ut.limitRate=r.limitRate,ut.origin=r.origin||t},rw=async(e,t,r={})=>{const n=await fetch(ut.origin+e,{method:"POST",headers:r,body:t}),s=await n.text(),i=new qo(n.status,s);if(n.ok)return i;throw i},nw=(e,t,r)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r||typeof r!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},b3=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},sw=e=>e.webdriver||!e.languages||e.languages.length===0,aw=()=>new qo(451,"Unavailable For Headless Browser"),w3=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},k3=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},j3=(e,t)=>e instanceof FormData?e.get(t):e[t],iw=(e,t)=>{if(k3(e))return!1;w3(e.list,e.watchVariable);const r=j3(t,e.watchVariable);return typeof r!="string"?!1:e.list.includes(r)},ow=()=>new qo(403,"Forbidden"),_3=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},N3=async(e,t,r)=>{const n=Number(await r.get(e)||0);return t-Date.now()+n},lw=async(e,t,r)=>{if(!t.throttle||!r)return!1;_3(t.throttle,t.id);const n=t.id||e;return await N3(n,t.throttle,r)>0?!0:(await r.set(n,Date.now().toString()),!1)},cw=()=>new qo(429,"Too Many Requests"),S3=async(e,t,r,n)=>{const s=Pm(n),i=s.publicKey||ut.publicKey,o=s.blockHeadless||ut.blockHeadless,l=s.storageProvider||ut.storageProvider,c={...ut.blockList,...s.blockList},d={...ut.limitRate,...s.limitRate};return o&&sw(navigator)?Promise.reject(aw()):(nw(i,e,t),b3(r),r&&iw(c,r)?Promise.reject(ow()):await lw(location.pathname,d,l)?Promise.reject(cw()):rw("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:i,service_id:e,template_id:t,template_params:r}),{"Content-type":"application/json"}))},E3=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},P3=e=>typeof e=="string"?document.querySelector(e):e,C3=async(e,t,r,n)=>{const s=Pm(n),i=s.publicKey||ut.publicKey,o=s.blockHeadless||ut.blockHeadless,l=ut.storageProvider||s.storageProvider,c={...ut.blockList,...s.blockList},d={...ut.limitRate,...s.limitRate};if(o&&sw(navigator))return Promise.reject(aw());const u=P3(r);nw(i,e,t),E3(u);const h=new FormData(u);return iw(c,h)?Promise.reject(ow()):await lw(location.pathname,d,l)?Promise.reject(cw()):(h.append("lib_version","4.4.1"),h.append("service_id",e),h.append("template_id",t),h.append("user_id",i),rw("/api/v1.0/email/send-form",h))},T3={init:v3,send:S3,sendForm:C3,EmailJSResponseStatus:qo},R3=()=>{const[e,t]=w.useState({nombre:"",email:"",telefono:"",asunto:"",mensaje:""}),[r,n]=w.useState(!1),[s,i]=w.useState("idle"),o=c=>{const{name:d,value:u}=c.target;t(h=>({...h,[d]:u}))},l=async c=>{c.preventDefault(),n(!0),i("idle");try{const d="T-FXCMPW-RfI-lFbf",u="service_2j5bj9j",h="template_2zq9b07";await T3.send(u,h,{nombre:e.nombre,email:e.email,telefono:e.telefono,asunto:e.asunto,mensaje:e.mensaje,to_email:"contactomercadillo@gmail.com"},d),i("success"),t({nombre:"",email:"",telefono:"",asunto:"",mensaje:""})}catch(d){console.error("Error enviando email:",d),i("error")}finally{n(!1)}};return a.jsx("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 py-12 transition-colors duration-200",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 bg-amarillo dark:bg-yellow-500 rounded-full flex items-center justify-center",children:a.jsx(VC,{className:"w-8 h-8 text-gris-oscuro dark:text-gray-900"})})}),a.jsx("h1",{className:"text-4xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"Contáctanos"}),a.jsx("p",{className:"text-lg text-gris-claro dark:text-gray-400 max-w-2xl mx-auto",children:"¿Tienes alguna pregunta o necesitas ayuda? Estamos aquí para ti. Contáctanos y te responderemos lo antes posible."})]}),a.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"card p-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100 mb-6",children:"Información de Contacto"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-amarillo dark:bg-yellow-500 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(Bb,{className:"w-6 h-6 text-gris-oscuro dark:text-gray-900"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gris-oscuro dark:text-gray-100 mb-1",children:"Teléfono"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"+51 977 933 410"}),a.jsx("p",{className:"text-sm text-gris-claro dark:text-gray-500",children:"Lunes a Viernes: 9:00 AM - 6:00 PM"}),a.jsx("p",{className:"text-sm text-gris-claro dark:text-gray-500",children:"Sábados: 9:00 AM - 2:00 PM"})]})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-amarillo dark:bg-yellow-500 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(Nm,{className:"w-6 h-6 text-gris-oscuro dark:text-gray-900"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gris-oscuro dark:text-gray-100 mb-1",children:"Correo Electrónico"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"contactomercadillo@gmail.com"}),a.jsx("p",{className:"text-sm text-gris-claro dark:text-gray-500",children:"Respuesta en 24-48 horas"})]})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-amarillo dark:bg-yellow-500 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(Gn,{className:"w-6 h-6 text-gris-oscuro dark:text-gray-900"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gris-oscuro dark:text-gray-100 mb-1",children:"Dirección"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"El Agustino"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Lima Este 15007"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Perú"})]})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-amarillo dark:bg-yellow-500 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(ar,{className:"w-6 h-6 text-gris-oscuro dark:text-gray-900"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gris-oscuro dark:text-gray-100 mb-1",children:"Horarios de Atención"}),a.jsxs("div",{className:"text-gray-600 dark:text-gray-400 space-y-1",children:[a.jsx("p",{children:"Lunes - Viernes: 9:00 AM - 6:00 PM"}),a.jsx("p",{children:"Sábados: 9:00 AM - 2:00 PM"}),a.jsx("p",{children:"Domingos: Cerrado"})]})]})]})]})]}),a.jsxs("div",{className:"card p-8",children:[a.jsx("h3",{className:"text-xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"Preguntas Frecuentes"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gris-oscuro dark:text-gray-100 mb-1",children:"¿Cuánto tiempo tarda mi pedido?"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Los envíos en El Agustino, Santa Anita y SJL tardan 24 horas, Lima Metropolitana 24-48 horas, y a provincias de 3-7 días hábiles."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gris-oscuro dark:text-gray-100 mb-1",children:"¿Puedo cambiar mi pedido?"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Puedes modificar tu pedido antes de que sea despachado. Contáctanos inmediatamente."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gris-oscuro dark:text-gray-100 mb-1",children:"¿Aceptan devoluciones?"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sí, aceptamos devoluciones hasta 30 días después de la compra. Ver nuestra política de devoluciones."})]})]})]})]}),a.jsxs("div",{className:"card p-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100 mb-6",children:"Envíanos un Mensaje"}),s==="success"&&a.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4 mb-6",children:a.jsx("p",{className:"text-green-800 dark:text-green-200",children:"¡Gracias! Tu mensaje ha sido enviado exitosamente. Te responderemos pronto."})}),s==="error"&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-6",children:a.jsx("p",{className:"text-red-800 dark:text-red-200",children:"Hubo un error al enviar tu mensaje. Por favor, intenta nuevamente."})}),a.jsxs("form",{onSubmit:l,className:"space-y-6",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gris-oscuro dark:text-gray-200 mb-2",children:"Nombre Completo *"}),a.jsx("input",{type:"text",name:"nombre",value:e.nombre,onChange:o,required:!0,className:"input-field",placeholder:"Tu nombre completo"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gris-oscuro dark:text-gray-200 mb-2",children:"Correo Electrónico *"}),a.jsx("input",{type:"email",name:"email",value:e.email,onChange:o,required:!0,className:"input-field",placeholder:"tu@email.com"})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gris-oscuro dark:text-gray-200 mb-2",children:"Teléfono"}),a.jsx("input",{type:"tel",name:"telefono",value:e.telefono,onChange:o,className:"input-field",placeholder:"+51 999 999 999"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gris-oscuro dark:text-gray-200 mb-2",children:"Asunto *"}),a.jsxs("select",{name:"asunto",value:e.asunto,onChange:o,required:!0,className:"input-field",children:[a.jsx("option",{value:"",children:"Selecciona un asunto"}),a.jsx("option",{value:"consulta-producto",children:"Consulta sobre producto"}),a.jsx("option",{value:"estado-pedido",children:"Estado de mi pedido"}),a.jsx("option",{value:"devolucion",children:"Devolución o cambio"}),a.jsx("option",{value:"facturacion",children:"Facturación"}),a.jsx("option",{value:"sugerencia",children:"Sugerencia"}),a.jsx("option",{value:"otro",children:"Otro"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gris-oscuro dark:text-gray-200 mb-2",children:"Mensaje *"}),a.jsx("textarea",{name:"mensaje",value:e.mensaje,onChange:o,required:!0,rows:6,className:"input-field",placeholder:"Describe tu consulta o mensaje..."})]}),a.jsx("button",{type:"submit",disabled:r,className:"w-full btn-primary py-3 flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:r?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-gris-oscuro dark:border-gray-900 border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Enviando..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(qb,{className:"w-5 h-5"}),a.jsx("span",{children:"Enviar Mensaje"})]})})]})]})]})]})})},A3=()=>a.jsx("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 py-12",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8",children:[a.jsx("h1",{className:"text-4xl font-bold text-gris-oscuro dark:text-white mb-8 text-center",children:"Sobre Nosotros"}),a.jsxs("div",{className:"prose max-w-none text-gris-oscuro dark:text-gray-300",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gris-oscuro dark:text-white mb-4",children:"¿Quiénes Somos?"}),a.jsx("p",{className:"text-lg leading-relaxed mb-4",children:"Mercadillo Lima Perú es tu destino confiable para productos de calidad en El Agustino y Lima Este. Ubicados estratégicamente en El Agustino, nos dedicamos a conectar a vendedores locales con compradores que buscan productos únicos y auténticos en nuestra comunidad."}),a.jsx("p",{className:"text-lg leading-relaxed",children:"Desde nuestros inicios en El Agustino, hemos trabajado para crear una plataforma que refleje la diversidad y riqueza de los productos de Lima Este, ofreciendo una experiencia de compra segura y satisfactoria especialmente diseñada para nuestra zona."})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gris-oscuro dark:text-white mb-4",children:"Nuestra Misión"}),a.jsx("p",{className:"text-lg leading-relaxed",children:"Facilitar el comercio local en El Agustino y Lima Este, promoviendo productos de calidad y creando un puente entre vendedores y compradores que beneficie a toda nuestra comunidad. Creemos en el poder del comercio justo y en apoyar especialmente a los emprendedores de nuestra zona."})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gris-oscuro dark:text-white mb-4",children:"Nuestra Visión"}),a.jsx("p",{className:"text-lg leading-relaxed",children:"Ser la plataforma líder de comercio electrónico en El Agustino y Lima Este, reconocida por la calidad de nuestros productos, la excelencia en el servicio al cliente y nuestro compromiso con el desarrollo económico de nuestra comunidad local."})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gris-oscuro dark:text-white mb-4",children:"Nuestros Valores"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-lg",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Calidad:"})," Ofrecemos solo productos que cumplen con nuestros altos estándares."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Confianza:"})," Construimos relaciones duraderas basadas en la transparencia."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Comunidad:"})," Apoyamos a vendedores locales y contribuimos al crecimiento económico."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Innovación:"})," Mejoramos continuamente nuestra plataforma y servicios."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Sostenibilidad:"})," Promovemos prácticas comerciales responsables con el medio ambiente."]})]})]}),a.jsxs("div",{className:"bg-amarillo/10 dark:bg-yellow-400/10 p-6 rounded-lg",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gris-oscuro dark:text-white mb-4",children:"¿Por Qué Elegirnos?"}),a.jsxs("ul",{className:"space-y-3 text-lg",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-amarillo mr-2",children:"✓"}),a.jsx("span",{children:"Productos auténticos y de calidad verificada"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-amarillo mr-2",children:"✓"}),a.jsx("span",{children:"Envíos seguros y rápidos en El Agustino, Santa Anita, SJL y toda Lima"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-amarillo mr-2",children:"✓"}),a.jsx("span",{children:"Atención al cliente personalizada"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-amarillo mr-2",children:"✓"}),a.jsx("span",{children:"Precios competitivos y ofertas especiales"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-amarillo mr-2",children:"✓"}),a.jsx("span",{children:"Plataforma segura y fácil de usar"})]})]})]})]})]})})}),O3=()=>{const{user:e}=Ct(),{addToCart:t}=ns(),{showWishlistRemoved:r,showCartAdded:n}=_m(),[s,i]=w.useState([]),[o,l]=w.useState(!0),[c,d]=w.useState(null),[u,h]=w.useState(null);w.useEffect(()=>{e!=null&&e.id&&f()},[e==null?void 0:e.id]);const f=async()=>{if(!(e!=null&&e.id))return;l(!0);const m=await k4(e.id);m.error?d(m.error):i(m.data||[]),l(!1)},g=async m=>{var x;if(!(e!=null&&e.id))return;h(m);const k=await j4(e.id,m);if(k.error)d(k.error);else{const p=s.find(b=>b.producto_id===m),v=((x=p==null?void 0:p.producto)==null?void 0:x.nombre)||"Producto";r(v),i(b=>b.filter(_=>_.producto_id!==m))}h(null)},y=m=>{m.producto&&(t({id:m.producto.id,nombre:m.producto.nombre,descripcion:"",precio:m.producto.precio,imagen:m.producto.imagen,stock:m.producto.stock,categoria:"",created_at:"",updated_at:""},1),n(m.producto.nombre))};return o?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})})}):c?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6",children:a.jsx("p",{className:"text-red-800 dark:text-red-200",children:c})})})}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(lf,{className:"w-8 h-8 text-red-500"}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Lista de Deseos"})]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Tus productos favoritos guardados para más tarde"})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Total de productos"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:s.length})]}),a.jsx(qe,{className:"w-12 h-12 text-blue-600 dark:text-blue-400 opacity-20"})]})}),s.length===0?a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-12 text-center",children:[a.jsx(lf,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Tu lista de deseos está vacía"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Explora nuestros productos y guarda tus favoritos aquí"}),a.jsx(ce,{to:"/catalogo",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Explorar Productos"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(m=>a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-200",children:m.producto&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:m.producto.imagen,alt:m.producto.nombre,className:"w-full h-48 object-cover"}),a.jsx("button",{onClick:()=>g(m.producto_id),disabled:u===m.producto_id,className:"absolute top-2 right-2 p-2 bg-white dark:bg-gray-800 rounded-full shadow-md hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors duration-200",title:"Remover de lista de deseos",children:u===m.producto_id?a.jsx("div",{className:"w-5 h-5 animate-spin rounded-full border-2 border-red-500 border-t-transparent"}):a.jsx(Hs,{className:"w-5 h-5 text-red-500"})})]}),a.jsxs("div",{className:"p-4",children:[a.jsx(ce,{to:`/product/${m.producto.id}`,className:"block mb-2",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-200 line-clamp-2",children:m.producto.nombre})}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("span",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["S/ ",m.producto.precio.toFixed(2)]}),a.jsx("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((k,x)=>a.jsx(jr,{className:"w-4 h-4 text-yellow-400 fill-current"},x))})]}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Stock: ",m.producto.stock]}),a.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Agregado: ",new Date(m.created_at).toLocaleDateString()]})]}),a.jsx("div",{className:"flex space-x-2",children:a.jsxs("button",{onClick:()=>y(m),disabled:m.producto.stock===0,className:"flex-1 flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 dark:disabled:bg-gray-600 disabled:cursor-not-allowed transition-colors duration-200",children:[a.jsx(zr,{className:"w-4 h-4 mr-2"}),m.producto.stock===0?"Sin Stock":"Agregar al Carrito"]})})]})]})},m.id))})]})})},I3=()=>{const{user:e}=Ct(),[t,r]=w.useState([]),[n,s]=w.useState(!0),[i,o]=w.useState(null);w.useEffect(()=>{e!=null&&e.id&&l()},[e==null?void 0:e.id]);const l=async()=>{if(!(e!=null&&e.id))return;s(!0);const h=await f4(e.id);h.error?o(h.error):r(h.data||[]),s(!1)},c=h=>{switch(h){case"pendiente":return a.jsx(ar,{className:"w-5 h-5 text-yellow-500"});case"pagado":case"procesando":return a.jsx(qe,{className:"w-5 h-5 text-blue-500"});case"enviado":return a.jsx($s,{className:"w-5 h-5 text-purple-500"});case"entregado":return a.jsx(ho,{className:"w-5 h-5 text-green-500"});case"cancelado":case"fallido":return a.jsx(go,{className:"w-5 h-5 text-red-500"});default:return a.jsx(ar,{className:"w-5 h-5 text-gray-500"})}},d=h=>{switch(h){case"pendiente":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400";case"pagado":case"procesando":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";case"enviado":return"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400";case"entregado":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"cancelado":case"fallido":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}},u=h=>({pendiente:"Pendiente",pagado:"Pagado",procesando:"Procesando",enviado:"Enviado",entregado:"Entregado",cancelado:"Cancelado",fallido:"Fallido"})[h]||h;return n?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})})}):i?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6",children:a.jsx("p",{className:"text-red-800 dark:text-red-200",children:i})})})}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(qe,{className:"w-8 h-8 text-blue-600"}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Mis Pedidos"})]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Historial completo de tus compras y estado de envíos"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Pedidos"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:t.length})]}),a.jsx(qe,{className:"w-8 h-8 text-blue-600 opacity-20"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Entregados"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:t.filter(h=>h.estado==="entregado").length})]}),a.jsx(ho,{className:"w-8 h-8 text-green-600 opacity-20"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"En Proceso"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t.filter(h=>["pagado","procesando","enviado"].includes(h.estado)).length})]}),a.jsx($s,{className:"w-8 h-8 text-blue-600 opacity-20"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Gastado"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:["S/ ",t.reduce((h,f)=>h+f.total,0).toFixed(2)]})]}),a.jsx(qe,{className:"w-8 h-8 text-gray-600 opacity-20"})]})})]}),t.length===0?a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-12 text-center",children:[a.jsx(qe,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"No tienes pedidos aún"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Explora nuestros productos y realiza tu primera compra"}),a.jsx(ce,{to:"/catalogo",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Ir al Catálogo"})]}):a.jsx("div",{className:"space-y-6",children:t.map(h=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[c(h.estado),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:["Pedido #",h.id.slice(-8)]}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(h.created_at).toLocaleDateString("es-PE",{year:"numeric",month:"long",day:"numeric"})})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${d(h.estado)}`,children:u(h.estado)}),a.jsxs("p",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 mt-1",children:["S/ ",h.total.toFixed(2)]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Método de pago"}),a.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100 capitalize",children:h.metodo_pago})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Dirección de envío"}),a.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:h.direccion_envio})]}),h.fecha_pago&&a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Fecha de pago"}),a.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:new Date(h.fecha_pago).toLocaleDateString()})]})]})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-4",children:["Productos (",Array.isArray(h.items)?h.items.length:0,")"]}),a.jsx("div",{className:"space-y-3",children:Array.isArray(h.items)&&h.items.map((f,g)=>{var y;return a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("img",{src:f.image||"/placeholder-product.jpg",alt:f.title||f.nombre,className:"w-16 h-16 object-cover rounded-lg"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:f.title||f.nombre}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Cantidad: ",f.quantity||f.cantidad," × S/ ",(y=f.price||f.precio)==null?void 0:y.toFixed(2)]})]}),a.jsxs("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:["S/ ",((f.quantity||f.cantidad)*(f.price||f.precio)).toFixed(2)]})]},g)})})]})]},h.id))})]})})},F3=()=>{const{user:e}=Ct(),[t,r]=w.useState([]),[n,s]=w.useState(!0),[i,o]=w.useState(null),[l,c]=w.useState(null);w.useEffect(()=>{e!=null&&e.id&&d()},[e==null?void 0:e.id]);const d=async()=>{if(e!=null&&e.id){s(!0);try{const{data:m,error:k}=await ae.from("resenas").select(`
          *,
          producto:productos(id, nombre, imagen, precio)
        `).eq("usuario_id",e.id).order("created_at",{ascending:!1});k?o(k.message):r(m||[])}catch{o("Error inesperado al cargar reseñas")}s(!1)}},u=async m=>{if(confirm("¿Estás seguro de que quieres eliminar esta reseña?")){c(m);try{const{error:k}=await ae.from("resenas").delete().eq("id",m).eq("usuario_id",e==null?void 0:e.id);k?o(k.message):r(x=>x.filter(p=>p.id!==m))}catch{o("Error al eliminar la reseña")}c(null)}},h=m=>a.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(k=>a.jsx(jr,{className:`w-4 h-4 ${k<=m?"text-yellow-400 fill-current":"text-gray-300 dark:text-gray-600"}`},k))}),f=()=>t.length===0?0:(t.reduce((k,x)=>k+x.calificacion,0)/t.length).toFixed(1),g=()=>{const m={5:0,4:0,3:0,2:0,1:0};return t.forEach(k=>{m[k.calificacion]++}),m};if(n)return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})})});if(i)return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6",children:a.jsx("p",{className:"text-red-800 dark:text-red-200",children:i})})})});const y=g();return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(jr,{className:"w-8 h-8 text-yellow-500"}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Mis Reseñas"})]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Todas las reseñas que has escrito sobre productos que compraste"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Total de Reseñas"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:t.length})]}),a.jsx(mo,{className:"w-12 h-12 text-blue-600 dark:text-blue-400 opacity-20"})]}),t.length>0&&a.jsxs("div",{className:"flex items-center space-x-2",children:[h(Math.round(Number(f()))),a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Promedio: ",f()]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Distribución"}),a.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(m=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 w-8",children:[m,"★"]}),a.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:t.length>0?`${y[m]/t.length*100}%`:"0%"}})}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 w-8",children:y[m]})]},m))})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Productos Reseñados"}),a.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:new Set(t.map(m=>m.producto_id)).size})]}),a.jsx(qe,{className:"w-12 h-12 text-green-600 dark:text-green-400 opacity-20"})]}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Productos únicos con reseña"})]})]}),t.length===0?a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-12 text-center",children:[a.jsx(jr,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"No has escrito reseñas aún"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Compra productos y comparte tu experiencia con otros usuarios"}),a.jsx(ce,{to:"/perfil/pedidos",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Ver Mis Pedidos"})]}):a.jsx("div",{className:"space-y-6",children:t.map(m=>{var k,x,p,v,b;return a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-200",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("img",{src:((k=m.producto)==null?void 0:k.imagen)||"/placeholder-product.jpg",alt:(x=m.producto)==null?void 0:x.nombre,className:"w-16 h-16 object-cover rounded-lg"}),a.jsxs("div",{children:[a.jsx(ce,{to:`/producto/${m.producto_id}`,className:"block",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-200 line-clamp-2",children:(p=m.producto)==null?void 0:p.nombre})}),a.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[h(m.calificacion),a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[m.calificacion,"/5 estrellas"]})]})]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("button",{onClick:()=>u(m.id),disabled:l===m.id,className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors duration-200",title:"Eliminar reseña",children:l===m.id?a.jsx("div",{className:"w-4 h-4 animate-spin rounded-full border-2 border-red-500 border-t-transparent"}):a.jsx(Hs,{className:"w-4 h-4"})})})]}),m.comentario&&a.jsx("div",{className:"mb-4",children:a.jsxs("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:['"',m.comentario,'"']})}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400 pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Tc,{className:"w-4 h-4"}),a.jsx("span",{children:new Date(m.created_at).toLocaleDateString("es-PE",{year:"numeric",month:"long",day:"numeric"})})]}),m.updated_at!==m.created_at&&a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(zb,{className:"w-4 h-4"}),a.jsx("span",{children:"Editada"})]})]}),a.jsxs("span",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:["S/ ",(b=(v=m.producto)==null?void 0:v.precio)==null?void 0:b.toFixed(2)]})]})]})},m.id)})})]})})},L3=({data:e,itemsPerPage:t=10,initialPage:r=1})=>{const[n,s]=w.useState(r),i=w.useMemo(()=>Math.ceil(e.length/t),[e.length,t]);w.useEffect(()=>{n>i&&i>0&&s(1)},[i,n]);const o=w.useMemo(()=>{const m=(n-1)*t,k=m+t;return e.slice(m,k)},[e,n,t]),l=()=>{s(m=>Math.min(m+1,i))},c=()=>{s(m=>Math.max(m-1,1))},d=()=>{s(1)},u=()=>{s(i)},h=n<i,f=n>1,g=(n-1)*t+1,y=Math.min(n*t,e.length);return{currentPage:n,totalPages:i,currentItems:o,setCurrentPage:s,goToNextPage:l,goToPreviousPage:c,goToFirstPage:d,goToLastPage:u,hasNextPage:h,hasPreviousPage:f,startIndex:g,endIndex:y,totalItems:e.length}},M3=(e,t=50)=>cb({queryKey:[...Oe.user.history(e),t],queryFn:async()=>{const r=await _4(e,t);if(r.error)throw new Error(r.error);return r.data||[]},...db.user,enabled:!!e}),U3=()=>{const e=ob();return{invalidateUserProfile:i=>{e.invalidateQueries({queryKey:Oe.user.profile(i)})},invalidateUserAddresses:i=>{e.invalidateQueries({queryKey:Oe.user.addresses(i)})},invalidateUserHistory:i=>{e.invalidateQueries({queryKey:Oe.user.history(i)})},invalidateAllUserData:()=>{e.invalidateQueries({queryKey:Oe.user.all})}}},D3=({currentPage:e,totalPages:t,onPageChange:r,showPages:n=5,className:s=""})=>{if(t<=1)return null;const o=(()=>{const u=Math.floor(n/2);let h=Math.max(1,e-u),f=Math.min(t,h+n-1);return f-h+1<n&&(h=Math.max(1,f-n+1)),Array.from({length:f-h+1},(g,y)=>h+y)})(),l=o[0]>2,c=o[o.length-1]<t-1,d=({children:u,onClick:h,disabled:f=!1,active:g=!1,className:y=""})=>a.jsx("button",{onClick:h,disabled:f,className:`
        relative inline-flex items-center justify-center min-w-[2.5rem] h-10 px-3 py-2 text-sm font-medium
        border border-gray-300 dark:border-gray-600
        transition-all duration-200 ease-in-out
        ${g?"bg-blue-600 text-white border-blue-600 dark:bg-blue-500 dark:border-blue-500":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}
        ${f?"opacity-50 cursor-not-allowed":"hover:border-gray-400 dark:hover:border-gray-500"}
        ${y}
      `,children:u});return a.jsxs("nav",{className:`flex items-center justify-center space-x-1 ${s}`,"aria-label":"Paginación",children:[a.jsxs(d,{onClick:()=>r(e-1),disabled:e===1,className:"rounded-l-lg",children:[a.jsx(AC,{className:"w-4 h-4"}),a.jsx("span",{className:"sr-only",children:"Página anterior"})]}),l&&a.jsxs(a.Fragment,{children:[a.jsx(d,{onClick:()=>r(1),children:"1"}),a.jsx("div",{className:"flex items-center justify-center min-w-[2.5rem] h-10",children:a.jsx(y0,{className:"w-4 h-4 text-gray-400"})})]}),o.map(u=>a.jsx(d,{onClick:()=>r(u),active:u===e,children:u},u)),c&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex items-center justify-center min-w-[2.5rem] h-10",children:a.jsx(y0,{className:"w-4 h-4 text-gray-400"})}),a.jsx(d,{onClick:()=>r(t),children:t})]}),a.jsxs(d,{onClick:()=>r(e+1),disabled:e===t,className:"rounded-r-lg",children:[a.jsx(OC,{className:"w-4 h-4"}),a.jsx("span",{className:"sr-only",children:"Página siguiente"})]})]})},z3=()=>{const{user:e}=Ct(),{addToCart:t}=ns(),[r,n]=w.useState(!1),{data:s=[],isLoading:i,error:o}=M3((e==null?void 0:e.id)||"",50),{invalidateUserHistory:l}=U3(),c=12,d=L3({data:s,itemsPerPage:c}),u=async()=>{if(!(e!=null&&e.id)||!confirm("¿Estás seguro de que quieres limpiar todo tu historial de navegación?"))return;n(!0);const k=await S4(e.id);k.error?console.error(k.error):l(e.id),n(!1)},h=k=>{k.producto&&t({id:k.producto.id,nombre:k.producto.nombre,descripcion:"",precio:k.producto.precio,imagen:k.producto.imagen,stock:0,categoria:"",created_at:"",updated_at:""},1)},f=k=>{const x=new Date,p=new Date(k),v=x.getTime()-p.getTime(),b=Math.floor(v/(1e3*60*60*24)),_=Math.floor(v/(1e3*60*60)),N=Math.floor(v/(1e3*60));return b>0?`hace ${b} día${b>1?"s":""}`:_>0?`hace ${_} hora${_>1?"s":""}`:N>0?`hace ${N} minuto${N>1?"s":""}`:"hace unos momentos"},g=k=>{const x={};return k.forEach(p=>{const v=new Date(p.updated_at),b=new Date,_=new Date(b);_.setDate(_.getDate()-1);let N;v.toDateString()===b.toDateString()?N="Hoy":v.toDateString()===_.toDateString()?N="Ayer":N=v.toLocaleDateString("es-PE",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),x[N]||(x[N]=[]),x[N].push(p)}),x},y=d.currentItems,m=g(y);return i?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})})}):o?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6",children:a.jsx("p",{className:"text-red-800 dark:text-red-200",children:o==null?void 0:o.message})})})}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ar,{className:"w-8 h-8 text-purple-600"}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Historial de Navegación"})]}),s.length>0&&a.jsxs("button",{onClick:u,disabled:r,className:"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:bg-gray-400 transition-colors duration-200",children:[r?a.jsx("div",{className:"w-4 h-4 animate-spin rounded-full border-2 border-white border-t-transparent"}):a.jsx(Hs,{className:"w-4 h-4"}),a.jsx("span",{children:"Limpiar Historial"})]})]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Productos que has visitado recientemente"}),s.length>0&&a.jsxs("div",{className:"flex items-center justify-between mt-4 text-sm text-gray-600 dark:text-gray-400",children:[a.jsxs("span",{children:["Mostrando ",d.startIndex+1,"-",Math.min(d.endIndex,s.length)," de ",s.length," productos"]}),a.jsxs("span",{children:["Página ",d.currentPage," de ",d.totalPages]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Productos Visitados"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:s.length})]}),a.jsx(Rc,{className:"w-8 h-8 text-purple-600 opacity-20"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Productos Únicos"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:new Set(s.map(k=>k.producto_id)).size})]}),a.jsx(ar,{className:"w-8 h-8 text-blue-600 opacity-20"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Última Visita"}),a.jsx("p",{className:"text-lg font-bold text-green-600",children:s.length>0?f(s[0].updated_at):"Nunca"})]}),a.jsx(ar,{className:"w-8 h-8 text-green-600 opacity-20"})]})})]}),s.length===0?a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-12 text-center",children:[a.jsx(ar,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Tu historial está vacío"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Explora nuestros productos para comenzar a construir tu historial"}),a.jsx(ce,{to:"/catalogo",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Explorar Productos"})]}):a.jsx("div",{className:"space-y-8",children:Object.entries(m).map(([k,x])=>a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 border-b border-gray-200 dark:border-gray-700 pb-2",children:k}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.map(p=>a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-200",children:p.producto&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:p.producto.imagen,alt:p.producto.nombre,className:"w-full h-48 object-cover"}),a.jsx("div",{className:"absolute top-2 right-2 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded",children:f(p.updated_at)})]}),a.jsxs("div",{className:"p-4",children:[a.jsx(ce,{to:`/producto/${p.producto.id}`,className:"block mb-2",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-200 line-clamp-2",children:p.producto.nombre})}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("span",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:["S/ ",p.producto.precio.toFixed(2)]}),a.jsx("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((v,b)=>a.jsx(jr,{className:"w-4 h-4 text-yellow-400 fill-current"},b))})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(ce,{to:`/producto/${p.producto.id}`,className:"flex-1 flex items-center justify-center px-3 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200",children:[a.jsx(Rc,{className:"w-4 h-4 mr-2"}),"Ver"]}),a.jsxs("button",{onClick:()=>h(p),className:"flex-1 flex items-center justify-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[a.jsx(zr,{className:"w-4 h-4 mr-2"}),"Agregar"]})]})]})]})},`${p.id}-${p.updated_at}`))})]},k))}),s.length>c&&a.jsx("div",{className:"mt-8 flex justify-center",children:a.jsx(D3,{currentPage:d.currentPage,totalPages:d.totalPages,onPageChange:d.setCurrentPage,className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg"})})]})})},$3=()=>{const{user:e}=Ct(),{showAddressAdded:t,showAddressUpdated:r,showAddressDeleted:n,showError:s}=_m(),[i,o]=w.useState([]),[l,c]=w.useState(!0),[d,u]=w.useState(null),[h,f]=w.useState(!1),[g,y]=w.useState(null),[m,k]=w.useState(!1),[x,p]=w.useState({nombre:"",direccion_completa:"",distrito:"",provincia:"",departamento:"",codigo_postal:"",referencia:"",telefono_contacto:"",es_predeterminada:!1});w.useEffect(()=>{e!=null&&e.id&&v()},[e==null?void 0:e.id]);const v=async()=>{if(!(e!=null&&e.id))return;c(!0);const S=await Zb(e.id);S.error?u(S.error):o(S.data||[]),c(!1)},b=()=>{p({nombre:"",direccion_completa:"",distrito:"",provincia:"",departamento:"",codigo_postal:"",referencia:"",telefono_contacto:"",es_predeterminada:!1}),y(null),f(!1)},_=S=>{y(S),p({nombre:S.nombre,direccion_completa:S.direccion_completa,distrito:S.distrito||"",provincia:S.provincia,departamento:S.departamento,codigo_postal:S.codigo_postal||"",referencia:S.referencia||"",telefono_contacto:S.telefono_contacto||"",es_predeterminada:S.es_predeterminada||!1}),f(!0)},N=async S=>{if(!confirm("¿Estás seguro de que quieres eliminar esta dirección?"))return;const T=await P4(S);T.error?s("Error al eliminar",T.error):(n(),await v())},j=async S=>{if(S.preventDefault(),!!(e!=null&&e.id)){k(!0),u(null);try{let T;g?T=await w0(g.id,x):T=await E4(e.id,x),T.error?s("Error al guardar",T.error):(g?r():t(),await v(),b())}catch{u("Error al guardar la dirección")}finally{k(!1)}}},P=async S=>{const T=i.find(z=>z.id===S);if(!T)return;const I=await w0(S,{...T,es_predeterminada:!0});I.error?s("Error al actualizar",I.error):(r(),await v())};return l?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})})}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:a.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Gn,{className:"w-8 h-8 text-green-600"}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Mis Direcciones"})]}),a.jsxs("button",{onClick:()=>f(!0),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200",children:[a.jsx(po,{className:"w-4 h-4"}),a.jsx("span",{children:"Agregar Dirección"})]})]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Gestiona tus direcciones de envío"})]}),d&&a.jsx("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:a.jsx("p",{className:"text-red-800 dark:text-red-200",children:d})}),h&&a.jsxs("div",{className:"mb-8 bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:g?"Editar Dirección":"Nueva Dirección"}),a.jsx("button",{onClick:b,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(Wo,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:j,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nombre de Dirección"}),a.jsx("input",{type:"text",value:x.nombre,onChange:S=>p({...x,nombre:S.target.value}),placeholder:"Ej: Casa, Oficina, etc.",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-100",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Teléfono de Contacto"}),a.jsx("input",{type:"tel",value:x.telefono_contacto,onChange:S=>p({...x,telefono_contacto:S.target.value}),placeholder:"Ej: 987654321",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-100"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Dirección Completa"}),a.jsx("textarea",{value:x.direccion_completa,onChange:S=>p({...x,direccion_completa:S.target.value}),placeholder:"Ej: Av. Lima 123, San Isidro",rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-100",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Distrito"}),a.jsx("input",{type:"text",value:x.distrito,onChange:S=>p({...x,distrito:S.target.value}),placeholder:"Ej: San Isidro",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Provincia"}),a.jsx("input",{type:"text",value:x.provincia,onChange:S=>p({...x,provincia:S.target.value}),placeholder:"Ej: Lima",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-100",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Departamento"}),a.jsx("input",{type:"text",value:x.departamento,onChange:S=>p({...x,departamento:S.target.value}),placeholder:"Ej: Lima",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-100",required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Código Postal"}),a.jsx("input",{type:"text",value:x.codigo_postal,onChange:S=>p({...x,codigo_postal:S.target.value}),placeholder:"Ej: 15001",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Referencia"}),a.jsx("input",{type:"text",value:x.referencia,onChange:S=>p({...x,referencia:S.target.value}),placeholder:"Ej: Cerca al parque principal",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-100"})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"es_predeterminada",checked:x.es_predeterminada,onChange:S=>p({...x,es_predeterminada:S.target.checked}),className:"w-4 h-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"es_predeterminada",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Establecer como dirección predeterminada"})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{type:"submit",disabled:m,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400 transition-colors duration-200",children:[m?a.jsx("div",{className:"w-4 h-4 animate-spin rounded-full border-2 border-white border-t-transparent mr-2"}):a.jsx(TC,{className:"w-4 h-4 mr-2"}),g?"Actualizar":"Guardar"]}),a.jsx("button",{type:"button",onClick:b,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200",children:"Cancelar"})]})]})]}),i.length===0?a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-12 text-center",children:[a.jsx(Gn,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"No tienes direcciones guardadas"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Agrega tu primera dirección para facilitar tus compras"}),a.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200",children:[a.jsx(po,{className:"w-4 h-4 mr-2"}),"Agregar Dirección"]})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.map(S=>a.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border-2 ${S.es_predeterminada?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-transparent"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:S.nombre}),S.es_predeterminada&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100",children:[a.jsx(jr,{className:"w-3 h-3 mr-1"}),"Predeterminada"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>_(S),className:"p-2 text-gray-500 hover:text-blue-600 dark:text-gray-400 dark:hover:text-blue-400 transition-colors duration-200",children:a.jsx($b,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>N(S.id),className:"p-2 text-gray-500 hover:text-red-600 dark:text-gray-400 dark:hover:text-red-400 transition-colors duration-200",children:a.jsx(Hs,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[a.jsx(Gn,{className:"w-4 h-4 inline mr-2"}),S.direccion_completa]}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[S.distrito&&`${S.distrito}, `,S.provincia,", ",S.departamento,S.codigo_postal&&` - ${S.codigo_postal}`]}),S.referencia&&a.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:["Ref: ",S.referencia]}),S.telefono_contacto&&a.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Tel: ",S.telefono_contacto]})]}),!S.es_predeterminada&&a.jsxs("button",{onClick:()=>P(S.id),className:"w-full flex items-center justify-center px-4 py-2 border border-green-600 text-green-600 rounded-lg hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors duration-200",children:[a.jsx(jr,{className:"w-4 h-4 mr-2"}),"Establecer como Predeterminada"]})]},S.id))})]})})},B3=()=>a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-8",children:"Configuración de Cuenta"}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:a.jsx(zS,{appearance:{elements:{rootBox:"w-full",card:"w-full shadow-none border-0",navbar:"bg-gray-50 dark:bg-gray-900 border-gray-200 dark:border-gray-700",navbarButton:"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",profileSection:"bg-white dark:bg-gray-800",profileSectionContent:"bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",profileSectionTitle:"text-gray-900 dark:text-gray-100",profileSectionSubtitle:"text-gray-600 dark:text-gray-400",profileSectionPrimaryButton:"bg-yellow-500 hover:bg-yellow-600 text-gray-900",formButtonPrimary:"bg-yellow-500 hover:bg-yellow-600 text-gray-900 font-semibold rounded-lg",formFieldInput:"border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",formFieldLabel:"text-gray-900 dark:text-gray-100 font-medium",badge:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}}})})]})})}),W3=()=>{var r;const t=(r=Nr().state)==null?void 0:r.message;return a.jsx("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 flex items-center justify-center p-2 sm:p-4",children:a.jsx("div",{className:"w-full max-w-sm sm:max-w-md mx-auto",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 p-4 sm:p-8",children:[a.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[a.jsx("img",{src:"/logo.webp",alt:"Mercadillo Lima Perú",className:"mx-auto w-16 h-16 sm:w-20 sm:h-20 rounded-xl mb-4 sm:mb-6 object-cover border border-gray-200 dark:border-gray-600 shadow-sm"}),a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gris-oscuro dark:text-gray-100 mb-2",children:"Bienvenido de vuelta"}),a.jsx("p",{className:"text-sm sm:text-base text-gris-claro dark:text-gray-400",children:"Inicia sesión para continuar"}),t&&a.jsx("div",{className:"mt-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-yellow-800 dark:text-yellow-300",children:[a.jsx(Cc,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:t})]})})]}),a.jsx("div",{className:"clerk-continue-wrapper",children:a.jsx(MS,{path:"/sign-in",routing:"path",signUpUrl:"/sign-up",fallbackRedirectUrl:"/",appearance:{elements:{card:"shadow-none bg-transparent p-0 w-full",rootBox:"w-full",headerTitle:"hidden",headerSubtitle:"hidden",socialButtonsBlockButton:"bg-hueso dark:bg-gray-700 text-gris-oscuro dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600 w-full py-3 px-4 rounded-lg font-medium transition-colors duration-200 mb-4 border border-gray-300 dark:border-gray-600 text-sm sm:text-base min-h-[44px]",socialButtonsBlockButtonText:"font-medium text-gris-oscuro dark:text-gray-200 text-sm sm:text-base",dividerLine:"bg-gray-300 dark:bg-gray-600 my-4 sm:my-6",dividerText:"text-gris-claro dark:text-gray-400 text-xs sm:text-sm px-4 bg-white dark:bg-gray-800",formButtonPrimary:"inline-flex items-center justify-center px-6 py-3 rounded-lg font-semibold transition-colors duration-200 bg-amarillo text-gray-900 dark:bg-gray-800 dark:text-white dark:hover:bg-gray-700 no-underline hover:no-underline focus:no-underline appearance-none shadow-none focus:outline-none focus:ring-0 w-full min-h-[44px] text-sm sm:text-base",formFieldInput:"border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-amarillo focus:border-amarillo transition-all duration-200 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 min-h-[44px] text-sm sm:text-base",formFieldLabel:"text-gris-oscuro dark:text-gray-200 font-medium mb-2 block text-left text-sm sm:text-base",footerActionLink:"text-amarillo hover:text-dorado font-medium transition-colors duration-200",footerAction:"text-center mt-4 sm:mt-6 text-xs sm:text-sm text-gris-claro dark:text-gray-400 bg-white dark:bg-gray-800",footer:"bg-white dark:bg-gray-800",footerPages:"bg-white dark:bg-gray-800",footerText:"text-gris-claro dark:text-gray-400 bg-white dark:bg-gray-800",footerActionText:"text-gris-claro dark:text-gray-400 bg-white dark:bg-gray-800",footerActionLinkText:"text-amarillo hover:text-dorado bg-white dark:bg-gray-800",modalContent:"bg-white dark:bg-gray-800",modalCloseButton:"text-gris-claro dark:text-gray-400",closeButton:"hidden"},variables:{colorPrimary:"#fbbf24",colorText:"#111827",colorBackground:"inherit",colorInputBackground:"#ffffff",colorInputText:"#111827",colorNeutral:"#6b7280",borderRadius:"0.75rem",fontFamily:"Inter, sans-serif",spacingUnit:"1rem",colorDanger:"#ef4444",colorSuccess:"#10b981",colorWarning:"#f59e0b"},layout:{unsafe_disableDevelopmentModeWarnings:!0}}})})]})})})},q3=()=>{var r;const t=(r=Nr().state)==null?void 0:r.message;return a.jsx("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 flex items-center justify-center p-2 sm:p-4",children:a.jsx("div",{className:"w-full max-w-sm sm:max-w-md mx-auto",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 p-4 sm:p-8",children:[a.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[a.jsx("img",{src:"/logo.webp",alt:"Mercadillo Lima Perú",className:"mx-auto w-16 h-16 sm:w-20 sm:h-20 rounded-xl mb-4 sm:mb-6 object-cover border border-gray-200 dark:border-gray-600 shadow-sm"}),a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gris-oscuro dark:text-gray-100 mb-2",children:"Crear cuenta"}),a.jsx("p",{className:"text-sm sm:text-base text-gris-claro dark:text-gray-400",children:"Únete a nuestro mercadillo"}),t&&a.jsx("div",{className:"mt-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-yellow-800 dark:text-yellow-300",children:[a.jsx(Cc,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:t})]})})]}),a.jsx("div",{className:"clerk-continue-wrapper",children:a.jsx(US,{path:"/sign-up",routing:"path",signInUrl:"/sign-in",fallbackRedirectUrl:"/",appearance:{elements:{card:"shadow-none bg-transparent p-0 w-full",rootBox:"w-full",headerTitle:"hidden",headerSubtitle:"hidden",socialButtonsBlockButton:"bg-hueso dark:bg-gray-700 text-gris-oscuro dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600 w-full py-3 px-4 rounded-lg font-medium transition-colors duration-200 mb-4 border border-gray-300 dark:border-gray-600 text-sm sm:text-base min-h-[44px]",socialButtonsBlockButtonText:"font-medium text-gris-oscuro dark:text-gray-200 text-sm sm:text-base",dividerLine:"bg-gray-300 dark:bg-gray-600 my-4 sm:my-6",dividerText:"text-gris-claro dark:text-gray-400 text-xs sm:text-sm px-4 bg-white dark:bg-gray-800",formButtonPrimary:"inline-flex items-center justify-center px-6 py-3 rounded-lg font-semibold transition-colors duration-200 bg-amarillo text-gray-900 dark:bg-gray-800 dark:text-white dark:hover:bg-gray-700 no-underline hover:no-underline focus:no-underline appearance-none shadow-none focus:outline-none focus:ring-0 w-full min-h-[44px] text-sm sm:text-base",formFieldInput:"border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-amarillo focus:border-amarillo transition-all duration-200 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 min-h-[44px] text-sm sm:text-base",formFieldLabel:"text-gris-oscuro dark:text-gray-200 font-medium mb-2 block text-left text-sm sm:text-base",footerActionLink:"text-amarillo hover:text-dorado font-medium transition-colors duration-200",footerAction:"text-center mt-4 sm:mt-6 text-xs sm:text-sm text-gris-claro dark:text-gray-400 bg-white dark:bg-gray-800",footer:"bg-white dark:bg-gray-800",footerPages:"bg-white dark:bg-gray-800",footerText:"text-gris-claro dark:text-gray-400 bg-white dark:bg-gray-800",footerActionText:"text-gris-claro dark:text-gray-400 bg-white dark:bg-gray-800",footerActionLinkText:"text-amarillo hover:text-dorado bg-white dark:bg-gray-800",modalContent:"bg-white dark:bg-gray-800",modalCloseButton:"text-gris-claro dark:text-gray-400",closeButton:"hidden"},variables:{colorPrimary:"#fbbf24",colorText:"#111827",colorBackground:"inherit",colorInputBackground:"#ffffff",colorInputText:"#111827",colorNeutral:"#6b7280",borderRadius:"0.75rem",fontFamily:"Inter, sans-serif",spacingUnit:"1rem",colorDanger:"#ef4444",colorSuccess:"#10b981",colorWarning:"#f59e0b"},layout:{unsafe_disableDevelopmentModeWarnings:!0}}})})]})})})},H3=()=>a.jsx("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 transition-colors duration-200",children:a.jsxs("div",{className:"max-w-md w-full space-y-8 text-center",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"text-[200px] sm:text-[250px] font-bold text-gray-200 dark:text-gray-700 leading-none select-none",children:"404"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"bg-amarillo dark:bg-yellow-500 rounded-full p-8 shadow-xl animate-bounce",children:a.jsx(qe,{className:"w-16 h-16 text-gris-oscuro dark:text-gray-900"})})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-gris-oscuro dark:text-gray-100",children:"¡Oops!"}),a.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-600 dark:text-gray-400",children:"Página no encontrada"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 max-w-sm mx-auto leading-relaxed",children:"Lo sentimos, no pudimos encontrar la página que buscas. Puede que haya sido movida, eliminada o que la URL sea incorrecta."})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:[a.jsx("h3",{className:"text-lg font-semibold text-gris-oscuro dark:text-gray-100 mb-4",children:"¿Qué puedes hacer?"}),a.jsxs("div",{className:"space-y-3 text-sm text-gray-600 dark:text-gray-400",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-amarillo dark:bg-yellow-500 rounded-full"}),a.jsx("span",{children:"Verifica que la URL esté escrita correctamente"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-amarillo dark:bg-yellow-500 rounded-full"}),a.jsx("span",{children:"Regresa a la página de inicio"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-amarillo dark:bg-yellow-500 rounded-full"}),a.jsx("span",{children:"Busca el producto que necesitas"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-amarillo dark:bg-yellow-500 rounded-full"}),a.jsx("span",{children:"Explora nuestro catálogo completo"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs(ce,{to:"/",className:"flex-1 btn-primary flex items-center justify-center space-x-2 py-3",children:[a.jsx(Bo,{className:"w-5 h-5"}),a.jsx("span",{children:"Ir al Inicio"})]}),a.jsxs(ce,{to:"/catalogo",className:"flex-1 btn-secondary flex items-center justify-center space-x-2 py-3",children:[a.jsx(xd,{className:"w-5 h-5"}),a.jsx("span",{children:"Ver Catálogo"})]})]}),a.jsxs("button",{onClick:()=>window.history.back(),className:"w-full text-gray-600 dark:text-gray-400 hover:text-gris-oscuro dark:hover:text-gray-200 font-medium py-2 flex items-center justify-center space-x-2 transition-colors duration-200",children:[a.jsx(Db,{className:"w-4 h-4"}),a.jsx("span",{children:"Volver atrás"})]})]}),a.jsxs("div",{className:"pt-8 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"¿Necesitas ayuda?"}),a.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm",children:[a.jsx("a",{href:"tel:+51977933410",className:"text-amarillo hover:text-dorado font-medium transition-colors duration-200",children:"+51 977 933 410"}),a.jsx("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),a.jsx(ce,{to:"/contacto",className:"text-amarillo hover:text-dorado font-medium transition-colors duration-200",children:"Contactar soporte"})]})]}),a.jsx("div",{className:"bg-gradient-to-r from-amarillo/10 to-dorado/10 dark:from-yellow-500/10 dark:to-yellow-400/10 rounded-lg p-4",children:a.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["💡 ",a.jsx("strong",{children:"Dato curioso:"})," Nuestro catálogo tiene más de 100 productos únicos esperándote en El Agustino, Lima Este."]})})]})}),V3=()=>{const[e,t]=w.useState(0),[r]=w.useState(3.5),[n,s]=w.useState(0),[i,o]=w.useState(!1),[l,c]=w.useState(!1),d="test-product-123";return a.jsx("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 py-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gris-oscuro dark:text-gray-100 mb-8",children:"Prueba Completa del Sistema de Reseñas"}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg",children:[a.jsx("h2",{className:"text-xl font-semibold text-gris-oscuro dark:text-gray-100 mb-4",children:"Estrellas Interactivas (Tamaño Grande)"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Haz hover y clic en las estrellas para probar la interactividad"}),a.jsx(Ht,{rating:e,onRatingChange:t,size:"lg",showText:!0}),a.jsxs("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:["Rating actual: ",e]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg",children:[a.jsx("h2",{className:"text-xl font-semibold text-gris-oscuro dark:text-gray-100 mb-4",children:"Estrellas Solo Lectura (3.5 estrellas)"}),a.jsx(Ht,{rating:r,readonly:!0,size:"md",showText:!0})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg",children:[a.jsx("h2",{className:"text-xl font-semibold text-gris-oscuro dark:text-gray-100 mb-4",children:"Estrellas Pequeñas Interactivas"}),a.jsx(Ht,{rating:n,onRatingChange:s,size:"sm",showText:!0}),a.jsxs("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:["Rating actual: ",n]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg",children:[a.jsx("h2",{className:"text-xl font-semibold text-gris-oscuro dark:text-gray-100 mb-4",children:"Diferentes Tamaños (Solo Lectura)"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"Pequeño (4 estrellas):"}),a.jsx(Ht,{rating:4,readonly:!0,size:"sm",showText:!0})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"Mediano (4.5 estrellas):"}),a.jsx(Ht,{rating:4.5,readonly:!0,size:"md",showText:!0})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"Grande (5 estrellas):"}),a.jsx(Ht,{rating:5,readonly:!0,size:"lg",showText:!0})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg",children:[a.jsx("h2",{className:"text-xl font-semibold text-gris-oscuro dark:text-gray-100 mb-4",children:"Prueba del Formulario de Reseñas"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Prueba la funcionalidad completa del formulario de reseñas"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("button",{onClick:()=>{console.log("Toggle Review Form:",!i),o(!i)},className:`\r
                  px-6 py-3 bg-blue-600 hover:bg-blue-700 \r
                  text-white font-bold rounded-lg shadow-lg\r
                  transition-all duration-200 border-2 border-blue-800\r
                  transform hover:scale-105\r
                `,children:[i?"🔻 Ocultar":"📝 Mostrar"," Formulario de Reseña"]}),i&&a.jsx("div",{className:"mt-4",children:a.jsx(Yb,{productId:d,skipPurchaseValidation:!0,onReviewCreated:()=>{console.log("Reseña creada exitosamente!"),o(!1)},onCancel:()=>o(!1)})})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg",children:[a.jsx("h2",{className:"text-xl font-semibold text-gris-oscuro dark:text-gray-100 mb-4",children:"Prueba de Lista de Reseñas"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Visualiza cómo se muestran las reseñas de un producto"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("button",{onClick:()=>{console.log("Toggle Review List:",!l),c(!l)},className:`\r
                  px-6 py-3 bg-green-600 hover:bg-green-700 \r
                  text-white font-bold rounded-lg shadow-lg\r
                  transition-all duration-200 border-2 border-green-800\r
                  transform hover:scale-105\r
                `,children:[l?"🔻 Ocultar":"📋 Mostrar"," Lista de Reseñas"]}),l&&a.jsx("div",{className:"mt-4",children:a.jsx(Xb,{productId:d})})]})]}),a.jsx("div",{className:"text-center",children:a.jsx("button",{onClick:()=>{t(0),s(0),o(!1),c(!1)},className:"btn-primary px-6 py-3 font-semibold",children:"Resetear Todas las Pruebas"})}),a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-3",children:"Instrucciones de Prueba"}),a.jsxs("ul",{className:"space-y-2 text-blue-800 dark:text-blue-200",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:"•"}),a.jsxs("span",{children:[a.jsx("strong",{children:"Estrellas Interactivas:"})," Haz hover y clic para probar la selección de calificaciones"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:"•"}),a.jsxs("span",{children:[a.jsx("strong",{children:"Formulario de Reseñas:"})," Prueba crear una reseña completa con estrellas y comentario"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:"•"}),a.jsxs("span",{children:[a.jsx("strong",{children:"Lista de Reseñas:"})," Visualiza cómo se muestran las reseñas existentes"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:"•"}),a.jsxs("span",{children:[a.jsx("strong",{children:"Modo Oscuro:"})," Cambia entre modo claro y oscuro para probar la visibilidad"]})]})]})]})]})]})})},K3=v1([{path:"/",element:a.jsx(u4,{}),children:[{index:!0,element:a.jsx(b4,{})},{path:"catalogo",element:a.jsx(w4,{})},{path:"producto/:id",element:a.jsx(C4,{})},{path:"carrito",element:a.jsx(R4,{})},{path:"checkout",element:a.jsx(Hr,{children:a.jsx(t3,{})})},{path:"checkout/success",element:a.jsx(r3,{})},{path:"checkout/failure",element:a.jsx(n3,{})},{path:"checkout/pending",element:a.jsx(s3,{})},{path:"perfil",element:a.jsx(Hr,{children:a.jsx(a3,{})})},{path:"perfil/lista-deseos",element:a.jsx(Hr,{children:a.jsx(O3,{})})},{path:"perfil/pedidos",element:a.jsx(Hr,{children:a.jsx(I3,{})})},{path:"perfil/reseñas",element:a.jsx(Hr,{children:a.jsx(F3,{})})},{path:"perfil/historial",element:a.jsx(Hr,{children:a.jsx(z3,{})})},{path:"perfil/direcciones",element:a.jsx(Hr,{children:a.jsx($3,{})})},{path:"perfil/configuracion",element:a.jsx(Hr,{children:a.jsx(B3,{})})},{path:"admin/*",element:a.jsx(Hr,{requireAdmin:!0,children:a.jsx(h3,{})})},{path:"terminos",element:a.jsx(p3,{})},{path:"privacidad",element:a.jsx(g3,{})},{path:"envios",element:a.jsx(x3,{})},{path:"contacto",element:a.jsx(R3,{})},{path:"sobre-nosotros",element:a.jsx(A3,{})},{path:"test-stars",element:a.jsx(V3,{})},{path:"*",element:a.jsx(H3,{})}]},{path:"/sign-in/*",element:a.jsx(W3,{})},{path:"/sign-up/*",element:a.jsx(q3,{})}]),Q3="pk_live_Y2xlcmsubWVyY2FkaWxsby5hcHAk";ju.createRoot(document.getElementById("root")).render(a.jsx(O.StrictMode,{children:a.jsx(f3,{children:a.jsx(t4,{children:a.jsxs(Yv,{publishableKey:Q3,signInFallbackRedirectUrl:"/",signUpFallbackRedirectUrl:"/",localization:k2,appearance:{baseTheme:void 0,elements:{rootBox:"w-full max-w-md mx-auto bg-white dark:bg-gray-800",card:"w-full bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden",headerTitle:"text-gris-oscuro dark:text-gray-100 text-2xl font-bold text-center mb-2",headerSubtitle:"text-gris-claro dark:text-gray-400 text-center mb-6",socialButtonsBlockButton:"bg-hueso dark:bg-gray-700 text-gris-oscuro dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600 w-full py-3 px-4 rounded-lg font-medium transition-colors duration-200 mb-4 border border-gray-300 dark:border-gray-600",socialButtonsBlockButtonText:"font-medium text-gris-oscuro dark:text-gray-200",dividerLine:"bg-gray-300 dark:bg-gray-600 my-6",dividerText:"text-gris-claro dark:text-gray-400 text-sm px-4 bg-white dark:bg-gray-800",formButtonPrimary:"bg-amarillo hover:bg-dorado text-gris-oscuro font-semibold rounded-lg py-3 px-4 w-full transition-colors duration-200",formFieldInput:"border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-amarillo focus:border-amarillo transition-all duration-200 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",formFieldLabel:"text-gris-oscuro dark:text-gray-200 font-medium mb-2 block text-left",footerActionLink:"text-amarillo hover:text-dorado font-medium transition-colors duration-200",footerAction:"text-center mt-6 text-sm text-gris-claro dark:text-gray-400",closeButton:"text-gris-oscuro dark:text-gray-200 hover:text-gray-600 dark:hover:text-gray-400 focus:ring-amarillo focus:border-amarillo",userButtonPopoverCard:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-lg rounded-xl",userButtonPopoverActions:"bg-white dark:bg-gray-800",userButtonPopoverActionButton:"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-150",userButtonPopoverActionButtonText:"text-gray-700 dark:text-gray-300",userButtonPopoverFooter:"bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700",avatarBox:"border-2 border-amarillo dark:border-yellow-400",userButtonAvatarBox:"border-2 border-transparent hover:border-amarillo dark:hover:border-yellow-400 transition-colors duration-200",modalContent:"bg-white dark:bg-gray-800",modalCloseButton:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300",formFieldHintText:"text-gray-500 dark:text-gray-400",formFieldSuccessText:"text-green-600 dark:text-green-400",formFieldErrorText:"text-red-600 dark:text-red-400",identityPreviewText:"text-gray-600 dark:text-gray-300",identityPreviewEditButton:"text-amarillo dark:text-yellow-400 hover:text-dorado dark:hover:text-yellow-300",userProfile:"bg-white dark:bg-gray-800",profileSection:"bg-white dark:bg-gray-800",profileSectionContent:"bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",profileSectionTitle:"text-gray-900 dark:text-gray-100",profileSectionSubtitle:"text-gray-600 dark:text-gray-400",profileSectionPrimaryButton:"bg-amarillo hover:bg-dorado text-gris-oscuro",navbar:"bg-gray-50 dark:bg-gray-900 border-gray-200 dark:border-gray-700",navbarButton:"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",badge:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"},variables:{colorPrimary:"#FFD700",colorText:"#333333",colorBackground:"#ffffff",colorInputBackground:"#ffffff",colorInputText:"#333333",colorNeutral:"#666666",borderRadius:"0.75rem",fontFamily:"Inter, sans-serif",spacingUnit:"1rem"}},children:[a.jsx(m3,{})," ",a.jsx(P1,{router:K3,future:{v7_startTransition:!0}})]})})})}));
