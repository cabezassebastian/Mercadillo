var Zy=Object.defineProperty;var e0=(e,t,r)=>t in e?Zy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var gh=(e,t,r)=>(e0(e,typeof t!="symbol"?t+"":t,r),r);function Hp(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Ft=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function t0(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var qp={exports:{}},za={},Gp={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hi=Symbol.for("react.element"),r0=Symbol.for("react.portal"),n0=Symbol.for("react.fragment"),s0=Symbol.for("react.strict_mode"),i0=Symbol.for("react.profiler"),o0=Symbol.for("react.provider"),a0=Symbol.for("react.context"),l0=Symbol.for("react.forward_ref"),c0=Symbol.for("react.suspense"),u0=Symbol.for("react.memo"),d0=Symbol.for("react.lazy"),vh=Symbol.iterator;function h0(e){return e===null||typeof e!="object"?null:(e=vh&&e[vh]||e["@@iterator"],typeof e=="function"?e:null)}var Jp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yp=Object.assign,Qp={};function Rs(e,t,r){this.props=e,this.context=t,this.refs=Qp,this.updater=r||Jp}Rs.prototype.isReactComponent={};Rs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Rs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Xp(){}Xp.prototype=Rs.prototype;function qu(e,t,r){this.props=e,this.context=t,this.refs=Qp,this.updater=r||Jp}var Gu=qu.prototype=new Xp;Gu.constructor=qu;Yp(Gu,Rs.prototype);Gu.isPureReactComponent=!0;var yh=Array.isArray,Zp=Object.prototype.hasOwnProperty,Ju={current:null},em={key:!0,ref:!0,__self:!0,__source:!0};function tm(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Zp.call(t,n)&&!em.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Hi,type:e,key:i,ref:o,props:s,_owner:Ju.current}}function f0(e,t){return{$$typeof:Hi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Yu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hi}function p0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var xh=/\/+/g;function Sl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?p0(""+e.key):t.toString(36)}function Vo(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Hi:case r0:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Sl(o,0):n,yh(s)?(r="",e!=null&&(r=e.replace(xh,"$&/")+"/"),Vo(s,t,r,"",function(u){return u})):s!=null&&(Yu(s)&&(s=f0(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(xh,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",yh(e))for(var a=0;a<e.length;a++){i=e[a];var l=n+Sl(i,a);o+=Vo(i,t,r,l,s)}else if(l=h0(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=n+Sl(i,a++),o+=Vo(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function mo(e,t,r){if(e==null)return e;var n=[],s=0;return Vo(e,n,"","",function(i){return t.call(r,i,s++)}),n}function m0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var pt={current:null},Ho={transition:null},g0={ReactCurrentDispatcher:pt,ReactCurrentBatchConfig:Ho,ReactCurrentOwner:Ju};function rm(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:mo,forEach:function(e,t,r){mo(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return mo(e,function(){t++}),t},toArray:function(e){return mo(e,function(t){return t})||[]},only:function(e){if(!Yu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};re.Component=Rs;re.Fragment=n0;re.Profiler=i0;re.PureComponent=qu;re.StrictMode=s0;re.Suspense=c0;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g0;re.act=rm;re.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Yp({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Ju.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Zp.call(t,l)&&!em.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Hi,type:e.type,key:s,ref:i,props:n,_owner:o}};re.createContext=function(e){return e={$$typeof:a0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:o0,_context:e},e.Consumer=e};re.createElement=tm;re.createFactory=function(e){var t=tm.bind(null,e);return t.type=e,t};re.createRef=function(){return{current:null}};re.forwardRef=function(e){return{$$typeof:l0,render:e}};re.isValidElement=Yu;re.lazy=function(e){return{$$typeof:d0,_payload:{_status:-1,_result:e},_init:m0}};re.memo=function(e,t){return{$$typeof:u0,type:e,compare:t===void 0?null:t}};re.startTransition=function(e){var t=Ho.transition;Ho.transition={};try{e()}finally{Ho.transition=t}};re.unstable_act=rm;re.useCallback=function(e,t){return pt.current.useCallback(e,t)};re.useContext=function(e){return pt.current.useContext(e)};re.useDebugValue=function(){};re.useDeferredValue=function(e){return pt.current.useDeferredValue(e)};re.useEffect=function(e,t){return pt.current.useEffect(e,t)};re.useId=function(){return pt.current.useId()};re.useImperativeHandle=function(e,t,r){return pt.current.useImperativeHandle(e,t,r)};re.useInsertionEffect=function(e,t){return pt.current.useInsertionEffect(e,t)};re.useLayoutEffect=function(e,t){return pt.current.useLayoutEffect(e,t)};re.useMemo=function(e,t){return pt.current.useMemo(e,t)};re.useReducer=function(e,t,r){return pt.current.useReducer(e,t,r)};re.useRef=function(e){return pt.current.useRef(e)};re.useState=function(e){return pt.current.useState(e)};re.useSyncExternalStore=function(e,t,r){return pt.current.useSyncExternalStore(e,t,r)};re.useTransition=function(){return pt.current.useTransition()};re.version="18.3.1";Gp.exports=re;var _=Gp.exports;const T=Kp(_),v0=Hp({__proto__:null,default:T},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0=_,x0=Symbol.for("react.element"),w0=Symbol.for("react.fragment"),_0=Object.prototype.hasOwnProperty,k0=y0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,S0={key:!0,ref:!0,__self:!0,__source:!0};function nm(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)_0.call(t,n)&&!S0.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:x0,type:e,key:i,ref:o,props:s,_owner:k0.current}}za.Fragment=w0;za.jsx=nm;za.jsxs=nm;qp.exports=za;var c=qp.exports,jc={},sm={exports:{}},Ot={},im={exports:{}},om={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,V){var H=I.length;I.push(V);e:for(;0<H;){var ee=H-1>>>1,K=I[ee];if(0<s(K,V))I[ee]=V,I[H]=K,H=ee;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var V=I[0],H=I.pop();if(H!==V){I[0]=H;e:for(var ee=0,K=I.length,Ke=K>>>1;ee<Ke;){var Ae=2*(ee+1)-1,Oe=I[Ae],Ue=Ae+1,at=I[Ue];if(0>s(Oe,H))Ue<K&&0>s(at,Oe)?(I[ee]=at,I[Ue]=H,ee=Ue):(I[ee]=Oe,I[Ae]=H,ee=Ae);else if(Ue<K&&0>s(at,H))I[ee]=at,I[Ue]=H,ee=Ue;else break e}}return V}function s(I,V){var H=I.sortIndex-V.sortIndex;return H!==0?H:I.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,p=!1,y=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(I){for(var V=r(u);V!==null;){if(V.callback===null)n(u);else if(V.startTime<=I)n(u),V.sortIndex=V.expirationTime,t(l,V);else break;V=r(u)}}function b(I){if(x=!1,v(I),!y)if(r(l)!==null)y=!0,$e(j);else{var V=r(u);V!==null&&ie(b,V.startTime-I)}}function j(I,V){y=!1,x&&(x=!1,g(C),C=-1),p=!0;var H=f;try{for(v(V),h=r(l);h!==null&&(!(h.expirationTime>V)||I&&!F());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,f=h.priorityLevel;var K=ee(h.expirationTime<=V);V=e.unstable_now(),typeof K=="function"?h.callback=K:h===r(l)&&n(l),v(V)}else n(l);h=r(l)}if(h!==null)var Ke=!0;else{var Ae=r(u);Ae!==null&&ie(b,Ae.startTime-V),Ke=!1}return Ke}finally{h=null,f=H,p=!1}}var P=!1,w=null,C=-1,A=5,R=-1;function F(){return!(e.unstable_now()-R<A)}function J(){if(w!==null){var I=e.unstable_now();R=I;var V=!0;try{V=w(!0,I)}finally{V?ne():(P=!1,w=null)}}else P=!1}var ne;if(typeof m=="function")ne=function(){m(J)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,me=G.port2;G.port1.onmessage=J,ne=function(){me.postMessage(null)}}else ne=function(){S(J,0)};function $e(I){w=I,P||(P=!0,ne())}function ie(I,V){C=S(function(){I(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,$e(j))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(I){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var H=f;f=V;try{return I()}finally{f=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,V){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var H=f;f=I;try{return V()}finally{f=H}},e.unstable_scheduleCallback=function(I,V,H){var ee=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ee+H:ee):H=ee,I){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=H+K,I={id:d++,callback:V,priorityLevel:I,startTime:H,expirationTime:K,sortIndex:-1},H>ee?(I.sortIndex=H,t(u,I),r(l)===null&&I===r(u)&&(x?(g(C),C=-1):x=!0,ie(b,H-ee))):(I.sortIndex=K,t(l,I),y||p||(y=!0,$e(j))),I},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(I){var V=f;return function(){var H=f;f=V;try{return I.apply(this,arguments)}finally{f=H}}}})(om);im.exports=om;var j0=im.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0=_,Rt=j0;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var am=new Set,ki={};function Mn(e,t){ws(e,t),ws(e+"Capture",t)}function ws(e,t){for(ki[e]=t,e=0;e<t.length;e++)am.add(t[e])}var br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bc=Object.prototype.hasOwnProperty,E0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wh={},_h={};function C0(e){return bc.call(_h,e)?!0:bc.call(wh,e)?!1:E0.test(e)?_h[e]=!0:(wh[e]=!0,!1)}function P0(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function N0(e,t,r,n){if(t===null||typeof t>"u"||P0(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function mt(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tt[e]=new mt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tt[t]=new mt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tt[e]=new mt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tt[e]=new mt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tt[e]=new mt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tt[e]=new mt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tt[e]=new mt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tt[e]=new mt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tt[e]=new mt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Qu=/[\-:]([a-z])/g;function Xu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Qu,Xu);tt[t]=new mt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Qu,Xu);tt[t]=new mt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Qu,Xu);tt[t]=new mt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tt[e]=new mt(e,1,!1,e.toLowerCase(),null,!1,!1)});tt.xlinkHref=new mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tt[e]=new mt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Zu(e,t,r,n){var s=tt.hasOwnProperty(t)?tt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(N0(t,r,s,n)&&(r=null),n||s===null?C0(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Tr=b0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,go=Symbol.for("react.element"),rs=Symbol.for("react.portal"),ns=Symbol.for("react.fragment"),ed=Symbol.for("react.strict_mode"),Ec=Symbol.for("react.profiler"),lm=Symbol.for("react.provider"),cm=Symbol.for("react.context"),td=Symbol.for("react.forward_ref"),Cc=Symbol.for("react.suspense"),Pc=Symbol.for("react.suspense_list"),rd=Symbol.for("react.memo"),$r=Symbol.for("react.lazy"),um=Symbol.for("react.offscreen"),kh=Symbol.iterator;function Fs(e){return e===null||typeof e!="object"?null:(e=kh&&e[kh]||e["@@iterator"],typeof e=="function"?e:null)}var Pe=Object.assign,jl;function Zs(e){if(jl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);jl=t&&t[1]||""}return`
`+jl+e}var bl=!1;function El(e,t){if(!e||bl)return"";bl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{bl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Zs(e):""}function T0(e){switch(e.tag){case 5:return Zs(e.type);case 16:return Zs("Lazy");case 13:return Zs("Suspense");case 19:return Zs("SuspenseList");case 0:case 2:case 15:return e=El(e.type,!1),e;case 11:return e=El(e.type.render,!1),e;case 1:return e=El(e.type,!0),e;default:return""}}function Nc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ns:return"Fragment";case rs:return"Portal";case Ec:return"Profiler";case ed:return"StrictMode";case Cc:return"Suspense";case Pc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case cm:return(e.displayName||"Context")+".Consumer";case lm:return(e._context.displayName||"Context")+".Provider";case td:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case rd:return t=e.displayName||null,t!==null?t:Nc(e.type)||"Memo";case $r:t=e._payload,e=e._init;try{return Nc(e(t))}catch{}}return null}function R0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nc(t);case 8:return t===ed?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function on(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function O0(e){var t=dm(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vo(e){e._valueTracker||(e._valueTracker=O0(e))}function hm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=dm(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function oa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Tc(e,t){var r=t.checked;return Pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Sh(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=on(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fm(e,t){t=t.checked,t!=null&&Zu(e,"checked",t,!1)}function Rc(e,t){fm(e,t);var r=on(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Oc(e,t.type,r):t.hasOwnProperty("defaultValue")&&Oc(e,t.type,on(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function jh(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Oc(e,t,r){(t!=="number"||oa(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ei=Array.isArray;function ps(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+on(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ic(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return Pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function bh(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(L(92));if(ei(r)){if(1<r.length)throw Error(L(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:on(r)}}function pm(e,t){var r=on(t.value),n=on(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Eh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function mm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?mm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var yo,gm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(yo=yo||document.createElement("div"),yo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=yo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Si(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ai={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},I0=["Webkit","ms","Moz","O"];Object.keys(ai).forEach(function(e){I0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ai[t]=ai[e]})});function vm(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ai.hasOwnProperty(e)&&ai[e]?(""+t).trim():t+"px"}function ym(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=vm(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var L0=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ac(e,t){if(t){if(L0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function Uc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mc=null;function nd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Dc=null,ms=null,gs=null;function Ch(e){if(e=Gi(e)){if(typeof Dc!="function")throw Error(L(280));var t=e.stateNode;t&&(t=Va(t),Dc(e.stateNode,e.type,t))}}function xm(e){ms?gs?gs.push(e):gs=[e]:ms=e}function wm(){if(ms){var e=ms,t=gs;if(gs=ms=null,Ch(e),t)for(e=0;e<t.length;e++)Ch(t[e])}}function _m(e,t){return e(t)}function km(){}var Cl=!1;function Sm(e,t,r){if(Cl)return e(t,r);Cl=!0;try{return _m(e,t,r)}finally{Cl=!1,(ms!==null||gs!==null)&&(km(),wm())}}function ji(e,t){var r=e.stateNode;if(r===null)return null;var n=Va(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(L(231,t,typeof r));return r}var zc=!1;if(br)try{var Bs={};Object.defineProperty(Bs,"passive",{get:function(){zc=!0}}),window.addEventListener("test",Bs,Bs),window.removeEventListener("test",Bs,Bs)}catch{zc=!1}function A0(e,t,r,n,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var li=!1,aa=null,la=!1,$c=null,U0={onError:function(e){li=!0,aa=e}};function M0(e,t,r,n,s,i,o,a,l){li=!1,aa=null,A0.apply(U0,arguments)}function D0(e,t,r,n,s,i,o,a,l){if(M0.apply(this,arguments),li){if(li){var u=aa;li=!1,aa=null}else throw Error(L(198));la||(la=!0,$c=u)}}function Dn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function jm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ph(e){if(Dn(e)!==e)throw Error(L(188))}function z0(e){var t=e.alternate;if(!t){if(t=Dn(e),t===null)throw Error(L(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Ph(s),e;if(i===n)return Ph(s),t;i=i.sibling}throw Error(L(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(L(189))}}if(r.alternate!==n)throw Error(L(190))}if(r.tag!==3)throw Error(L(188));return r.stateNode.current===r?e:t}function bm(e){return e=z0(e),e!==null?Em(e):null}function Em(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Em(e);if(t!==null)return t;e=e.sibling}return null}var Cm=Rt.unstable_scheduleCallback,Nh=Rt.unstable_cancelCallback,$0=Rt.unstable_shouldYield,F0=Rt.unstable_requestPaint,Le=Rt.unstable_now,B0=Rt.unstable_getCurrentPriorityLevel,sd=Rt.unstable_ImmediatePriority,Pm=Rt.unstable_UserBlockingPriority,ca=Rt.unstable_NormalPriority,W0=Rt.unstable_LowPriority,Nm=Rt.unstable_IdlePriority,$a=null,ur=null;function V0(e){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot($a,e,void 0,(e.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:q0,H0=Math.log,K0=Math.LN2;function q0(e){return e>>>=0,e===0?32:31-(H0(e)/K0|0)|0}var xo=64,wo=4194304;function ti(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ua(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=ti(a):(i&=o,i!==0&&(n=ti(i)))}else o=r&~s,o!==0?n=ti(o):i!==0&&(n=ti(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Zt(t),s=1<<r,n|=e[r],t&=~s;return n}function G0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function J0(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Zt(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=G0(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Fc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Tm(){var e=xo;return xo<<=1,!(xo&4194240)&&(xo=64),e}function Pl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ki(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Zt(t),e[t]=r}function Y0(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Zt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function id(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Zt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var pe=0;function Rm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Om,od,Im,Lm,Am,Bc=!1,_o=[],Qr=null,Xr=null,Zr=null,bi=new Map,Ei=new Map,Vr=[],Q0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Th(e,t){switch(e){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":bi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ei.delete(t.pointerId)}}function Ws(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Gi(t),t!==null&&od(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function X0(e,t,r,n,s){switch(t){case"focusin":return Qr=Ws(Qr,e,t,r,n,s),!0;case"dragenter":return Xr=Ws(Xr,e,t,r,n,s),!0;case"mouseover":return Zr=Ws(Zr,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return bi.set(i,Ws(bi.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Ei.set(i,Ws(Ei.get(i)||null,e,t,r,n,s)),!0}return!1}function Um(e){var t=bn(e.target);if(t!==null){var r=Dn(t);if(r!==null){if(t=r.tag,t===13){if(t=jm(r),t!==null){e.blockedOn=t,Am(e.priority,function(){Im(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ko(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Wc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Mc=n,r.target.dispatchEvent(n),Mc=null}else return t=Gi(r),t!==null&&od(t),e.blockedOn=r,!1;t.shift()}return!0}function Rh(e,t,r){Ko(e)&&r.delete(t)}function Z0(){Bc=!1,Qr!==null&&Ko(Qr)&&(Qr=null),Xr!==null&&Ko(Xr)&&(Xr=null),Zr!==null&&Ko(Zr)&&(Zr=null),bi.forEach(Rh),Ei.forEach(Rh)}function Vs(e,t){e.blockedOn===t&&(e.blockedOn=null,Bc||(Bc=!0,Rt.unstable_scheduleCallback(Rt.unstable_NormalPriority,Z0)))}function Ci(e){function t(s){return Vs(s,e)}if(0<_o.length){Vs(_o[0],e);for(var r=1;r<_o.length;r++){var n=_o[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Qr!==null&&Vs(Qr,e),Xr!==null&&Vs(Xr,e),Zr!==null&&Vs(Zr,e),bi.forEach(t),Ei.forEach(t),r=0;r<Vr.length;r++)n=Vr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Vr.length&&(r=Vr[0],r.blockedOn===null);)Um(r),r.blockedOn===null&&Vr.shift()}var vs=Tr.ReactCurrentBatchConfig,da=!0;function ex(e,t,r,n){var s=pe,i=vs.transition;vs.transition=null;try{pe=1,ad(e,t,r,n)}finally{pe=s,vs.transition=i}}function tx(e,t,r,n){var s=pe,i=vs.transition;vs.transition=null;try{pe=4,ad(e,t,r,n)}finally{pe=s,vs.transition=i}}function ad(e,t,r,n){if(da){var s=Wc(e,t,r,n);if(s===null)Dl(e,t,n,ha,r),Th(e,n);else if(X0(s,e,t,r,n))n.stopPropagation();else if(Th(e,n),t&4&&-1<Q0.indexOf(e)){for(;s!==null;){var i=Gi(s);if(i!==null&&Om(i),i=Wc(e,t,r,n),i===null&&Dl(e,t,n,ha,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Dl(e,t,n,null,r)}}var ha=null;function Wc(e,t,r,n){if(ha=null,e=nd(n),e=bn(e),e!==null)if(t=Dn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=jm(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ha=e,null}function Mm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(B0()){case sd:return 1;case Pm:return 4;case ca:case W0:return 16;case Nm:return 536870912;default:return 16}default:return 16}}var qr=null,ld=null,qo=null;function Dm(){if(qo)return qo;var e,t=ld,r=t.length,n,s="value"in qr?qr.value:qr.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return qo=s.slice(e,1<n?1-n:void 0)}function Go(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ko(){return!0}function Oh(){return!1}function It(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ko:Oh,this.isPropagationStopped=Oh,this}return Pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ko)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ko)},persist:function(){},isPersistent:ko}),t}var Os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cd=It(Os),qi=Pe({},Os,{view:0,detail:0}),rx=It(qi),Nl,Tl,Hs,Fa=Pe({},qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ud,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hs&&(Hs&&e.type==="mousemove"?(Nl=e.screenX-Hs.screenX,Tl=e.screenY-Hs.screenY):Tl=Nl=0,Hs=e),Nl)},movementY:function(e){return"movementY"in e?e.movementY:Tl}}),Ih=It(Fa),nx=Pe({},Fa,{dataTransfer:0}),sx=It(nx),ix=Pe({},qi,{relatedTarget:0}),Rl=It(ix),ox=Pe({},Os,{animationName:0,elapsedTime:0,pseudoElement:0}),ax=It(ox),lx=Pe({},Os,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cx=It(lx),ux=Pe({},Os,{data:0}),Lh=It(ux),dx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function px(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fx[e])?!!t[e]:!1}function ud(){return px}var mx=Pe({},qi,{key:function(e){if(e.key){var t=dx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Go(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ud,charCode:function(e){return e.type==="keypress"?Go(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Go(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gx=It(mx),vx=Pe({},Fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ah=It(vx),yx=Pe({},qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ud}),xx=It(yx),wx=Pe({},Os,{propertyName:0,elapsedTime:0,pseudoElement:0}),_x=It(wx),kx=Pe({},Fa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Sx=It(kx),jx=[9,13,27,32],dd=br&&"CompositionEvent"in window,ci=null;br&&"documentMode"in document&&(ci=document.documentMode);var bx=br&&"TextEvent"in window&&!ci,zm=br&&(!dd||ci&&8<ci&&11>=ci),Uh=String.fromCharCode(32),Mh=!1;function $m(e,t){switch(e){case"keyup":return jx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ss=!1;function Ex(e,t){switch(e){case"compositionend":return Fm(t);case"keypress":return t.which!==32?null:(Mh=!0,Uh);case"textInput":return e=t.data,e===Uh&&Mh?null:e;default:return null}}function Cx(e,t){if(ss)return e==="compositionend"||!dd&&$m(e,t)?(e=Dm(),qo=ld=qr=null,ss=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zm&&t.locale!=="ko"?null:t.data;default:return null}}var Px={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Px[e.type]:t==="textarea"}function Bm(e,t,r,n){xm(n),t=fa(t,"onChange"),0<t.length&&(r=new cd("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ui=null,Pi=null;function Nx(e){Zm(e,0)}function Ba(e){var t=as(e);if(hm(t))return e}function Tx(e,t){if(e==="change")return t}var Wm=!1;if(br){var Ol;if(br){var Il="oninput"in document;if(!Il){var zh=document.createElement("div");zh.setAttribute("oninput","return;"),Il=typeof zh.oninput=="function"}Ol=Il}else Ol=!1;Wm=Ol&&(!document.documentMode||9<document.documentMode)}function $h(){ui&&(ui.detachEvent("onpropertychange",Vm),Pi=ui=null)}function Vm(e){if(e.propertyName==="value"&&Ba(Pi)){var t=[];Bm(t,Pi,e,nd(e)),Sm(Nx,t)}}function Rx(e,t,r){e==="focusin"?($h(),ui=t,Pi=r,ui.attachEvent("onpropertychange",Vm)):e==="focusout"&&$h()}function Ox(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ba(Pi)}function Ix(e,t){if(e==="click")return Ba(t)}function Lx(e,t){if(e==="input"||e==="change")return Ba(t)}function Ax(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rr=typeof Object.is=="function"?Object.is:Ax;function Ni(e,t){if(rr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!bc.call(t,s)||!rr(e[s],t[s]))return!1}return!0}function Fh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bh(e,t){var r=Fh(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Fh(r)}}function Hm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Hm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Km(){for(var e=window,t=oa();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=oa(e.document)}return t}function hd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ux(e){var t=Km(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Hm(r.ownerDocument.documentElement,r)){if(n!==null&&hd(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Bh(r,i);var o=Bh(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Mx=br&&"documentMode"in document&&11>=document.documentMode,is=null,Vc=null,di=null,Hc=!1;function Wh(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Hc||is==null||is!==oa(n)||(n=is,"selectionStart"in n&&hd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),di&&Ni(di,n)||(di=n,n=fa(Vc,"onSelect"),0<n.length&&(t=new cd("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=is)))}function So(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var os={animationend:So("Animation","AnimationEnd"),animationiteration:So("Animation","AnimationIteration"),animationstart:So("Animation","AnimationStart"),transitionend:So("Transition","TransitionEnd")},Ll={},qm={};br&&(qm=document.createElement("div").style,"AnimationEvent"in window||(delete os.animationend.animation,delete os.animationiteration.animation,delete os.animationstart.animation),"TransitionEvent"in window||delete os.transitionend.transition);function Wa(e){if(Ll[e])return Ll[e];if(!os[e])return e;var t=os[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in qm)return Ll[e]=t[r];return e}var Gm=Wa("animationend"),Jm=Wa("animationiteration"),Ym=Wa("animationstart"),Qm=Wa("transitionend"),Xm=new Map,Vh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ln(e,t){Xm.set(e,t),Mn(t,[e])}for(var Al=0;Al<Vh.length;Al++){var Ul=Vh[Al],Dx=Ul.toLowerCase(),zx=Ul[0].toUpperCase()+Ul.slice(1);ln(Dx,"on"+zx)}ln(Gm,"onAnimationEnd");ln(Jm,"onAnimationIteration");ln(Ym,"onAnimationStart");ln("dblclick","onDoubleClick");ln("focusin","onFocus");ln("focusout","onBlur");ln(Qm,"onTransitionEnd");ws("onMouseEnter",["mouseout","mouseover"]);ws("onMouseLeave",["mouseout","mouseover"]);ws("onPointerEnter",["pointerout","pointerover"]);ws("onPointerLeave",["pointerout","pointerover"]);Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$x=new Set("cancel close invalid load scroll toggle".split(" ").concat(ri));function Hh(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,D0(n,t,void 0,e),e.currentTarget=null}function Zm(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Hh(s,a,u),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Hh(s,a,u),i=l}}}if(la)throw e=$c,la=!1,$c=null,e}function xe(e,t){var r=t[Yc];r===void 0&&(r=t[Yc]=new Set);var n=e+"__bubble";r.has(n)||(eg(t,e,2,!1),r.add(n))}function Ml(e,t,r){var n=0;t&&(n|=4),eg(r,e,n,t)}var jo="_reactListening"+Math.random().toString(36).slice(2);function Ti(e){if(!e[jo]){e[jo]=!0,am.forEach(function(r){r!=="selectionchange"&&($x.has(r)||Ml(r,!1,e),Ml(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[jo]||(t[jo]=!0,Ml("selectionchange",!1,t))}}function eg(e,t,r,n){switch(Mm(t)){case 1:var s=ex;break;case 4:s=tx;break;default:s=ad}r=s.bind(null,t,r,e),s=void 0,!zc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Dl(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=bn(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}Sm(function(){var u=i,d=nd(r),h=[];e:{var f=Xm.get(e);if(f!==void 0){var p=cd,y=e;switch(e){case"keypress":if(Go(r)===0)break e;case"keydown":case"keyup":p=gx;break;case"focusin":y="focus",p=Rl;break;case"focusout":y="blur",p=Rl;break;case"beforeblur":case"afterblur":p=Rl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ih;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=sx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=xx;break;case Gm:case Jm:case Ym:p=ax;break;case Qm:p=_x;break;case"scroll":p=rx;break;case"wheel":p=Sx;break;case"copy":case"cut":case"paste":p=cx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ah}var x=(t&4)!==0,S=!x&&e==="scroll",g=x?f!==null?f+"Capture":null:f;x=[];for(var m=u,v;m!==null;){v=m;var b=v.stateNode;if(v.tag===5&&b!==null&&(v=b,g!==null&&(b=ji(m,g),b!=null&&x.push(Ri(m,b,v)))),S)break;m=m.return}0<x.length&&(f=new p(f,y,null,r,d),h.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==Mc&&(y=r.relatedTarget||r.fromElement)&&(bn(y)||y[Er]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(y=r.relatedTarget||r.toElement,p=u,y=y?bn(y):null,y!==null&&(S=Dn(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(x=Ih,b="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(x=Ah,b="onPointerLeave",g="onPointerEnter",m="pointer"),S=p==null?f:as(p),v=y==null?f:as(y),f=new x(b,m+"leave",p,r,d),f.target=S,f.relatedTarget=v,b=null,bn(d)===u&&(x=new x(g,m+"enter",y,r,d),x.target=v,x.relatedTarget=S,b=x),S=b,p&&y)t:{for(x=p,g=y,m=0,v=x;v;v=Hn(v))m++;for(v=0,b=g;b;b=Hn(b))v++;for(;0<m-v;)x=Hn(x),m--;for(;0<v-m;)g=Hn(g),v--;for(;m--;){if(x===g||g!==null&&x===g.alternate)break t;x=Hn(x),g=Hn(g)}x=null}else x=null;p!==null&&Kh(h,f,p,x,!1),y!==null&&S!==null&&Kh(h,S,y,x,!0)}}e:{if(f=u?as(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var j=Tx;else if(Dh(f))if(Wm)j=Lx;else{j=Ox;var P=Rx}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=Ix);if(j&&(j=j(e,u))){Bm(h,j,r,d);break e}P&&P(e,f,u),e==="focusout"&&(P=f._wrapperState)&&P.controlled&&f.type==="number"&&Oc(f,"number",f.value)}switch(P=u?as(u):window,e){case"focusin":(Dh(P)||P.contentEditable==="true")&&(is=P,Vc=u,di=null);break;case"focusout":di=Vc=is=null;break;case"mousedown":Hc=!0;break;case"contextmenu":case"mouseup":case"dragend":Hc=!1,Wh(h,r,d);break;case"selectionchange":if(Mx)break;case"keydown":case"keyup":Wh(h,r,d)}var w;if(dd)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ss?$m(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(zm&&r.locale!=="ko"&&(ss||C!=="onCompositionStart"?C==="onCompositionEnd"&&ss&&(w=Dm()):(qr=d,ld="value"in qr?qr.value:qr.textContent,ss=!0)),P=fa(u,C),0<P.length&&(C=new Lh(C,e,null,r,d),h.push({event:C,listeners:P}),w?C.data=w:(w=Fm(r),w!==null&&(C.data=w)))),(w=bx?Ex(e,r):Cx(e,r))&&(u=fa(u,"onBeforeInput"),0<u.length&&(d=new Lh("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=w))}Zm(h,t)})}function Ri(e,t,r){return{instance:e,listener:t,currentTarget:r}}function fa(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ji(e,r),i!=null&&n.unshift(Ri(e,i,s)),i=ji(e,t),i!=null&&n.push(Ri(e,i,s))),e=e.return}return n}function Hn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Kh(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=ji(r,i),l!=null&&o.unshift(Ri(r,l,a))):s||(l=ji(r,i),l!=null&&o.push(Ri(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Fx=/\r\n?/g,Bx=/\u0000|\uFFFD/g;function qh(e){return(typeof e=="string"?e:""+e).replace(Fx,`
`).replace(Bx,"")}function bo(e,t,r){if(t=qh(t),qh(e)!==t&&r)throw Error(L(425))}function pa(){}var Kc=null,qc=null;function Gc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Jc=typeof setTimeout=="function"?setTimeout:void 0,Wx=typeof clearTimeout=="function"?clearTimeout:void 0,Gh=typeof Promise=="function"?Promise:void 0,Vx=typeof queueMicrotask=="function"?queueMicrotask:typeof Gh<"u"?function(e){return Gh.resolve(null).then(e).catch(Hx)}:Jc;function Hx(e){setTimeout(function(){throw e})}function zl(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Ci(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ci(t)}function en(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Jh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Is=Math.random().toString(36).slice(2),cr="__reactFiber$"+Is,Oi="__reactProps$"+Is,Er="__reactContainer$"+Is,Yc="__reactEvents$"+Is,Kx="__reactListeners$"+Is,qx="__reactHandles$"+Is;function bn(e){var t=e[cr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Er]||r[cr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Jh(e);e!==null;){if(r=e[cr])return r;e=Jh(e)}return t}e=r,r=e.parentNode}return null}function Gi(e){return e=e[cr]||e[Er],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function as(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function Va(e){return e[Oi]||null}var Qc=[],ls=-1;function cn(e){return{current:e}}function we(e){0>ls||(e.current=Qc[ls],Qc[ls]=null,ls--)}function ye(e,t){ls++,Qc[ls]=e.current,e.current=t}var an={},ot=cn(an),_t=cn(!1),Rn=an;function _s(e,t){var r=e.type.contextTypes;if(!r)return an;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function kt(e){return e=e.childContextTypes,e!=null}function ma(){we(_t),we(ot)}function Yh(e,t,r){if(ot.current!==an)throw Error(L(168));ye(ot,t),ye(_t,r)}function tg(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(L(108,R0(e)||"Unknown",s));return Pe({},r,n)}function ga(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||an,Rn=ot.current,ye(ot,e),ye(_t,_t.current),!0}function Qh(e,t,r){var n=e.stateNode;if(!n)throw Error(L(169));r?(e=tg(e,t,Rn),n.__reactInternalMemoizedMergedChildContext=e,we(_t),we(ot),ye(ot,e)):we(_t),ye(_t,r)}var xr=null,Ha=!1,$l=!1;function rg(e){xr===null?xr=[e]:xr.push(e)}function Gx(e){Ha=!0,rg(e)}function un(){if(!$l&&xr!==null){$l=!0;var e=0,t=pe;try{var r=xr;for(pe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}xr=null,Ha=!1}catch(s){throw xr!==null&&(xr=xr.slice(e+1)),Cm(sd,un),s}finally{pe=t,$l=!1}}return null}var cs=[],us=0,va=null,ya=0,Ut=[],Mt=0,On=null,wr=1,_r="";function xn(e,t){cs[us++]=ya,cs[us++]=va,va=e,ya=t}function ng(e,t,r){Ut[Mt++]=wr,Ut[Mt++]=_r,Ut[Mt++]=On,On=e;var n=wr;e=_r;var s=32-Zt(n)-1;n&=~(1<<s),r+=1;var i=32-Zt(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,wr=1<<32-Zt(t)+s|r<<s|n,_r=i+e}else wr=1<<i|r<<s|n,_r=e}function fd(e){e.return!==null&&(xn(e,1),ng(e,1,0))}function pd(e){for(;e===va;)va=cs[--us],cs[us]=null,ya=cs[--us],cs[us]=null;for(;e===On;)On=Ut[--Mt],Ut[Mt]=null,_r=Ut[--Mt],Ut[Mt]=null,wr=Ut[--Mt],Ut[Mt]=null}var Tt=null,Nt=null,Se=!1,Qt=null;function sg(e,t){var r=zt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Xh(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Tt=e,Nt=en(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Tt=e,Nt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=On!==null?{id:wr,overflow:_r}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=zt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Tt=e,Nt=null,!0):!1;default:return!1}}function Xc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Zc(e){if(Se){var t=Nt;if(t){var r=t;if(!Xh(e,t)){if(Xc(e))throw Error(L(418));t=en(r.nextSibling);var n=Tt;t&&Xh(e,t)?sg(n,r):(e.flags=e.flags&-4097|2,Se=!1,Tt=e)}}else{if(Xc(e))throw Error(L(418));e.flags=e.flags&-4097|2,Se=!1,Tt=e}}}function Zh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Tt=e}function Eo(e){if(e!==Tt)return!1;if(!Se)return Zh(e),Se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gc(e.type,e.memoizedProps)),t&&(t=Nt)){if(Xc(e))throw ig(),Error(L(418));for(;t;)sg(e,t),t=en(t.nextSibling)}if(Zh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Nt=en(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Nt=null}}else Nt=Tt?en(e.stateNode.nextSibling):null;return!0}function ig(){for(var e=Nt;e;)e=en(e.nextSibling)}function ks(){Nt=Tt=null,Se=!1}function md(e){Qt===null?Qt=[e]:Qt.push(e)}var Jx=Tr.ReactCurrentBatchConfig;function Ks(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(L(309));var n=r.stateNode}if(!n)throw Error(L(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(L(284));if(!r._owner)throw Error(L(290,e))}return e}function Co(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ef(e){var t=e._init;return t(e._payload)}function og(e){function t(g,m){if(e){var v=g.deletions;v===null?(g.deletions=[m],g.flags|=16):v.push(m)}}function r(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function n(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=sn(g,m),g.index=0,g.sibling=null,g}function i(g,m,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<m?(g.flags|=2,m):v):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,m,v,b){return m===null||m.tag!==6?(m=ql(v,g.mode,b),m.return=g,m):(m=s(m,v),m.return=g,m)}function l(g,m,v,b){var j=v.type;return j===ns?d(g,m,v.props.children,b,v.key):m!==null&&(m.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===$r&&ef(j)===m.type)?(b=s(m,v.props),b.ref=Ks(g,m,v),b.return=g,b):(b=ta(v.type,v.key,v.props,null,g.mode,b),b.ref=Ks(g,m,v),b.return=g,b)}function u(g,m,v,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=Gl(v,g.mode,b),m.return=g,m):(m=s(m,v.children||[]),m.return=g,m)}function d(g,m,v,b,j){return m===null||m.tag!==7?(m=Tn(v,g.mode,b,j),m.return=g,m):(m=s(m,v),m.return=g,m)}function h(g,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=ql(""+m,g.mode,v),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case go:return v=ta(m.type,m.key,m.props,null,g.mode,v),v.ref=Ks(g,null,m),v.return=g,v;case rs:return m=Gl(m,g.mode,v),m.return=g,m;case $r:var b=m._init;return h(g,b(m._payload),v)}if(ei(m)||Fs(m))return m=Tn(m,g.mode,v,null),m.return=g,m;Co(g,m)}return null}function f(g,m,v,b){var j=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return j!==null?null:a(g,m,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case go:return v.key===j?l(g,m,v,b):null;case rs:return v.key===j?u(g,m,v,b):null;case $r:return j=v._init,f(g,m,j(v._payload),b)}if(ei(v)||Fs(v))return j!==null?null:d(g,m,v,b,null);Co(g,v)}return null}function p(g,m,v,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(v)||null,a(m,g,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case go:return g=g.get(b.key===null?v:b.key)||null,l(m,g,b,j);case rs:return g=g.get(b.key===null?v:b.key)||null,u(m,g,b,j);case $r:var P=b._init;return p(g,m,v,P(b._payload),j)}if(ei(b)||Fs(b))return g=g.get(v)||null,d(m,g,b,j,null);Co(m,b)}return null}function y(g,m,v,b){for(var j=null,P=null,w=m,C=m=0,A=null;w!==null&&C<v.length;C++){w.index>C?(A=w,w=null):A=w.sibling;var R=f(g,w,v[C],b);if(R===null){w===null&&(w=A);break}e&&w&&R.alternate===null&&t(g,w),m=i(R,m,C),P===null?j=R:P.sibling=R,P=R,w=A}if(C===v.length)return r(g,w),Se&&xn(g,C),j;if(w===null){for(;C<v.length;C++)w=h(g,v[C],b),w!==null&&(m=i(w,m,C),P===null?j=w:P.sibling=w,P=w);return Se&&xn(g,C),j}for(w=n(g,w);C<v.length;C++)A=p(w,g,C,v[C],b),A!==null&&(e&&A.alternate!==null&&w.delete(A.key===null?C:A.key),m=i(A,m,C),P===null?j=A:P.sibling=A,P=A);return e&&w.forEach(function(F){return t(g,F)}),Se&&xn(g,C),j}function x(g,m,v,b){var j=Fs(v);if(typeof j!="function")throw Error(L(150));if(v=j.call(v),v==null)throw Error(L(151));for(var P=j=null,w=m,C=m=0,A=null,R=v.next();w!==null&&!R.done;C++,R=v.next()){w.index>C?(A=w,w=null):A=w.sibling;var F=f(g,w,R.value,b);if(F===null){w===null&&(w=A);break}e&&w&&F.alternate===null&&t(g,w),m=i(F,m,C),P===null?j=F:P.sibling=F,P=F,w=A}if(R.done)return r(g,w),Se&&xn(g,C),j;if(w===null){for(;!R.done;C++,R=v.next())R=h(g,R.value,b),R!==null&&(m=i(R,m,C),P===null?j=R:P.sibling=R,P=R);return Se&&xn(g,C),j}for(w=n(g,w);!R.done;C++,R=v.next())R=p(w,g,C,R.value,b),R!==null&&(e&&R.alternate!==null&&w.delete(R.key===null?C:R.key),m=i(R,m,C),P===null?j=R:P.sibling=R,P=R);return e&&w.forEach(function(J){return t(g,J)}),Se&&xn(g,C),j}function S(g,m,v,b){if(typeof v=="object"&&v!==null&&v.type===ns&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case go:e:{for(var j=v.key,P=m;P!==null;){if(P.key===j){if(j=v.type,j===ns){if(P.tag===7){r(g,P.sibling),m=s(P,v.props.children),m.return=g,g=m;break e}}else if(P.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===$r&&ef(j)===P.type){r(g,P.sibling),m=s(P,v.props),m.ref=Ks(g,P,v),m.return=g,g=m;break e}r(g,P);break}else t(g,P);P=P.sibling}v.type===ns?(m=Tn(v.props.children,g.mode,b,v.key),m.return=g,g=m):(b=ta(v.type,v.key,v.props,null,g.mode,b),b.ref=Ks(g,m,v),b.return=g,g=b)}return o(g);case rs:e:{for(P=v.key;m!==null;){if(m.key===P)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){r(g,m.sibling),m=s(m,v.children||[]),m.return=g,g=m;break e}else{r(g,m);break}else t(g,m);m=m.sibling}m=Gl(v,g.mode,b),m.return=g,g=m}return o(g);case $r:return P=v._init,S(g,m,P(v._payload),b)}if(ei(v))return y(g,m,v,b);if(Fs(v))return x(g,m,v,b);Co(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(r(g,m.sibling),m=s(m,v),m.return=g,g=m):(r(g,m),m=ql(v,g.mode,b),m.return=g,g=m),o(g)):r(g,m)}return S}var Ss=og(!0),ag=og(!1),xa=cn(null),wa=null,ds=null,gd=null;function vd(){gd=ds=wa=null}function yd(e){var t=xa.current;we(xa),e._currentValue=t}function eu(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ys(e,t){wa=e,gd=ds=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(wt=!0),e.firstContext=null)}function Bt(e){var t=e._currentValue;if(gd!==e)if(e={context:e,memoizedValue:t,next:null},ds===null){if(wa===null)throw Error(L(308));ds=e,wa.dependencies={lanes:0,firstContext:e}}else ds=ds.next=e;return t}var En=null;function xd(e){En===null?En=[e]:En.push(e)}function lg(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,xd(t)):(r.next=s.next,s.next=r),t.interleaved=r,Cr(e,n)}function Cr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Fr=!1;function wd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function tn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ae&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Cr(e,r)}return s=n.interleaved,s===null?(t.next=t,xd(n)):(t.next=s.next,s.next=t),n.interleaved=t,Cr(e,r)}function Jo(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,id(e,r)}}function tf(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function _a(e,t,r,n){var s=e.updateQueue;Fr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,x=a;switch(f=t,p=r,x.tag){case 1:if(y=x.payload,typeof y=="function"){h=y.call(p,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,f=typeof y=="function"?y.call(p,h,f):y,f==null)break e;h=Pe({},h,f);break e;case 2:Fr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,l=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Ln|=o,e.lanes=o,e.memoizedState=h}}function rf(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(L(191,s));s.call(n)}}}var Ji={},dr=cn(Ji),Ii=cn(Ji),Li=cn(Ji);function Cn(e){if(e===Ji)throw Error(L(174));return e}function _d(e,t){switch(ye(Li,t),ye(Ii,e),ye(dr,Ji),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Lc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Lc(t,e)}we(dr),ye(dr,t)}function js(){we(dr),we(Ii),we(Li)}function ug(e){Cn(Li.current);var t=Cn(dr.current),r=Lc(t,e.type);t!==r&&(ye(Ii,e),ye(dr,r))}function kd(e){Ii.current===e&&(we(dr),we(Ii))}var be=cn(0);function ka(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fl=[];function Sd(){for(var e=0;e<Fl.length;e++)Fl[e]._workInProgressVersionPrimary=null;Fl.length=0}var Yo=Tr.ReactCurrentDispatcher,Bl=Tr.ReactCurrentBatchConfig,In=0,Ce=null,We=null,Je=null,Sa=!1,hi=!1,Ai=0,Yx=0;function nt(){throw Error(L(321))}function jd(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!rr(e[r],t[r]))return!1;return!0}function bd(e,t,r,n,s,i){if(In=i,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yo.current=e===null||e.memoizedState===null?ew:tw,e=r(n,s),hi){i=0;do{if(hi=!1,Ai=0,25<=i)throw Error(L(301));i+=1,Je=We=null,t.updateQueue=null,Yo.current=rw,e=r(n,s)}while(hi)}if(Yo.current=ja,t=We!==null&&We.next!==null,In=0,Je=We=Ce=null,Sa=!1,t)throw Error(L(300));return e}function Ed(){var e=Ai!==0;return Ai=0,e}function ar(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Ce.memoizedState=Je=e:Je=Je.next=e,Je}function Wt(){if(We===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=Je===null?Ce.memoizedState:Je.next;if(t!==null)Je=t,We=e;else{if(e===null)throw Error(L(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Je===null?Ce.memoizedState=Je=e:Je=Je.next=e}return Je}function Ui(e,t){return typeof t=="function"?t(e):t}function Wl(e){var t=Wt(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=We,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((In&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,Ce.lanes|=d,Ln|=d}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=a,rr(n,t.memoizedState)||(wt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Ce.lanes|=i,Ln|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Vl(e){var t=Wt(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);rr(i,t.memoizedState)||(wt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function dg(){}function hg(e,t){var r=Ce,n=Wt(),s=t(),i=!rr(n.memoizedState,s);if(i&&(n.memoizedState=s,wt=!0),n=n.queue,Cd(mg.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Je!==null&&Je.memoizedState.tag&1){if(r.flags|=2048,Mi(9,pg.bind(null,r,n,s,t),void 0,null),Ye===null)throw Error(L(349));In&30||fg(r,t,s)}return s}function fg(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function pg(e,t,r,n){t.value=r,t.getSnapshot=n,gg(t)&&vg(e)}function mg(e,t,r){return r(function(){gg(t)&&vg(e)})}function gg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!rr(e,r)}catch{return!0}}function vg(e){var t=Cr(e,1);t!==null&&er(t,e,1,-1)}function nf(e){var t=ar();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:e},t.queue=e,e=e.dispatch=Zx.bind(null,Ce,e),[t.memoizedState,e]}function Mi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function yg(){return Wt().memoizedState}function Qo(e,t,r,n){var s=ar();Ce.flags|=e,s.memoizedState=Mi(1|t,r,void 0,n===void 0?null:n)}function Ka(e,t,r,n){var s=Wt();n=n===void 0?null:n;var i=void 0;if(We!==null){var o=We.memoizedState;if(i=o.destroy,n!==null&&jd(n,o.deps)){s.memoizedState=Mi(t,r,i,n);return}}Ce.flags|=e,s.memoizedState=Mi(1|t,r,i,n)}function sf(e,t){return Qo(8390656,8,e,t)}function Cd(e,t){return Ka(2048,8,e,t)}function xg(e,t){return Ka(4,2,e,t)}function wg(e,t){return Ka(4,4,e,t)}function _g(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kg(e,t,r){return r=r!=null?r.concat([e]):null,Ka(4,4,_g.bind(null,t,e),r)}function Pd(){}function Sg(e,t){var r=Wt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&jd(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function jg(e,t){var r=Wt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&jd(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function bg(e,t,r){return In&21?(rr(r,t)||(r=Tm(),Ce.lanes|=r,Ln|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,wt=!0),e.memoizedState=r)}function Qx(e,t){var r=pe;pe=r!==0&&4>r?r:4,e(!0);var n=Bl.transition;Bl.transition={};try{e(!1),t()}finally{pe=r,Bl.transition=n}}function Eg(){return Wt().memoizedState}function Xx(e,t,r){var n=nn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Cg(e))Pg(t,r);else if(r=lg(e,t,r,n),r!==null){var s=ft();er(r,e,n,s),Ng(r,t,n)}}function Zx(e,t,r){var n=nn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Cg(e))Pg(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,rr(a,o)){var l=t.interleaved;l===null?(s.next=s,xd(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=lg(e,t,s,n),r!==null&&(s=ft(),er(r,e,n,s),Ng(r,t,n))}}function Cg(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function Pg(e,t){hi=Sa=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Ng(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,id(e,r)}}var ja={readContext:Bt,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useInsertionEffect:nt,useLayoutEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useMutableSource:nt,useSyncExternalStore:nt,useId:nt,unstable_isNewReconciler:!1},ew={readContext:Bt,useCallback:function(e,t){return ar().memoizedState=[e,t===void 0?null:t],e},useContext:Bt,useEffect:sf,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Qo(4194308,4,_g.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Qo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qo(4,2,e,t)},useMemo:function(e,t){var r=ar();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ar();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Xx.bind(null,Ce,e),[n.memoizedState,e]},useRef:function(e){var t=ar();return e={current:e},t.memoizedState=e},useState:nf,useDebugValue:Pd,useDeferredValue:function(e){return ar().memoizedState=e},useTransition:function(){var e=nf(!1),t=e[0];return e=Qx.bind(null,e[1]),ar().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ce,s=ar();if(Se){if(r===void 0)throw Error(L(407));r=r()}else{if(r=t(),Ye===null)throw Error(L(349));In&30||fg(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,sf(mg.bind(null,n,i,e),[e]),n.flags|=2048,Mi(9,pg.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=ar(),t=Ye.identifierPrefix;if(Se){var r=_r,n=wr;r=(n&~(1<<32-Zt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ai++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Yx++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},tw={readContext:Bt,useCallback:Sg,useContext:Bt,useEffect:Cd,useImperativeHandle:kg,useInsertionEffect:xg,useLayoutEffect:wg,useMemo:jg,useReducer:Wl,useRef:yg,useState:function(){return Wl(Ui)},useDebugValue:Pd,useDeferredValue:function(e){var t=Wt();return bg(t,We.memoizedState,e)},useTransition:function(){var e=Wl(Ui)[0],t=Wt().memoizedState;return[e,t]},useMutableSource:dg,useSyncExternalStore:hg,useId:Eg,unstable_isNewReconciler:!1},rw={readContext:Bt,useCallback:Sg,useContext:Bt,useEffect:Cd,useImperativeHandle:kg,useInsertionEffect:xg,useLayoutEffect:wg,useMemo:jg,useReducer:Vl,useRef:yg,useState:function(){return Vl(Ui)},useDebugValue:Pd,useDeferredValue:function(e){var t=Wt();return We===null?t.memoizedState=e:bg(t,We.memoizedState,e)},useTransition:function(){var e=Vl(Ui)[0],t=Wt().memoizedState;return[e,t]},useMutableSource:dg,useSyncExternalStore:hg,useId:Eg,unstable_isNewReconciler:!1};function qt(e,t){if(e&&e.defaultProps){t=Pe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function tu(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Pe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var qa={isMounted:function(e){return(e=e._reactInternals)?Dn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ft(),s=nn(e),i=kr(n,s);i.payload=t,r!=null&&(i.callback=r),t=tn(e,i,s),t!==null&&(er(t,e,s,n),Jo(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ft(),s=nn(e),i=kr(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=tn(e,i,s),t!==null&&(er(t,e,s,n),Jo(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ft(),n=nn(e),s=kr(r,n);s.tag=2,t!=null&&(s.callback=t),t=tn(e,s,n),t!==null&&(er(t,e,n,r),Jo(t,e,n))}};function of(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ni(r,n)||!Ni(s,i):!0}function Tg(e,t,r){var n=!1,s=an,i=t.contextType;return typeof i=="object"&&i!==null?i=Bt(i):(s=kt(t)?Rn:ot.current,n=t.contextTypes,i=(n=n!=null)?_s(e,s):an),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qa,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function af(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&qa.enqueueReplaceState(t,t.state,null)}function ru(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},wd(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Bt(i):(i=kt(t)?Rn:ot.current,s.context=_s(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(tu(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&qa.enqueueReplaceState(s,s.state,null),_a(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function bs(e,t){try{var r="",n=t;do r+=T0(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Hl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function nu(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var nw=typeof WeakMap=="function"?WeakMap:Map;function Rg(e,t,r){r=kr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ea||(Ea=!0,fu=n),nu(e,t)},r}function Og(e,t,r){r=kr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){nu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){nu(e,t),typeof n!="function"&&(rn===null?rn=new Set([this]):rn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function lf(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new nw;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=vw.bind(null,e,t,r),t.then(e,e))}function cf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function uf(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=kr(-1,1),t.tag=2,tn(r,t,1))),r.lanes|=1),e)}var sw=Tr.ReactCurrentOwner,wt=!1;function ct(e,t,r,n){t.child=e===null?ag(t,null,r,n):Ss(t,e.child,r,n)}function df(e,t,r,n,s){r=r.render;var i=t.ref;return ys(t,s),n=bd(e,t,r,n,i,s),r=Ed(),e!==null&&!wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Pr(e,t,s)):(Se&&r&&fd(t),t.flags|=1,ct(e,t,n,s),t.child)}function hf(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Ud(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Ig(e,t,i,n,s)):(e=ta(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ni,r(o,n)&&e.ref===t.ref)return Pr(e,t,s)}return t.flags|=1,e=sn(i,n),e.ref=t.ref,e.return=t,t.child=e}function Ig(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Ni(i,n)&&e.ref===t.ref)if(wt=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(wt=!0);else return t.lanes=e.lanes,Pr(e,t,s)}return su(e,t,r,n,s)}function Lg(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(fs,Ct),Ct|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(fs,Ct),Ct|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ye(fs,Ct),Ct|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,ye(fs,Ct),Ct|=n;return ct(e,t,s,r),t.child}function Ag(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function su(e,t,r,n,s){var i=kt(r)?Rn:ot.current;return i=_s(t,i),ys(t,s),r=bd(e,t,r,n,i,s),n=Ed(),e!==null&&!wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Pr(e,t,s)):(Se&&n&&fd(t),t.flags|=1,ct(e,t,r,s),t.child)}function ff(e,t,r,n,s){if(kt(r)){var i=!0;ga(t)}else i=!1;if(ys(t,s),t.stateNode===null)Xo(e,t),Tg(t,r,n),ru(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Bt(u):(u=kt(r)?Rn:ot.current,u=_s(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&af(t,o,n,u),Fr=!1;var f=t.memoizedState;o.state=f,_a(t,n,o,s),l=t.memoizedState,a!==n||f!==l||_t.current||Fr?(typeof d=="function"&&(tu(t,r,d,n),l=t.memoizedState),(a=Fr||of(t,r,a,n,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,cg(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:qt(t.type,a),o.props=u,h=t.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Bt(l):(l=kt(r)?Rn:ot.current,l=_s(t,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&af(t,o,n,l),Fr=!1,f=t.memoizedState,o.state=f,_a(t,n,o,s);var y=t.memoizedState;a!==h||f!==y||_t.current||Fr?(typeof p=="function"&&(tu(t,r,p,n),y=t.memoizedState),(u=Fr||of(t,r,u,n,f,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return iu(e,t,r,n,i,s)}function iu(e,t,r,n,s,i){Ag(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Qh(t,r,!1),Pr(e,t,i);n=t.stateNode,sw.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Ss(t,e.child,null,i),t.child=Ss(t,null,a,i)):ct(e,t,a,i),t.memoizedState=n.state,s&&Qh(t,r,!0),t.child}function Ug(e){var t=e.stateNode;t.pendingContext?Yh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Yh(e,t.context,!1),_d(e,t.containerInfo)}function pf(e,t,r,n,s){return ks(),md(s),t.flags|=256,ct(e,t,r,n),t.child}var ou={dehydrated:null,treeContext:null,retryLane:0};function au(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mg(e,t,r){var n=t.pendingProps,s=be.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ye(be,s&1),e===null)return Zc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ya(o,n,0,null),e=Tn(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=au(r),t.memoizedState=ou,e):Nd(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return iw(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=sn(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=sn(a,i):(i=Tn(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?au(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=ou,n}return i=e.child,e=i.sibling,n=sn(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Nd(e,t){return t=Ya({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Po(e,t,r,n){return n!==null&&md(n),Ss(t,e.child,null,r),e=Nd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function iw(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Hl(Error(L(422))),Po(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Ya({mode:"visible",children:n.children},s,0,null),i=Tn(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Ss(t,e.child,null,o),t.child.memoizedState=au(o),t.memoizedState=ou,i);if(!(t.mode&1))return Po(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(L(419)),n=Hl(i,n,void 0),Po(e,t,o,n)}if(a=(o&e.childLanes)!==0,wt||a){if(n=Ye,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Cr(e,s),er(n,e,s,-1))}return Ad(),n=Hl(Error(L(421))),Po(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=yw.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Nt=en(s.nextSibling),Tt=t,Se=!0,Qt=null,e!==null&&(Ut[Mt++]=wr,Ut[Mt++]=_r,Ut[Mt++]=On,wr=e.id,_r=e.overflow,On=t),t=Nd(t,n.children),t.flags|=4096,t)}function mf(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),eu(e.return,t,r)}function Kl(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Dg(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(ct(e,t,n.children,r),n=be.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mf(e,r,t);else if(e.tag===19)mf(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ye(be,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&ka(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Kl(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ka(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Kl(t,!0,r,null,i);break;case"together":Kl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ln|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,r=sn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=sn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function ow(e,t,r){switch(t.tag){case 3:Ug(t),ks();break;case 5:ug(t);break;case 1:kt(t.type)&&ga(t);break;case 4:_d(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;ye(xa,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ye(be,be.current&1),t.flags|=128,null):r&t.child.childLanes?Mg(e,t,r):(ye(be,be.current&1),e=Pr(e,t,r),e!==null?e.sibling:null);ye(be,be.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Dg(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ye(be,be.current),n)break;return null;case 22:case 23:return t.lanes=0,Lg(e,t,r)}return Pr(e,t,r)}var zg,lu,$g,Fg;zg=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};lu=function(){};$g=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Cn(dr.current);var i=null;switch(r){case"input":s=Tc(e,s),n=Tc(e,n),i=[];break;case"select":s=Pe({},s,{value:void 0}),n=Pe({},n,{value:void 0}),i=[];break;case"textarea":s=Ic(e,s),n=Ic(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=pa)}Ac(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ki.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ki.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&xe("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Fg=function(e,t,r,n){r!==n&&(t.flags|=4)};function qs(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function st(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function aw(e,t,r){var n=t.pendingProps;switch(pd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(t),null;case 1:return kt(t.type)&&ma(),st(t),null;case 3:return n=t.stateNode,js(),we(_t),we(ot),Sd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Eo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qt!==null&&(gu(Qt),Qt=null))),lu(e,t),st(t),null;case 5:kd(t);var s=Cn(Li.current);if(r=t.type,e!==null&&t.stateNode!=null)$g(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(L(166));return st(t),null}if(e=Cn(dr.current),Eo(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[cr]=t,n[Oi]=i,e=(t.mode&1)!==0,r){case"dialog":xe("cancel",n),xe("close",n);break;case"iframe":case"object":case"embed":xe("load",n);break;case"video":case"audio":for(s=0;s<ri.length;s++)xe(ri[s],n);break;case"source":xe("error",n);break;case"img":case"image":case"link":xe("error",n),xe("load",n);break;case"details":xe("toggle",n);break;case"input":Sh(n,i),xe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},xe("invalid",n);break;case"textarea":bh(n,i),xe("invalid",n)}Ac(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&bo(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&bo(n.textContent,a,e),s=["children",""+a]):ki.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&xe("scroll",n)}switch(r){case"input":vo(n),jh(n,i,!0);break;case"textarea":vo(n),Eh(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=pa)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=mm(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[cr]=t,e[Oi]=n,zg(e,t,!1,!1),t.stateNode=e;e:{switch(o=Uc(r,n),r){case"dialog":xe("cancel",e),xe("close",e),s=n;break;case"iframe":case"object":case"embed":xe("load",e),s=n;break;case"video":case"audio":for(s=0;s<ri.length;s++)xe(ri[s],e);s=n;break;case"source":xe("error",e),s=n;break;case"img":case"image":case"link":xe("error",e),xe("load",e),s=n;break;case"details":xe("toggle",e),s=n;break;case"input":Sh(e,n),s=Tc(e,n),xe("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Pe({},n,{value:void 0}),xe("invalid",e);break;case"textarea":bh(e,n),s=Ic(e,n),xe("invalid",e);break;default:s=n}Ac(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?ym(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&gm(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Si(e,l):typeof l=="number"&&Si(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ki.hasOwnProperty(i)?l!=null&&i==="onScroll"&&xe("scroll",e):l!=null&&Zu(e,i,l,o))}switch(r){case"input":vo(e),jh(e,n,!1);break;case"textarea":vo(e),Eh(e);break;case"option":n.value!=null&&e.setAttribute("value",""+on(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?ps(e,!!n.multiple,i,!1):n.defaultValue!=null&&ps(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=pa)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return st(t),null;case 6:if(e&&t.stateNode!=null)Fg(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(L(166));if(r=Cn(Li.current),Cn(dr.current),Eo(t)){if(n=t.stateNode,r=t.memoizedProps,n[cr]=t,(i=n.nodeValue!==r)&&(e=Tt,e!==null))switch(e.tag){case 3:bo(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&bo(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[cr]=t,t.stateNode=n}return st(t),null;case 13:if(we(be),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Se&&Nt!==null&&t.mode&1&&!(t.flags&128))ig(),ks(),t.flags|=98560,i=!1;else if(i=Eo(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(L(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(L(317));i[cr]=t}else ks(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;st(t),i=!1}else Qt!==null&&(gu(Qt),Qt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||be.current&1?He===0&&(He=3):Ad())),t.updateQueue!==null&&(t.flags|=4),st(t),null);case 4:return js(),lu(e,t),e===null&&Ti(t.stateNode.containerInfo),st(t),null;case 10:return yd(t.type._context),st(t),null;case 17:return kt(t.type)&&ma(),st(t),null;case 19:if(we(be),i=t.memoizedState,i===null)return st(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)qs(i,!1);else{if(He!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ka(e),o!==null){for(t.flags|=128,qs(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ye(be,be.current&1|2),t.child}e=e.sibling}i.tail!==null&&Le()>Es&&(t.flags|=128,n=!0,qs(i,!1),t.lanes=4194304)}else{if(!n)if(e=ka(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),qs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Se)return st(t),null}else 2*Le()-i.renderingStartTime>Es&&r!==1073741824&&(t.flags|=128,n=!0,qs(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Le(),t.sibling=null,r=be.current,ye(be,n?r&1|2:r&1),t):(st(t),null);case 22:case 23:return Ld(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ct&1073741824&&(st(t),t.subtreeFlags&6&&(t.flags|=8192)):st(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function lw(e,t){switch(pd(t),t.tag){case 1:return kt(t.type)&&ma(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return js(),we(_t),we(ot),Sd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return kd(t),null;case 13:if(we(be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));ks()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return we(be),null;case 4:return js(),null;case 10:return yd(t.type._context),null;case 22:case 23:return Ld(),null;case 24:return null;default:return null}}var No=!1,it=!1,cw=typeof WeakSet=="function"?WeakSet:Set,M=null;function hs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Re(e,t,n)}else r.current=null}function cu(e,t,r){try{r()}catch(n){Re(e,t,n)}}var gf=!1;function uw(e,t){if(Kc=da,e=Km(),hd(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++u===s&&(a=o),f===i&&++d===n&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(qc={focusedElem:e,selectionRange:r},da=!1,M=t;M!==null;)if(t=M,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,M=e;else for(;M!==null;){t=M;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,S=y.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:qt(t.type,x),S);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(b){Re(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,M=e;break}M=t.return}return y=gf,gf=!1,y}function fi(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&cu(t,r,i)}s=s.next}while(s!==n)}}function Ga(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function uu(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Bg(e){var t=e.alternate;t!==null&&(e.alternate=null,Bg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[cr],delete t[Oi],delete t[Yc],delete t[Kx],delete t[qx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wg(e){return e.tag===5||e.tag===3||e.tag===4}function vf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function du(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=pa));else if(n!==4&&(e=e.child,e!==null))for(du(e,t,r),e=e.sibling;e!==null;)du(e,t,r),e=e.sibling}function hu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(hu(e,t,r),e=e.sibling;e!==null;)hu(e,t,r),e=e.sibling}var Ze=null,Gt=!1;function Lr(e,t,r){for(r=r.child;r!==null;)Vg(e,t,r),r=r.sibling}function Vg(e,t,r){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount($a,r)}catch{}switch(r.tag){case 5:it||hs(r,t);case 6:var n=Ze,s=Gt;Ze=null,Lr(e,t,r),Ze=n,Gt=s,Ze!==null&&(Gt?(e=Ze,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ze.removeChild(r.stateNode));break;case 18:Ze!==null&&(Gt?(e=Ze,r=r.stateNode,e.nodeType===8?zl(e.parentNode,r):e.nodeType===1&&zl(e,r),Ci(e)):zl(Ze,r.stateNode));break;case 4:n=Ze,s=Gt,Ze=r.stateNode.containerInfo,Gt=!0,Lr(e,t,r),Ze=n,Gt=s;break;case 0:case 11:case 14:case 15:if(!it&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&cu(r,t,o),s=s.next}while(s!==n)}Lr(e,t,r);break;case 1:if(!it&&(hs(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Re(r,t,a)}Lr(e,t,r);break;case 21:Lr(e,t,r);break;case 22:r.mode&1?(it=(n=it)||r.memoizedState!==null,Lr(e,t,r),it=n):Lr(e,t,r);break;default:Lr(e,t,r)}}function yf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new cw),t.forEach(function(n){var s=xw.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ht(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ze=a.stateNode,Gt=!1;break e;case 3:Ze=a.stateNode.containerInfo,Gt=!0;break e;case 4:Ze=a.stateNode.containerInfo,Gt=!0;break e}a=a.return}if(Ze===null)throw Error(L(160));Vg(i,o,s),Ze=null,Gt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Re(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Hg(t,e),t=t.sibling}function Hg(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ht(t,e),or(e),n&4){try{fi(3,e,e.return),Ga(3,e)}catch(x){Re(e,e.return,x)}try{fi(5,e,e.return)}catch(x){Re(e,e.return,x)}}break;case 1:Ht(t,e),or(e),n&512&&r!==null&&hs(r,r.return);break;case 5:if(Ht(t,e),or(e),n&512&&r!==null&&hs(r,r.return),e.flags&32){var s=e.stateNode;try{Si(s,"")}catch(x){Re(e,e.return,x)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&fm(s,i),Uc(a,o);var u=Uc(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?ym(s,h):d==="dangerouslySetInnerHTML"?gm(s,h):d==="children"?Si(s,h):Zu(s,d,h,u)}switch(a){case"input":Rc(s,i);break;case"textarea":pm(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ps(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?ps(s,!!i.multiple,i.defaultValue,!0):ps(s,!!i.multiple,i.multiple?[]:"",!1))}s[Oi]=i}catch(x){Re(e,e.return,x)}}break;case 6:if(Ht(t,e),or(e),n&4){if(e.stateNode===null)throw Error(L(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){Re(e,e.return,x)}}break;case 3:if(Ht(t,e),or(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ci(t.containerInfo)}catch(x){Re(e,e.return,x)}break;case 4:Ht(t,e),or(e);break;case 13:Ht(t,e),or(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Od=Le())),n&4&&yf(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(it=(u=it)||d,Ht(t,e),it=u):Ht(t,e),or(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(M=e,d=e.child;d!==null;){for(h=M=d;M!==null;){switch(f=M,p=f.child,f.tag){case 0:case 11:case 14:case 15:fi(4,f,f.return);break;case 1:hs(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(x){Re(n,r,x)}}break;case 5:hs(f,f.return);break;case 22:if(f.memoizedState!==null){wf(h);continue}}p!==null?(p.return=f,M=p):wf(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=vm("display",o))}catch(x){Re(e,e.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){Re(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ht(t,e),or(e),n&4&&yf(e);break;case 21:break;default:Ht(t,e),or(e)}}function or(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Wg(r)){var n=r;break e}r=r.return}throw Error(L(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Si(s,""),n.flags&=-33);var i=vf(e);hu(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=vf(e);du(e,a,o);break;default:throw Error(L(161))}}catch(l){Re(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dw(e,t,r){M=e,Kg(e)}function Kg(e,t,r){for(var n=(e.mode&1)!==0;M!==null;){var s=M,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||No;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||it;a=No;var u=it;if(No=o,(it=l)&&!u)for(M=s;M!==null;)o=M,l=o.child,o.tag===22&&o.memoizedState!==null?_f(s):l!==null?(l.return=o,M=l):_f(s);for(;i!==null;)M=i,Kg(i),i=i.sibling;M=s,No=a,it=u}xf(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,M=i):xf(e)}}function xf(e){for(;M!==null;){var t=M;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:it||Ga(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!it)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:qt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&rf(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}rf(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ci(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}it||t.flags&512&&uu(t)}catch(f){Re(t,t.return,f)}}if(t===e){M=null;break}if(r=t.sibling,r!==null){r.return=t.return,M=r;break}M=t.return}}function wf(e){for(;M!==null;){var t=M;if(t===e){M=null;break}var r=t.sibling;if(r!==null){r.return=t.return,M=r;break}M=t.return}}function _f(e){for(;M!==null;){var t=M;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ga(4,t)}catch(l){Re(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){Re(t,s,l)}}var i=t.return;try{uu(t)}catch(l){Re(t,i,l)}break;case 5:var o=t.return;try{uu(t)}catch(l){Re(t,o,l)}}}catch(l){Re(t,t.return,l)}if(t===e){M=null;break}var a=t.sibling;if(a!==null){a.return=t.return,M=a;break}M=t.return}}var hw=Math.ceil,ba=Tr.ReactCurrentDispatcher,Td=Tr.ReactCurrentOwner,$t=Tr.ReactCurrentBatchConfig,ae=0,Ye=null,ze=null,et=0,Ct=0,fs=cn(0),He=0,Di=null,Ln=0,Ja=0,Rd=0,pi=null,yt=null,Od=0,Es=1/0,vr=null,Ea=!1,fu=null,rn=null,To=!1,Gr=null,Ca=0,mi=0,pu=null,Zo=-1,ea=0;function ft(){return ae&6?Le():Zo!==-1?Zo:Zo=Le()}function nn(e){return e.mode&1?ae&2&&et!==0?et&-et:Jx.transition!==null?(ea===0&&(ea=Tm()),ea):(e=pe,e!==0||(e=window.event,e=e===void 0?16:Mm(e.type)),e):1}function er(e,t,r,n){if(50<mi)throw mi=0,pu=null,Error(L(185));Ki(e,r,n),(!(ae&2)||e!==Ye)&&(e===Ye&&(!(ae&2)&&(Ja|=r),He===4&&Hr(e,et)),St(e,n),r===1&&ae===0&&!(t.mode&1)&&(Es=Le()+500,Ha&&un()))}function St(e,t){var r=e.callbackNode;J0(e,t);var n=ua(e,e===Ye?et:0);if(n===0)r!==null&&Nh(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Nh(r),t===1)e.tag===0?Gx(kf.bind(null,e)):rg(kf.bind(null,e)),Vx(function(){!(ae&6)&&un()}),r=null;else{switch(Rm(n)){case 1:r=sd;break;case 4:r=Pm;break;case 16:r=ca;break;case 536870912:r=Nm;break;default:r=ca}r=ev(r,qg.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function qg(e,t){if(Zo=-1,ea=0,ae&6)throw Error(L(327));var r=e.callbackNode;if(xs()&&e.callbackNode!==r)return null;var n=ua(e,e===Ye?et:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Pa(e,n);else{t=n;var s=ae;ae|=2;var i=Jg();(Ye!==e||et!==t)&&(vr=null,Es=Le()+500,Nn(e,t));do try{mw();break}catch(a){Gg(e,a)}while(1);vd(),ba.current=i,ae=s,ze!==null?t=0:(Ye=null,et=0,t=He)}if(t!==0){if(t===2&&(s=Fc(e),s!==0&&(n=s,t=mu(e,s))),t===1)throw r=Di,Nn(e,0),Hr(e,n),St(e,Le()),r;if(t===6)Hr(e,n);else{if(s=e.current.alternate,!(n&30)&&!fw(s)&&(t=Pa(e,n),t===2&&(i=Fc(e),i!==0&&(n=i,t=mu(e,i))),t===1))throw r=Di,Nn(e,0),Hr(e,n),St(e,Le()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(L(345));case 2:wn(e,yt,vr);break;case 3:if(Hr(e,n),(n&130023424)===n&&(t=Od+500-Le(),10<t)){if(ua(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){ft(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Jc(wn.bind(null,e,yt,vr),t);break}wn(e,yt,vr);break;case 4:if(Hr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Zt(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=Le()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*hw(n/1960))-n,10<n){e.timeoutHandle=Jc(wn.bind(null,e,yt,vr),n);break}wn(e,yt,vr);break;case 5:wn(e,yt,vr);break;default:throw Error(L(329))}}}return St(e,Le()),e.callbackNode===r?qg.bind(null,e):null}function mu(e,t){var r=pi;return e.current.memoizedState.isDehydrated&&(Nn(e,t).flags|=256),e=Pa(e,t),e!==2&&(t=yt,yt=r,t!==null&&gu(t)),e}function gu(e){yt===null?yt=e:yt.push.apply(yt,e)}function fw(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!rr(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Hr(e,t){for(t&=~Rd,t&=~Ja,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Zt(t),n=1<<r;e[r]=-1,t&=~n}}function kf(e){if(ae&6)throw Error(L(327));xs();var t=ua(e,0);if(!(t&1))return St(e,Le()),null;var r=Pa(e,t);if(e.tag!==0&&r===2){var n=Fc(e);n!==0&&(t=n,r=mu(e,n))}if(r===1)throw r=Di,Nn(e,0),Hr(e,t),St(e,Le()),r;if(r===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wn(e,yt,vr),St(e,Le()),null}function Id(e,t){var r=ae;ae|=1;try{return e(t)}finally{ae=r,ae===0&&(Es=Le()+500,Ha&&un())}}function An(e){Gr!==null&&Gr.tag===0&&!(ae&6)&&xs();var t=ae;ae|=1;var r=$t.transition,n=pe;try{if($t.transition=null,pe=1,e)return e()}finally{pe=n,$t.transition=r,ae=t,!(ae&6)&&un()}}function Ld(){Ct=fs.current,we(fs)}function Nn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Wx(r)),ze!==null)for(r=ze.return;r!==null;){var n=r;switch(pd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ma();break;case 3:js(),we(_t),we(ot),Sd();break;case 5:kd(n);break;case 4:js();break;case 13:we(be);break;case 19:we(be);break;case 10:yd(n.type._context);break;case 22:case 23:Ld()}r=r.return}if(Ye=e,ze=e=sn(e.current,null),et=Ct=t,He=0,Di=null,Rd=Ja=Ln=0,yt=pi=null,En!==null){for(t=0;t<En.length;t++)if(r=En[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}En=null}return e}function Gg(e,t){do{var r=ze;try{if(vd(),Yo.current=ja,Sa){for(var n=Ce.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Sa=!1}if(In=0,Je=We=Ce=null,hi=!1,Ai=0,Td.current=null,r===null||r.return===null){He=1,Di=t,ze=null;break}e:{var i=e,o=r.return,a=r,l=t;if(t=et,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=cf(o);if(p!==null){p.flags&=-257,uf(p,o,a,i,t),p.mode&1&&lf(i,u,t),t=p,l=u;var y=t.updateQueue;if(y===null){var x=new Set;x.add(l),t.updateQueue=x}else y.add(l);break e}else{if(!(t&1)){lf(i,u,t),Ad();break e}l=Error(L(426))}}else if(Se&&a.mode&1){var S=cf(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),uf(S,o,a,i,t),md(bs(l,a));break e}}i=l=bs(l,a),He!==4&&(He=2),pi===null?pi=[i]:pi.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Rg(i,l,t);tf(i,g);break e;case 1:a=l;var m=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(rn===null||!rn.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=Og(i,a,t);tf(i,b);break e}}i=i.return}while(i!==null)}Qg(r)}catch(j){t=j,ze===r&&r!==null&&(ze=r=r.return);continue}break}while(1)}function Jg(){var e=ba.current;return ba.current=ja,e===null?ja:e}function Ad(){(He===0||He===3||He===2)&&(He=4),Ye===null||!(Ln&268435455)&&!(Ja&268435455)||Hr(Ye,et)}function Pa(e,t){var r=ae;ae|=2;var n=Jg();(Ye!==e||et!==t)&&(vr=null,Nn(e,t));do try{pw();break}catch(s){Gg(e,s)}while(1);if(vd(),ae=r,ba.current=n,ze!==null)throw Error(L(261));return Ye=null,et=0,He}function pw(){for(;ze!==null;)Yg(ze)}function mw(){for(;ze!==null&&!$0();)Yg(ze)}function Yg(e){var t=Zg(e.alternate,e,Ct);e.memoizedProps=e.pendingProps,t===null?Qg(e):ze=t,Td.current=null}function Qg(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=lw(r,t),r!==null){r.flags&=32767,ze=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{He=6,ze=null;return}}else if(r=aw(r,t,Ct),r!==null){ze=r;return}if(t=t.sibling,t!==null){ze=t;return}ze=t=e}while(t!==null);He===0&&(He=5)}function wn(e,t,r){var n=pe,s=$t.transition;try{$t.transition=null,pe=1,gw(e,t,r,n)}finally{$t.transition=s,pe=n}return null}function gw(e,t,r,n){do xs();while(Gr!==null);if(ae&6)throw Error(L(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Y0(e,i),e===Ye&&(ze=Ye=null,et=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||To||(To=!0,ev(ca,function(){return xs(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=$t.transition,$t.transition=null;var o=pe;pe=1;var a=ae;ae|=4,Td.current=null,uw(e,r),Hg(r,e),Ux(qc),da=!!Kc,qc=Kc=null,e.current=r,dw(r),F0(),ae=a,pe=o,$t.transition=i}else e.current=r;if(To&&(To=!1,Gr=e,Ca=s),i=e.pendingLanes,i===0&&(rn=null),V0(r.stateNode),St(e,Le()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ea)throw Ea=!1,e=fu,fu=null,e;return Ca&1&&e.tag!==0&&xs(),i=e.pendingLanes,i&1?e===pu?mi++:(mi=0,pu=e):mi=0,un(),null}function xs(){if(Gr!==null){var e=Rm(Ca),t=$t.transition,r=pe;try{if($t.transition=null,pe=16>e?16:e,Gr===null)var n=!1;else{if(e=Gr,Gr=null,Ca=0,ae&6)throw Error(L(331));var s=ae;for(ae|=4,M=e.current;M!==null;){var i=M,o=i.child;if(M.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(M=u;M!==null;){var d=M;switch(d.tag){case 0:case 11:case 15:fi(8,d,i)}var h=d.child;if(h!==null)h.return=d,M=h;else for(;M!==null;){d=M;var f=d.sibling,p=d.return;if(Bg(d),d===u){M=null;break}if(f!==null){f.return=p,M=f;break}M=p}}}var y=i.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var S=x.sibling;x.sibling=null,x=S}while(x!==null)}}M=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,M=o;else e:for(;M!==null;){if(i=M,i.flags&2048)switch(i.tag){case 0:case 11:case 15:fi(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,M=g;break e}M=i.return}}var m=e.current;for(M=m;M!==null;){o=M;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,M=v;else e:for(o=m;M!==null;){if(a=M,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ga(9,a)}}catch(j){Re(a,a.return,j)}if(a===o){M=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,M=b;break e}M=a.return}}if(ae=s,un(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot($a,e)}catch{}n=!0}return n}finally{pe=r,$t.transition=t}}return!1}function Sf(e,t,r){t=bs(r,t),t=Rg(e,t,1),e=tn(e,t,1),t=ft(),e!==null&&(Ki(e,1,t),St(e,t))}function Re(e,t,r){if(e.tag===3)Sf(e,e,r);else for(;t!==null;){if(t.tag===3){Sf(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(rn===null||!rn.has(n))){e=bs(r,e),e=Og(t,e,1),t=tn(t,e,1),e=ft(),t!==null&&(Ki(t,1,e),St(t,e));break}}t=t.return}}function vw(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ft(),e.pingedLanes|=e.suspendedLanes&r,Ye===e&&(et&r)===r&&(He===4||He===3&&(et&130023424)===et&&500>Le()-Od?Nn(e,0):Rd|=r),St(e,t)}function Xg(e,t){t===0&&(e.mode&1?(t=wo,wo<<=1,!(wo&130023424)&&(wo=4194304)):t=1);var r=ft();e=Cr(e,t),e!==null&&(Ki(e,t,r),St(e,r))}function yw(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Xg(e,r)}function xw(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(L(314))}n!==null&&n.delete(t),Xg(e,r)}var Zg;Zg=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||_t.current)wt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return wt=!1,ow(e,t,r);wt=!!(e.flags&131072)}else wt=!1,Se&&t.flags&1048576&&ng(t,ya,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Xo(e,t),e=t.pendingProps;var s=_s(t,ot.current);ys(t,r),s=bd(null,t,n,e,s,r);var i=Ed();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,kt(n)?(i=!0,ga(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,wd(t),s.updater=qa,t.stateNode=s,s._reactInternals=t,ru(t,n,e,r),t=iu(null,t,n,!0,i,r)):(t.tag=0,Se&&i&&fd(t),ct(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Xo(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=_w(n),e=qt(n,e),s){case 0:t=su(null,t,n,e,r);break e;case 1:t=ff(null,t,n,e,r);break e;case 11:t=df(null,t,n,e,r);break e;case 14:t=hf(null,t,n,qt(n.type,e),r);break e}throw Error(L(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:qt(n,s),su(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:qt(n,s),ff(e,t,n,s,r);case 3:e:{if(Ug(t),e===null)throw Error(L(387));n=t.pendingProps,i=t.memoizedState,s=i.element,cg(e,t),_a(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=bs(Error(L(423)),t),t=pf(e,t,n,r,s);break e}else if(n!==s){s=bs(Error(L(424)),t),t=pf(e,t,n,r,s);break e}else for(Nt=en(t.stateNode.containerInfo.firstChild),Tt=t,Se=!0,Qt=null,r=ag(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ks(),n===s){t=Pr(e,t,r);break e}ct(e,t,n,r)}t=t.child}return t;case 5:return ug(t),e===null&&Zc(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Gc(n,s)?o=null:i!==null&&Gc(n,i)&&(t.flags|=32),Ag(e,t),ct(e,t,o,r),t.child;case 6:return e===null&&Zc(t),null;case 13:return Mg(e,t,r);case 4:return _d(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ss(t,null,n,r):ct(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:qt(n,s),df(e,t,n,s,r);case 7:return ct(e,t,t.pendingProps,r),t.child;case 8:return ct(e,t,t.pendingProps.children,r),t.child;case 12:return ct(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ye(xa,n._currentValue),n._currentValue=o,i!==null)if(rr(i.value,o)){if(i.children===s.children&&!_t.current){t=Pr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=kr(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),eu(i.return,r,t),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(L(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),eu(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ct(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,ys(t,r),s=Bt(s),n=n(s),t.flags|=1,ct(e,t,n,r),t.child;case 14:return n=t.type,s=qt(n,t.pendingProps),s=qt(n.type,s),hf(e,t,n,s,r);case 15:return Ig(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:qt(n,s),Xo(e,t),t.tag=1,kt(n)?(e=!0,ga(t)):e=!1,ys(t,r),Tg(t,n,s),ru(t,n,s,r),iu(null,t,n,!0,e,r);case 19:return Dg(e,t,r);case 22:return Lg(e,t,r)}throw Error(L(156,t.tag))};function ev(e,t){return Cm(e,t)}function ww(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,t,r,n){return new ww(e,t,r,n)}function Ud(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _w(e){if(typeof e=="function")return Ud(e)?1:0;if(e!=null){if(e=e.$$typeof,e===td)return 11;if(e===rd)return 14}return 2}function sn(e,t){var r=e.alternate;return r===null?(r=zt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ta(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Ud(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ns:return Tn(r.children,s,i,t);case ed:o=8,s|=8;break;case Ec:return e=zt(12,r,t,s|2),e.elementType=Ec,e.lanes=i,e;case Cc:return e=zt(13,r,t,s),e.elementType=Cc,e.lanes=i,e;case Pc:return e=zt(19,r,t,s),e.elementType=Pc,e.lanes=i,e;case um:return Ya(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lm:o=10;break e;case cm:o=9;break e;case td:o=11;break e;case rd:o=14;break e;case $r:o=16,n=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=zt(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Tn(e,t,r,n){return e=zt(7,e,n,t),e.lanes=r,e}function Ya(e,t,r,n){return e=zt(22,e,n,t),e.elementType=um,e.lanes=r,e.stateNode={isHidden:!1},e}function ql(e,t,r){return e=zt(6,e,null,t),e.lanes=r,e}function Gl(e,t,r){return t=zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kw(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pl(0),this.expirationTimes=Pl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pl(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Md(e,t,r,n,s,i,o,a,l){return e=new kw(e,t,r,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=zt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},wd(i),e}function Sw(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rs,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function tv(e){if(!e)return an;e=e._reactInternals;e:{if(Dn(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(kt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var r=e.type;if(kt(r))return tg(e,r,t)}return t}function rv(e,t,r,n,s,i,o,a,l){return e=Md(r,n,!0,e,s,i,o,a,l),e.context=tv(null),r=e.current,n=ft(),s=nn(r),i=kr(n,s),i.callback=t??null,tn(r,i,s),e.current.lanes=s,Ki(e,s,n),St(e,n),e}function Qa(e,t,r,n){var s=t.current,i=ft(),o=nn(s);return r=tv(r),t.context===null?t.context=r:t.pendingContext=r,t=kr(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=tn(s,t,o),e!==null&&(er(e,s,o,i),Jo(e,s,o)),o}function Na(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function jf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Dd(e,t){jf(e,t),(e=e.alternate)&&jf(e,t)}function jw(){return null}var nv=typeof reportError=="function"?reportError:function(e){console.error(e)};function zd(e){this._internalRoot=e}Xa.prototype.render=zd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));Qa(e,t,null,null)};Xa.prototype.unmount=zd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;An(function(){Qa(null,e,null,null)}),t[Er]=null}};function Xa(e){this._internalRoot=e}Xa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lm();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Vr.length&&t!==0&&t<Vr[r].priority;r++);Vr.splice(r,0,e),r===0&&Um(e)}};function $d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Za(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function bf(){}function bw(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Na(o);i.call(u)}}var o=rv(t,n,e,0,null,!1,!1,"",bf);return e._reactRootContainer=o,e[Er]=o.current,Ti(e.nodeType===8?e.parentNode:e),An(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=Na(l);a.call(u)}}var l=Md(e,0,!1,null,null,!1,!1,"",bf);return e._reactRootContainer=l,e[Er]=l.current,Ti(e.nodeType===8?e.parentNode:e),An(function(){Qa(t,l,r,n)}),l}function el(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Na(o);a.call(l)}}Qa(t,o,e,s)}else o=bw(r,t,e,s,n);return Na(o)}Om=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ti(t.pendingLanes);r!==0&&(id(t,r|1),St(t,Le()),!(ae&6)&&(Es=Le()+500,un()))}break;case 13:An(function(){var n=Cr(e,1);if(n!==null){var s=ft();er(n,e,1,s)}}),Dd(e,1)}};od=function(e){if(e.tag===13){var t=Cr(e,134217728);if(t!==null){var r=ft();er(t,e,134217728,r)}Dd(e,134217728)}};Im=function(e){if(e.tag===13){var t=nn(e),r=Cr(e,t);if(r!==null){var n=ft();er(r,e,t,n)}Dd(e,t)}};Lm=function(){return pe};Am=function(e,t){var r=pe;try{return pe=e,t()}finally{pe=r}};Dc=function(e,t,r){switch(t){case"input":if(Rc(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Va(n);if(!s)throw Error(L(90));hm(n),Rc(n,s)}}}break;case"textarea":pm(e,r);break;case"select":t=r.value,t!=null&&ps(e,!!r.multiple,t,!1)}};_m=Id;km=An;var Ew={usingClientEntryPoint:!1,Events:[Gi,as,Va,xm,wm,Id]},Gs={findFiberByHostInstance:bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cw={bundleType:Gs.bundleType,version:Gs.version,rendererPackageName:Gs.rendererPackageName,rendererConfig:Gs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bm(e),e===null?null:e.stateNode},findFiberByHostInstance:Gs.findFiberByHostInstance||jw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ro=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ro.isDisabled&&Ro.supportsFiber)try{$a=Ro.inject(Cw),ur=Ro}catch{}}Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ew;Ot.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$d(t))throw Error(L(200));return Sw(e,t,null,r)};Ot.createRoot=function(e,t){if(!$d(e))throw Error(L(299));var r=!1,n="",s=nv;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Md(e,1,!1,null,null,r,!1,n,s),e[Er]=t.current,Ti(e.nodeType===8?e.parentNode:e),new zd(t)};Ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=bm(t),e=e===null?null:e.stateNode,e};Ot.flushSync=function(e){return An(e)};Ot.hydrate=function(e,t,r){if(!Za(t))throw Error(L(200));return el(null,e,t,!0,r)};Ot.hydrateRoot=function(e,t,r){if(!$d(e))throw Error(L(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=nv;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=rv(t,null,e,1,r??null,s,!1,i,o),e[Er]=t.current,Ti(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Xa(t)};Ot.render=function(e,t,r){if(!Za(t))throw Error(L(200));return el(null,e,t,!1,r)};Ot.unmountComponentAtNode=function(e){if(!Za(e))throw Error(L(40));return e._reactRootContainer?(An(function(){el(null,null,e,!1,function(){e._reactRootContainer=null,e[Er]=null})}),!0):!1};Ot.unstable_batchedUpdates=Id;Ot.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Za(r))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return el(e,t,r,!1,n)};Ot.version="18.3.1-next-f1338f8080-20240426";function sv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sv)}catch(e){console.error(e)}}sv(),sm.exports=Ot;var tl=sm.exports;const Pw=Kp(tl),Nw=Hp({__proto__:null,default:Pw},[tl]);var Ef=tl;jc.createRoot=Ef.createRoot,jc.hydrateRoot=Ef.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ke.apply(this,arguments)}var Ie;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ie||(Ie={}));const Cf="popstate";function Tw(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:a}=n.location;return zi("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Un(s)}return Ow(t,r,null,e)}function X(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Cs(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Rw(){return Math.random().toString(36).substr(2,8)}function Pf(e,t){return{usr:e.state,key:e.key,idx:t}}function zi(e,t,r,n){return r===void 0&&(r=null),ke({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Rr(t):t,{state:r,key:t&&t.key||n||Rw()})}function Un(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Rr(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Ow(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=Ie.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(ke({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Ie.Pop;let S=d(),g=S==null?null:S-u;u=S,l&&l({action:a,location:x.location,delta:g})}function f(S,g){a=Ie.Push;let m=zi(x.location,S,g);r&&r(m,S),u=d()+1;let v=Pf(m,u),b=x.createHref(m);try{o.pushState(v,"",b)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(b)}i&&l&&l({action:a,location:x.location,delta:1})}function p(S,g){a=Ie.Replace;let m=zi(x.location,S,g);r&&r(m,S),u=d();let v=Pf(m,u),b=x.createHref(m);o.replaceState(v,"",b),i&&l&&l({action:a,location:x.location,delta:0})}function y(S){let g=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof S=="string"?S:Un(S);return m=m.replace(/ $/,"%20"),X(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let x={get action(){return a},get location(){return e(s,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Cf,h),l=S,()=>{s.removeEventListener(Cf,h),l=null}},createHref(S){return t(s,S)},createURL:y,encodeLocation(S){let g=y(S);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(S){return o.go(S)}};return x}var fe;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(fe||(fe={}));const Iw=new Set(["lazy","caseSensitive","path","id","index","children"]);function Lw(e){return e.index===!0}function Ta(e,t,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),e.map((s,i)=>{let o=[...r,String(i)],a=typeof s.id=="string"?s.id:o.join("-");if(X(s.index!==!0||!s.children,"Cannot specify children on an index route"),X(!n[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),Lw(s)){let l=ke({},s,t(s),{id:a});return n[a]=l,l}else{let l=ke({},s,t(s),{id:a,children:void 0});return n[a]=l,s.children&&(l.children=Ta(s.children,t,o,n)),l}})}function kn(e,t,r){return r===void 0&&(r="/"),ra(e,t,r,!1)}function ra(e,t,r,n){let s=typeof t=="string"?Rr(t):t,i=Ls(s.pathname||"/",r);if(i==null)return null;let o=iv(e);Uw(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=qw(i);a=Hw(o[l],u,n)}return a}function Aw(e,t){let{route:r,pathname:n,params:s}=e;return{id:r.id,pathname:n,params:s,data:t[r.id],handle:r.handle}}function iv(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(X(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Sr([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(X(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),iv(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Ww(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of ov(i.path))s(i,o,l)}),t}function ov(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=ov(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function Uw(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Vw(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Mw=/^:[\w-]+$/,Dw=3,zw=2,$w=1,Fw=10,Bw=-2,Nf=e=>e==="*";function Ww(e,t){let r=e.split("/"),n=r.length;return r.some(Nf)&&(n+=Bw),t&&(n+=zw),r.filter(s=>!Nf(s)).reduce((s,i)=>s+(Mw.test(i)?Dw:i===""?$w:Fw),n)}function Vw(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Hw(e,t,r){r===void 0&&(r=!1);let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Tf({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=Tf({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Sr([i,h.pathname]),pathnameBase:Yw(Sr([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Sr([i,h.pathnameBase]))}return o}function Tf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Kw(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let x=a[h]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const y=a[h];return p&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function Kw(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Cs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function qw(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Cs(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ls(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Gw(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Rr(e):e;return{pathname:r?r.startsWith("/")?r:Jw(r,t):t,search:Qw(n),hash:Xw(s)}}function Jw(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Jl(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function av(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function rl(e,t){let r=av(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function nl(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Rr(e):(s=ke({},e),X(!s.pathname||!s.pathname.includes("?"),Jl("?","pathname","search",s)),X(!s.pathname||!s.pathname.includes("#"),Jl("#","pathname","hash",s)),X(!s.search||!s.search.includes("#"),Jl("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?t[h]:"/"}let l=Gw(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Sr=e=>e.join("/").replace(/\/\/+/g,"/"),Yw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Qw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Xw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class Ra{constructor(t,r,n,s){s===void 0&&(s=!1),this.status=t,this.statusText=r||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function $i(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const lv=["post","put","patch","delete"],Zw=new Set(lv),e_=["get",...lv],t_=new Set(e_),r_=new Set([301,302,303,307,308]),n_=new Set([307,308]),Yl={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},s_={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Js={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Fd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,i_=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),cv="remix-router-transitions";function o_(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",n=!r;X(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(e.mapRouteProperties)s=e.mapRouteProperties;else if(e.detectErrorBoundary){let k=e.detectErrorBoundary;s=E=>({hasErrorBoundary:k(E)})}else s=i_;let i={},o=Ta(e.routes,s,void 0,i),a,l=e.basename||"/",u=e.dataStrategy||u_,d=e.patchRoutesOnNavigation,h=ke({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),f=null,p=new Set,y=null,x=null,S=null,g=e.hydrationData!=null,m=kn(o,e.history.location,l),v=!1,b=null;if(m==null&&!d){let k=vt(404,{pathname:e.history.location.pathname}),{matches:E,route:N}=Ff(o);m=E,b={[N.id]:k}}m&&!e.hydrationData&&uo(m,o,e.history.location.pathname).active&&(m=null);let j;if(m)if(m.some(k=>k.route.lazy))j=!1;else if(!m.some(k=>k.route.loader))j=!0;else if(h.v7_partialHydration){let k=e.hydrationData?e.hydrationData.loaderData:null,E=e.hydrationData?e.hydrationData.errors:null;if(E){let N=m.findIndex(O=>E[O.route.id]!==void 0);j=m.slice(0,N+1).every(O=>!yu(O.route,k,E))}else j=m.every(N=>!yu(N.route,k,E))}else j=e.hydrationData!=null;else if(j=!1,m=[],h.v7_partialHydration){let k=uo(null,o,e.history.location.pathname);k.active&&k.matches&&(v=!0,m=k.matches)}let P,w={historyAction:e.history.action,location:e.history.location,matches:m,initialized:j,navigation:Yl,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||b,fetchers:new Map,blockers:new Map},C=Ie.Pop,A=!1,R,F=!1,J=new Map,ne=null,G=!1,me=!1,$e=[],ie=new Set,I=new Map,V=0,H=-1,ee=new Map,K=new Set,Ke=new Map,Ae=new Map,Oe=new Set,Ue=new Map,at=new Map,Fn;function xl(){if(f=e.history.listen(k=>{let{action:E,location:N,delta:O}=k;if(Fn){Fn(),Fn=void 0;return}Cs(at.size===0||O!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let U=hh({currentLocation:w.location,nextLocation:N,historyAction:E});if(U&&O!=null){let W=new Promise(q=>{Fn=q});e.history.go(O*-1),co(U,{state:"blocked",location:N,proceed(){co(U,{state:"proceeding",proceed:void 0,reset:void 0,location:N}),W.then(()=>e.history.go(O))},reset(){let q=new Map(w.blockers);q.set(U,Js),rt({blockers:q})}});return}return he(E,N)}),r){j_(t,J);let k=()=>b_(t,J);t.addEventListener("pagehide",k),ne=()=>t.removeEventListener("pagehide",k)}return w.initialized||he(Ie.Pop,w.location,{initialHydration:!0}),P}function fn(){f&&f(),ne&&ne(),p.clear(),R&&R.abort(),w.fetchers.forEach((k,E)=>lo(E)),w.blockers.forEach((k,E)=>dh(E))}function io(k){return p.add(k),()=>p.delete(k)}function rt(k,E){E===void 0&&(E={}),w=ke({},w,k);let N=[],O=[];h.v7_fetcherPersist&&w.fetchers.forEach((U,W)=>{U.state==="idle"&&(Oe.has(W)?O.push(W):N.push(W))}),Oe.forEach(U=>{!w.fetchers.has(U)&&!I.has(U)&&O.push(U)}),[...p].forEach(U=>U(w,{deletedFetchers:O,viewTransitionOpts:E.viewTransitionOpts,flushSync:E.flushSync===!0})),h.v7_fetcherPersist?(N.forEach(U=>w.fetchers.delete(U)),O.forEach(U=>lo(U))):O.forEach(U=>Oe.delete(U))}function le(k,E,N){var O,U;let{flushSync:W}=N===void 0?{}:N,q=w.actionData!=null&&w.navigation.formMethod!=null&&Jt(w.navigation.formMethod)&&w.navigation.state==="loading"&&((O=k.state)==null?void 0:O._isRedirect)!==!0,z;E.actionData?Object.keys(E.actionData).length>0?z=E.actionData:z=null:q?z=w.actionData:z=null;let $=E.loaderData?zf(w.loaderData,E.loaderData,E.matches||[],E.errors):w.loaderData,D=w.blockers;D.size>0&&(D=new Map(D),D.forEach((oe,Xe)=>D.set(Xe,Js)));let B=A===!0||w.navigation.formMethod!=null&&Jt(w.navigation.formMethod)&&((U=k.state)==null?void 0:U._isRedirect)!==!0;a&&(o=a,a=void 0),G||C===Ie.Pop||(C===Ie.Push?e.history.push(k,k.state):C===Ie.Replace&&e.history.replace(k,k.state));let Q;if(C===Ie.Pop){let oe=J.get(w.location.pathname);oe&&oe.has(k.pathname)?Q={currentLocation:w.location,nextLocation:k}:J.has(k.pathname)&&(Q={currentLocation:k,nextLocation:w.location})}else if(F){let oe=J.get(w.location.pathname);oe?oe.add(k.pathname):(oe=new Set([k.pathname]),J.set(w.location.pathname,oe)),Q={currentLocation:w.location,nextLocation:k}}rt(ke({},E,{actionData:z,loaderData:$,historyAction:C,location:k,initialized:!0,navigation:Yl,revalidation:"idle",restoreScrollPosition:ph(k,E.matches||w.matches),preventScrollReset:B,blockers:D}),{viewTransitionOpts:Q,flushSync:W===!0}),C=Ie.Pop,A=!1,F=!1,G=!1,me=!1,$e=[]}async function de(k,E){if(typeof k=="number"){e.history.go(k);return}let N=vu(w.location,w.matches,l,h.v7_prependBasename,k,h.v7_relativeSplatPath,E==null?void 0:E.fromRouteId,E==null?void 0:E.relative),{path:O,submission:U,error:W}=Rf(h.v7_normalizeFormMethod,!1,N,E),q=w.location,z=zi(w.location,O,E&&E.state);z=ke({},z,e.history.encodeLocation(z));let $=E&&E.replace!=null?E.replace:void 0,D=Ie.Push;$===!0?D=Ie.Replace:$===!1||U!=null&&Jt(U.formMethod)&&U.formAction===w.location.pathname+w.location.search&&(D=Ie.Replace);let B=E&&"preventScrollReset"in E?E.preventScrollReset===!0:void 0,Q=(E&&E.flushSync)===!0,oe=hh({currentLocation:q,nextLocation:z,historyAction:D});if(oe){co(oe,{state:"blocked",location:z,proceed(){co(oe,{state:"proceeding",proceed:void 0,reset:void 0,location:z}),de(k,E)},reset(){let Xe=new Map(w.blockers);Xe.set(oe,Js),rt({blockers:Xe})}});return}return await he(D,z,{submission:U,pendingError:W,preventScrollReset:B,replace:E&&E.replace,enableViewTransition:E&&E.viewTransition,flushSync:Q})}function qe(){if(pn(),rt({revalidation:"loading"}),w.navigation.state!=="submitting"){if(w.navigation.state==="idle"){he(w.historyAction,w.location,{startUninterruptedRevalidation:!0});return}he(C||w.historyAction,w.navigation.location,{overrideNavigation:w.navigation,enableViewTransition:F===!0})}}async function he(k,E,N){R&&R.abort(),R=null,C=k,G=(N&&N.startUninterruptedRevalidation)===!0,Jy(w.location,w.matches),A=(N&&N.preventScrollReset)===!0,F=(N&&N.enableViewTransition)===!0;let O=a||o,U=N&&N.overrideNavigation,W=N!=null&&N.initialHydration&&w.matches&&w.matches.length>0&&!v?w.matches:kn(O,E,l),q=(N&&N.flushSync)===!0;if(W&&w.initialized&&!me&&g_(w.location,E)&&!(N&&N.submission&&Jt(N.submission.formMethod))){le(E,{matches:W},{flushSync:q});return}let z=uo(W,O,E.pathname);if(z.active&&z.matches&&(W=z.matches),!W){let{error:ge,notFoundMatches:ue,route:Ne}=wl(E.pathname);le(E,{matches:ue,loaderData:{},errors:{[Ne.id]:ge}},{flushSync:q});return}R=new AbortController;let $=Kn(e.history,E,R.signal,N&&N.submission),D;if(N&&N.pendingError)D=[Sn(W).route.id,{type:fe.error,error:N.pendingError}];else if(N&&N.submission&&Jt(N.submission.formMethod)){let ge=await jt($,E,N.submission,W,z.active,{replace:N.replace,flushSync:q});if(ge.shortCircuited)return;if(ge.pendingActionResult){let[ue,Ne]=ge.pendingActionResult;if(Pt(Ne)&&$i(Ne.error)&&Ne.error.status===404){R=null,le(E,{matches:ge.matches,loaderData:{},errors:{[ue]:Ne.error}});return}}W=ge.matches||W,D=ge.pendingActionResult,U=Ql(E,N.submission),q=!1,z.active=!1,$=Kn(e.history,$.url,$.signal)}let{shortCircuited:B,matches:Q,loaderData:oe,errors:Xe}=await Or($,E,W,z.active,U,N&&N.submission,N&&N.fetcherSubmission,N&&N.replace,N&&N.initialHydration===!0,q,D);B||(R=null,le(E,ke({matches:Q||W},$f(D),{loaderData:oe,errors:Xe})))}async function jt(k,E,N,O,U,W){W===void 0&&(W={}),pn();let q=k_(E,N);if(rt({navigation:q},{flushSync:W.flushSync===!0}),U){let D=await ho(O,E.pathname,k.signal);if(D.type==="aborted")return{shortCircuited:!0};if(D.type==="error"){let B=Sn(D.partialMatches).route.id;return{matches:D.partialMatches,pendingActionResult:[B,{type:fe.error,error:D.error}]}}else if(D.matches)O=D.matches;else{let{notFoundMatches:B,error:Q,route:oe}=wl(E.pathname);return{matches:B,pendingActionResult:[oe.id,{type:fe.error,error:Q}]}}}let z,$=ni(O,E);if(!$.route.action&&!$.route.lazy)z={type:fe.error,error:vt(405,{method:k.method,pathname:E.pathname,routeId:$.route.id})};else if(z=(await Ge("action",w,k,[$],O,null))[$.route.id],k.signal.aborted)return{shortCircuited:!0};if(Pn(z)){let D;return W&&W.replace!=null?D=W.replace:D=Uf(z.response.headers.get("Location"),new URL(k.url),l)===w.location.pathname+w.location.search,await nr(k,z,!0,{submission:N,replace:D}),{shortCircuited:!0}}if(Jr(z))throw vt(400,{type:"defer-action"});if(Pt(z)){let D=Sn(O,$.route.id);return(W&&W.replace)!==!0&&(C=Ie.Push),{matches:O,pendingActionResult:[D.route.id,z]}}return{matches:O,pendingActionResult:[$.route.id,z]}}async function Or(k,E,N,O,U,W,q,z,$,D,B){let Q=U||Ql(E,W),oe=W||q||Wf(Q),Xe=!G&&(!h.v7_partialHydration||!$);if(O){if(Xe){let Te=Me(B);rt(ke({navigation:Q},Te!==void 0?{actionData:Te}:{}),{flushSync:D})}let ce=await ho(N,E.pathname,k.signal);if(ce.type==="aborted")return{shortCircuited:!0};if(ce.type==="error"){let Te=Sn(ce.partialMatches).route.id;return{matches:ce.partialMatches,loaderData:{},errors:{[Te]:ce.error}}}else if(ce.matches)N=ce.matches;else{let{error:Te,notFoundMatches:Wn,route:$s}=wl(E.pathname);return{matches:Wn,loaderData:{},errors:{[$s.id]:Te}}}}let ge=a||o,[ue,Ne]=If(e.history,w,N,oe,E,h.v7_partialHydration&&$===!0,h.v7_skipActionErrorRevalidation,me,$e,ie,Oe,Ke,K,ge,l,B);if(_l(ce=>!(N&&N.some(Te=>Te.route.id===ce))||ue&&ue.some(Te=>Te.route.id===ce)),H=++V,ue.length===0&&Ne.length===0){let ce=ch();return le(E,ke({matches:N,loaderData:{},errors:B&&Pt(B[1])?{[B[0]]:B[1].error}:null},$f(B),ce?{fetchers:new Map(w.fetchers)}:{}),{flushSync:D}),{shortCircuited:!0}}if(Xe){let ce={};if(!O){ce.navigation=Q;let Te=Me(B);Te!==void 0&&(ce.actionData=Te)}Ne.length>0&&(ce.fetchers=Qe(Ne)),rt(ce,{flushSync:D})}Ne.forEach(ce=>{Ir(ce.key),ce.controller&&I.set(ce.key,ce.controller)});let Bn=()=>Ne.forEach(ce=>Ir(ce.key));R&&R.signal.addEventListener("abort",Bn);let{loaderResults:Ds,fetcherResults:pr}=await At(w,N,ue,Ne,k);if(k.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",Bn),Ne.forEach(ce=>I.delete(ce.key));let ir=Oo(Ds);if(ir)return await nr(k,ir.result,!0,{replace:z}),{shortCircuited:!0};if(ir=Oo(pr),ir)return K.add(ir.key),await nr(k,ir.result,!0,{replace:z}),{shortCircuited:!0};let{loaderData:kl,errors:zs}=Df(w,N,Ds,B,Ne,pr,Ue);Ue.forEach((ce,Te)=>{ce.subscribe(Wn=>{(Wn||ce.done)&&Ue.delete(Te)})}),h.v7_partialHydration&&$&&w.errors&&(zs=ke({},w.errors,zs));let mn=ch(),fo=uh(H),po=mn||fo||Ne.length>0;return ke({matches:N,loaderData:kl,errors:zs},po?{fetchers:new Map(w.fetchers)}:{})}function Me(k){if(k&&!Pt(k[1]))return{[k[0]]:k[1].data};if(w.actionData)return Object.keys(w.actionData).length===0?null:w.actionData}function Qe(k){return k.forEach(E=>{let N=w.fetchers.get(E.key),O=Ys(void 0,N?N.data:void 0);w.fetchers.set(E.key,O)}),new Map(w.fetchers)}function Vt(k,E,N,O){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Ir(k);let U=(O&&O.flushSync)===!0,W=a||o,q=vu(w.location,w.matches,l,h.v7_prependBasename,N,h.v7_relativeSplatPath,E,O==null?void 0:O.relative),z=kn(W,q,l),$=uo(z,W,q);if($.active&&$.matches&&(z=$.matches),!z){bt(k,E,vt(404,{pathname:q}),{flushSync:U});return}let{path:D,submission:B,error:Q}=Rf(h.v7_normalizeFormMethod,!0,q,O);if(Q){bt(k,E,Q,{flushSync:U});return}let oe=ni(z,D),Xe=(O&&O.preventScrollReset)===!0;if(B&&Jt(B.formMethod)){oo(k,E,D,oe,z,$.active,U,Xe,B);return}Ke.set(k,{routeId:E,path:D}),ao(k,E,D,oe,z,$.active,U,Xe,B)}async function oo(k,E,N,O,U,W,q,z,$){pn(),Ke.delete(k);function D(De){if(!De.route.action&&!De.route.lazy){let Vn=vt(405,{method:$.formMethod,pathname:N,routeId:E});return bt(k,E,Vn,{flushSync:q}),!0}return!1}if(!W&&D(O))return;let B=w.fetchers.get(k);sr(k,S_($,B),{flushSync:q});let Q=new AbortController,oe=Kn(e.history,N,Q.signal,$);if(W){let De=await ho(U,new URL(oe.url).pathname,oe.signal,k);if(De.type==="aborted")return;if(De.type==="error"){bt(k,E,De.error,{flushSync:q});return}else if(De.matches){if(U=De.matches,O=ni(U,N),D(O))return}else{bt(k,E,vt(404,{pathname:N}),{flushSync:q});return}}I.set(k,Q);let Xe=V,ue=(await Ge("action",w,oe,[O],U,k))[O.route.id];if(oe.signal.aborted){I.get(k)===Q&&I.delete(k);return}if(h.v7_fetcherPersist&&Oe.has(k)){if(Pn(ue)||Pt(ue)){sr(k,Ur(void 0));return}}else{if(Pn(ue))if(I.delete(k),H>Xe){sr(k,Ur(void 0));return}else return K.add(k),sr(k,Ys($)),nr(oe,ue,!1,{fetcherSubmission:$,preventScrollReset:z});if(Pt(ue)){bt(k,E,ue.error);return}}if(Jr(ue))throw vt(400,{type:"defer-action"});let Ne=w.navigation.location||w.location,Bn=Kn(e.history,Ne,Q.signal),Ds=a||o,pr=w.navigation.state!=="idle"?kn(Ds,w.navigation.location,l):w.matches;X(pr,"Didn't find any matches after fetcher action");let ir=++V;ee.set(k,ir);let kl=Ys($,ue.data);w.fetchers.set(k,kl);let[zs,mn]=If(e.history,w,pr,$,Ne,!1,h.v7_skipActionErrorRevalidation,me,$e,ie,Oe,Ke,K,Ds,l,[O.route.id,ue]);mn.filter(De=>De.key!==k).forEach(De=>{let Vn=De.key,mh=w.fetchers.get(Vn),Xy=Ys(void 0,mh?mh.data:void 0);w.fetchers.set(Vn,Xy),Ir(Vn),De.controller&&I.set(Vn,De.controller)}),rt({fetchers:new Map(w.fetchers)});let fo=()=>mn.forEach(De=>Ir(De.key));Q.signal.addEventListener("abort",fo);let{loaderResults:po,fetcherResults:ce}=await At(w,pr,zs,mn,Bn);if(Q.signal.aborted)return;Q.signal.removeEventListener("abort",fo),ee.delete(k),I.delete(k),mn.forEach(De=>I.delete(De.key));let Te=Oo(po);if(Te)return nr(Bn,Te.result,!1,{preventScrollReset:z});if(Te=Oo(ce),Te)return K.add(Te.key),nr(Bn,Te.result,!1,{preventScrollReset:z});let{loaderData:Wn,errors:$s}=Df(w,pr,po,void 0,mn,ce,Ue);if(w.fetchers.has(k)){let De=Ur(ue.data);w.fetchers.set(k,De)}uh(ir),w.navigation.state==="loading"&&ir>H?(X(C,"Expected pending action"),R&&R.abort(),le(w.navigation.location,{matches:pr,loaderData:Wn,errors:$s,fetchers:new Map(w.fetchers)})):(rt({errors:$s,loaderData:zf(w.loaderData,Wn,pr,$s),fetchers:new Map(w.fetchers)}),me=!1)}async function ao(k,E,N,O,U,W,q,z,$){let D=w.fetchers.get(k);sr(k,Ys($,D?D.data:void 0),{flushSync:q});let B=new AbortController,Q=Kn(e.history,N,B.signal);if(W){let ue=await ho(U,new URL(Q.url).pathname,Q.signal,k);if(ue.type==="aborted")return;if(ue.type==="error"){bt(k,E,ue.error,{flushSync:q});return}else if(ue.matches)U=ue.matches,O=ni(U,N);else{bt(k,E,vt(404,{pathname:N}),{flushSync:q});return}}I.set(k,B);let oe=V,ge=(await Ge("loader",w,Q,[O],U,k))[O.route.id];if(Jr(ge)&&(ge=await Bd(ge,Q.signal,!0)||ge),I.get(k)===B&&I.delete(k),!Q.signal.aborted){if(Oe.has(k)){sr(k,Ur(void 0));return}if(Pn(ge))if(H>oe){sr(k,Ur(void 0));return}else{K.add(k),await nr(Q,ge,!1,{preventScrollReset:z});return}if(Pt(ge)){bt(k,E,ge.error);return}X(!Jr(ge),"Unhandled fetcher deferred data"),sr(k,Ur(ge.data))}}async function nr(k,E,N,O){let{submission:U,fetcherSubmission:W,preventScrollReset:q,replace:z}=O===void 0?{}:O;E.response.headers.has("X-Remix-Revalidate")&&(me=!0);let $=E.response.headers.get("Location");X($,"Expected a Location header on the redirect Response"),$=Uf($,new URL(k.url),l);let D=zi(w.location,$,{_isRedirect:!0});if(r){let ue=!1;if(E.response.headers.has("X-Remix-Reload-Document"))ue=!0;else if(Fd.test($)){const Ne=e.history.createURL($);ue=Ne.origin!==t.location.origin||Ls(Ne.pathname,l)==null}if(ue){z?t.location.replace($):t.location.assign($);return}}R=null;let B=z===!0||E.response.headers.has("X-Remix-Replace")?Ie.Replace:Ie.Push,{formMethod:Q,formAction:oe,formEncType:Xe}=w.navigation;!U&&!W&&Q&&oe&&Xe&&(U=Wf(w.navigation));let ge=U||W;if(n_.has(E.response.status)&&ge&&Jt(ge.formMethod))await he(B,D,{submission:ke({},ge,{formAction:$}),preventScrollReset:q||A,enableViewTransition:N?F:void 0});else{let ue=Ql(D,U);await he(B,D,{overrideNavigation:ue,fetcherSubmission:W,preventScrollReset:q||A,enableViewTransition:N?F:void 0})}}async function Ge(k,E,N,O,U,W){let q,z={};try{q=await d_(u,k,E,N,O,U,W,i,s)}catch($){return O.forEach(D=>{z[D.route.id]={type:fe.error,error:$}}),z}for(let[$,D]of Object.entries(q))if(v_(D)){let B=D.result;z[$]={type:fe.redirect,response:p_(B,N,$,U,l,h.v7_relativeSplatPath)}}else z[$]=await f_(D);return z}async function At(k,E,N,O,U){let W=k.matches,q=Ge("loader",k,U,N,E,null),z=Promise.all(O.map(async B=>{if(B.matches&&B.match&&B.controller){let oe=(await Ge("loader",k,Kn(e.history,B.path,B.controller.signal),[B.match],B.matches,B.key))[B.match.route.id];return{[B.key]:oe}}else return Promise.resolve({[B.key]:{type:fe.error,error:vt(404,{pathname:B.path})}})})),$=await q,D=(await z).reduce((B,Q)=>Object.assign(B,Q),{});return await Promise.all([w_(E,$,U.signal,W,k.loaderData),__(E,D,O)]),{loaderResults:$,fetcherResults:D}}function pn(){me=!0,$e.push(..._l()),Ke.forEach((k,E)=>{I.has(E)&&ie.add(E),Ir(E)})}function sr(k,E,N){N===void 0&&(N={}),w.fetchers.set(k,E),rt({fetchers:new Map(w.fetchers)},{flushSync:(N&&N.flushSync)===!0})}function bt(k,E,N,O){O===void 0&&(O={});let U=Sn(w.matches,E);lo(k),rt({errors:{[U.route.id]:N},fetchers:new Map(w.fetchers)},{flushSync:(O&&O.flushSync)===!0})}function ah(k){return Ae.set(k,(Ae.get(k)||0)+1),Oe.has(k)&&Oe.delete(k),w.fetchers.get(k)||s_}function lo(k){let E=w.fetchers.get(k);I.has(k)&&!(E&&E.state==="loading"&&ee.has(k))&&Ir(k),Ke.delete(k),ee.delete(k),K.delete(k),h.v7_fetcherPersist&&Oe.delete(k),ie.delete(k),w.fetchers.delete(k)}function Ky(k){let E=(Ae.get(k)||0)-1;E<=0?(Ae.delete(k),Oe.add(k),h.v7_fetcherPersist||lo(k)):Ae.set(k,E),rt({fetchers:new Map(w.fetchers)})}function Ir(k){let E=I.get(k);E&&(E.abort(),I.delete(k))}function lh(k){for(let E of k){let N=ah(E),O=Ur(N.data);w.fetchers.set(E,O)}}function ch(){let k=[],E=!1;for(let N of K){let O=w.fetchers.get(N);X(O,"Expected fetcher: "+N),O.state==="loading"&&(K.delete(N),k.push(N),E=!0)}return lh(k),E}function uh(k){let E=[];for(let[N,O]of ee)if(O<k){let U=w.fetchers.get(N);X(U,"Expected fetcher: "+N),U.state==="loading"&&(Ir(N),ee.delete(N),E.push(N))}return lh(E),E.length>0}function qy(k,E){let N=w.blockers.get(k)||Js;return at.get(k)!==E&&at.set(k,E),N}function dh(k){w.blockers.delete(k),at.delete(k)}function co(k,E){let N=w.blockers.get(k)||Js;X(N.state==="unblocked"&&E.state==="blocked"||N.state==="blocked"&&E.state==="blocked"||N.state==="blocked"&&E.state==="proceeding"||N.state==="blocked"&&E.state==="unblocked"||N.state==="proceeding"&&E.state==="unblocked","Invalid blocker state transition: "+N.state+" -> "+E.state);let O=new Map(w.blockers);O.set(k,E),rt({blockers:O})}function hh(k){let{currentLocation:E,nextLocation:N,historyAction:O}=k;if(at.size===0)return;at.size>1&&Cs(!1,"A router only supports one blocker at a time");let U=Array.from(at.entries()),[W,q]=U[U.length-1],z=w.blockers.get(W);if(!(z&&z.state==="proceeding")&&q({currentLocation:E,nextLocation:N,historyAction:O}))return W}function wl(k){let E=vt(404,{pathname:k}),N=a||o,{matches:O,route:U}=Ff(N);return _l(),{notFoundMatches:O,route:U,error:E}}function _l(k){let E=[];return Ue.forEach((N,O)=>{(!k||k(O))&&(N.cancel(),E.push(O),Ue.delete(O))}),E}function Gy(k,E,N){if(y=k,S=E,x=N||null,!g&&w.navigation===Yl){g=!0;let O=ph(w.location,w.matches);O!=null&&rt({restoreScrollPosition:O})}return()=>{y=null,S=null,x=null}}function fh(k,E){return x&&x(k,E.map(O=>Aw(O,w.loaderData)))||k.key}function Jy(k,E){if(y&&S){let N=fh(k,E);y[N]=S()}}function ph(k,E){if(y){let N=fh(k,E),O=y[N];if(typeof O=="number")return O}return null}function uo(k,E,N){if(d)if(k){if(Object.keys(k[0].params).length>0)return{active:!0,matches:ra(E,N,l,!0)}}else return{active:!0,matches:ra(E,N,l,!0)||[]};return{active:!1,matches:null}}async function ho(k,E,N,O){if(!d)return{type:"success",matches:k};let U=k;for(;;){let W=a==null,q=a||o,z=i;try{await d({signal:N,path:E,matches:U,fetcherKey:O,patch:(B,Q)=>{N.aborted||Af(B,Q,q,z,s)}})}catch(B){return{type:"error",error:B,partialMatches:U}}finally{W&&!N.aborted&&(o=[...o])}if(N.aborted)return{type:"aborted"};let $=kn(q,E,l);if($)return{type:"success",matches:$};let D=ra(q,E,l,!0);if(!D||U.length===D.length&&U.every((B,Q)=>B.route.id===D[Q].route.id))return{type:"success",matches:null};U=D}}function Yy(k){i={},a=Ta(k,s,void 0,i)}function Qy(k,E){let N=a==null;Af(k,E,a||o,i,s),N&&(o=[...o],rt({}))}return P={get basename(){return l},get future(){return h},get state(){return w},get routes(){return o},get window(){return t},initialize:xl,subscribe:io,enableScrollRestoration:Gy,navigate:de,fetch:Vt,revalidate:qe,createHref:k=>e.history.createHref(k),encodeLocation:k=>e.history.encodeLocation(k),getFetcher:ah,deleteFetcher:Ky,dispose:fn,getBlocker:qy,deleteBlocker:dh,patchRoutes:Qy,_internalFetchControllers:I,_internalActiveDeferreds:Ue,_internalSetRoutes:Yy},P}function a_(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function vu(e,t,r,n,s,i,o,a){let l,u;if(o){l=[];for(let h of t)if(l.push(h),h.route.id===o){u=h;break}}else l=t,u=t[t.length-1];let d=nl(s||".",rl(l,i),Ls(e.pathname,r)||e.pathname,a==="path");if(s==null&&(d.search=e.search,d.hash=e.hash),(s==null||s===""||s===".")&&u){let h=Wd(d.search);if(u.route.index&&!h)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&h){let f=new URLSearchParams(d.search),p=f.getAll("index");f.delete("index"),p.filter(x=>x).forEach(x=>f.append("index",x));let y=f.toString();d.search=y?"?"+y:""}}return n&&r!=="/"&&(d.pathname=d.pathname==="/"?r:Sr([r,d.pathname])),Un(d)}function Rf(e,t,r,n){if(!n||!a_(n))return{path:r};if(n.formMethod&&!x_(n.formMethod))return{path:r,error:vt(405,{method:n.formMethod})};let s=()=>({path:r,error:vt(400,{type:"invalid-body"})}),i=n.formMethod||"get",o=e?i.toUpperCase():i.toLowerCase(),a=hv(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Jt(o))return s();let f=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((p,y)=>{let[x,S]=y;return""+p+x+"="+S+`
`},""):String(n.body);return{path:r,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:f}}}else if(n.formEncType==="application/json"){if(!Jt(o))return s();try{let f=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:f,text:void 0}}}catch{return s()}}}X(typeof FormData=="function","FormData is not available in this environment");let l,u;if(n.formData)l=xu(n.formData),u=n.formData;else if(n.body instanceof FormData)l=xu(n.body),u=n.body;else if(n.body instanceof URLSearchParams)l=n.body,u=Mf(l);else if(n.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(n.body),u=Mf(l)}catch{return s()}let d={formMethod:o,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Jt(d.formMethod))return{path:r,submission:d};let h=Rr(r);return t&&h.search&&Wd(h.search)&&l.append("index",""),h.search="?"+l,{path:Un(h),submission:d}}function Of(e,t,r){r===void 0&&(r=!1);let n=e.findIndex(s=>s.route.id===t);return n>=0?e.slice(0,r?n+1:n):e}function If(e,t,r,n,s,i,o,a,l,u,d,h,f,p,y,x){let S=x?Pt(x[1])?x[1].error:x[1].data:void 0,g=e.createURL(t.location),m=e.createURL(s),v=r;i&&t.errors?v=Of(r,Object.keys(t.errors)[0],!0):x&&Pt(x[1])&&(v=Of(r,x[0]));let b=x?x[1].statusCode:void 0,j=o&&b&&b>=400,P=v.filter((C,A)=>{let{route:R}=C;if(R.lazy)return!0;if(R.loader==null)return!1;if(i)return yu(R,t.loaderData,t.errors);if(l_(t.loaderData,t.matches[A],C)||l.some(ne=>ne===C.route.id))return!0;let F=t.matches[A],J=C;return Lf(C,ke({currentUrl:g,currentParams:F.params,nextUrl:m,nextParams:J.params},n,{actionResult:S,actionStatus:b,defaultShouldRevalidate:j?!1:a||g.pathname+g.search===m.pathname+m.search||g.search!==m.search||uv(F,J)}))}),w=[];return h.forEach((C,A)=>{if(i||!r.some(G=>G.route.id===C.routeId)||d.has(A))return;let R=kn(p,C.path,y);if(!R){w.push({key:A,routeId:C.routeId,path:C.path,matches:null,match:null,controller:null});return}let F=t.fetchers.get(A),J=ni(R,C.path),ne=!1;f.has(A)?ne=!1:u.has(A)?(u.delete(A),ne=!0):F&&F.state!=="idle"&&F.data===void 0?ne=a:ne=Lf(J,ke({currentUrl:g,currentParams:t.matches[t.matches.length-1].params,nextUrl:m,nextParams:r[r.length-1].params},n,{actionResult:S,actionStatus:b,defaultShouldRevalidate:j?!1:a})),ne&&w.push({key:A,routeId:C.routeId,path:C.path,matches:R,match:J,controller:new AbortController})}),[P,w]}function yu(e,t,r){if(e.lazy)return!0;if(!e.loader)return!1;let n=t!=null&&t[e.id]!==void 0,s=r!=null&&r[e.id]!==void 0;return!n&&s?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!n&&!s}function l_(e,t,r){let n=!t||r.route.id!==t.route.id,s=e[r.route.id]===void 0;return n||s}function uv(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function Lf(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function Af(e,t,r,n,s){var i;let o;if(e){let u=n[e];X(u,"No route found to patch children into: routeId = "+e),u.children||(u.children=[]),o=u.children}else o=r;let a=t.filter(u=>!o.some(d=>dv(u,d))),l=Ta(a,s,[e||"_","patch",String(((i=o)==null?void 0:i.length)||"0")],n);o.push(...l)}function dv(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,n)=>{var s;return(s=t.children)==null?void 0:s.some(i=>dv(r,i))}):!1}async function c_(e,t,r){if(!e.lazy)return;let n=await e.lazy();if(!e.lazy)return;let s=r[e.id];X(s,"No route found in manifest");let i={};for(let o in n){let l=s[o]!==void 0&&o!=="hasErrorBoundary";Cs(!l,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!Iw.has(o)&&(i[o]=n[o])}Object.assign(s,i),Object.assign(s,ke({},t(s),{lazy:void 0}))}async function u_(e){let{matches:t}=e,r=t.filter(s=>s.shouldLoad);return(await Promise.all(r.map(s=>s.resolve()))).reduce((s,i,o)=>Object.assign(s,{[r[o].route.id]:i}),{})}async function d_(e,t,r,n,s,i,o,a,l,u){let d=i.map(p=>p.route.lazy?c_(p.route,l,a):void 0),h=i.map((p,y)=>{let x=d[y],S=s.some(m=>m.route.id===p.route.id);return ke({},p,{shouldLoad:S,resolve:async m=>(m&&n.method==="GET"&&(p.route.lazy||p.route.loader)&&(S=!0),S?h_(t,n,p,x,m,u):Promise.resolve({type:fe.data,result:void 0}))})}),f=await e({matches:h,request:n,params:i[0].params,fetcherKey:o,context:u});try{await Promise.all(d)}catch{}return f}async function h_(e,t,r,n,s,i){let o,a,l=u=>{let d,h=new Promise((y,x)=>d=x);a=()=>d(),t.signal.addEventListener("abort",a);let f=y=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+r.route.id+"]"))):u({request:t,params:r.params,context:i},...y!==void 0?[y]:[]),p=(async()=>{try{return{type:"data",result:await(s?s(x=>f(x)):f())}}catch(y){return{type:"error",result:y}}})();return Promise.race([p,h])};try{let u=r.route[e];if(n)if(u){let d,[h]=await Promise.all([l(u).catch(f=>{d=f}),n]);if(d!==void 0)throw d;o=h}else if(await n,u=r.route[e],u)o=await l(u);else if(e==="action"){let d=new URL(t.url),h=d.pathname+d.search;throw vt(405,{method:t.method,pathname:h,routeId:r.route.id})}else return{type:fe.data,result:void 0};else if(u)o=await l(u);else{let d=new URL(t.url),h=d.pathname+d.search;throw vt(404,{pathname:h})}X(o.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:fe.error,result:u}}finally{a&&t.signal.removeEventListener("abort",a)}return o}async function f_(e){let{result:t,type:r}=e;if(fv(t)){let h;try{let f=t.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?t.body==null?h=null:h=await t.json():h=await t.text()}catch(f){return{type:fe.error,error:f}}return r===fe.error?{type:fe.error,error:new Ra(t.status,t.statusText,h),statusCode:t.status,headers:t.headers}:{type:fe.data,data:h,statusCode:t.status,headers:t.headers}}if(r===fe.error){if(Bf(t)){var n,s;if(t.data instanceof Error){var i,o;return{type:fe.error,error:t.data,statusCode:(i=t.init)==null?void 0:i.status,headers:(o=t.init)!=null&&o.headers?new Headers(t.init.headers):void 0}}return{type:fe.error,error:new Ra(((n=t.init)==null?void 0:n.status)||500,void 0,t.data),statusCode:$i(t)?t.status:void 0,headers:(s=t.init)!=null&&s.headers?new Headers(t.init.headers):void 0}}return{type:fe.error,error:t,statusCode:$i(t)?t.status:void 0}}if(y_(t)){var a,l;return{type:fe.deferred,deferredData:t,statusCode:(a=t.init)==null?void 0:a.status,headers:((l=t.init)==null?void 0:l.headers)&&new Headers(t.init.headers)}}if(Bf(t)){var u,d;return{type:fe.data,data:t.data,statusCode:(u=t.init)==null?void 0:u.status,headers:(d=t.init)!=null&&d.headers?new Headers(t.init.headers):void 0}}return{type:fe.data,data:t}}function p_(e,t,r,n,s,i){let o=e.headers.get("Location");if(X(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Fd.test(o)){let a=n.slice(0,n.findIndex(l=>l.route.id===r)+1);o=vu(new URL(t.url),a,s,!0,o,i),e.headers.set("Location",o)}return e}function Uf(e,t,r){if(Fd.test(e)){let n=e,s=n.startsWith("//")?new URL(t.protocol+n):new URL(n),i=Ls(s.pathname,r)!=null;if(s.origin===t.origin&&i)return s.pathname+s.search+s.hash}return e}function Kn(e,t,r,n){let s=e.createURL(hv(t)).toString(),i={signal:r};if(n&&Jt(n.formMethod)){let{formMethod:o,formEncType:a}=n;i.method=o.toUpperCase(),a==="application/json"?(i.headers=new Headers({"Content-Type":a}),i.body=JSON.stringify(n.json)):a==="text/plain"?i.body=n.text:a==="application/x-www-form-urlencoded"&&n.formData?i.body=xu(n.formData):i.body=n.formData}return new Request(s,i)}function xu(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function Mf(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function m_(e,t,r,n,s){let i={},o=null,a,l=!1,u={},d=r&&Pt(r[1])?r[1].error:void 0;return e.forEach(h=>{if(!(h.route.id in t))return;let f=h.route.id,p=t[f];if(X(!Pn(p),"Cannot handle redirect results in processLoaderData"),Pt(p)){let y=p.error;if(d!==void 0&&(y=d,d=void 0),o=o||{},s)o[f]=y;else{let x=Sn(e,f);o[x.route.id]==null&&(o[x.route.id]=y)}i[f]=void 0,l||(l=!0,a=$i(p.error)?p.error.status:500),p.headers&&(u[f]=p.headers)}else Jr(p)?(n.set(f,p.deferredData),i[f]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(u[f]=p.headers)):(i[f]=p.data,p.statusCode&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(u[f]=p.headers))}),d!==void 0&&r&&(o={[r[0]]:d},i[r[0]]=void 0),{loaderData:i,errors:o,statusCode:a||200,loaderHeaders:u}}function Df(e,t,r,n,s,i,o){let{loaderData:a,errors:l}=m_(t,r,n,o,!1);return s.forEach(u=>{let{key:d,match:h,controller:f}=u,p=i[d];if(X(p,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(Pt(p)){let y=Sn(e.matches,h==null?void 0:h.route.id);l&&l[y.route.id]||(l=ke({},l,{[y.route.id]:p.error})),e.fetchers.delete(d)}else if(Pn(p))X(!1,"Unhandled fetcher revalidation redirect");else if(Jr(p))X(!1,"Unhandled fetcher deferred data");else{let y=Ur(p.data);e.fetchers.set(d,y)}}),{loaderData:a,errors:l}}function zf(e,t,r,n){let s=ke({},t);for(let i of r){let o=i.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(s[o]=t[o]):e[o]!==void 0&&i.route.loader&&(s[o]=e[o]),n&&n.hasOwnProperty(o))break}return s}function $f(e){return e?Pt(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Sn(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function Ff(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function vt(e,t){let{pathname:r,routeId:n,method:s,type:i,message:o}=t===void 0?{}:t,a="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(a="Bad Request",s&&r&&n?l="You made a "+s+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):e===403?(a="Forbidden",l='Route "'+n+'" does not match URL "'+r+'"'):e===404?(a="Not Found",l='No route matches URL "'+r+'"'):e===405&&(a="Method Not Allowed",s&&r&&n?l="You made a "+s.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":s&&(l='Invalid request method "'+s.toUpperCase()+'"')),new Ra(e||500,a,new Error(l),!0)}function Oo(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[n,s]=t[r];if(Pn(s))return{key:n,result:s}}}function hv(e){let t=typeof e=="string"?Rr(e):e;return Un(ke({},t,{hash:""}))}function g_(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function v_(e){return fv(e.result)&&r_.has(e.result.status)}function Jr(e){return e.type===fe.deferred}function Pt(e){return e.type===fe.error}function Pn(e){return(e&&e.type)===fe.redirect}function Bf(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function y_(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function fv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function x_(e){return t_.has(e.toLowerCase())}function Jt(e){return Zw.has(e.toLowerCase())}async function w_(e,t,r,n,s){let i=Object.entries(t);for(let o=0;o<i.length;o++){let[a,l]=i[o],u=e.find(f=>(f==null?void 0:f.route.id)===a);if(!u)continue;let d=n.find(f=>f.route.id===u.route.id),h=d!=null&&!uv(d,u)&&(s&&s[u.route.id])!==void 0;Jr(l)&&h&&await Bd(l,r,!1).then(f=>{f&&(t[a]=f)})}}async function __(e,t,r){for(let n=0;n<r.length;n++){let{key:s,routeId:i,controller:o}=r[n],a=t[s];e.find(u=>(u==null?void 0:u.route.id)===i)&&Jr(a)&&(X(o,"Expected an AbortController for revalidating fetcher deferred result"),await Bd(a,o.signal,!0).then(u=>{u&&(t[s]=u)}))}}async function Bd(e,t,r){if(r===void 0&&(r=!1),!await e.deferredData.resolveData(t)){if(r)try{return{type:fe.data,data:e.deferredData.unwrappedData}}catch(s){return{type:fe.error,error:s}}return{type:fe.data,data:e.deferredData.data}}}function Wd(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function ni(e,t){let r=typeof t=="string"?Rr(t).search:t.search;if(e[e.length-1].route.index&&Wd(r||""))return e[e.length-1];let n=av(e);return n[n.length-1]}function Wf(e){let{formMethod:t,formAction:r,formEncType:n,text:s,formData:i,json:o}=e;if(!(!t||!r||!n)){if(s!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:t,formAction:r,formEncType:n,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:o,text:void 0}}}function Ql(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function k_(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Ys(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function S_(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Ur(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function j_(e,t){try{let r=e.sessionStorage.getItem(cv);if(r){let n=JSON.parse(r);for(let[s,i]of Object.entries(n||{}))i&&Array.isArray(i)&&t.set(s,new Set(i||[]))}}catch{}}function b_(e,t){if(t.size>0){let r={};for(let[n,s]of t)r[n]=[...s];try{e.sessionStorage.setItem(cv,JSON.stringify(r))}catch(n){Cs(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fi(){return Fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fi.apply(this,arguments)}const sl=_.createContext(null),pv=_.createContext(null),dn=_.createContext(null),il=_.createContext(null),hr=_.createContext({outlet:null,matches:[],isDataRoute:!1}),mv=_.createContext(null);function E_(e,t){let{relative:r}=t===void 0?{}:t;As()||X(!1);let{basename:n,navigator:s}=_.useContext(dn),{hash:i,pathname:o,search:a}=vv(e,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Sr([n,o])),s.createHref({pathname:l,search:a,hash:i})}function As(){return _.useContext(il)!=null}function zn(){return As()||X(!1),_.useContext(il).location}function gv(e){_.useContext(dn).static||_.useLayoutEffect(e)}function Vd(){let{isDataRoute:e}=_.useContext(hr);return e?F_():C_()}function C_(){As()||X(!1);let e=_.useContext(sl),{basename:t,future:r,navigator:n}=_.useContext(dn),{matches:s}=_.useContext(hr),{pathname:i}=zn(),o=JSON.stringify(rl(s,r.v7_relativeSplatPath)),a=_.useRef(!1);return gv(()=>{a.current=!0}),_.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=nl(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Sr([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,i,e])}const P_=_.createContext(null);function N_(e){let t=_.useContext(hr).outlet;return t&&_.createElement(P_.Provider,{value:e},t)}function T_(){let{matches:e}=_.useContext(hr),t=e[e.length-1];return t?t.params:{}}function vv(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=_.useContext(dn),{matches:s}=_.useContext(hr),{pathname:i}=zn(),o=JSON.stringify(rl(s,n.v7_relativeSplatPath));return _.useMemo(()=>nl(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function R_(e,t){return yv(e,t)}function yv(e,t,r,n){As()||X(!1);let{navigator:s}=_.useContext(dn),{matches:i}=_.useContext(hr),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=zn(),d;if(t){var h;let S=typeof t=="string"?Rr(t):t;l==="/"||(h=S.pathname)!=null&&h.startsWith(l)||X(!1),d=S}else d=u;let f=d.pathname||"/",p=f;if(l!=="/"){let S=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(S.length).join("/")}let y=kn(e,{pathname:p}),x=U_(y&&y.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:Sr([l,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:Sr([l,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,r,n);return t&&x?_.createElement(il.Provider,{value:{location:Fi({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ie.Pop}},x):x}function O_(){let e=$_(),t=$i(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),r?_.createElement("pre",{style:s},r):null,i)}const I_=_.createElement(O_,null);class L_ extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?_.createElement(hr.Provider,{value:this.props.routeContext},_.createElement(mv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function A_(e){let{routeContext:t,match:r,children:n}=e,s=_.useContext(sl);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),_.createElement(hr.Provider,{value:t},n)}function U_(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||X(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=r,y=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||y){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,y=!1,x=null,S=null;r&&(p=a&&h.route.id?a[h.route.id]:void 0,x=h.route.errorElement||I_,l&&(u<0&&f===0?(B_("route-fallback",!1),y=!0,S=null):u===f&&(y=!0,S=h.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,f+1)),m=()=>{let v;return p?v=x:y?v=S:h.route.Component?v=_.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=d,_.createElement(A_,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:v})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?_.createElement(L_,{location:r.location,revalidation:r.revalidation,component:x,error:p,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var xv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(xv||{}),Oa=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Oa||{});function M_(e){let t=_.useContext(sl);return t||X(!1),t}function D_(e){let t=_.useContext(pv);return t||X(!1),t}function z_(e){let t=_.useContext(hr);return t||X(!1),t}function wv(e){let t=z_(),r=t.matches[t.matches.length-1];return r.route.id||X(!1),r.route.id}function $_(){var e;let t=_.useContext(mv),r=D_(Oa.UseRouteError),n=wv(Oa.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function F_(){let{router:e}=M_(xv.UseNavigateStable),t=wv(Oa.UseNavigateStable),r=_.useRef(!1);return gv(()=>{r.current=!0}),_.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Fi({fromRouteId:t},i)))},[e,t])}const Vf={};function B_(e,t,r){!t&&!Vf[e]&&(Vf[e]=!0)}function W_(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function V_(e){let{to:t,replace:r,state:n,relative:s}=e;As()||X(!1);let{future:i,static:o}=_.useContext(dn),{matches:a}=_.useContext(hr),{pathname:l}=zn(),u=Vd(),d=nl(t,rl(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return _.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function H_(e){return N_(e.context)}function si(e){X(!1)}function K_(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Ie.Pop,navigator:i,static:o=!1,future:a}=e;As()&&X(!1);let l=t.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:l,navigator:i,static:o,future:Fi({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=Rr(n));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:y="default"}=n,x=_.useMemo(()=>{let S=Ls(d,l);return S==null?null:{location:{pathname:S,search:h,hash:f,state:p,key:y},navigationType:s}},[l,d,h,f,p,y,s]);return x==null?null:_.createElement(dn.Provider,{value:u},_.createElement(il.Provider,{children:r,value:x}))}function q_(e){let{children:t,location:r}=e;return R_(wu(t),r)}new Promise(()=>{});function wu(e,t){t===void 0&&(t=[]);let r=[];return _.Children.forEach(e,(n,s)=>{if(!_.isValidElement(n))return;let i=[...t,s];if(n.type===_.Fragment){r.push.apply(r,wu(n.props.children,i));return}n.type!==si&&X(!1),!n.props.index||!n.props.children||X(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=wu(n.props.children,i)),r.push(o)}),r}function G_(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:_.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:_.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:_.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bi(){return Bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bi.apply(this,arguments)}function J_(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Y_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Q_(e,t){return e.button===0&&(!t||t==="_self")&&!Y_(e)}const X_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Z_="6";try{window.__reactRouterVersion=Z_}catch{}function e1(e,t){return o_({basename:t==null?void 0:t.basename,future:Bi({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:Tw({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||t1(),routes:e,mapRouteProperties:G_,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function t1(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Bi({},t,{errors:r1(t.errors)})),t}function r1(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,s]of t)if(s&&s.__type==="RouteErrorResponse")r[n]=new Ra(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let o=new i(s.message);o.stack="",r[n]=o}catch{}}if(r[n]==null){let i=new Error(s.message);i.stack="",r[n]=i}}else r[n]=s;return r}const n1=_.createContext({isTransitioning:!1}),s1=_.createContext(new Map),i1="startTransition",Hf=v0[i1],o1="flushSync",Kf=Nw[o1];function a1(e){Hf?Hf(e):e()}function Qs(e){Kf?Kf(e):e()}let l1=class{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}};function c1(e){let{fallbackElement:t,router:r,future:n}=e,[s,i]=_.useState(r.state),[o,a]=_.useState(),[l,u]=_.useState({isTransitioning:!1}),[d,h]=_.useState(),[f,p]=_.useState(),[y,x]=_.useState(),S=_.useRef(new Map),{v7_startTransition:g}=n||{},m=_.useCallback(C=>{g?a1(C):C()},[g]),v=_.useCallback((C,A)=>{let{deletedFetchers:R,flushSync:F,viewTransitionOpts:J}=A;C.fetchers.forEach((G,me)=>{G.data!==void 0&&S.current.set(me,G.data)}),R.forEach(G=>S.current.delete(G));let ne=r.window==null||r.window.document==null||typeof r.window.document.startViewTransition!="function";if(!J||ne){F?Qs(()=>i(C)):m(()=>i(C));return}if(F){Qs(()=>{f&&(d&&d.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:J.currentLocation,nextLocation:J.nextLocation})});let G=r.window.document.startViewTransition(()=>{Qs(()=>i(C))});G.finished.finally(()=>{Qs(()=>{h(void 0),p(void 0),a(void 0),u({isTransitioning:!1})})}),Qs(()=>p(G));return}f?(d&&d.resolve(),f.skipTransition(),x({state:C,currentLocation:J.currentLocation,nextLocation:J.nextLocation})):(a(C),u({isTransitioning:!0,flushSync:!1,currentLocation:J.currentLocation,nextLocation:J.nextLocation}))},[r.window,f,d,S,m]);_.useLayoutEffect(()=>r.subscribe(v),[r,v]),_.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new l1)},[l]),_.useEffect(()=>{if(d&&o&&r.window){let C=o,A=d.promise,R=r.window.document.startViewTransition(async()=>{m(()=>i(C)),await A});R.finished.finally(()=>{h(void 0),p(void 0),a(void 0),u({isTransitioning:!1})}),p(R)}},[m,o,d,r.window]),_.useEffect(()=>{d&&o&&s.location.key===o.location.key&&d.resolve()},[d,f,s.location,o]),_.useEffect(()=>{!l.isTransitioning&&y&&(a(y.state),u({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),x(void 0))},[l.isTransitioning,y]),_.useEffect(()=>{},[]);let b=_.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:C=>r.navigate(C),push:(C,A,R)=>r.navigate(C,{state:A,preventScrollReset:R==null?void 0:R.preventScrollReset}),replace:(C,A,R)=>r.navigate(C,{replace:!0,state:A,preventScrollReset:R==null?void 0:R.preventScrollReset})}),[r]),j=r.basename||"/",P=_.useMemo(()=>({router:r,navigator:b,static:!1,basename:j}),[r,b,j]),w=_.useMemo(()=>({v7_relativeSplatPath:r.future.v7_relativeSplatPath}),[r.future.v7_relativeSplatPath]);return _.useEffect(()=>W_(n,r.future),[n,r.future]),_.createElement(_.Fragment,null,_.createElement(sl.Provider,{value:P},_.createElement(pv.Provider,{value:s},_.createElement(s1.Provider,{value:S.current},_.createElement(n1.Provider,{value:l},_.createElement(K_,{basename:j,location:s.location,navigationType:s.historyAction,navigator:b,future:w},s.initialized||r.future.v7_partialHydration?_.createElement(u1,{routes:r.routes,future:r.future,state:s}):t))))),null)}const u1=_.memo(d1);function d1(e){let{routes:t,future:r,state:n}=e;return yv(t,void 0,n,r)}const h1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",f1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ee=_.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h}=t,f=J_(t,X_),{basename:p}=_.useContext(dn),y,x=!1;if(typeof u=="string"&&f1.test(u)&&(y=u,h1))try{let v=new URL(window.location.href),b=u.startsWith("//")?new URL(v.protocol+u):new URL(u),j=Ls(b.pathname,p);b.origin===v.origin&&j!=null?u=j+b.search+b.hash:x=!0}catch{}let S=E_(u,{relative:s}),g=p1(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function m(v){n&&n(v),v.defaultPrevented||g(v)}return _.createElement("a",Bi({},f,{href:y||S,onClick:x||i?n:m,ref:r,target:l}))});var qf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(qf||(qf={}));var Gf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Gf||(Gf={}));function p1(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,l=Vd(),u=zn(),d=vv(e,{relative:o});return _.useCallback(h=>{if(Q_(h,r)){h.preventDefault();let f=n!==void 0?n:Un(u)===Un(d);l(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,n,s,r,e,i,o,a])}var m1=Object.freeze({InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingSecretKeyErrorMessage:"Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingClerkProvider:"{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider"});function _v({packageName:e,customMessages:t}){let r=e;function n(i,o){if(!o)return`${r}: ${i}`;let a=i;const l=i.matchAll(/{{([a-zA-Z0-9-_]+)}}/g);for(const u of l){const d=(o[u[1]]||"").toString();a=a.replace(`{{${u[1]}}}`,d)}return`${r}: ${a}`}const s={...m1,...t};return{setPackageName({packageName:i}){return typeof i=="string"&&(r=i),this},setMessages({customMessages:i}){return Object.assign(s,i||{}),this},throwInvalidPublishableKeyError(i){throw new Error(n(s.InvalidPublishableKeyErrorMessage,i))},throwInvalidProxyUrl(i){throw new Error(n(s.InvalidProxyUrlErrorMessage,i))},throwMissingPublishableKeyError(){throw new Error(n(s.MissingPublishableKeyErrorMessage))},throwMissingSecretKeyError(){throw new Error(n(s.MissingSecretKeyErrorMessage))},throwMissingClerkProviderError(i){throw new Error(n(s.MissingClerkProvider,i))},throw(i){throw new Error(n(i))}}}var kv=Object.defineProperty,g1=Object.getOwnPropertyDescriptor,v1=Object.getOwnPropertyNames,y1=Object.prototype.hasOwnProperty,x1=(e,t)=>{for(var r in t)kv(e,r,{get:t[r],enumerable:!0})},Jf=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of v1(t))!y1.call(e,s)&&s!==r&&kv(e,s,{get:()=>t[s],enumerable:!(n=g1(t,s))||n.enumerable});return e},w1=(e,t,r)=>(Jf(e,t,"default"),r&&Jf(r,t,"default")),_1={strict_mfa:{afterMinutes:10,level:"multi_factor"},strict:{afterMinutes:10,level:"second_factor"},moderate:{afterMinutes:60,level:"second_factor"},lax:{afterMinutes:1440,level:"second_factor"}},k1=new Set(["first_factor","second_factor","multi_factor"]),S1=new Set(["strict_mfa","strict","moderate","lax"]),j1=e=>typeof e=="number"&&e>0,b1=e=>k1.has(e),E1=e=>S1.has(e),Xl=e=>e.replace(/^(org:)*/,"org:"),C1=(e,t)=>{const{orgId:r,orgRole:n,orgPermissions:s}=t;return!e.role&&!e.permission||!r||!n||!s?null:e.permission?s.includes(Xl(e.permission)):e.role?Xl(n)===Xl(e.role):null},Yf=(e,t)=>{const{org:r,user:n}=N1(e),[s,i]=t.split(":"),o=i||s;return s==="org"?r.includes(o):s==="user"?n.includes(o):[...r,...n].includes(o)},P1=(e,t)=>{const{features:r,plans:n}=t;return e.feature&&r?Yf(r,e.feature):e.plan&&n?Yf(n,e.plan):null},N1=e=>{const t=e?e.split(",").map(r=>r.trim()):[];return{org:t.filter(r=>r.split(":")[0].includes("o")).map(r=>r.split(":")[1]),user:t.filter(r=>r.split(":")[0].includes("u")).map(r=>r.split(":")[1])}},T1=e=>{if(!e)return!1;const t=s=>typeof s=="string"?_1[s]:s,r=typeof e=="string"&&E1(e),n=typeof e=="object"&&b1(e.level)&&j1(e.afterMinutes);return r||n?t.bind(null,e):!1},R1=(e,{factorVerificationAge:t})=>{if(!e.reverification||!t)return null;const r=T1(e.reverification);if(!r)return null;const{level:n,afterMinutes:s}=r(),[i,o]=t,a=i!==-1?s>i:null,l=o!==-1?s>o:null;switch(n){case"first_factor":return a;case"second_factor":return o!==-1?l:a;case"multi_factor":return o===-1?a:a&&l}},O1=e=>t=>{if(!e.userId)return!1;const r=P1(t,e),n=C1(t,e),s=R1(t,e);return[r||n,s].some(i=>i===null)?[r||n,s].some(i=>i===!0):[r||n,s].every(i=>i===!0)},I1=({authObject:{sessionId:e,sessionStatus:t,userId:r,actor:n,orgId:s,orgRole:i,orgSlug:o,signOut:a,getToken:l,has:u,sessionClaims:d},options:{treatPendingAsSignedOut:h=!0}})=>{if(e===void 0&&r===void 0)return{isLoaded:!1,isSignedIn:void 0,sessionId:e,sessionClaims:void 0,userId:r,actor:void 0,orgId:void 0,orgRole:void 0,orgSlug:void 0,has:void 0,signOut:a,getToken:l};if(e===null&&r===null)return{isLoaded:!0,isSignedIn:!1,sessionId:e,userId:r,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:a,getToken:l};if(h&&t==="pending")return{isLoaded:!0,isSignedIn:!1,sessionId:null,userId:null,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:a,getToken:l};if(e&&d&&r&&s&&i)return{isLoaded:!0,isSignedIn:!0,sessionId:e,sessionClaims:d,userId:r,actor:n||null,orgId:s,orgRole:i,orgSlug:o||null,has:u,signOut:a,getToken:l};if(e&&d&&r&&!s)return{isLoaded:!0,isSignedIn:!0,sessionId:e,sessionClaims:d,userId:r,actor:n||null,orgId:null,orgRole:null,orgSlug:null,has:u,signOut:a,getToken:l}},Sv=e=>typeof atob<"u"&&typeof atob=="function"?atob(e):typeof global<"u"&&global.Buffer?new global.Buffer(e,"base64").toString():e,L1=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],jv="pk_live_",A1="pk_test_";function bv(e){if(!e.endsWith("$"))return!1;const t=e.slice(0,-1);return t.includes("$")?!1:t.includes(".")}function Qf(e,t={}){if(e=e||"",!e||!_u(e)){if(t.fatal&&!e)throw new Error("Publishable key is missing. Ensure that your publishable key is correctly configured. Double-check your environment configuration for your keys, or access them here: https://dashboard.clerk.com/last-active?path=api-keys");if(t.fatal&&!_u(e))throw new Error("Publishable key not valid.");return null}const r=e.startsWith(jv)?"production":"development";let n;try{n=Sv(e.split("_")[2])}catch{if(t.fatal)throw new Error("Publishable key not valid: Failed to decode key.");return null}if(!bv(n)){if(t.fatal)throw new Error("Publishable key not valid: Decoded key has invalid format.");return null}let s=n.slice(0,-1);return t.proxyUrl?s=t.proxyUrl:r!=="development"&&t.domain&&t.isSatellite&&(s=`clerk.${t.domain}`),{instanceType:r,frontendApi:s}}function _u(e=""){try{if(!(e.startsWith(jv)||e.startsWith(A1)))return!1;const r=e.split("_");if(r.length!==3)return!1;const n=r[2];if(!n)return!1;const s=Sv(n);return bv(s)}catch{return!1}}function U1(){const e=new Map;return{isDevOrStagingUrl:t=>{if(!t)return!1;const r=typeof t=="string"?t:t.hostname;let n=e.get(r);return n===void 0&&(n=L1.some(s=>r.endsWith(s)),e.set(r,n)),n}}}var M1="METHOD_CALLED",D1=.1;function Hd(e,t){return{event:M1,eventSamplingRate:D1,payload:{method:e,...t}}}var Ev={exports:{}},Cv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ps=_;function z1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $1=typeof Object.is=="function"?Object.is:z1,F1=Ps.useState,B1=Ps.useEffect,W1=Ps.useLayoutEffect,V1=Ps.useDebugValue;function H1(e,t){var r=t(),n=F1({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return W1(function(){s.value=r,s.getSnapshot=t,Zl(s)&&i({inst:s})},[e,r,t]),B1(function(){return Zl(s)&&i({inst:s}),e(function(){Zl(s)&&i({inst:s})})},[e]),V1(r),r}function Zl(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!$1(e,r)}catch{return!0}}function K1(e,t){return t()}var q1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?K1:H1;Cv.useSyncExternalStore=Ps.useSyncExternalStore!==void 0?Ps.useSyncExternalStore:q1;Ev.exports=Cv;var Pv=Ev.exports;const Nv=0,Tv=1,Rv=2,Xf=3;var Zf=Object.prototype.hasOwnProperty;function ku(e,t){var r,n;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&ku(e[n],t[n]););return n===-1}if(!r||typeof e=="object"){n=0;for(r in e)if(Zf.call(e,r)&&++n&&!Zf.call(t,r)||!(r in t)||!ku(e[r],t[r]))return!1;return Object.keys(t).length===n}}return e!==e&&t!==t}const Xt=new WeakMap,Yr=()=>{},Ve=Yr(),Ia=Object,Z=e=>e===Ve,Dt=e=>typeof e=="function",Nr=(e,t)=>({...e,...t}),Ov=e=>Dt(e.then),ec={},Io={},Kd="undefined",Yi=typeof window!=Kd,Su=typeof document!=Kd,G1=Yi&&"Deno"in window,J1=()=>Yi&&typeof window.requestAnimationFrame!=Kd,Br=(e,t)=>{const r=Xt.get(e);return[()=>!Z(t)&&e.get(t)||ec,n=>{if(!Z(t)){const s=e.get(t);t in Io||(Io[t]=s),r[5](t,Nr(s,n),s||ec)}},r[6],()=>!Z(t)&&t in Io?Io[t]:!Z(t)&&e.get(t)||ec]};let ju=!0;const Y1=()=>ju,[bu,Eu]=Yi&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Yr,Yr],Q1=()=>{const e=Su&&document.visibilityState;return Z(e)||e!=="hidden"},X1=e=>(Su&&document.addEventListener("visibilitychange",e),bu("focus",e),()=>{Su&&document.removeEventListener("visibilitychange",e),Eu("focus",e)}),Z1=e=>{const t=()=>{ju=!0,e()},r=()=>{ju=!1};return bu("online",t),bu("offline",r),()=>{Eu("online",t),Eu("offline",r)}},ek={isOnline:Y1,isVisible:Q1},tk={initFocus:X1,initReconnect:Z1},ep=!T.useId,Wi=!Yi||G1,rk=e=>J1()?window.requestAnimationFrame(e):setTimeout(e,1),gi=Wi?_.useEffect:_.useLayoutEffect,tc=typeof navigator<"u"&&navigator.connection,tp=!Wi&&tc&&(["slow-2g","2g"].includes(tc.effectiveType)||tc.saveData),Lo=new WeakMap,nk=e=>Ia.prototype.toString.call(e),rc=(e,t)=>e===`[object ${t}]`;let sk=0;const Cu=e=>{const t=typeof e,r=nk(e),n=rc(r,"Date"),s=rc(r,"RegExp"),i=rc(r,"Object");let o,a;if(Ia(e)===e&&!n&&!s){if(o=Lo.get(e),o)return o;if(o=++sk+"~",Lo.set(e,o),Array.isArray(e)){for(o="@",a=0;a<e.length;a++)o+=Cu(e[a])+",";Lo.set(e,o)}if(i){o="#";const l=Ia.keys(e).sort();for(;!Z(a=l.pop());)Z(e[a])||(o+=a+":"+Cu(e[a])+",");Lo.set(e,o)}}else o=n?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return o},Ns=e=>{if(Dt(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Cu(e):"",[e,t]};let ik=0;const Pu=()=>++ik;async function Iv(...e){const[t,r,n,s]=e,i=Nr({populateCache:!0,throwOnError:!0},typeof s=="boolean"?{revalidate:s}:s||{});let o=i.populateCache;const a=i.rollbackOnError;let l=i.optimisticData;const u=f=>typeof a=="function"?a(f):a!==!1,d=i.throwOnError;if(Dt(r)){const f=r,p=[],y=t.keys();for(const x of y)!/^\$(inf|sub)\$/.test(x)&&f(t.get(x)._k)&&p.push(x);return Promise.all(p.map(h))}return h(r);async function h(f){const[p]=Ns(f);if(!p)return;const[y,x]=Br(t,p),[S,g,m,v]=Xt.get(t),b=()=>{const G=S[p];return(Dt(i.revalidate)?i.revalidate(y().data,f):i.revalidate!==!1)&&(delete m[p],delete v[p],G&&G[0])?G[0](Rv).then(()=>y().data):y().data};if(e.length<3)return b();let j=n,P,w=!1;const C=Pu();g[p]=[C,0];const A=!Z(l),R=y(),F=R.data,J=R._c,ne=Z(J)?F:J;if(A&&(l=Dt(l)?l(ne,F):l,x({data:l,_c:ne})),Dt(j))try{j=j(ne)}catch(G){P=G,w=!0}if(j&&Ov(j))if(j=await j.catch(G=>{P=G,w=!0}),C!==g[p][0]){if(w)throw P;return j}else w&&A&&u(P)&&(o=!0,x({data:ne,_c:Ve}));if(o&&!w)if(Dt(o)){const G=o(j,ne);x({data:G,error:Ve,_c:Ve})}else x({data:j,error:Ve,_c:Ve});if(g[p][1]=Pu(),Promise.resolve(b()).then(()=>{x({_c:Ve})}),w){if(d)throw P;return}return j}}const rp=(e,t)=>{for(const r in e)e[r][0]&&e[r][0](t)},Lv=(e,t)=>{if(!Xt.has(e)){const r=Nr(tk,t),n=Object.create(null),s=Iv.bind(Ve,e);let i=Yr;const o=Object.create(null),a=(d,h)=>{const f=o[d]||[];return o[d]=f,f.push(h),()=>f.splice(f.indexOf(h),1)},l=(d,h,f)=>{e.set(d,h);const p=o[d];if(p)for(const y of p)y(h,f)},u=()=>{if(!Xt.has(e)&&(Xt.set(e,[n,Object.create(null),Object.create(null),Object.create(null),s,l,a]),!Wi)){const d=r.initFocus(setTimeout.bind(Ve,rp.bind(Ve,n,Nv))),h=r.initReconnect(setTimeout.bind(Ve,rp.bind(Ve,n,Tv)));i=()=>{d&&d(),h&&h(),Xt.delete(e)}}};return u(),[e,s,u,i]}return[e,Xt.get(e)[4]]},ok=(e,t,r,n,s)=>{const i=r.errorRetryCount,o=s.retryCount,a=~~((Math.random()+.5)*(1<<(o<8?o:8)))*r.errorRetryInterval;!Z(i)&&o>i||setTimeout(n,a,s)},ak=ku,[Qi,Av]=Lv(new Map),Uv=Nr({onLoadingSlow:Yr,onSuccess:Yr,onError:Yr,onErrorRetry:ok,onDiscarded:Yr,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:tp?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:tp?5e3:3e3,compare:ak,isPaused:()=>!1,cache:Qi,mutate:Av,fallback:{}},ek),Mv=(e,t)=>{const r=Nr(e,t);if(t){const{use:n,fallback:s}=e,{use:i,fallback:o}=t;n&&i&&(r.use=n.concat(i)),s&&o&&(r.fallback=Nr(s,o))}return r},Nu=_.createContext({}),lk=e=>{const{value:t}=e,r=_.useContext(Nu),n=Dt(t),s=_.useMemo(()=>n?t(r):t,[n,r,t]),i=_.useMemo(()=>n?s:Mv(r,s),[n,r,s]),o=s&&s.provider,a=_.useRef(Ve);o&&!a.current&&(a.current=Lv(o(i.cache||Qi),s));const l=a.current;return l&&(i.cache=l[0],i.mutate=l[1]),gi(()=>{if(l)return l[2]&&l[2](),l[3]},[]),_.createElement(Nu.Provider,Nr(e,{value:i}))},Dv="$inf$",zv=Yi&&window.__SWR_DEVTOOLS_USE__,ck=zv?window.__SWR_DEVTOOLS_USE__:[],uk=()=>{zv&&(window.__SWR_DEVTOOLS_REACT__=T)},$v=e=>Dt(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],Fv=()=>Nr(Uv,_.useContext(Nu)),dk=(e,t)=>{const[r,n]=Ns(e),[,,,s]=Xt.get(Qi);if(s[r])return s[r];const i=t(n);return s[r]=i,i},hk=e=>(t,r,n)=>e(t,r&&((...i)=>{const[o]=Ns(t),[,,,a]=Xt.get(Qi);if(o.startsWith(Dv))return r(...i);const l=a[o];return Z(l)?r(...i):(delete a[o],l)}),n),fk=ck.concat(hk),pk=e=>function(...r){const n=Fv(),[s,i,o]=$v(r),a=Mv(n,o);let l=e;const{use:u}=a,d=(u||[]).concat(fk);for(let h=d.length;h--;)l=d[h](l);return l(s,i||a.fetcher||null,a)},mk=(e,t,r)=>{const n=t[e]||(t[e]=[]);return n.push(r),()=>{const s=n.indexOf(r);s>=0&&(n[s]=n[n.length-1],n.pop())}},gk=(e,t)=>(...r)=>{const[n,s,i]=$v(r),o=(i.use||[]).concat(t);return e(n,s,{...i,use:o})};uk();const vk=()=>{},yk=vk(),Tu=Object,np=e=>e===yk,xk=e=>typeof e=="function",Ao=new WeakMap,wk=e=>Tu.prototype.toString.call(e),nc=(e,t)=>e===`[object ${t}]`;let _k=0;const Ru=e=>{const t=typeof e,r=wk(e),n=nc(r,"Date"),s=nc(r,"RegExp"),i=nc(r,"Object");let o,a;if(Tu(e)===e&&!n&&!s){if(o=Ao.get(e),o)return o;if(o=++_k+"~",Ao.set(e,o),Array.isArray(e)){for(o="@",a=0;a<e.length;a++)o+=Ru(e[a])+",";Ao.set(e,o)}if(i){o="#";const l=Tu.keys(e).sort();for(;!np(a=l.pop());)np(e[a])||(o+=a+":"+Ru(e[a])+",");Ao.set(e,o)}}else o=n?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return o},kk=e=>{if(xk(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Ru(e):"",[e,t]},Sk=e=>kk(e)[0],sc=T.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),ic={dedupe:!0},jk=(e,t,r)=>{const{cache:n,compare:s,suspense:i,fallbackData:o,revalidateOnMount:a,revalidateIfStale:l,refreshInterval:u,refreshWhenHidden:d,refreshWhenOffline:h,keepPreviousData:f}=r,[p,y,x,S]=Xt.get(n),[g,m]=Ns(e),v=_.useRef(!1),b=_.useRef(!1),j=_.useRef(g),P=_.useRef(t),w=_.useRef(r),C=()=>w.current,A=()=>C().isVisible()&&C().isOnline(),[R,F,J,ne]=Br(n,g),G=_.useRef({}).current,me=Z(o)?Z(r.fallback)?Ve:r.fallback[g]:o,$e=(le,de)=>{for(const qe in G){const he=qe;if(he==="data"){if(!s(le[he],de[he])&&(!Z(le[he])||!s(Oe,de[he])))return!1}else if(de[he]!==le[he])return!1}return!0},ie=_.useMemo(()=>{const le=(()=>!g||!t?!1:Z(a)?C().isPaused()||i?!1:l!==!1:a)(),de=Qe=>{const Vt=Nr(Qe);return delete Vt._k,le?{isValidating:!0,isLoading:!0,...Vt}:Vt},qe=R(),he=ne(),jt=de(qe),Or=qe===he?jt:de(he);let Me=jt;return[()=>{const Qe=de(R());return $e(Qe,Me)?(Me.data=Qe.data,Me.isLoading=Qe.isLoading,Me.isValidating=Qe.isValidating,Me.error=Qe.error,Me):(Me=Qe,Qe)},()=>Or]},[n,g]),I=Pv.useSyncExternalStore(_.useCallback(le=>J(g,(de,qe)=>{$e(qe,de)||le()}),[n,g]),ie[0],ie[1]),V=!v.current,H=p[g]&&p[g].length>0,ee=I.data,K=Z(ee)?me&&Ov(me)?sc(me):me:ee,Ke=I.error,Ae=_.useRef(K),Oe=f?Z(ee)?Z(Ae.current)?K:Ae.current:ee:K,Ue=(()=>H&&!Z(Ke)?!1:V&&!Z(a)?a:C().isPaused()?!1:i?Z(K)?!1:l:Z(K)||l)(),at=!!(g&&t&&V&&Ue),Fn=Z(I.isValidating)?at:I.isValidating,xl=Z(I.isLoading)?at:I.isLoading,fn=_.useCallback(async le=>{const de=P.current;if(!g||!de||b.current||C().isPaused())return!1;let qe,he,jt=!0;const Or=le||{},Me=!x[g]||!Or.dedupe,Qe=()=>ep?!b.current&&g===j.current&&v.current:g===j.current,Vt={isValidating:!1,isLoading:!1},oo=()=>{F(Vt)},ao=()=>{const Ge=x[g];Ge&&Ge[1]===he&&delete x[g]},nr={isValidating:!0};Z(R().data)&&(nr.isLoading=!0);try{if(Me&&(F(nr),r.loadingTimeout&&Z(R().data)&&setTimeout(()=>{jt&&Qe()&&C().onLoadingSlow(g,r)},r.loadingTimeout),x[g]=[de(m),Pu()]),[qe,he]=x[g],qe=await qe,Me&&setTimeout(ao,r.dedupingInterval),!x[g]||x[g][1]!==he)return Me&&Qe()&&C().onDiscarded(g),!1;Vt.error=Ve;const Ge=y[g];if(!Z(Ge)&&(he<=Ge[0]||he<=Ge[1]||Ge[1]===0))return oo(),Me&&Qe()&&C().onDiscarded(g),!1;const At=R().data;Vt.data=s(At,qe)?At:qe,Me&&Qe()&&C().onSuccess(qe,g,r)}catch(Ge){ao();const At=C(),{shouldRetryOnError:pn}=At;At.isPaused()||(Vt.error=Ge,Me&&Qe()&&(At.onError(Ge,g,At),(pn===!0||Dt(pn)&&pn(Ge))&&(!C().revalidateOnFocus||!C().revalidateOnReconnect||A())&&At.onErrorRetry(Ge,g,At,sr=>{const bt=p[g];bt&&bt[0]&&bt[0](Xf,sr)},{retryCount:(Or.retryCount||0)+1,dedupe:!0})))}return jt=!1,oo(),!0},[g,n]),io=_.useCallback((...le)=>Iv(n,j.current,...le),[]);if(gi(()=>{P.current=t,w.current=r,Z(ee)||(Ae.current=ee)}),gi(()=>{if(!g)return;const le=fn.bind(Ve,ic);let de=0;C().revalidateOnFocus&&(de=Date.now()+C().focusThrottleInterval);const he=mk(g,p,(jt,Or={})=>{if(jt==Nv){const Me=Date.now();C().revalidateOnFocus&&Me>de&&A()&&(de=Me+C().focusThrottleInterval,le())}else if(jt==Tv)C().revalidateOnReconnect&&A()&&le();else{if(jt==Rv)return fn();if(jt==Xf)return fn(Or)}});return b.current=!1,j.current=g,v.current=!0,F({_k:m}),Ue&&(x[g]||(Z(K)||Wi?le():rk(le))),()=>{b.current=!0,he()}},[g]),gi(()=>{let le;function de(){const he=Dt(u)?u(R().data):u;he&&le!==-1&&(le=setTimeout(qe,he))}function qe(){!R().error&&(d||C().isVisible())&&(h||C().isOnline())?fn(ic).then(de):de()}return de(),()=>{le&&(clearTimeout(le),le=-1)}},[u,d,h,g]),_.useDebugValue(Oe),i&&Z(K)&&g){if(!ep&&Wi)throw new Error("Fallback data is required when using Suspense in SSR.");P.current=t,w.current=r,b.current=!1;const le=S[g];if(!Z(le)){const de=io(le);sc(de)}if(Z(Ke)){const de=fn(ic);Z(Oe)||(de.status="fulfilled",de.value=!0),sc(de)}else throw Ke}return{mutate:io,get data(){return G.data=!0,Oe},get error(){return G.error=!0,Ke},get isValidating(){return G.isValidating=!0,Fn},get isLoading(){return G.isLoading=!0,xl}}},bk=Ia.defineProperty(lk,"defaultValue",{value:Uv}),qd=pk(jk),Ek=Object.freeze(Object.defineProperty({__proto__:null,SWRConfig:bk,default:qd,mutate:Av,preload:dk,unstable_serialize:Sk,useSWRConfig:Fv},Symbol.toStringTag,{value:"Module"})),Ck=()=>{},Pk=Ck(),Ou=Object,sp=e=>e===Pk,Nk=e=>typeof e=="function",Uo=new WeakMap,Tk=e=>Ou.prototype.toString.call(e),oc=(e,t)=>e===`[object ${t}]`;let Rk=0;const Iu=e=>{const t=typeof e,r=Tk(e),n=oc(r,"Date"),s=oc(r,"RegExp"),i=oc(r,"Object");let o,a;if(Ou(e)===e&&!n&&!s){if(o=Uo.get(e),o)return o;if(o=++Rk+"~",Uo.set(e,o),Array.isArray(e)){for(o="@",a=0;a<e.length;a++)o+=Iu(e[a])+",";Uo.set(e,o)}if(i){o="#";const l=Ou.keys(e).sort();for(;!sp(a=l.pop());)sp(e[a])||(o+=a+":"+Iu(e[a])+",");Uo.set(e,o)}}else o=n?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return o},Ok=e=>{if(Nk(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Iu(e):"",[e,t]},Ik=e=>Ok(e?e(0,null):null)[0],ac=Promise.resolve(),Lk=e=>(t,r,n)=>{const s=_.useRef(!1),{cache:i,initialSize:o=1,revalidateAll:a=!1,persistSize:l=!1,revalidateFirstPage:u=!0,revalidateOnMount:d=!1,parallel:h=!1}=n,[,,,f]=Xt.get(Qi);let p;try{p=Ik(t),p&&(p=Dv+p)}catch{}const[y,x,S]=Br(i,p),g=_.useCallback(()=>Z(y()._l)?o:y()._l,[i,p,o]);Pv.useSyncExternalStore(_.useCallback(C=>p?S(p,()=>{C()}):()=>{},[i,p]),g,g);const m=_.useCallback(()=>{const C=y()._l;return Z(C)?o:C},[p,o]),v=_.useRef(m());gi(()=>{if(!s.current){s.current=!0;return}p&&x({_l:l?v.current:m()})},[p,i]);const b=d&&!s.current,j=e(p,async C=>{const A=y()._i,R=y()._r;x({_r:Ve});const F=[],J=m(),[ne]=Br(i,C),G=ne().data,me=[];let $e=null;for(let ie=0;ie<J;++ie){const[I,V]=Ns(t(ie,h?null:$e));if(!I)break;const[H,ee]=Br(i,I);let K=H().data;const Ke=a||A||Z(K)||u&&!ie&&!Z(G)||b||G&&!Z(G[ie])&&!n.compare(G[ie],K);if(r&&(typeof R=="function"?R(K,V):Ke)){const Ae=async()=>{if(!(I in f))K=await r(V);else{const Ue=f[I];delete f[I],K=await Ue}ee({data:K,_k:V}),F[ie]=K};h?me.push(Ae):await Ae()}else F[ie]=K;h||($e=K)}return h&&await Promise.all(me.map(ie=>ie())),x({_i:Ve}),F},n),P=_.useCallback(function(C,A){const R=typeof A=="boolean"?{revalidate:A}:A||{},F=R.revalidate!==!1;return p?(F&&(Z(C)?x({_i:!0,_r:R.revalidate}):x({_i:!1,_r:R.revalidate})),arguments.length?j.mutate(C,{...R,revalidate:F}):j.mutate()):ac},[p,i]),w=_.useCallback(C=>{if(!p)return ac;const[,A]=Br(i,p);let R;if(Dt(C)?R=C(m()):typeof C=="number"&&(R=C),typeof R!="number")return ac;A({_l:R}),v.current=R;const F=[],[J]=Br(i,p);let ne=null;for(let G=0;G<R;++G){const[me]=Ns(t(G,ne)),[$e]=Br(i,me),ie=me?$e().data:Ve;if(Z(ie))return P(J().data);F.push(ie),ne=ie}return P(F)},[p,i,P,m]);return{size:m(),setSize:w,mutate:P,get data(){return j.data},get error(){return j.error},get isValidating(){return j.isValidating},get isLoading(){return j.isLoading}}},Ak=gk(qd,Lk);var ip=Object.prototype.hasOwnProperty;function op(e,t,r){for(r of e.keys())if(vi(r,t))return r}function vi(e,t){var r,n,s;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&vi(e[n],t[n]););return n===-1}if(r===Set){if(e.size!==t.size)return!1;for(n of e)if(s=n,s&&typeof s=="object"&&(s=op(t,s),!s)||!t.has(s))return!1;return!0}if(r===Map){if(e.size!==t.size)return!1;for(n of e)if(s=n[0],s&&typeof s=="object"&&(s=op(t,s),!s)||!vi(n[1],t.get(s)))return!1;return!0}if(r===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(r===DataView){if((n=e.byteLength)===t.byteLength)for(;n--&&e.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(e)){if((n=e.byteLength)===t.byteLength)for(;n--&&e[n]===t[n];);return n===-1}if(!r||typeof e=="object"){n=0;for(r in e)if(ip.call(e,r)&&++n&&!ip.call(t,r)||!(r in t)||!vi(e[r],t[r]))return!1;return Object.keys(t).length===n}}return e!==e&&t!==t}function Uk(e,t){if(!e)throw typeof t=="string"?new Error(t):new Error(`${t.displayName} not found`)}var fr=(e,t)=>{const{assertCtxFn:r=Uk}=t||{},n=T.createContext(void 0);return n.displayName=e,[n,()=>{const o=T.useContext(n);return r(o,`${e} not found`),o.value},()=>{const o=T.useContext(n);return o?o.value:{}}]},Gd={};x1(Gd,{useSWR:()=>qd,useSWRInfinite:()=>Ak});w1(Gd,Ek);var[Bv,Jd]=fr("ClerkInstanceContext"),[Mk,Dk]=fr("UserContext"),[zk,TC]=fr("ClientContext"),[$k,Fk]=fr("SessionContext");T.createContext({});var[Bk,RC]=fr("CheckoutContext"),Wk=({children:e,...t})=>T.createElement(Bk.Provider,{value:{value:t}},e),[Vk,OC]=fr("OrganizationContext"),Hk=({children:e,organization:t,swrConfig:r})=>T.createElement(Gd.SWRConfig,{value:r},T.createElement(Vk.Provider,{value:{value:{organization:t}}},e));function Yd(e){if(!T.useContext(Bv)){if(typeof e=="function"){e();return}throw new Error(`${e} can only be used within the <ClerkProvider /> component.

Possible fixes:
1. Ensure that the <ClerkProvider /> is correctly wrapping your application where this component is used.
2. Check for multiple versions of the \`@clerk/shared\` package in your project. Use a tool like \`npm ls @clerk/shared\` to identify multiple versions, and update your dependencies to only rely on one.

Learn more: https://clerk.com/docs/components/clerk-provider`.trim())}}typeof window<"u"?T.useLayoutEffect:T.useEffect;var ap="useSession",Kk=()=>{var r;Yd(ap);const e=Fk(),t=Jd();return(r=t.telemetry)==null||r.record(Hd(ap)),e===void 0?{isLoaded:!1,isSignedIn:void 0,session:void 0}:e===null?{isLoaded:!0,isSignedIn:!1,session:null}:{isLoaded:!0,isSignedIn:t.isSignedIn,session:e}},lp="useUser";function Qd(){var r;Yd(lp);const e=Dk();return(r=Jd().telemetry)==null||r.record(Hd(lp)),e===void 0?{isLoaded:!1,isSignedIn:void 0,user:void 0}:e===null?{isLoaded:!0,isSignedIn:!1,user:null}:{isLoaded:!0,isSignedIn:!0,user:e}}var cp=vi,qk=e=>{const t=_.useRef(e);return _.useEffect(()=>{t.current=e},[e]),t.current},Et=(e,t,r)=>{const n=!!r,s=_.useRef(r);_.useEffect(()=>{s.current=r},[r]),_.useEffect(()=>{if(!n||!e)return()=>{};const i=(...o)=>{s.current&&s.current(...o)};return e.on(t,i),()=>{e.off(t,i)}},[n,t,e,s])},Wv=T.createContext(null);Wv.displayName="ElementsContext";var Gk=(e,t)=>{if(!e)throw new Error(`Could not find Elements context; You need to wrap the part of your app that ${t} in an <Elements> provider.`);return e},La=e=>e!==null&&typeof e=="object",Jk=(e,t,r)=>La(e)?Object.keys(e).reduce((n,s)=>{const i=!La(t)||!Vv(e[s],t[s]);return r.includes(s)?(i&&console.warn(`Unsupported prop change: options.${s} is not a mutable property.`),n):i?{...n||{},[s]:e[s]}:n},null):null,up="[object Object]",Vv=(e,t)=>{if(!La(e)||!La(t))return e===t;const r=Array.isArray(e),n=Array.isArray(t);if(r!==n)return!1;const s=Object.prototype.toString.call(e)===up,i=Object.prototype.toString.call(t)===up;if(s!==i)return!1;if(!s&&!r)return e===t;const o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;const l={};for(let p=0;p<o.length;p+=1)l[o[p]]=!0;for(let p=0;p<a.length;p+=1)l[a[p]]=!0;const u=Object.keys(l);if(u.length!==o.length)return!1;const d=e,h=t,f=p=>Vv(d[p],h[p]);return u.every(f)},dp=e=>{const t=T.useContext(Wv);return Gk(t,e)},Yk=e=>e.charAt(0).toUpperCase()+e.slice(1),Qk=(e,t)=>{const r=`${Yk(e)}Element`,i=t?o=>{dp(`mounts <${r}>`);const{id:a,className:l}=o;return T.createElement("div",{id:a,className:l})}:({id:o,className:a,fallback:l,options:u={},onBlur:d,onFocus:h,onReady:f,onChange:p,onEscape:y,onClick:x,onLoadError:S,onLoaderStart:g,onNetworksChange:m,onConfirm:v,onCancel:b,onShippingAddressChange:j,onShippingRateChange:P})=>{const w=dp(`mounts <${r}>`),C="elements"in w?w.elements:null,[A,R]=T.useState(null),F=T.useRef(null),J=T.useRef(null),[ne,G]=_.useState(!1);Et(A,"blur",d),Et(A,"focus",h),Et(A,"escape",y),Et(A,"click",x),Et(A,"loaderror",S),Et(A,"loaderstart",g),Et(A,"networkschange",m),Et(A,"confirm",v),Et(A,"cancel",b),Et(A,"shippingaddresschange",j),Et(A,"shippingratechange",P),Et(A,"change",p);let me;f&&(me=()=>{G(!0),f(A)}),Et(A,"ready",me),T.useLayoutEffect(()=>{if(F.current===null&&J.current!==null&&C){let ie=null;C&&(ie=C.create(e,u)),F.current=ie,R(ie),ie&&ie.mount(J.current)}},[C,u]);const $e=qk(u);return T.useEffect(()=>{if(!F.current)return;const ie=Jk(u,$e,["paymentRequest"]);ie&&"update"in F.current&&F.current.update(ie)},[u,$e]),T.useLayoutEffect(()=>()=>{if(F.current&&typeof F.current.destroy=="function")try{F.current.destroy(),F.current=null}catch{}},[]),T.createElement(T.Fragment,null,!ne&&l,T.createElement("div",{id:o,style:{height:ne?"unset":"0px",visibility:ne?"visible":"hidden"},className:a,ref:J}))};return i.displayName=r,i.__elementType=e,i},Xk=typeof window>"u";Qk("payment",Xk);fr("StripeLibsContext");fr("PaymentElementContext");fr("StripeUtilsContext");var tr=_v({packageName:"@clerk/clerk-react"});function Zk(e){tr.setMessages(e).setPackageName(e)}var[eS,tS]=fr("AuthContext"),rS=Bv,Hv=Jd,nS="You've added multiple <ClerkProvider> components in your React component tree. Wrap your components in a single <ClerkProvider>.",sS=e=>`You've passed multiple children components to <${e}/>. You can only pass a single child component or text.`,iS="Invalid state. Feel free to submit a bug or reach out to support here: https://clerk.com/support",lc="Unsupported usage of isSatellite, domain or proxyUrl. The usage of isSatellite, domain or proxyUrl as function is not supported in non-browser environments.",oS="<UserProfile.Page /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",aS="<UserProfile.Link /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",lS="<OrganizationProfile.Page /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",cS="<OrganizationProfile.Link /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",uS=e=>`<${e} /> can only accept <${e}.Page /> and <${e}.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.`,dS=e=>`Missing props. <${e}.Page /> component requires the following props: url, label, labelIcon, alongside with children to be rendered inside the page.`,hS=e=>`Missing props. <${e}.Link /> component requires the following props: url, label and labelIcon.`,fS="<UserButton /> can only accept <UserButton.UserProfilePage />, <UserButton.UserProfileLink /> and <UserButton.MenuItems /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",pS="<UserButton.MenuItems /> component can only accept <UserButton.Action /> and <UserButton.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",mS="<UserButton.MenuItems /> component needs to be a direct child of `<UserButton />`.",gS="<UserButton.Action /> component needs to be a direct child of `<UserButton.MenuItems />`.",vS="<UserButton.Link /> component needs to be a direct child of `<UserButton.MenuItems />`.",yS="Missing props. <UserButton.Link /> component requires the following props: href, label and labelIcon.",xS="Missing props. <UserButton.Action /> component requires the following props: label.",Kv=e=>{Yd(()=>{tr.throwMissingClerkProviderError({source:e})})},qv=e=>new Promise(t=>{const r=n=>{["ready","degraded"].includes(n)&&(t(),e.off("status",r))};e.on("status",r,{notify:!0})}),wS=e=>async t=>(await qv(e),e.session?e.session.getToken(t):null),_S=e=>async(...t)=>(await qv(e),e.signOut(...t)),kS=(e={})=>{var t;Kv("useAuth");const{treatPendingAsSignedOut:r,...n}=e??{},s=n;let o=tS();o.sessionId===void 0&&o.userId===void 0&&(o=s??{});const a=Hv(),l=_.useCallback(wS(a),[a]),u=_.useCallback(_S(a),[a]);return(t=a.telemetry)==null||t.record(Hd("useAuth",{treatPendingAsSignedOut:r})),SS({...o,getToken:l,signOut:u},{treatPendingAsSignedOut:r})};function SS(e,{treatPendingAsSignedOut:t=!0}={}){const{userId:r,orgId:n,orgRole:s,has:i,signOut:o,getToken:a,orgPermissions:l,factorVerificationAge:u,sessionClaims:d}=e??{},h=_.useCallback(p=>i?i(p):O1({userId:r,orgId:n,orgRole:s,orgPermissions:l,factorVerificationAge:u,features:(d==null?void 0:d.fea)||"",plans:(d==null?void 0:d.pla)||""})(p),[i,r,n,s,l,u]),f=I1({authObject:{...e,getToken:a,signOut:o,has:h},options:{treatPendingAsSignedOut:t}});return f||tr.throw(iS)}var je=(e,t)=>{const n=(typeof t=="string"?t:t==null?void 0:t.component)||e.displayName||e.name||"Component";e.displayName=n;const s=typeof t=="string"?void 0:t,i=o=>{Kv(n||"withClerk");const a=Hv();return!a.loaded&&!(s!=null&&s.renderWhileLoading)?null:T.createElement(e,{...o,component:n,clerk:a})};return i.displayName=`withClerk(${n})`,i},jS=()=>{try{return!1}catch{}return!1},bS=()=>{try{return!1}catch{}return!1},ES=()=>{try{return!0}catch{}return!1},hp=new Set,Xd=(e,t,r)=>{const n=bS()||ES(),s=r??e;hp.has(s)||n||(hp.add(s),console.warn(`Clerk - DEPRECATION WARNING: "${e}" is deprecated and will be removed in the next major release.
${t}`))};je(({clerk:e,...t})=>{const{client:r,session:n}=e,s=r.signedInSessions?r.signedInSessions.length>0:r.activeSessions&&r.activeSessions.length>0;return T.useEffect(()=>{n===null&&s?e.redirectToAfterSignOut():e.redirectToSignIn(t)},[]),null},"RedirectToSignIn");je(({clerk:e,...t})=>(T.useEffect(()=>{e.redirectToSignUp(t)},[]),null),"RedirectToSignUp");je(({clerk:e,...t})=>(T.useEffect(()=>{e.redirectToTasks(t)},[]),null),"RedirectToTasks");je(({clerk:e})=>(T.useEffect(()=>{Xd("RedirectToUserProfile","Use the `redirectToUserProfile()` method instead."),e.redirectToUserProfile()},[]),null),"RedirectToUserProfile");je(({clerk:e})=>(T.useEffect(()=>{Xd("RedirectToOrganizationProfile","Use the `redirectToOrganizationProfile()` method instead."),e.redirectToOrganizationProfile()},[]),null),"RedirectToOrganizationProfile");je(({clerk:e})=>(T.useEffect(()=>{Xd("RedirectToCreateOrganization","Use the `redirectToCreateOrganization()` method instead."),e.redirectToCreateOrganization()},[]),null),"RedirectToCreateOrganization");je(({clerk:e,...t})=>(T.useEffect(()=>{e.handleRedirectCallback(t)},[]),null),"AuthenticateWithRedirectCallback");var dt=e=>{jS()&&console.error(`Clerk: ${e}`)};function cc(e,t,r){if(typeof e=="function")return e(t);if(typeof e<"u")return e;if(typeof r<"u")return r}var fp=(e,...t)=>{const r={...e};for(const n of t)delete r[n];return r},ol=e=>t=>{try{return T.Children.only(e)}catch{return tr.throw(sS(t))}},al=(e,t)=>(e||(e=t),typeof e=="string"&&(e=T.createElement("button",null,e)),e),ll=e=>(...t)=>{if(e&&typeof e=="function")return e(...t)};function CS(e){return typeof e=="function"}var Mo=new Map;function PS(e,t,r=1){T.useEffect(()=>{const n=Mo.get(e)||0;return n==r?tr.throw(t):(Mo.set(e,n+1),()=>{Mo.set(e,(Mo.get(e)||1)-1)})},[])}function NS(e,t,r){const n=e.displayName||e.name||t||"Component",s=i=>(PS(t,r),T.createElement(e,{...i}));return s.displayName=`withMaxAllowedInstancesGuard(${n})`,s}var yi=e=>{const[t,r]=_.useState(new Map);return e.map(n=>({id:n.id,mount:s=>r(i=>new Map(i).set(String(n.id),s)),unmount:()=>r(s=>{const i=new Map(s);return i.set(String(n.id),null),i}),portal:()=>{const s=t.get(String(n.id));return s?tl.createPortal(n.component,s):null}}))},ut=(e,t)=>!!e&&T.isValidElement(e)&&(e==null?void 0:e.type)===t,Gv=(e,t)=>Qv({children:e,reorderItemsLabels:["account","security"],LinkComponent:Zi,PageComponent:Xi,MenuItemsComponent:ul,componentName:"UserProfile"},t),Jv=(e,t)=>Qv({children:e,reorderItemsLabels:["general","members"],LinkComponent:hl,PageComponent:dl,componentName:"OrganizationProfile"},t),Yv=e=>{const t=[],r=[hl,dl,ul,Xi,Zi];return T.Children.forEach(e,n=>{r.some(s=>ut(n,s))||t.push(n)}),t},Qv=(e,t)=>{const{children:r,LinkComponent:n,PageComponent:s,MenuItemsComponent:i,reorderItemsLabels:o,componentName:a}=e,{allowForAnyChildren:l=!1}=t||{},u=[];T.Children.forEach(r,m=>{if(!ut(m,s)&&!ut(m,n)&&!ut(m,i)){m&&!l&&dt(uS(a));return}const{props:v}=m,{children:b,label:j,url:P,labelIcon:w}=v;if(ut(m,s))if(pp(v,o))u.push({label:j});else if(uc(v))u.push({label:j,labelIcon:w,children:b,url:P});else{dt(dS(a));return}if(ut(m,n))if(dc(v))u.push({label:j,labelIcon:w,url:P});else{dt(hS(a));return}});const d=[],h=[],f=[];u.forEach((m,v)=>{if(uc(m)){d.push({component:m.children,id:v}),h.push({component:m.labelIcon,id:v});return}dc(m)&&f.push({component:m.labelIcon,id:v})});const p=yi(d),y=yi(h),x=yi(f),S=[],g=[];return u.forEach((m,v)=>{if(pp(m,o)){S.push({label:m.label});return}if(uc(m)){const{portal:b,mount:j,unmount:P}=p.find(R=>R.id===v),{portal:w,mount:C,unmount:A}=y.find(R=>R.id===v);S.push({label:m.label,url:m.url,mount:j,unmount:P,mountIcon:C,unmountIcon:A}),g.push(b),g.push(w);return}if(dc(m)){const{portal:b,mount:j,unmount:P}=x.find(w=>w.id===v);S.push({label:m.label,url:m.url,mountIcon:j,unmountIcon:P}),g.push(b);return}}),{customPages:S,customPagesPortals:g}},pp=(e,t)=>{const{children:r,label:n,url:s,labelIcon:i}=e;return!r&&!s&&!i&&t.some(o=>o===n)},uc=e=>{const{children:t,label:r,url:n,labelIcon:s}=e;return!!t&&!!n&&!!s&&!!r},dc=e=>{const{children:t,label:r,url:n,labelIcon:s}=e;return!t&&!!n&&!!s&&!!r},TS=e=>RS({children:e,reorderItemsLabels:["manageAccount","signOut"],MenuItemsComponent:ul,MenuActionComponent:Zv,MenuLinkComponent:ey,UserProfileLinkComponent:Zi,UserProfilePageComponent:Xi}),RS=({children:e,MenuItemsComponent:t,MenuActionComponent:r,MenuLinkComponent:n,UserProfileLinkComponent:s,UserProfilePageComponent:i,reorderItemsLabels:o})=>{const a=[],l=[],u=[];T.Children.forEach(e,y=>{if(!ut(y,t)&&!ut(y,s)&&!ut(y,i)){y&&dt(fS);return}if(ut(y,s)||ut(y,i))return;const{props:x}=y;T.Children.forEach(x.children,S=>{if(!ut(S,r)&&!ut(S,n)){S&&dt(pS);return}const{props:g}=S,{label:m,labelIcon:v,href:b,onClick:j,open:P}=g;if(ut(S,r))if(mp(g,o))a.push({label:m});else if(hc(g)){const w={label:m,labelIcon:v};if(j!==void 0)a.push({...w,onClick:j});else if(P!==void 0)a.push({...w,open:P.startsWith("/")?P:`/${P}`});else{dt("Custom menu item must have either onClick or open property");return}}else{dt(xS);return}if(ut(S,n))if(fc(g))a.push({label:m,labelIcon:v,href:b});else{dt(yS);return}})});const d=[],h=[];a.forEach((y,x)=>{hc(y)&&d.push({component:y.labelIcon,id:x}),fc(y)&&h.push({component:y.labelIcon,id:x})});const f=yi(d),p=yi(h);return a.forEach((y,x)=>{if(mp(y,o)&&l.push({label:y.label}),hc(y)){const{portal:S,mount:g,unmount:m}=f.find(b=>b.id===x),v={label:y.label,mountIcon:g,unmountIcon:m};"onClick"in y?v.onClick=y.onClick:"open"in y&&(v.open=y.open),l.push(v),u.push(S)}if(fc(y)){const{portal:S,mount:g,unmount:m}=p.find(v=>v.id===x);l.push({label:y.label,href:y.href,mountIcon:g,unmountIcon:m}),u.push(S)}}),{customMenuItems:l,customMenuItemsPortals:u}},mp=(e,t)=>{const{children:r,label:n,onClick:s,labelIcon:i}=e;return!r&&!s&&!i&&t.some(o=>o===n)},hc=e=>{const{label:t,labelIcon:r,onClick:n,open:s}=e;return!!r&&!!t&&(typeof n=="function"||typeof s=="string")},fc=e=>{const{label:t,href:r,labelIcon:n}=e;return!!r&&!!n&&!!t},OS=e=>{const t=e==null?void 0:e.isReady;return r=>new Promise((n,s)=>{const{root:i=document==null?void 0:document.body,selector:o,timeout:a=0}=r;if(!i){s(new Error("No root element provided"));return}let l=i;if(o&&(l=i==null?void 0:i.querySelector(o)),t(l,o)){n();return}const u=new MutationObserver(d=>{for(const h of d)if(!l&&o&&(l=i==null?void 0:i.querySelector(o)),(e.childList&&h.type==="childList"||e.attributes&&h.type==="attributes")&&t(l,o)){u.disconnect(),n();return}});u.observe(i,e),a>0&&setTimeout(()=>{u.disconnect(),s(new Error(`Timeout waiting for ${o}`))},a)})},IS=OS({childList:!0,subtree:!0,isReady:(e,t)=>{var r;return!!(e!=null&&e.childElementCount)&&((r=e==null?void 0:e.matches)==null?void 0:r.call(e,t))&&e.childElementCount>0}});function Lt(e,t){const r=_.useRef(),[n,s]=_.useState("rendering");return _.useEffect(()=>{if(!e)throw new Error("Clerk: no component name provided, unable to detect mount.");if(typeof window<"u"&&!r.current){const i=`[data-clerk-component="${e}"]`,o=t==null?void 0:t.selector;r.current=IS({selector:o?i+o:i}).then(()=>{s("rendered")}).catch(()=>{s("error")})}},[e,t==null?void 0:t.selector]),n}var Do=e=>"mount"in e,gp=e=>"open"in e,vp=e=>e==null?void 0:e.map(({mountIcon:t,unmountIcon:r,...n})=>n),gt=class extends T.PureComponent{constructor(){super(...arguments),this.rootRef=T.createRef()}componentDidUpdate(e){var t,r,n,s;if(!Do(e)||!Do(this.props))return;const i=fp(e.props,"customPages","customMenuItems","children"),o=fp(this.props.props,"customPages","customMenuItems","children"),a=((t=i.customPages)==null?void 0:t.length)!==((r=o.customPages)==null?void 0:r.length),l=((n=i.customMenuItems)==null?void 0:n.length)!==((s=o.customMenuItems)==null?void 0:s.length),u=vp(e.props.customMenuItems),d=vp(this.props.props.customMenuItems);(!cp(i,o)||!cp(u,d)||a||l)&&this.rootRef.current&&this.props.updateProps({node:this.rootRef.current,props:this.props.props})}componentDidMount(){this.rootRef.current&&(Do(this.props)&&this.props.mount(this.rootRef.current,this.props.props),gp(this.props)&&this.props.open(this.props.props))}componentWillUnmount(){this.rootRef.current&&(Do(this.props)&&this.props.unmount(this.rootRef.current),gp(this.props)&&this.props.close())}render(){const{hideRootHtmlElement:e=!1}=this.props,t={ref:this.rootRef,...this.props.rootProps,...this.props.component&&{"data-clerk-component":this.props.component}};return T.createElement(T.Fragment,null,!e&&T.createElement("div",{...t}),this.props.children)}},cl=e=>{var t,r;return T.createElement(T.Fragment,null,(t=e==null?void 0:e.customPagesPortals)==null?void 0:t.map((n,s)=>_.createElement(n,{key:s})),(r=e==null?void 0:e.customMenuItemsPortals)==null?void 0:r.map((n,s)=>_.createElement(n,{key:s})))},LS=je(({clerk:e,component:t,fallback:r,...n})=>{const i=Lt(t)==="rendering"||!e.loaded,o={...i&&r&&{style:{display:"none"}}};return T.createElement(T.Fragment,null,i&&r,e.loaded&&T.createElement(gt,{component:t,mount:e.mountSignIn,unmount:e.unmountSignIn,updateProps:e.__unstable__updateProps,props:n,rootProps:o}))},{component:"SignIn",renderWhileLoading:!0}),AS=je(({clerk:e,component:t,fallback:r,...n})=>{const i=Lt(t)==="rendering"||!e.loaded,o={...i&&r&&{style:{display:"none"}}};return T.createElement(T.Fragment,null,i&&r,e.loaded&&T.createElement(gt,{component:t,mount:e.mountSignUp,unmount:e.unmountSignUp,updateProps:e.__unstable__updateProps,props:n,rootProps:o}))},{component:"SignUp",renderWhileLoading:!0});function Xi({children:e}){return dt(oS),T.createElement(T.Fragment,null,e)}function Zi({children:e}){return dt(aS),T.createElement(T.Fragment,null,e)}var US=je(({clerk:e,component:t,fallback:r,...n})=>{const i=Lt(t)==="rendering"||!e.loaded,o={...i&&r&&{style:{display:"none"}}},{customPages:a,customPagesPortals:l}=Gv(n.children);return T.createElement(T.Fragment,null,i&&r,T.createElement(gt,{component:t,mount:e.mountUserProfile,unmount:e.unmountUserProfile,updateProps:e.__unstable__updateProps,props:{...n,customPages:a},rootProps:o},T.createElement(cl,{customPagesPortals:l})))},{component:"UserProfile",renderWhileLoading:!0});Object.assign(US,{Page:Xi,Link:Zi});var Xv=_.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),MS=je(({clerk:e,component:t,fallback:r,...n})=>{const i=Lt(t)==="rendering"||!e.loaded,o={...i&&r&&{style:{display:"none"}}},{customPages:a,customPagesPortals:l}=Gv(n.children,{allowForAnyChildren:!!n.__experimental_asProvider}),u=Object.assign(n.userProfileProps||{},{customPages:a}),{customMenuItems:d,customMenuItemsPortals:h}=TS(n.children),f=Yv(n.children),p={mount:e.mountUserButton,unmount:e.unmountUserButton,updateProps:e.__unstable__updateProps,props:{...n,userProfileProps:u,customMenuItems:d}},y={customPagesPortals:l,customMenuItemsPortals:h};return T.createElement(Xv.Provider,{value:p},i&&r,e.loaded&&T.createElement(gt,{component:t,...p,hideRootHtmlElement:!!n.__experimental_asProvider,rootProps:o},n.__experimental_asProvider?f:null,T.createElement(cl,{...y})))},{component:"UserButton",renderWhileLoading:!0});function ul({children:e}){return dt(mS),T.createElement(T.Fragment,null,e)}function Zv({children:e}){return dt(gS),T.createElement(T.Fragment,null,e)}function ey({children:e}){return dt(vS),T.createElement(T.Fragment,null,e)}function DS(e){const t=_.useContext(Xv),r={...t,props:{...t.props,...e}};return T.createElement(gt,{...r})}var zS=Object.assign(MS,{UserProfilePage:Xi,UserProfileLink:Zi,MenuItems:ul,Action:Zv,Link:ey,__experimental_Outlet:DS});function dl({children:e}){return dt(lS),T.createElement(T.Fragment,null,e)}function hl({children:e}){return dt(cS),T.createElement(T.Fragment,null,e)}var $S=je(({clerk:e,component:t,fallback:r,...n})=>{const i=Lt(t)==="rendering"||!e.loaded,o={...i&&r&&{style:{display:"none"}}},{customPages:a,customPagesPortals:l}=Jv(n.children);return T.createElement(T.Fragment,null,i&&r,e.loaded&&T.createElement(gt,{component:t,mount:e.mountOrganizationProfile,unmount:e.unmountOrganizationProfile,updateProps:e.__unstable__updateProps,props:{...n,customPages:a},rootProps:o},T.createElement(cl,{customPagesPortals:l})))},{component:"OrganizationProfile",renderWhileLoading:!0});Object.assign($S,{Page:dl,Link:hl});je(({clerk:e,component:t,fallback:r,...n})=>{const i=Lt(t)==="rendering"||!e.loaded,o={...i&&r&&{style:{display:"none"}}};return T.createElement(T.Fragment,null,i&&r,e.loaded&&T.createElement(gt,{component:t,mount:e.mountCreateOrganization,unmount:e.unmountCreateOrganization,updateProps:e.__unstable__updateProps,props:n,rootProps:o}))},{component:"CreateOrganization",renderWhileLoading:!0});var ty=_.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),FS=je(({clerk:e,component:t,fallback:r,...n})=>{const i=Lt(t)==="rendering"||!e.loaded,o={...i&&r&&{style:{display:"none"}}},{customPages:a,customPagesPortals:l}=Jv(n.children,{allowForAnyChildren:!!n.__experimental_asProvider}),u=Object.assign(n.organizationProfileProps||{},{customPages:a}),d=Yv(n.children),h={mount:e.mountOrganizationSwitcher,unmount:e.unmountOrganizationSwitcher,updateProps:e.__unstable__updateProps,props:{...n,organizationProfileProps:u},rootProps:o,component:t};return e.__experimental_prefetchOrganizationSwitcher(),T.createElement(ty.Provider,{value:h},T.createElement(T.Fragment,null,i&&r,e.loaded&&T.createElement(gt,{...h,hideRootHtmlElement:!!n.__experimental_asProvider},n.__experimental_asProvider?d:null,T.createElement(cl,{customPagesPortals:l}))))},{component:"OrganizationSwitcher",renderWhileLoading:!0});function BS(e){const t=_.useContext(ty),r={...t,props:{...t.props,...e}};return T.createElement(gt,{...r})}Object.assign(FS,{OrganizationProfilePage:dl,OrganizationProfileLink:hl,__experimental_Outlet:BS});je(({clerk:e,component:t,fallback:r,...n})=>{const i=Lt(t)==="rendering"||!e.loaded,o={...i&&r&&{style:{display:"none"}}};return T.createElement(T.Fragment,null,i&&r,e.loaded&&T.createElement(gt,{component:t,mount:e.mountOrganizationList,unmount:e.unmountOrganizationList,updateProps:e.__unstable__updateProps,props:n,rootProps:o}))},{component:"OrganizationList",renderWhileLoading:!0});je(({clerk:e,component:t,fallback:r,...n})=>{const i=Lt(t)==="rendering"||!e.loaded,o={...i&&r&&{style:{display:"none"}}};return T.createElement(T.Fragment,null,i&&r,e.loaded&&T.createElement(gt,{component:t,open:e.openGoogleOneTap,close:e.closeGoogleOneTap,updateProps:e.__unstable__updateProps,props:n,rootProps:o}))},{component:"GoogleOneTap",renderWhileLoading:!0});je(({clerk:e,component:t,fallback:r,...n})=>{const i=Lt(t)==="rendering"||!e.loaded,o={...i&&r&&{style:{display:"none"}}};return T.createElement(T.Fragment,null,i&&r,e.loaded&&T.createElement(gt,{component:t,mount:e.mountWaitlist,unmount:e.unmountWaitlist,updateProps:e.__unstable__updateProps,props:n,rootProps:o}))},{component:"Waitlist",renderWhileLoading:!0});je(({clerk:e,component:t,fallback:r,...n})=>{const i=Lt(t,{selector:'[data-component-status="ready"]'})==="rendering"||!e.loaded,o={...i&&r&&{style:{display:"none"}}};return T.createElement(T.Fragment,null,i&&r,e.loaded&&T.createElement(gt,{component:t,mount:e.mountPricingTable,unmount:e.unmountPricingTable,updateProps:e.__unstable__updateProps,props:n,rootProps:o}))},{component:"PricingTable",renderWhileLoading:!0});je(({clerk:e,component:t,fallback:r,...n})=>{const i=Lt(t)==="rendering"||!e.loaded,o={...i&&r&&{style:{display:"none"}}};return T.createElement(T.Fragment,null,i&&r,e.loaded&&T.createElement(gt,{component:t,mount:e.mountApiKeys,unmount:e.unmountApiKeys,updateProps:e.__unstable__updateProps,props:n,rootProps:o}))},{component:"ApiKeys",renderWhileLoading:!0});je(({clerk:e,component:t,fallback:r,...n})=>{const i=Lt(t)==="rendering"||!e.loaded,o={...i&&r&&{style:{display:"none"}}};return T.createElement(T.Fragment,null,i&&r,e.loaded&&T.createElement(gt,{component:t,mount:e.mountTaskChooseOrganization,unmount:e.unmountTaskChooseOrganization,updateProps:e.__unstable__updateProps,props:n,rootProps:o}))},{component:"TaskChooseOrganization",renderWhileLoading:!0});var ry=e=>{throw TypeError(e)},Zd=(e,t,r)=>t.has(e)||ry("Cannot "+r),_e=(e,t,r)=>(Zd(e,t,"read from private field"),r?r.call(e):t.get(e)),Mr=(e,t,r)=>t.has(e)?ry("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),gn=(e,t,r,n)=>(Zd(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),pc=(e,t,r)=>(Zd(e,t,"access private method"),r),WS=(e,t="5.91.2")=>{if(e)return e;const r=VS(t);return r?r==="snapshot"?"5.91.2":r:HS(t)},VS=e=>{var t;return(t=e.trim().replace(/^v/,"").match(/-(.+?)(\.|$)/))==null?void 0:t[1]},HS=e=>e.trim().replace(/^v/,"").split(".")[0];function KS(e){return e?qS(e)||ny(e):!0}function qS(e){return/^http(s)?:\/\//.test(e||"")}function ny(e){return e.startsWith("/")}function GS(e){return e?ny(e)?new URL(e,window.location.origin).toString():e:""}function JS(e){if(!e)return"";let t;if(e.match(/^(clerk\.)+\w*$/))t=/(clerk\.)*(?=clerk\.)/;else{if(e.match(/\.clerk.accounts/))return e;t=/^(clerk\.)*/gi}return`clerk.${e.replace(t,"")}`}var YS={initialDelay:125,maxDelayBetweenRetries:0,factor:2,shouldRetry:(e,t)=>t<5,retryImmediately:!1,jitter:!0},QS=100,sy=async e=>new Promise(t=>setTimeout(t,e)),iy=(e,t)=>t?e*(1+Math.random()):e,XS=e=>{let t=0;const r=()=>{const n=e.initialDelay,s=e.factor;let i=n*Math.pow(s,t);return i=iy(i,e.jitter),Math.min(e.maxDelayBetweenRetries||i,i)};return async()=>{await sy(r()),t++}},ZS=async(e,t={})=>{let r=0;const{shouldRetry:n,initialDelay:s,maxDelayBetweenRetries:i,factor:o,retryImmediately:a,jitter:l}={...YS,...t},u=XS({initialDelay:s,maxDelayBetweenRetries:i,factor:o,jitter:l});for(;;)try{return await e()}catch(d){if(r++,!n(d,r))throw d;a&&r===1?await sy(iy(QS,l)):await u()}},ej="loadScript cannot be called when document does not exist",tj="loadScript cannot be called without a src";async function rj(e="",t){const{async:r,defer:n,beforeLoad:s,crossOrigin:i,nonce:o}=t||{};return ZS(()=>new Promise((l,u)=>{e||u(new Error(tj)),(!document||!document.body)&&u(ej);const d=document.createElement("script");i&&d.setAttribute("crossorigin",i),d.async=r||!1,d.defer=n||!1,d.addEventListener("load",()=>{d.remove(),l(d)}),d.addEventListener("error",()=>{d.remove(),u()}),d.src=e,d.nonce=o,s==null||s(d),document.body.appendChild(d)}),{shouldRetry:(l,u)=>u<=5})}var oy="Clerk: Failed to load Clerk",{isDevOrStagingUrl:nj}=U1(),ay=_v({packageName:"@clerk/shared"});function sj(e){ay.setPackageName({packageName:e})}function Lu(){if(typeof window>"u"||!window.Clerk)return!1;const e=window.Clerk;return typeof e=="object"&&typeof e.load=="function"}function yp(e){return new Promise((t,r)=>{let n=!1;const s=(u,d)=>{clearTimeout(u),clearInterval(d)},i=()=>{n||Lu()&&(n=!0,s(a,l),t(null))},a=setTimeout(()=>{n||(n=!0,s(a,l),Lu()?t(null):r(new Error(oy)))},e);i();const l=setInterval(()=>{if(n){clearInterval(l);return}i()},100)})}var ij=async e=>{const t=(e==null?void 0:e.scriptLoadTimeout)??15e3;if(Lu())return null;if(document.querySelector("script[data-clerk-js-script]"))return yp(t);if(!(e!=null&&e.publishableKey))return ay.throwMissingPublishableKeyError(),null;const n=yp(t);return rj(oj(e),{async:!0,crossOrigin:"anonymous",nonce:e.nonce,beforeLoad:lj(e)}).catch(()=>{throw new Error(oy)}),n},oj=e=>{var d,h;const{clerkJSUrl:t,clerkJSVariant:r,clerkJSVersion:n,proxyUrl:s,domain:i,publishableKey:o}=e;if(t)return t;let a="";s&&KS(s)?a=GS(s).replace(/http(s)?:\/\//,""):i&&!nj(((d=Qf(o))==null?void 0:d.frontendApi)||"")?a=JS(i):a=((h=Qf(o))==null?void 0:h.frontendApi)||"";const l=r?`${r.replace(/\.+$/,"")}.`:"",u=WS(n);return`https://${a}/npm/@clerk/clerk-js@${u}/dist/clerk.${l}browser.js`},aj=e=>{const t={};return e.publishableKey&&(t["data-clerk-publishable-key"]=e.publishableKey),e.proxyUrl&&(t["data-clerk-proxy-url"]=e.proxyUrl),e.domain&&(t["data-clerk-domain"]=e.domain),e.nonce&&(t.nonce=e.nonce),t},lj=e=>t=>{const r=aj(e);for(const n in r)t.setAttribute(n,r[n])},cj=(e,t,r)=>!e&&r?uj(r):dj(t),uj=e=>{const t=e.userId,r=e.user,n=e.sessionId,s=e.sessionStatus,i=e.sessionClaims,o=e.session,a=e.organization,l=e.orgId,u=e.orgRole,d=e.orgPermissions,h=e.orgSlug,f=e.actor,p=e.factorVerificationAge;return{userId:t,user:r,sessionId:n,session:o,sessionStatus:s,sessionClaims:i,organization:a,orgId:l,orgRole:u,orgPermissions:d,orgSlug:h,actor:f,factorVerificationAge:p}},dj=e=>{var x,S,g,m;const t=e.user?e.user.id:e.user,r=e.user,n=e.session?e.session.id:e.session,s=e.session,i=(x=e.session)==null?void 0:x.status,o=e.session?(g=(S=e.session.lastActiveToken)==null?void 0:S.jwt)==null?void 0:g.claims:null,a=e.session?e.session.factorVerificationAge:null,l=s==null?void 0:s.actor,u=e.organization,d=e.organization?e.organization.id:e.organization,h=u==null?void 0:u.slug,f=u&&((m=r==null?void 0:r.organizationMemberships)==null?void 0:m.find(v=>v.organization.id===d)),p=f&&f.permissions,y=f&&f.role;return{userId:t,user:r,sessionId:n,session:s,sessionStatus:i,sessionClaims:o,organization:u,orgId:d,orgRole:y,orgSlug:h,orgPermissions:p,actor:l,factorVerificationAge:a}};function Aa(){return typeof window<"u"}var xp=(e,t,r,n,s)=>{const{notify:i}=s||{};let o=e.get(r);o||(o=[],e.set(r,o)),o.push(n),i&&t.has(r)&&n(t.get(r))},wp=(e,t,r)=>(e.get(t)||[]).map(n=>n(r)),_p=(e,t,r)=>{const n=e.get(t);n&&(r?n.splice(n.indexOf(r)>>>0,1):e.set(t,[]))},hj=()=>{const e=new Map,t=new Map,r=new Map;return{on:(...s)=>xp(e,t,...s),prioritizedOn:(...s)=>xp(r,t,...s),emit:(s,i)=>{t.set(s,i),wp(r,s,i),wp(e,s,i)},off:(...s)=>_p(e,...s),prioritizedOff:(...s)=>_p(r,...s),internal:{retrieveListeners:s=>e.get(s)||[]}}},zo={Status:"status"},fj=()=>hj();typeof window<"u"&&!window.global&&(window.global=typeof global>"u"?window:global);je(({clerk:e,children:t,...r})=>{const{signUpFallbackRedirectUrl:n,forceRedirectUrl:s,fallbackRedirectUrl:i,signUpForceRedirectUrl:o,mode:a,initialValues:l,withSignUp:u,oauthFlow:d,...h}=r;t=al(t,"Sign in");const f=ol(t)("SignInButton"),p=()=>{const S={forceRedirectUrl:s,fallbackRedirectUrl:i,signUpFallbackRedirectUrl:n,signUpForceRedirectUrl:o,initialValues:l,withSignUp:u,oauthFlow:d};return a==="modal"?e.openSignIn({...S,appearance:r.appearance}):e.redirectToSignIn({...S,signInFallbackRedirectUrl:i,signInForceRedirectUrl:s})},x={...h,onClick:async S=>(f&&typeof f=="object"&&"props"in f&&await ll(f.props.onClick)(S),p())};return T.cloneElement(f,x)},{component:"SignInButton",renderWhileLoading:!0});je(({clerk:e,children:t,...r})=>{const{redirectUrl:n,...s}=r;t=al(t,"Sign in with Metamask");const i=ol(t)("SignInWithMetamaskButton"),o=async()=>{async function u(){await e.authenticateWithMetamask({redirectUrl:n||void 0})}u()},l={...s,onClick:async u=>(await ll(i.props.onClick)(u),o())};return T.cloneElement(i,l)},{component:"SignInWithMetamask",renderWhileLoading:!0});je(({clerk:e,children:t,...r})=>{const{redirectUrl:n="/",signOutOptions:s,...i}=r;t=al(t,"Sign out");const o=ol(t)("SignOutButton"),a=()=>e.signOut({redirectUrl:n,...s}),u={...i,onClick:async d=>(await ll(o.props.onClick)(d),a())};return T.cloneElement(o,u)},{component:"SignOutButton",renderWhileLoading:!0});je(({clerk:e,children:t,...r})=>{const{fallbackRedirectUrl:n,forceRedirectUrl:s,signInFallbackRedirectUrl:i,signInForceRedirectUrl:o,mode:a,initialValues:l,oauthFlow:u,...d}=r;t=al(t,"Sign up");const h=ol(t)("SignUpButton"),f=()=>{const x={fallbackRedirectUrl:n,forceRedirectUrl:s,signInFallbackRedirectUrl:i,signInForceRedirectUrl:o,initialValues:l,oauthFlow:u};return a==="modal"?e.openSignUp({...x,appearance:r.appearance,unsafeMetadata:r.unsafeMetadata}):e.redirectToSignUp({...x,signUpFallbackRedirectUrl:n,signUpForceRedirectUrl:s})},y={...d,onClick:async x=>(h&&typeof h=="object"&&"props"in h&&await ll(h.props.onClick)(x),f())};return T.cloneElement(h,y)},{component:"SignUpButton",renderWhileLoading:!0});var kp=()=>({fields:{firstName:null,lastName:null,emailAddress:null,identifier:null,phoneNumber:null,password:null,username:null,code:null,captcha:null,legalAccepted:null},raw:null,global:null}),pj=class{constructor(e){this.isomorphicClerk=e,this.signInSignalProxy=this.buildSignInProxy(),this.signUpSignalProxy=this.buildSignUpProxy()}signInSignal(){return this.signInSignalProxy}signUpSignal(){return this.signUpSignalProxy}buildSignInProxy(){const e=()=>this.client.signIn.__internal_future;return{errors:kp(),fetchStatus:"idle",signIn:{status:"needs_identifier",availableStrategies:[],isTransferable:!1,create:this.gateMethod(e,"create"),password:this.gateMethod(e,"password"),sso:this.gateMethod(e,"sso"),finalize:this.gateMethod(e,"finalize"),emailCode:this.wrapMethods(()=>e().emailCode,["sendCode","verifyCode"]),resetPasswordEmailCode:this.wrapMethods(()=>e().resetPasswordEmailCode,["sendCode","verifyCode","submitPassword"]),phoneCode:this.wrapMethods(()=>e().phoneCode,["sendCode","verifyCode"]),mfa:this.wrapMethods(()=>e().mfa,["sendPhoneCode","verifyPhoneCode","verifyTOTP","verifyBackupCode"])}}}buildSignUpProxy(){const e=this.gateProperty.bind(this),t=this.gateMethod.bind(this),r=this.wrapMethods.bind(this),n=()=>this.client.signUp.__internal_future;return{errors:kp(),fetchStatus:"idle",signUp:{get status(){return e(n,"status","missing_requirements")},get unverifiedFields(){return e(n,"unverifiedFields",[])},get isTransferable(){return e(n,"isTransferable",!1)},create:t(n,"create"),sso:t(n,"sso"),password:t(n,"password"),finalize:t(n,"finalize"),verifications:r(()=>n().verifications,["sendEmailCode","verifyEmailCode","sendPhoneCode","verifyPhoneCode"])}}}__internal_effect(e){throw new Error("__internal_effect called before Clerk is loaded")}__internal_computed(e){throw new Error("__internal_computed called before Clerk is loaded")}get client(){const e=this.isomorphicClerk.client;if(!e)throw new Error("Clerk client not ready");return e}gateProperty(e,t,r){return(()=>!Aa()||!this.isomorphicClerk.loaded?r:e()[t])()}gateMethod(e,t){return async(...r)=>{if(!Aa())return tr.throw(`Attempted to call a method (${t}) that is not supported on the server.`);this.isomorphicClerk.loaded||await new Promise(s=>this.isomorphicClerk.addOnLoaded(s));const n=e();return n[t].apply(n,r)}}wrapMethods(e,t){return Object.fromEntries(t.map(r=>[r,this.gateMethod(e,r)]))}};typeof globalThis.__BUILD_DISABLE_RHC__>"u"&&(globalThis.__BUILD_DISABLE_RHC__=!1);var mj={name:"@clerk/clerk-react",version:"5.46.1",environment:"production"},na,Xn,Zn,Dr,mr,sa,Wr,ii,ia,ly=class cy{constructor(t){Mr(this,ii),this.clerkjs=null,this.preopenOneTap=null,this.preopenUserVerification=null,this.preopenSignIn=null,this.preopenCheckout=null,this.preopenPlanDetails=null,this.preopenSubscriptionDetails=null,this.preopenSignUp=null,this.preopenUserProfile=null,this.preopenOrganizationProfile=null,this.preopenCreateOrganization=null,this.preOpenWaitlist=null,this.premountSignInNodes=new Map,this.premountSignUpNodes=new Map,this.premountUserProfileNodes=new Map,this.premountUserButtonNodes=new Map,this.premountOrganizationProfileNodes=new Map,this.premountCreateOrganizationNodes=new Map,this.premountOrganizationSwitcherNodes=new Map,this.premountOrganizationListNodes=new Map,this.premountMethodCalls=new Map,this.premountWaitlistNodes=new Map,this.premountPricingTableNodes=new Map,this.premountApiKeysNodes=new Map,this.premountOAuthConsentNodes=new Map,this.premountTaskChooseOrganizationNodes=new Map,this.premountAddListenerCalls=new Map,this.loadedListeners=[],Mr(this,na,"loading"),Mr(this,Xn),Mr(this,Zn),Mr(this,Dr),Mr(this,mr,fj()),Mr(this,sa),this.buildSignInUrl=s=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildSignInUrl(s))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildSignInUrl",i)},this.buildSignUpUrl=s=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildSignUpUrl(s))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildSignUpUrl",i)},this.buildAfterSignInUrl=(...s)=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildAfterSignInUrl(...s))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildAfterSignInUrl",i)},this.buildAfterSignUpUrl=(...s)=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildAfterSignUpUrl(...s))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildAfterSignUpUrl",i)},this.buildAfterSignOutUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildAfterSignOutUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildAfterSignOutUrl",s)},this.buildNewSubscriptionRedirectUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildNewSubscriptionRedirectUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildNewSubscriptionRedirectUrl",s)},this.buildAfterMultiSessionSingleSignOutUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildAfterMultiSessionSingleSignOutUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildAfterMultiSessionSingleSignOutUrl",s)},this.buildUserProfileUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildUserProfileUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildUserProfileUrl",s)},this.buildCreateOrganizationUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildCreateOrganizationUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildCreateOrganizationUrl",s)},this.buildOrganizationProfileUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildOrganizationProfileUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildOrganizationProfileUrl",s)},this.buildWaitlistUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildWaitlistUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildWaitlistUrl",s)},this.buildTasksUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildTasksUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildTasksUrl",s)},this.buildUrlWithAuth=s=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildUrlWithAuth(s))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildUrlWithAuth",i)},this.handleUnauthenticated=async()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.handleUnauthenticated()};this.clerkjs&&this.loaded?s():this.premountMethodCalls.set("handleUnauthenticated",s)},this.on=(...s)=>{var i;if((i=this.clerkjs)!=null&&i.on)return this.clerkjs.on(...s);_e(this,mr).on(...s)},this.off=(...s)=>{var i;if((i=this.clerkjs)!=null&&i.off)return this.clerkjs.off(...s);_e(this,mr).off(...s)},this.addOnLoaded=s=>{this.loadedListeners.push(s),this.loaded&&this.emitLoaded()},this.emitLoaded=()=>{this.loadedListeners.forEach(s=>s()),this.loadedListeners=[]},this.beforeLoad=s=>{if(!s)throw new Error("Failed to hydrate latest Clerk JS")},this.hydrateClerkJS=s=>{var i;if(!s)throw new Error("Failed to hydrate latest Clerk JS");return this.clerkjs=s,this.premountMethodCalls.forEach(o=>o()),this.premountAddListenerCalls.forEach((o,a)=>{o.nativeUnsubscribe=s.addListener(a)}),(i=_e(this,mr).internal.retrieveListeners("status"))==null||i.forEach(o=>{this.on("status",o,{notify:!0})}),this.preopenSignIn!==null&&s.openSignIn(this.preopenSignIn),this.preopenCheckout!==null&&s.__internal_openCheckout(this.preopenCheckout),this.preopenPlanDetails!==null&&s.__internal_openPlanDetails(this.preopenPlanDetails),this.preopenSubscriptionDetails!==null&&s.__internal_openSubscriptionDetails(this.preopenSubscriptionDetails),this.preopenSignUp!==null&&s.openSignUp(this.preopenSignUp),this.preopenUserProfile!==null&&s.openUserProfile(this.preopenUserProfile),this.preopenUserVerification!==null&&s.__internal_openReverification(this.preopenUserVerification),this.preopenOneTap!==null&&s.openGoogleOneTap(this.preopenOneTap),this.preopenOrganizationProfile!==null&&s.openOrganizationProfile(this.preopenOrganizationProfile),this.preopenCreateOrganization!==null&&s.openCreateOrganization(this.preopenCreateOrganization),this.preOpenWaitlist!==null&&s.openWaitlist(this.preOpenWaitlist),this.premountSignInNodes.forEach((o,a)=>{s.mountSignIn(a,o)}),this.premountSignUpNodes.forEach((o,a)=>{s.mountSignUp(a,o)}),this.premountUserProfileNodes.forEach((o,a)=>{s.mountUserProfile(a,o)}),this.premountUserButtonNodes.forEach((o,a)=>{s.mountUserButton(a,o)}),this.premountOrganizationListNodes.forEach((o,a)=>{s.mountOrganizationList(a,o)}),this.premountWaitlistNodes.forEach((o,a)=>{s.mountWaitlist(a,o)}),this.premountPricingTableNodes.forEach((o,a)=>{s.mountPricingTable(a,o)}),this.premountApiKeysNodes.forEach((o,a)=>{s.mountApiKeys(a,o)}),this.premountOAuthConsentNodes.forEach((o,a)=>{s.__internal_mountOAuthConsent(a,o)}),this.premountTaskChooseOrganizationNodes.forEach((o,a)=>{s.mountTaskChooseOrganization(a,o)}),typeof this.clerkjs.status>"u"&&_e(this,mr).emit(zo.Status,"ready"),this.emitLoaded(),this.clerkjs},this.__experimental_checkout=(...s)=>{var i;return(i=this.clerkjs)==null?void 0:i.__experimental_checkout(...s)},this.__unstable__updateProps=async s=>{const i=await pc(this,ii,ia).call(this);if(i&&"__unstable__updateProps"in i)return i.__unstable__updateProps(s)},this.setActive=s=>this.clerkjs?this.clerkjs.setActive(s):Promise.reject(),this.openSignIn=s=>{this.clerkjs&&this.loaded?this.clerkjs.openSignIn(s):this.preopenSignIn=s},this.closeSignIn=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignIn():this.preopenSignIn=null},this.__internal_openCheckout=s=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openCheckout(s):this.preopenCheckout=s},this.__internal_closeCheckout=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeCheckout():this.preopenCheckout=null},this.__internal_openPlanDetails=s=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openPlanDetails(s):this.preopenPlanDetails=s},this.__internal_closePlanDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closePlanDetails():this.preopenPlanDetails=null},this.__internal_openSubscriptionDetails=s=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openSubscriptionDetails(s):this.preopenSubscriptionDetails=s??null},this.__internal_closeSubscriptionDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeSubscriptionDetails():this.preopenSubscriptionDetails=null},this.__internal_openReverification=s=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openReverification(s):this.preopenUserVerification=s},this.__internal_closeReverification=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeReverification():this.preopenUserVerification=null},this.openGoogleOneTap=s=>{this.clerkjs&&this.loaded?this.clerkjs.openGoogleOneTap(s):this.preopenOneTap=s},this.closeGoogleOneTap=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeGoogleOneTap():this.preopenOneTap=null},this.openUserProfile=s=>{this.clerkjs&&this.loaded?this.clerkjs.openUserProfile(s):this.preopenUserProfile=s},this.closeUserProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeUserProfile():this.preopenUserProfile=null},this.openOrganizationProfile=s=>{this.clerkjs&&this.loaded?this.clerkjs.openOrganizationProfile(s):this.preopenOrganizationProfile=s},this.closeOrganizationProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeOrganizationProfile():this.preopenOrganizationProfile=null},this.openCreateOrganization=s=>{this.clerkjs&&this.loaded?this.clerkjs.openCreateOrganization(s):this.preopenCreateOrganization=s},this.closeCreateOrganization=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeCreateOrganization():this.preopenCreateOrganization=null},this.openWaitlist=s=>{this.clerkjs&&this.loaded?this.clerkjs.openWaitlist(s):this.preOpenWaitlist=s},this.closeWaitlist=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeWaitlist():this.preOpenWaitlist=null},this.openSignUp=s=>{this.clerkjs&&this.loaded?this.clerkjs.openSignUp(s):this.preopenSignUp=s},this.closeSignUp=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignUp():this.preopenSignUp=null},this.mountSignIn=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignIn(s,i):this.premountSignInNodes.set(s,i)},this.unmountSignIn=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignIn(s):this.premountSignInNodes.delete(s)},this.mountSignUp=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignUp(s,i):this.premountSignUpNodes.set(s,i)},this.unmountSignUp=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignUp(s):this.premountSignUpNodes.delete(s)},this.mountUserProfile=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserProfile(s,i):this.premountUserProfileNodes.set(s,i)},this.unmountUserProfile=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserProfile(s):this.premountUserProfileNodes.delete(s)},this.mountOrganizationProfile=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationProfile(s,i):this.premountOrganizationProfileNodes.set(s,i)},this.unmountOrganizationProfile=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationProfile(s):this.premountOrganizationProfileNodes.delete(s)},this.mountCreateOrganization=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountCreateOrganization(s,i):this.premountCreateOrganizationNodes.set(s,i)},this.unmountCreateOrganization=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountCreateOrganization(s):this.premountCreateOrganizationNodes.delete(s)},this.mountOrganizationSwitcher=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationSwitcher(s,i):this.premountOrganizationSwitcherNodes.set(s,i)},this.unmountOrganizationSwitcher=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationSwitcher(s):this.premountOrganizationSwitcherNodes.delete(s)},this.__experimental_prefetchOrganizationSwitcher=()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.__experimental_prefetchOrganizationSwitcher()};this.clerkjs&&this.loaded?s():this.premountMethodCalls.set("__experimental_prefetchOrganizationSwitcher",s)},this.mountOrganizationList=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationList(s,i):this.premountOrganizationListNodes.set(s,i)},this.unmountOrganizationList=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationList(s):this.premountOrganizationListNodes.delete(s)},this.mountUserButton=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserButton(s,i):this.premountUserButtonNodes.set(s,i)},this.unmountUserButton=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserButton(s):this.premountUserButtonNodes.delete(s)},this.mountWaitlist=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountWaitlist(s,i):this.premountWaitlistNodes.set(s,i)},this.unmountWaitlist=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountWaitlist(s):this.premountWaitlistNodes.delete(s)},this.mountPricingTable=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountPricingTable(s,i):this.premountPricingTableNodes.set(s,i)},this.unmountPricingTable=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountPricingTable(s):this.premountPricingTableNodes.delete(s)},this.mountApiKeys=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountApiKeys(s,i):this.premountApiKeysNodes.set(s,i)},this.unmountApiKeys=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountApiKeys(s):this.premountApiKeysNodes.delete(s)},this.__internal_mountOAuthConsent=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_mountOAuthConsent(s,i):this.premountOAuthConsentNodes.set(s,i)},this.__internal_unmountOAuthConsent=s=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_unmountOAuthConsent(s):this.premountOAuthConsentNodes.delete(s)},this.mountTaskChooseOrganization=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountTaskChooseOrganization(s,i):this.premountTaskChooseOrganizationNodes.set(s,i)},this.unmountTaskChooseOrganization=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountTaskChooseOrganization(s):this.premountTaskChooseOrganizationNodes.delete(s)},this.addListener=s=>{if(this.clerkjs)return this.clerkjs.addListener(s);{const i=()=>{var o;const a=this.premountAddListenerCalls.get(s);a&&((o=a.nativeUnsubscribe)==null||o.call(a),this.premountAddListenerCalls.delete(s))};return this.premountAddListenerCalls.set(s,{unsubscribe:i,nativeUnsubscribe:void 0}),i}},this.navigate=s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.navigate(s)};this.clerkjs&&this.loaded?i():this.premountMethodCalls.set("navigate",i)},this.redirectWithAuth=async(...s)=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectWithAuth(...s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectWithAuth",i)},this.redirectToSignIn=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToSignIn(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToSignIn",i)},this.redirectToSignUp=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToSignUp(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToSignUp",i)},this.redirectToUserProfile=async()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToUserProfile()};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToUserProfile",s)},this.redirectToAfterSignUp=()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignUp()};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToAfterSignUp",s)},this.redirectToAfterSignIn=()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignIn()};this.clerkjs&&this.loaded?s():this.premountMethodCalls.set("redirectToAfterSignIn",s)},this.redirectToAfterSignOut=()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignOut()};this.clerkjs&&this.loaded?s():this.premountMethodCalls.set("redirectToAfterSignOut",s)},this.redirectToOrganizationProfile=async()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToOrganizationProfile()};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToOrganizationProfile",s)},this.redirectToCreateOrganization=async()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToCreateOrganization()};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToCreateOrganization",s)},this.redirectToWaitlist=async()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToWaitlist()};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToWaitlist",s)},this.redirectToTasks=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToTasks(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToTasks",i)},this.handleRedirectCallback=async s=>{var i;const o=()=>{var a;return(a=this.clerkjs)==null?void 0:a.handleRedirectCallback(s)};this.clerkjs&&this.loaded?(i=o())==null||i.catch(()=>{}):this.premountMethodCalls.set("handleRedirectCallback",o)},this.handleGoogleOneTapCallback=async(s,i)=>{var o;const a=()=>{var l;return(l=this.clerkjs)==null?void 0:l.handleGoogleOneTapCallback(s,i)};this.clerkjs&&this.loaded?(o=a())==null||o.catch(()=>{}):this.premountMethodCalls.set("handleGoogleOneTapCallback",a)},this.handleEmailLinkVerification=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.handleEmailLinkVerification(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("handleEmailLinkVerification",i)},this.authenticateWithMetamask=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithMetamask(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithMetamask",i)},this.authenticateWithCoinbaseWallet=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithCoinbaseWallet(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithCoinbaseWallet",i)},this.authenticateWithBase=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithBase(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithBase",i)},this.authenticateWithOKXWallet=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithOKXWallet(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithOKXWallet",i)},this.authenticateWithWeb3=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithWeb3(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithWeb3",i)},this.authenticateWithGoogleOneTap=async s=>(await pc(this,ii,ia).call(this)).authenticateWithGoogleOneTap(s),this.__internal_loadStripeJs=async()=>(await pc(this,ii,ia).call(this)).__internal_loadStripeJs(),this.createOrganization=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.createOrganization(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("createOrganization",i)},this.getOrganization=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.getOrganization(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("getOrganization",i)},this.joinWaitlist=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.joinWaitlist(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("joinWaitlist",i)},this.signOut=async(...s)=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.signOut(...s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("signOut",i)};const{Clerk:r=null,publishableKey:n}=t||{};gn(this,Dr,n),gn(this,Zn,t==null?void 0:t.proxyUrl),gn(this,Xn,t==null?void 0:t.domain),this.options=t,this.Clerk=r,this.mode=Aa()?"browser":"server",gn(this,sa,new pj(this)),this.options.sdkMetadata||(this.options.sdkMetadata=mj),_e(this,mr).emit(zo.Status,"loading"),_e(this,mr).prioritizedOn(zo.Status,s=>gn(this,na,s)),_e(this,Dr)&&this.loadClerkJS()}get publishableKey(){return _e(this,Dr)}get loaded(){var t;return((t=this.clerkjs)==null?void 0:t.loaded)||!1}get status(){var t;return this.clerkjs?((t=this.clerkjs)==null?void 0:t.status)||(this.clerkjs.loaded?"ready":"loading"):_e(this,na)}static getOrCreateInstance(t){return(!Aa()||!_e(this,Wr)||t.Clerk&&_e(this,Wr).Clerk!==t.Clerk||_e(this,Wr).publishableKey!==t.publishableKey)&&gn(this,Wr,new cy(t)),_e(this,Wr)}static clearInstance(){gn(this,Wr,null)}get domain(){return typeof window<"u"&&window.location?cc(_e(this,Xn),new URL(window.location.href),""):typeof _e(this,Xn)=="function"?tr.throw(lc):_e(this,Xn)||""}get proxyUrl(){return typeof window<"u"&&window.location?cc(_e(this,Zn),new URL(window.location.href),""):typeof _e(this,Zn)=="function"?tr.throw(lc):_e(this,Zn)||""}__internal_getOption(t){var r,n;return(r=this.clerkjs)!=null&&r.__internal_getOption?(n=this.clerkjs)==null?void 0:n.__internal_getOption(t):this.options[t]}get sdkMetadata(){var t;return((t=this.clerkjs)==null?void 0:t.sdkMetadata)||this.options.sdkMetadata||void 0}get instanceType(){var t;return(t=this.clerkjs)==null?void 0:t.instanceType}get frontendApi(){var t;return((t=this.clerkjs)==null?void 0:t.frontendApi)||""}get isStandardBrowser(){var t;return((t=this.clerkjs)==null?void 0:t.isStandardBrowser)||this.options.standardBrowser||!1}get isSatellite(){return typeof window<"u"&&window.location?cc(this.options.isSatellite,new URL(window.location.href),!1):typeof this.options.isSatellite=="function"?tr.throw(lc):!1}async loadClerkJS(){var t;if(!(this.mode!=="browser"||this.loaded)){typeof window<"u"&&(window.__clerk_publishable_key=_e(this,Dr),window.__clerk_proxy_url=this.proxyUrl,window.__clerk_domain=this.domain);try{if(this.Clerk){let r;CS(this.Clerk)?(r=new this.Clerk(_e(this,Dr),{proxyUrl:this.proxyUrl,domain:this.domain}),this.beforeLoad(r),await r.load(this.options)):(r=this.Clerk,r.loaded||(this.beforeLoad(r),await r.load(this.options))),global.Clerk=r}else if(!__BUILD_DISABLE_RHC__){if(global.Clerk||await ij({...this.options,publishableKey:_e(this,Dr),proxyUrl:this.proxyUrl,domain:this.domain,nonce:this.options.nonce}),!global.Clerk)throw new Error("Failed to download latest ClerkJS. Contact support@clerk.com.");this.beforeLoad(global.Clerk),await global.Clerk.load(this.options)}return(t=global.Clerk)!=null&&t.loaded?this.hydrateClerkJS(global.Clerk):void 0}catch(r){const n=r;_e(this,mr).emit(zo.Status,"error"),console.error(n.stack||n.message||n);return}}}get version(){var t;return(t=this.clerkjs)==null?void 0:t.version}get client(){if(this.clerkjs)return this.clerkjs.client}get session(){if(this.clerkjs)return this.clerkjs.session}get user(){if(this.clerkjs)return this.clerkjs.user}get organization(){if(this.clerkjs)return this.clerkjs.organization}get telemetry(){if(this.clerkjs)return this.clerkjs.telemetry}get __unstable__environment(){if(this.clerkjs)return this.clerkjs.__unstable__environment}get isSignedIn(){return this.clerkjs?this.clerkjs.isSignedIn:!1}get billing(){var t;return(t=this.clerkjs)==null?void 0:t.billing}get __internal_state(){return this.loaded&&this.clerkjs?this.clerkjs.__internal_state:_e(this,sa)}get apiKeys(){var t;return(t=this.clerkjs)==null?void 0:t.apiKeys}__unstable__setEnvironment(...t){if(this.clerkjs&&"__unstable__setEnvironment"in this.clerkjs)this.clerkjs.__unstable__setEnvironment(t);else return}};na=new WeakMap;Xn=new WeakMap;Zn=new WeakMap;Dr=new WeakMap;mr=new WeakMap;sa=new WeakMap;Wr=new WeakMap;ii=new WeakSet;ia=function(){return new Promise(e=>{this.addOnLoaded(()=>e(this.clerkjs))})};Mr(ly,Wr);var Sp=ly;function gj(e){const{isomorphicClerkOptions:t,initialState:r,children:n}=e,{isomorphicClerk:s,clerkStatus:i}=vj(t),[o,a]=T.useState({client:s.client,session:s.session,user:s.user,organization:s.organization});T.useEffect(()=>s.addListener(J=>a({...J})),[]);const l=cj(s.loaded,o,r),u=T.useMemo(()=>({value:s}),[i]),d=T.useMemo(()=>({value:o.client}),[o.client]),{sessionId:h,sessionStatus:f,sessionClaims:p,session:y,userId:x,user:S,orgId:g,actor:m,organization:v,orgRole:b,orgSlug:j,orgPermissions:P,factorVerificationAge:w}=l,C=T.useMemo(()=>({value:{sessionId:h,sessionStatus:f,sessionClaims:p,userId:x,actor:m,orgId:g,orgRole:b,orgSlug:j,orgPermissions:P,factorVerificationAge:w}}),[h,f,x,m,g,b,j,w,p==null?void 0:p.__raw]),A=T.useMemo(()=>({value:y}),[h,y]),R=T.useMemo(()=>({value:S}),[x,S]),F=T.useMemo(()=>({value:{organization:v}}),[g,v]);return T.createElement(rS.Provider,{value:u},T.createElement(zk.Provider,{value:d},T.createElement($k.Provider,{value:A},T.createElement(Hk,{...F.value},T.createElement(eS.Provider,{value:C},T.createElement(Mk.Provider,{value:R},T.createElement(Wk,{value:void 0},n)))))))}var vj=e=>{const t=T.useRef(Sp.getOrCreateInstance(e)),[r,n]=T.useState(t.current.status);return T.useEffect(()=>{t.current.__unstable__updateProps({appearance:e.appearance})},[e.appearance]),T.useEffect(()=>{t.current.__unstable__updateProps({options:e})},[e.localization]),T.useEffect(()=>(t.current.on("status",n),()=>{t.current&&t.current.off("status",n),Sp.clearInstance()}),[]),{isomorphicClerk:t.current,clerkStatus:r}};function yj(e){const{initialState:t,children:r,__internal_bypassMissingPublishableKey:n,...s}=e,{publishableKey:i="",Clerk:o}=s;return!o&&!n&&(i?i&&!_u(i)&&tr.throwInvalidPublishableKeyError({key:i}):tr.throwMissingPublishableKeyError()),T.createElement(gj,{initialState:t,isomorphicClerkOptions:s},r)}var uy=NS(yj,"ClerkProvider",nS);uy.displayName="ClerkProvider";Zk({packageName:"@clerk/clerk-react"});sj("@clerk/clerk-react");const dy=_.createContext(void 0),eo=()=>{const e=_.useContext(dy);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e},xj=({children:e})=>{const[t,r]=_.useState([]);_.useEffect(()=>{const f=localStorage.getItem("mercadillo-cart");if(f)try{r(JSON.parse(f))}catch(p){console.error("Error loading cart from localStorage:",p)}},[]),_.useEffect(()=>{localStorage.setItem("mercadillo-cart",JSON.stringify(t))},[t]);const n=(f,p=1)=>{r(y=>y.find(S=>S.producto.id===f.id)?y.map(S=>S.producto.id===f.id?{...S,cantidad:S.cantidad+p}:S):[...y,{producto:f,cantidad:p}])},s=f=>{r(p=>p.filter(y=>y.producto.id!==f))},i=(f,p)=>{if(p<=0){s(f);return}r(y=>y.map(x=>x.producto.id===f?{...x,cantidad:p}:x))},o=()=>{r([])},a=()=>t.reduce((f,p)=>f+p.cantidad,0),l=()=>t.reduce((f,p)=>f+p.producto.precio*p.cantidad,0),u=()=>l()*.18,h={items:t,addToCart:n,removeFromCart:s,updateQuantity:i,clearCart:o,getTotalItems:a,getSubtotal:l,getIGV:u,getTotal:()=>l()+u()};return c.jsx(dy.Provider,{value:h,children:e})},wj="modulepreload",_j=function(e){return"/"+e},jp={},to=function(t,r,n){if(!r||r.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=_j(i),i in jp)return;jp[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!n)for(let d=s.length-1;d>=0;d--){const h=s[d];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":wj,o||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),o)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},kj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>to(()=>Promise.resolve().then(()=>Us),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class eh extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Sj extends eh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class bp extends eh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Ep extends eh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Au;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Au||(Au={}));var jj=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class bj{constructor(t,{headers:r={},customFetch:n,region:s=Au.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=kj(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return jj(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:l}=r;l||(l=this.region);const u=new URL(`${this.url}/${t}`);l&&l!=="any"&&(a["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(a["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(a["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:d}).catch(x=>{throw new Sj(x)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new bp(h);if(!h.ok)throw new Ep(h);let p=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return p==="application/json"?y=yield h.json():p==="application/octet-stream"?y=yield h.blob():p==="text/event-stream"?y=h:p==="multipart/form-data"?y=yield h.formData():y=yield h.text(),{data:y,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof Ep||s instanceof bp?s.context:void 0}}})}}var xt={},th={},fl={},ro={},pl={},ml={},Ej=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ts=Ej();const Cj=Ts.fetch,hy=Ts.fetch.bind(Ts),fy=Ts.Headers,Pj=Ts.Request,Nj=Ts.Response,Us=Object.freeze(Object.defineProperty({__proto__:null,Headers:fy,Request:Pj,Response:Nj,default:hy,fetch:Cj},Symbol.toStringTag,{value:"Module"})),Tj=t0(Us);var gl={};Object.defineProperty(gl,"__esModule",{value:!0});let Rj=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};gl.default=Rj;var py=Ft&&Ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ml,"__esModule",{value:!0});const Oj=py(Tj),Ij=py(gl);let Lj=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Oj.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l,u;let d=null,h=null,f=null,p=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=m:h=JSON.parse(m))}const S=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),g=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");S&&g&&g.length>1&&(f=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,p=406,y="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const S=await i.text();try{d=JSON.parse(S),Array.isArray(d)&&i.status===404&&(h=[],d=null,p=200,y="OK")}catch{i.status===404&&S===""?(p=204,y="No Content"):d={message:S}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,p=200,y="OK"),d&&this.shouldThrowOnError)throw new Ij.default(d)}return{error:d,data:h,count:f,status:p,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};ml.default=Lj;var Aj=Ft&&Ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pl,"__esModule",{value:!0});const Uj=Aj(ml);let Mj=class extends Uj.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};pl.default=Mj;var Dj=Ft&&Ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ro,"__esModule",{value:!0});const zj=Dj(pl);let $j=class extends zj.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};ro.default=$j;var Fj=Ft&&Ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fl,"__esModule",{value:!0});const Xs=Fj(ro);let Bj=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new Xs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var s;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Xs.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Xs.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Xs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Xs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};fl.default=Bj;var my=Ft&&Ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(th,"__esModule",{value:!0});const Wj=my(fl),Vj=my(ro);let Hj=class gy{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new Wj.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new gy(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${t}`);let u;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{l.searchParams.append(h,f)})):(a="POST",u=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new Vj.default({method:a,url:l,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};th.default=Hj;var Ms=Ft&&Ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xt,"__esModule",{value:!0});xt.PostgrestError=xt.PostgrestBuilder=xt.PostgrestTransformBuilder=xt.PostgrestFilterBuilder=xt.PostgrestQueryBuilder=xt.PostgrestClient=void 0;const vy=Ms(th);xt.PostgrestClient=vy.default;const yy=Ms(fl);xt.PostgrestQueryBuilder=yy.default;const xy=Ms(ro);xt.PostgrestFilterBuilder=xy.default;const wy=Ms(pl);xt.PostgrestTransformBuilder=wy.default;const _y=Ms(ml);xt.PostgrestBuilder=_y.default;const ky=Ms(gl);xt.PostgrestError=ky.default;var Kj=xt.default={PostgrestClient:vy.default,PostgrestQueryBuilder:yy.default,PostgrestFilterBuilder:xy.default,PostgrestTransformBuilder:wy.default,PostgrestBuilder:_y.default,PostgrestError:ky.default};const{PostgrestClient:qj,PostgrestQueryBuilder:DC,PostgrestFilterBuilder:zC,PostgrestTransformBuilder:$C,PostgrestBuilder:FC,PostgrestError:BC}=Kj;class Gj{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Jj="2.15.5",Yj=`realtime-js/${Jj}`,Qj="1.0.0",Uu=1e4,Xj=1e3,Zj=100;var xi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(xi||(xi={}));var Fe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Fe||(Fe={}));var Yt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Yt||(Yt={}));var Mu;(function(e){e.websocket="websocket"})(Mu||(Mu={}));var jn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(jn||(jn={}));class eb{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+s));o=o+s;const l=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Sy{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ve;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ve||(ve={}));const Cp=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=tb(o,e,t,s),i),{})},tb=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?jy(i,o):Du(o)},jy=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return ib(t,r)}switch(e){case ve.bool:return rb(t);case ve.float4:case ve.float8:case ve.int2:case ve.int4:case ve.int8:case ve.numeric:case ve.oid:return nb(t);case ve.json:case ve.jsonb:return sb(t);case ve.timestamp:return ob(t);case ve.abstime:case ve.date:case ve.daterange:case ve.int4range:case ve.int8range:case ve.money:case ve.reltime:case ve.text:case ve.time:case ve.timestamptz:case ve.timetz:case ve.tsrange:case ve.tstzrange:return Du(t);default:return Du(t)}},Du=e=>e,rb=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},nb=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},sb=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},ib=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>jy(t,a))}return e},ob=e=>typeof e=="string"?e.replace(" ","T"):e,by=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class mc{constructor(t,r,n={},s=Uu){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Pp;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Pp||(Pp={}));class wi{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wi.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=wi.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=wi.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(S=>S.presence_ref),p=h.map(S=>S.presence_ref),y=d.filter(S=>p.indexOf(S.presence_ref)<0),x=h.filter(S=>f.indexOf(S.presence_ref)<0);y.length>0&&(a[u]=y),x.length>0&&(l[u]=x)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),d.length>0){const h=t[a].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);t[a].unshift(...f)}n(a,d,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Np;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Np||(Np={}));var _i;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(_i||(_i={}));var yr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(yr||(yr={}));class rh{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new mc(this,Yt.join,this.params,this.timeout),this.rejoinTimer=new Sy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new wi(this),this.broadcastEndpointURL=by(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Fe.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[_i.PRESENCE]&&this.bindings[_i.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(yr.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(yr.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var y;if(this.socket.setAuth(),p===void 0){t==null||t(yr.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,S=(y=x==null?void 0:x.length)!==null&&y!==void 0?y:0,g=[];for(let m=0;m<S;m++){const v=x[m],{filter:{event:b,schema:j,table:P,filter:w}}=v,C=p&&p[m];if(C&&C.event===b&&C.schema===j&&C.table===P&&C.filter===w)g.push(Object.assign(Object.assign({},v),{id:C.id}));else{this.unsubscribe(),this.state=Fe.errored,t==null||t(yr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(yr.SUBSCRIBED);return}}).receive("error",p=>{this.state=Fe.errored,t==null||t(yr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(yr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Fe.joined&&t===_i.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Fe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new mc(this,Yt.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Fe.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new mc(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Zj){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=Yt;if(n&&[a,l,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var y,x,S;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((S=(x=p.filter)===null||x===void 0?void 0:x.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(p=>p.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var y,x,S,g,m,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const b=p.id,j=(y=p.filter)===null||y===void 0?void 0:y.event;return b&&((x=r.ids)===null||x===void 0?void 0:x.includes(b))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const b=(m=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return b==="*"||b===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:x,table:S,commit_timestamp:g,type:m,errors:v}=y;f=Object.assign(Object.assign({},{schema:x,table:S,commit_timestamp:g,eventType:m,new:{},old:{},errors:v}),this._getPayloadRecords(y))}p.callback(f,n)})}_isClosed(){return this.state===Fe.closed}_isJoined(){return this.state===Fe.joined}_isJoining(){return this.state===Fe.joining}_isLeaving(){return this.state===Fe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&rh.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Yt.close,{},t)}_onError(t){this._on(Yt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Cp(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Cp(t.columns,t.old_record)),r}}const gc=()=>{},$o={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ab=[1e3,2e3,5e3,1e4],lb=1e4,cb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ub{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Uu,this.transport=null,this.heartbeatIntervalMs=$o.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=gc,this.ref=0,this.reconnectTimer=null,this.logger=gc,this.conn=null,this.sendBuffer=[],this.serializer=new eb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>to(()=>Promise.resolve().then(()=>Us),void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Mu.websocket}`,this.httpEndpoint=by(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Gj.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Qj}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case xi.connecting:return jn.Connecting;case xi.open:return jn.Open;case xi.closing:return jn.Closing;default:return jn.Closed}}isConnected(){return this.connectionState()===jn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new rh(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Xj,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},$o.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Yt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([cb],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Yj};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Yt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Sy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},$o.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,a,l,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Uu,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:$o.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:gc,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:h=>ab[h-1]||lb,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(h,f)=>f(JSON.stringify(h)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class nh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Be(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class db extends nh{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class zu extends nh{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var hb=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const Ey=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>to(()=>Promise.resolve().then(()=>Us),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},fb=()=>hb(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield to(()=>Promise.resolve().then(()=>Us),void 0)).Response:Response}),$u=e=>{if(Array.isArray(e))return e.map(r=>$u(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=$u(n)}),t},pb=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var $n=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const vc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),mb=(e,t,r)=>$n(void 0,void 0,void 0,function*(){const n=yield fb();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new db(vc(s),i,o))}).catch(s=>{t(new zu(vc(s),s))}):t(new zu(vc(e),e))}),gb=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(pb(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function no(e,t,r,n,s,i){return $n(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,gb(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>mb(l,a,n))})})}function Ua(e,t,r,n){return $n(this,void 0,void 0,function*(){return no(e,"GET",t,r,n)})}function lr(e,t,r,n,s){return $n(this,void 0,void 0,function*(){return no(e,"POST",t,n,s,r)})}function Fu(e,t,r,n,s){return $n(this,void 0,void 0,function*(){return no(e,"PUT",t,n,s,r)})}function vb(e,t,r,n){return $n(this,void 0,void 0,function*(){return no(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Cy(e,t,r,n,s){return $n(this,void 0,void 0,function*(){return no(e,"DELETE",t,n,s,r)})}var lt=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const yb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Tp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class xb{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Ey(s)}uploadOrUpdate(t,r,n,s){return lt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Tp),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(t=="PUT"?Fu:lr)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(Be(i))return{data:null,error:i};throw i}})}upload(t,r,n){return lt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return lt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:Tp.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield Fu(this.fetch,a.toString(),l,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(Be(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return lt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield lr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new nh("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}})}update(t,r,n){return lt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return lt(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Be(s))return{data:null,error:s};throw s}})}copy(t,r,n){return lt(this,void 0,void 0,function*(){try{return{data:{path:(yield lr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Be(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return lt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield lr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Be(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return lt(this,void 0,void 0,function*(){try{const s=yield lr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Be(s))return{data:null,error:s};throw s}})}download(t,r){return lt(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Ua(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Be(a))return{data:null,error:a};throw a}})}info(t){return lt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ua(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:$u(n),error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}})}exists(t){return lt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield vb(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Be(n)&&n instanceof zu){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(t){return lt(this,void 0,void 0,function*(){try{return{data:yield Cy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}})}list(t,r,n){return lt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},yb),r),{prefix:t||""});return{data:yield lr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Be(s))return{data:null,error:s};throw s}})}listV2(t,r){return lt(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield lr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const wb="2.11.1",_b={"X-Client-Info":`storage-js/${wb}`};var qn=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class kb{constructor(t,r={},n,s){const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},_b),r),this.fetch=Ey(n)}listBuckets(){return qn(this,void 0,void 0,function*(){try{return{data:yield Ua(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Be(t))return{data:null,error:t};throw t}})}getBucket(t){return qn(this,void 0,void 0,function*(){try{return{data:yield Ua(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return qn(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return qn(this,void 0,void 0,function*(){try{return{data:yield Fu(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}})}emptyBucket(t){return qn(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}})}deleteBucket(t){return qn(this,void 0,void 0,function*(){try{return{data:yield Cy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}})}}class Sb extends kb{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new xb(this.url,this.headers,t,this.fetch)}}const jb="2.57.2";let oi="";typeof Deno<"u"?oi="deno":typeof document<"u"?oi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?oi="react-native":oi="node";const bb={"X-Client-Info":`supabase-js-${oi}/${jb}`},Eb={headers:bb},Cb={schema:"public"},Pb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Nb={};var Tb=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const Rb=e=>{let t;return e?t=e:typeof fetch>"u"?t=hy:t=fetch,(...r)=>t(...r)},Ob=()=>typeof Headers>"u"?fy:Headers,Ib=(e,t,r)=>{const n=Rb(r),s=Ob();return(i,o)=>Tb(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var Lb=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};function Ab(e){return e.endsWith("/")?e:e+"/"}function Ub(e,t){var r,n;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Lb(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const Py="2.71.1",es=30*1e3,Bu=3,yc=Bu*es,Mb="http://localhost:9999",Db="supabase.auth.token",zb={"X-Client-Info":`gotrue-js/${Py}`},Wu="X-Supabase-Api-Version",Ny={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$b=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Fb=10*60*1e3;class sh extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Y(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Bb extends sh{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Wb(e){return Y(e)&&e.name==="AuthApiError"}class Ty extends sh{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class hn extends sh{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class zr extends hn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Vb(e){return Y(e)&&e.name==="AuthSessionMissingError"}class Fo extends hn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Bo extends hn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Wo extends hn{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Hb(e){return Y(e)&&e.name==="AuthImplicitGrantRedirectError"}class Rp extends hn{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Vu extends hn{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function xc(e){return Y(e)&&e.name==="AuthRetryableFetchError"}class Op extends hn{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Hu extends hn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ma="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ip=` 	
\r=`.split(""),Kb=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ip.length;t+=1)e[Ip[t].charCodeAt(0)]=-2;for(let t=0;t<Ma.length;t+=1)e[Ma[t].charCodeAt(0)]=t;return e})();function Lp(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ma[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ma[n]),t.queuedBits-=6}}function Ry(e,t,r){const n=Kb[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Ap(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Jb(o,n,r)};for(let o=0;o<e.length;o+=1)Ry(e.charCodeAt(o),s,i);return t.join("")}function qb(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Gb(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}qb(n,t)}}function Jb(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Yb(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Ry(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Qb(e){const t=[];return Gb(e,r=>t.push(r)),new Uint8Array(t)}function Xb(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Lp(s,r,n)),Lp(null,r,n),t.join("")}function Zb(e){return Math.round(Date.now()/1e3)+e}function eE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Kt=()=>typeof window<"u"&&typeof document<"u",vn={tested:!1,writable:!1},Oy=()=>{if(!Kt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vn.tested)return vn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),vn.tested=!0,vn.writable=!0}catch{vn.tested=!0,vn.writable=!1}return vn.writable};function tE(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Iy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>to(()=>Promise.resolve().then(()=>Us),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},rE=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ts=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},yn=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ar=async(e,t)=>{await e.removeItem(t)};class vl{constructor(){this.promise=new vl.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}vl.promiseConstructor=Promise;function wc(e){const t=e.split(".");if(t.length!==3)throw new Hu("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!$b.test(t[n]))throw new Hu("JWT not in base64url format");return{header:JSON.parse(Ap(t[0])),payload:JSON.parse(Ap(t[1])),signature:Yb(t[2]),raw:{header:t[0],payload:t[1]}}}async function nE(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function sE(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function iE(e){return("0"+e.toString(16)).substr(-2)}function oE(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,iE).join("")}async function aE(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function lE(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await aE(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gn(e,t,r=!1){const n=oE();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await ts(e,`${t}-code-verifier`,s);const i=await lE(n);return[i,n===i?"plain":"s256"]}const cE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function uE(e){const t=e.headers.get(Wu);if(!t||!t.match(cE))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function dE(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function hE(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const fE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Jn(e){if(!fE.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function _c(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Up(e){return JSON.parse(JSON.stringify(e))}var pE=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const _n=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),mE=[502,503,504];async function Mp(e){var t;if(!rE(e))throw new Vu(_n(e),0);if(mE.includes(e.status))throw new Vu(_n(e),e.status);let r;try{r=await e.json()}catch(i){throw new Ty(_n(i),i)}let n;const s=uE(e);if(s&&s.getTime()>=Ny["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Op(_n(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new zr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Op(_n(r),e.status,r.weak_password.reasons);throw new Bb(_n(r),e.status||500,n)}const gE=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function te(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Wu]||(i[Wu]=Ny["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await vE(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function vE(e,t,r,n,s,i){const o=gE(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new Vu(_n(l),0)}if(a.ok||await Mp(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Mp(l)}}function gr(e){var t;let r=null;_E(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Zb(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Dp(e){const t=gr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Kr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function yE(e){return{data:e,error:null}}function xE(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=pE(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function wE(e){return e}function _E(e){return e.access_token&&e.refresh_token&&e.expires_in}const kc=["global","local","others"];var kE=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class SE{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Iy(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=kc[0]){if(kc.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${kc.join(", ")}`);try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Kr})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=kE(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:xE,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Y(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Kr})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:wE});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(y=>{const x=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(y.split(";")[1].split("=")[1]);u[`${S}Page`]=x}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Y(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Jn(t);try{return await te(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Kr})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Jn(t);try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Kr})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Jn(t);try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Kr})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Jn(t.userId);try{const{data:r,error:n}=await te(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Jn(t.userId),Jn(t.id);try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}}}function zp(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function jE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Yn={debug:!!(globalThis&&Oy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ly extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class bE extends Ly{}async function EE(e,t,r){Yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Yn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new bE(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Yn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}jE();const CE={url:Mb,storageKey:Db,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function $p(e,t,r){return await r()}const Qn={};class Vi{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Vi.nextInstanceID,Vi.nextInstanceID+=1,this.instanceID>0&&Kt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},CE),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new SE({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Iy(s.fetch),this.lock=s.lock||$p,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Kt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=EE:this.lock=$p,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Oy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=zp(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=zp(this.memoryStorage)),Kt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Qn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Qn[this.storageKey]=Object.assign(Object.assign({},Qn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Qn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Qn[this.storageKey]=Object.assign(Object.assign({},Qn[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Py}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=tE(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Kt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Hb(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Y(r)?{error:r}:{error:new Ty("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:gr}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(Y(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Gn(this.storage,this.storageKey)),i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:y},xform:gr})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:gr})}else throw new Bo("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(Y(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Dp})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Dp})}else throw new Bo("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Fo}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,o,a,l,u,d,h,f,p;let y,x;if("message"in t)y=t.message,x=t.signature;else{const{chain:S,wallet:g,statement:m,options:v}=t;let b;if(Kt())if(typeof g=="object")b=g;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))b=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=g}const j=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const P=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),m?{statement:m}:null));let w;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")w=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)w=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in w&&"signature"in w&&(typeof w.signedMessage=="string"||w.signedMessage instanceof Uint8Array)&&w.signature instanceof Uint8Array)y=typeof w.signedMessage=="string"?w.signedMessage:new TextDecoder().decode(w.signedMessage),x=w.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${j.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=v==null?void 0:v.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((h=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...v.signInWithSolana.resources.map(w=>`- ${w}`)]:[]].join(`
`);const P=await b.signMessage(new TextEncoder().encode(y),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=P}}try{const{data:S,error:g}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Xb(x)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:gr});if(g)throw g;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new Fo}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:g})}catch(S){if(Y(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(t){const r=await yn(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:gr});if(await Ar(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Fo}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(Y(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:gr}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Fo}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Gn(this.storage,this.storageKey));const{error:h}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:d}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Bo("You must provide either an email or phone number.")}catch(a){if(Y(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:gr});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(Y(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Gn(this.storage,this.storageKey)),await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:yE})}catch(i){if(Y(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new zr;const{error:s}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Y(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await te(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await te(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Bo("You must provide either an email or phone number and a type")}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await yn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<yc:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await yn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=_c()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Kr}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new zr}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Kr})})}catch(r){if(Y(r))return Vb(r)&&(await this._removeSession(),await Ar(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new zr;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Gn(this.storage,this.storageKey));const{data:u,error:d}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Kr});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new zr;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=wc(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Y(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new zr;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Kt())throw new Wo("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Wo(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Rp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wo("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Rp("No code detected.");const{data:m,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new Wo("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const p=f-d;p*1e3<=es&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);const{data:x,error:S}=await this._getUser(i);if(S)throw S;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(Y(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await yn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Wb(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Ar(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=eE(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Gn(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Y(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Kt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Y(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await sE(async s=>(s>0&&await nE(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:gr})),(s,i)=>{const o=200*Math.pow(2,s);return i&&xc(i)&&Date.now()+o-n<es})}catch(n){if(this._debug(r,"error",n),Y(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Kt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await yn(this.storage,this.storageKey);if(s&&this.userStorage){let o=await yn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await ts(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:_c()}else if(s&&!s.user&&!s.user){const o=await yn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Ar(this.storage,this.storageKey+"-user"),await ts(this.storage,this.storageKey,s)):s.user=_c()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<yc;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${yc}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),xc(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new zr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new vl;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new zr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),Y(i)){const o={session:null,error:i};return xc(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ts(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Up(s);await ts(this.storage,this.storageKey,i)}else{const s=Up(r);await ts(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Ar(this.storage,this.storageKey),await Ar(this.storage,this.storageKey+"-code-verifier"),await Ar(this.storage,this.storageKey+"-user"),this.userStorage&&await Ar(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Kt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),es);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/es);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${es}ms, refresh threshold is ${Bu} ticks`),s<=Bu&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Ly)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Kt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Gn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await te(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await te(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(Y(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Y(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=wc(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+Fb>s)return n;const{data:i,error:o}=await te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:y}=await this.getSession();if(y||!p.session)return{data:null,error:y};n=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=wc(n);r!=null&&r.allowExpired||dE(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const d=hE(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,Qb(`${a}.${l}`)))throw new Hu("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}}Vi.nextInstanceID=0;const PE=Vi;class NE extends PE{constructor(t){super(t)}}var TE=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class RE{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=Ab(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:Cb,realtime:Nb,auth:Object.assign(Object.assign({},Pb),{storageKey:u}),global:Eb},h=Ub(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=Ib(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new qj(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new Sb(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new bj(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return TE(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new NE({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:a,lock:l,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new ub(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ay=(e,t,r)=>new RE(e,t,r);function OE(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}OE()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const IE="https://xwubnuokmfghtyyfpgtl.supabase.co",LE="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh3dWJudW9rbWZnaHR5eWZwZ3RsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY5NTA3NTEsImV4cCI6MjA3MjUyNjc1MX0.H2x6CfC2z2ttnghuZvGpIdGlvUWlYy5GWjpR6Ok5SbA",Uy=_.createContext(void 0),yl=()=>{const e=_.useContext(Uy);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},AE=({children:e})=>{const{user:t,isLoaded:r}=Qd(),[n,s]=_.useState(null),[i,o]=_.useState(!0),[a,l]=_.useState(null),{session:u,isLoaded:d,isSignedIn:h}=Kk(),{getToken:f}=kS(),[p,y]=_.useState(null),x=_.useCallback(async()=>{if(!u)return console.warn("AuthContext: No hay sesion de Clerk para obtener el token de Supabase."),null;try{return await f({template:"supabase"})}catch(b){return console.error("AuthContext: Error al obtener el token de Clerk para Supabase:",b),null}},[u,f]);_.useEffect(()=>{(async()=>{if(d)if(h&&u){const j=await x();if(j){const P=Ay(IE,LE,{global:{headers:{Authorization:`Bearer ${j}`}}});y(P)}else console.warn("AuthContext: No se pudo obtener el accessToken de Clerk para Supabase. Cliente Supabase autenticado sera null."),y(null)}else y(null)})()},[d,h,u,x]),_.useEffect(()=>{(async()=>{var j;if(!(!r||!p)){if(o(!0),l(null),!t||!t.id){console.warn("AuthContext: Usuario de Clerk no autenticado o ID no disponible."),s(null),l("Usuario no autenticado o ID no disponible."),o(!1);return}try{const{data:P,error:w}=await p.from("usuarios").select("id, email, nombre, apellido, rol, created_at").eq("id",t.id).single();if(w&&w.code==="PGRST116"){const C={id:t.id,email:((j=t.emailAddresses[0])==null?void 0:j.emailAddress)||"",nombre:t.firstName||"",apellido:t.lastName||"",rol:"cliente"},{data:A,error:R}=await p.from("usuarios").insert([C]).select("id, email, nombre, apellido, rol, created_at").single();if(R){console.error("Error creating user:",R),l("Error al crear el perfil de usuario. Intentalo mas tarde.");return}s(A)}else if(w){console.error("Error fetching user:",w),w.code==="401"?l("No autorizado. Por favor, asegurate de haber iniciado sesion y tener los permisos correctos."):w.code==="406"?l("Solicitud no aceptable. Verifica la configuracion de la base de datos o los datos enviados."):l("Error al cargar la informacion del usuario. Intentalo mas tarde.");return}else s(P)}catch(P){console.error("Error inesperado en fetchUser:",P),l("Ocurrio un error inesperado al gestionar tu perfil.")}finally{o(!1)}}})()},[t,r,p]);const S=async b=>{if(!(!n||!p))try{const{data:j,error:P}=await p.from("usuarios").update(b).eq("id",n.id).select().single();if(P){console.error("Error updating user:",P);return}s(j)}catch(j){console.error("Error inesperado en updateUser:",j)}},g=(n==null?void 0:n.rol)==="admin",v={clerkUser:t,user:n,isAdmin:g,isLoading:i,isAuthenticated:h,error:a,updateUser:S,logout:async()=>{s(null),l(null),y(null)},supabaseAuthenticatedClient:p};return c.jsx(Uy.Provider,{value:v,children:e})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),se=(e,t)=>{const r=_.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},d)=>_.createElement("svg",{ref:d,...UE,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${ME(e)}`,a].join(" "),...u},[...t.map(([h,f])=>_.createElement(h,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=se("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=se("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=se("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=se("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=se("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=se("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=se("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=se("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=se("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=se("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=se("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=se("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=se("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=se("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=se("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=se("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=se("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=se("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=se("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=se("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=se("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=se("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=se("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=se("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=se("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=se("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),sC=()=>{const{user:e}=Qd(),{isAdmin:t}=yl(),{getTotalItems:r}=eo(),[n,s]=_.useState(!1),i=()=>s(!n),o=[{name:"Inicio",path:"/"},{name:"Catlogo",path:"/catalogo"}];return t&&o.push({name:"Admin",path:"/admin"}),c.jsx("nav",{className:"bg-blanco shadow-md sticky top-0 z-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsx(Ee,{to:"/",className:"flex items-center space-x-2",children:c.jsx("img",{src:"/logo.jpg",alt:"Mercadillo Lima Per Logo",className:"h-16 w-auto"})}),c.jsx("div",{className:"hidden md:flex items-center space-x-8",children:o.map(a=>c.jsx(Ee,{to:a.path,className:"text-gris-oscuro hover:text-dorado transition-colors duration-200 font-medium",children:a.name},a.name))}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs(Ee,{to:"/carrito",className:"relative p-2 text-gris-oscuro hover:text-dorado transition-colors duration-200",children:[c.jsx(so,{className:"w-6 h-6"}),r()>0&&c.jsx("span",{className:"absolute -top-1 -right-1 bg-amarillo text-gris-oscuro text-xs rounded-full w-5 h-5 flex items-center justify-center font-semibold",children:r()})]}),e?c.jsx("div",{className:"flex items-center space-x-2",children:c.jsx(zS,{afterSignOutUrl:"/"})}):c.jsxs("div",{className:"hidden md:flex items-center space-x-2",children:[c.jsx(Ee,{to:"/sign-in",className:"text-gris-oscuro hover:text-dorado transition-colors duration-200 font-medium",children:"Iniciar Sesin"}),c.jsx(Ee,{to:"/sign-up",className:"btn-primary",children:"Registrarse"})]}),c.jsx("button",{onClick:i,className:"md:hidden p-2 text-gris-oscuro hover:text-dorado transition-colors duration-200",children:n?c.jsx(nC,{className:"w-6 h-6"}):c.jsx(GE,{className:"w-6 h-6"})})]})]}),n&&c.jsx("div",{className:"md:hidden py-4 border-t border-gray-200",children:c.jsxs("div",{className:"flex flex-col space-y-4",children:[o.map(a=>c.jsx(Ee,{to:a.path,className:"text-gris-oscuro hover:text-dorado transition-colors duration-200 font-medium",onClick:()=>s(!1),children:a.name},a.name)),!e&&c.jsxs(c.Fragment,{children:[c.jsx(Ee,{to:"/sign-in",className:"text-gris-oscuro hover:text-dorado transition-colors duration-200 font-medium",onClick:()=>s(!1),children:"Iniciar Sesin"}),c.jsx(Ee,{to:"/sign-up",className:"btn-primary text-center",onClick:()=>s(!1),children:"Registrarse"})]})]})})]})})},iC=()=>c.jsx("footer",{className:"bg-gris-oscuro text-blanco",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[c.jsxs("div",{className:"col-span-1 md:col-span-2",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[c.jsx("div",{className:"w-8 h-8 bg-amarillo rounded-full flex items-center justify-center",children:c.jsx(jr,{className:"w-5 h-5 text-gris-oscuro"})}),c.jsx("span",{className:"text-xl font-bold",children:"Mercadillo Lima Per"})]}),c.jsx("p",{className:"text-gris-claro mb-4 max-w-md",children:"Tu tienda online de confianza en Lima, Per. Productos de calidad con envo rpido y seguro a todo el pas."}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-gris-claro",children:[c.jsx(qE,{className:"w-4 h-4"}),c.jsx("span",{children:"Lima, Per"})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-gris-claro",children:[c.jsx(XE,{className:"w-4 h-4"}),c.jsx("span",{children:"+51 977 933 410"})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-gris-claro",children:[c.jsx(Dy,{className:"w-4 h-4"}),c.jsx("span",{children:"contacto@mercadillolima.com"})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Enlaces Rpidos"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsx("li",{children:c.jsx(Ee,{to:"/",className:"text-gris-claro hover:text-amarillo transition-colors duration-200",children:"Inicio"})}),c.jsx("li",{children:c.jsx(Ee,{to:"/catalogo",className:"text-gris-claro hover:text-amarillo transition-colors duration-200",children:"Catlogo"})}),c.jsx("li",{children:c.jsx(Ee,{to:"/carrito",className:"text-gris-claro hover:text-amarillo transition-colors duration-200",children:"Carrito"})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Informacin"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsx("li",{children:c.jsx(Ee,{to:"/terminos",className:"text-gris-claro hover:text-amarillo transition-colors duration-200",children:"Trminos y Condiciones"})}),c.jsx("li",{children:c.jsx(Ee,{to:"/privacidad",className:"text-gris-claro hover:text-amarillo transition-colors duration-200",children:"Poltica de Privacidad"})}),c.jsx("li",{children:c.jsx(Ee,{to:"/envios",className:"text-gris-claro hover:text-amarillo transition-colors duration-200",children:"Envos y Devoluciones"})}),c.jsx("li",{children:c.jsx(Ee,{to:"/contacto",className:"text-gris-claro hover:text-amarillo transition-colors duration-200",children:"Contacto"})})]})]})]}),c.jsx("div",{className:"border-t border-gray-600 mt-8 pt-8 text-center",children:c.jsx("p",{className:"text-gris-claro",children:" 2024 Mercadillo Lima Per. Todos los derechos reservados."})})]})}),oC=({children:e})=>c.jsxs("div",{className:"min-h-screen flex flex-col",children:[c.jsx(sC,{}),c.jsx("main",{className:"flex-1",children:e}),c.jsx(iC,{})]});function aC(){return c.jsx(AE,{children:c.jsx(lC,{})})}const lC=()=>c.jsx(xj,{children:c.jsx(oC,{children:c.jsx(H_,{})})});const ht=Ay("https://xwubnuokmfghtyyfpgtl.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh3dWJudW9rbWZnaHR5eWZwZ3RsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY5NTA3NTEsImV4cCI6MjA3MjUyNjc1MX0.H2x6CfC2z2ttnghuZvGpIdGlvUWlYy5GWjpR6Ok5SbA"),Hy=({producto:e})=>{const{addToCart:t}=eo(),r=s=>{s.preventDefault(),s.stopPropagation(),t(e)},n=s=>new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN"}).format(s);return c.jsx("div",{className:"card group hover:shadow-lg transition-shadow duration-300",children:c.jsxs(Ee,{to:`/producto/${e.id}`,children:[c.jsx("div",{className:"aspect-square overflow-hidden rounded-t-lg",children:c.jsx("img",{src:e.imagen,alt:e.nombre,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),c.jsxs("div",{className:"p-4",children:[c.jsx("h3",{className:"font-semibold text-gris-oscuro mb-2 line-clamp-2",children:e.nombre}),c.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:e.descripcion}),c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("span",{className:"text-lg font-bold text-dorado",children:n(e.precio)}),c.jsxs("span",{className:"text-sm text-gray-500",children:["Stock: ",e.stock]})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs("button",{onClick:r,disabled:e.stock===0,className:"flex-1 btn-primary flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(so,{className:"w-4 h-4"}),c.jsx("span",{children:"Agregar"})]}),c.jsx("button",{onClick:s=>{s.preventDefault(),s.stopPropagation(),window.location.href=`/producto/${e.id}`},className:"btn-secondary flex items-center justify-center px-3",children:c.jsx(My,{className:"w-4 h-4"})})]})]})]})})},cC=()=>{const[e,t]=_.useState([]),[r,n]=_.useState(!0),[s,i]=_.useState(null);_.useEffect(()=>{(async()=>{try{n(!0),i(null);let l=ht.from("productos").select("*").gt("stock",0),{data:u,error:d}=await l.order("created_at",{ascending:!1}).limit(8);if(d){console.warn("Error al obtener productos por created_at:",d.message),console.log("Intentando obtener productos sin ordenacion por created_at...");const{data:h,error:f}=await l.limit(8);if(f){console.error("Error al obtener productos (fallback): ",f),i("No se pudo cargar la informacion, intentalo mas tarde");return}u=h}t(u||[])}catch(l){console.error("Error en fetchFeaturedProducts:",l),i("Ocurrio un error inesperado al cargar los productos.")}finally{n(!1)}})()},[]);const o=[{icon:c.jsx(ih,{className:"w-8 h-8"}),title:"Envio Rapido",description:"Entrega en 24-48 horas en Lima"},{icon:c.jsx(Fy,{className:"w-8 h-8"}),title:"Compra Segura",description:"Pagos protegidos con Stripe"},{icon:c.jsx(HE,{className:"w-8 h-8"}),title:"Soporte 24/7",description:"Atencion al cliente siempre disponible"}];return c.jsxs("div",{className:"min-h-screen",children:[c.jsxs("section",{className:"relative w-full h-96 overflow-hidden",children:[c.jsx("img",{src:"/banner.png",alt:"Mercadillo Lima Peru Banner",className:"w-full h-full object-cover"}),c.jsx("div",{className:"absolute inset-0 bg-gris-oscuro bg-opacity-50 flex items-center justify-center text-center p-4",children:c.jsxs("div",{className:"max-w-3xl mx-auto",children:[c.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-blanco mb-4",children:"Bienvenido a Mercadillo Lima"}),c.jsx("p",{className:"text-xl md:text-2xl text-hueso mb-8",children:"Descubre los mejores productos de Lima, Peru. Calidad garantizada y envio rapido a todo el pais."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsxs(Ee,{to:"/catalogo",className:"btn-primary text-lg px-8 py-3 flex items-center justify-center space-x-2",children:[c.jsx("span",{children:"Ver Catalogo"}),c.jsx(Ku,{className:"w-5 h-5"})]}),c.jsx(Ee,{to:"/carrito",className:"bg-blanco text-gris-oscuro hover:bg-hueso font-semibold py-3 px-8 rounded-lg transition-colors duration-200 text-lg",children:"Mi Carrito"})]})]})})]}),c.jsx("section",{className:"py-16 bg-blanco",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:o.map((a,l)=>c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-amarillo rounded-full flex items-center justify-center mx-auto mb-4 text-gris-oscuro",children:a.icon}),c.jsx("h3",{className:"text-xl font-semibold text-gris-oscuro mb-2",children:a.title}),c.jsx("p",{className:"text-gray-600",children:a.description})]},l))})})}),c.jsx("section",{className:"py-16 bg-hueso",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gris-oscuro mb-4",children:"Productos Destacados"}),c.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Descubre nuestra seleccion de productos mas populares y mejor valorados"})]}),r?c.jsx("div",{className:"flex justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amarillo"})}):s?c.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center bg-rojo-claro rounded-lg shadow-md max-w-md mx-auto",children:[c.jsx("p",{className:"text-xl font-semibold text-rojo-oscuro mb-4",children:" Error al cargar productos"}),c.jsx("p",{className:"text-gray-700",children:s}),c.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Por favor, verifica tu conexion a internet o intentalo de nuevo mas tarde."})]}):c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map(a=>c.jsx(Hy,{producto:a},a.id))}),c.jsx("div",{className:"text-center mt-12",children:c.jsxs(Ee,{to:"/catalogo",className:"btn-primary text-lg px-8 py-3 inline-flex items-center space-x-2",children:[c.jsx("span",{children:"Ver Todos los Productos"}),c.jsx(Ku,{className:"w-5 h-5"})]})})]})}),c.jsx("section",{className:"py-16 bg-blanco",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx("div",{className:"text-center mb-12",children:c.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gris-oscuro mb-4",children:"Lo que dicen nuestros clientes"})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{name:"Maria Gonzalez",location:"Miraflores, Lima",rating:5,comment:"Excelente servicio y productos de calidad. El envio fue super rapido."},{name:"Carlos Mendoza",location:"San Isidro, Lima",rating:5,comment:"Muy buena experiencia de compra. Definitivamente volvere a comprar."},{name:"Ana Rodriguez",location:"La Molina, Lima",rating:5,comment:"Productos autenticos y precios justos. Recomendado al 100%."}].map((a,l)=>c.jsxs("div",{className:"card p-6",children:[c.jsx("div",{className:"flex items-center mb-4",children:[...Array(a.rating)].map((u,d)=>c.jsx(By,{className:"w-5 h-5 text-amarillo fill-current"},d))}),c.jsxs("p",{className:"text-gray-600 mb-4 italic",children:['"',a.comment,'"']}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-gris-oscuro",children:a.name}),c.jsx("p",{className:"text-sm text-gray-500",children:a.location})]})]},l))})]})})]})},uC=()=>{const[e,t]=_.useState([]),[r,n]=_.useState([]),[s,i]=_.useState(!0),[o,a]=_.useState(null),[l,u]=_.useState(""),[d,h]=_.useState(""),[f,p]=_.useState("nombre"),[y,x]=_.useState("grid");_.useEffect(()=>{(async()=>{try{i(!0),a(null);let m=ht.from("productos").select("*").gt("stock",0),{data:v,error:b}=await m.order("created_at",{ascending:!1});if(b){console.warn("Error inicial al obtener productos en catlogo (posible columna created_at faltante): ",b.message),console.log("Intentando obtener productos en catlogo sin ordenacin por created_at...");const{data:j,error:P}=await m;if(P){console.error("Error fetching products in catalog (fallback): ",P),a("No se pudo cargar la informacin del catlogo, intntalo ms tarde"),t([]),n([]);return}v=j}t(v||[]),n(v||[])}catch(m){console.error("Error en fetchProductos en Catalog:",m),a("Ocurri un error inesperado al cargar el catlogo."),t([]),n([])}finally{i(!1)}})()},[]),_.useEffect(()=>{let g=e;l&&(g=g.filter(m=>m.nombre.toLowerCase().includes(l.toLowerCase())||m.descripcion.toLowerCase().includes(l.toLowerCase()))),d&&(g=g.filter(m=>m.categoria===d)),g.sort((m,v)=>{switch(f){case"precio-asc":return m.precio-v.precio;case"precio-desc":return v.precio-m.precio;case"nombre":return m.nombre.localeCompare(v.nombre);case"stock":return v.stock-m.stock;default:return 0}}),n(g)},[e,l,d,f]);const S=Array.from(new Set(e.map(g=>g.categoria)));return s?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-amarillo"})}):c.jsx("div",{className:"min-h-screen bg-hueso py-8",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gris-oscuro mb-4",children:"Catlogo de Productos"}),c.jsx("p",{className:"text-lg text-gray-600",children:"Encuentra los mejores productos de Lima, Per"})]}),o&&c.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center bg-rojo-claro rounded-lg shadow-md max-w-md mx-auto my-4",children:[c.jsx("p",{className:"text-xl font-semibold text-rojo-oscuro mb-4",children:" Error al cargar el catlogo"}),c.jsx("p",{className:"text-gray-700",children:o}),c.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Por favor, verifica tu conexin a internet o intntalo de nuevo ms tarde."})]}),c.jsx("div",{className:"bg-blanco rounded-lg shadow-md p-6 mb-8",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx($y,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{type:"text",placeholder:"Buscar productos...",value:l,onChange:g=>u(g.target.value),className:"input-field pl-10"})]}),c.jsxs("select",{value:d,onChange:g=>h(g.target.value),className:"input-field",children:[c.jsx("option",{value:"",children:"Todas las categoras"}),S.map(g=>c.jsx("option",{value:g,children:g},g))]}),c.jsxs("select",{value:f,onChange:g=>p(g.target.value),className:"input-field",children:[c.jsx("option",{value:"nombre",children:"Ordenar por nombre"}),c.jsx("option",{value:"precio-asc",children:"Precio: menor a mayor"}),c.jsx("option",{value:"precio-desc",children:"Precio: mayor a menor"}),c.jsx("option",{value:"stock",children:"Stock disponible"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>x("grid"),className:`p-2 rounded ${y==="grid"?"bg-amarillo text-gris-oscuro":"bg-gray-200 text-gray-600"}`,children:c.jsx(VE,{className:"w-5 h-5"})}),c.jsx("button",{onClick:()=>x("list"),className:`p-2 rounded ${y==="list"?"bg-amarillo text-gris-oscuro":"bg-gray-200 text-gray-600"}`,children:c.jsx(KE,{className:"w-5 h-5"})})]})]})}),c.jsx("div",{className:"mb-4",children:c.jsxs("p",{className:"text-gray-600",children:["Mostrando ",r.length," de ",e.length," productos"]})}),r.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"text-6xl mb-4",children:""}),c.jsx("h3",{className:"text-xl font-semibold text-gris-oscuro mb-2",children:"No se encontraron productos"}),c.jsx("p",{className:"text-gray-600",children:"Intenta ajustar los filtros de bsqueda"})]}):c.jsx("div",{className:`grid gap-6 ${y==="grid"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"grid-cols-1"}`,children:r.map(g=>c.jsx(Hy,{producto:g},g.id))})]})})},dC=()=>{const{id:e}=T_(),t=Vd(),{addToCart:r}=eo(),[n,s]=_.useState(null),[i,o]=_.useState(!0),[a,l]=_.useState(1);_.useEffect(()=>{(async()=>{if(e)try{const{data:f,error:p}=await ht.from("productos").select("*").eq("id",e).single();if(p){console.error("Error fetching product:",p),t("/catalogo");return}s(f)}catch(f){console.error("Error in fetchProducto:",f),t("/catalogo")}finally{o(!1)}})()},[e,t]);const u=()=>{n&&r(n,a)},d=h=>new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN"}).format(h);return i?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-amarillo"})}):n?c.jsx("div",{className:"min-h-screen bg-hueso py-8",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx("div",{className:"mb-6",children:c.jsxs("button",{onClick:()=>t("/catalogo"),className:"flex items-center space-x-2 text-gray-600 hover:text-gris-oscuro transition-colors duration-200",children:[c.jsx(DE,{className:"w-5 h-5"}),c.jsx("span",{children:"Volver al catlogo"})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[c.jsx("div",{className:"space-y-4",children:c.jsx("div",{className:"aspect-square overflow-hidden rounded-lg bg-blanco",children:c.jsx("img",{src:n.imagen,alt:n.nombre,className:"w-full h-full object-cover"})})}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gris-oscuro mb-2",children:n.nombre}),c.jsx("p",{className:"text-lg text-gray-600 mb-4",children:n.categoria}),c.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[c.jsx("div",{className:"flex items-center",children:[...Array(5)].map((h,f)=>c.jsx(By,{className:"w-5 h-5 text-amarillo fill-current"},f))}),c.jsx("span",{className:"text-gray-600",children:"(4.8) - 124 reseas"})]})]}),c.jsxs("div",{className:"border-t border-b border-gray-200 py-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("span",{className:"text-3xl font-bold text-dorado",children:d(n.precio)}),c.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${n.stock>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:n.stock>0?`${n.stock} disponibles`:"Agotado"})]}),c.jsx("p",{className:"text-gray-700 leading-relaxed",children:n.descripcion})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("label",{className:"text-gris-oscuro font-medium",children:"Cantidad:"}),c.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[c.jsx("button",{onClick:()=>l(Math.max(1,a-1)),className:"px-3 py-2 hover:bg-gray-100 transition-colors duration-200",disabled:a<=1,children:"-"}),c.jsx("span",{className:"px-4 py-2 border-x border-gray-300",children:a}),c.jsx("button",{onClick:()=>l(Math.min(n.stock,a+1)),className:"px-3 py-2 hover:bg-gray-100 transition-colors duration-200",disabled:a>=n.stock,children:"+"})]})]}),c.jsxs("button",{onClick:u,disabled:n.stock===0,className:"w-full btn-primary flex items-center justify-center space-x-2 py-4 text-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(so,{className:"w-6 h-6"}),c.jsx("span",{children:n.stock>0?"Agregar al carrito":"Producto agotado"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 pt-6 border-t border-gray-200",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(ih,{className:"w-6 h-6 text-amarillo"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gris-oscuro",children:"Envo Gratis"}),c.jsx("p",{className:"text-sm text-gray-600",children:"En compras +S/50"})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Fy,{className:"w-6 h-6 text-amarillo"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gris-oscuro",children:"Garanta"}),c.jsx("p",{className:"text-sm text-gray-600",children:"30 das"})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(ZE,{className:"w-6 h-6 text-amarillo"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gris-oscuro",children:"Devolucin"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Fcil y rpida"})]})]})]})]})]})]})}):c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-2xl font-bold text-gris-oscuro mb-4",children:"Producto no encontrado"}),c.jsx("button",{onClick:()=>t("/catalogo"),className:"btn-primary",children:"Volver al catlogo"})]})})},hC=()=>{const{items:e,updateQuantity:t,removeFromCart:r,getSubtotal:n,getIGV:s,getTotal:i}=eo(),o=a=>new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN"}).format(a);return e.length===0?c.jsx("div",{className:"min-h-screen bg-hueso py-8",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"text-center py-16",children:[c.jsx(eC,{className:"w-24 h-24 text-gray-300 mx-auto mb-6"}),c.jsx("h1",{className:"text-3xl font-bold text-gris-oscuro mb-4",children:"Tu carrito est vaco"}),c.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Agrega algunos productos para comenzar tu compra"}),c.jsxs(Ee,{to:"/catalogo",className:"btn-primary text-lg px-8 py-3 inline-flex items-center space-x-2",children:[c.jsx("span",{children:"Ver Catlogo"}),c.jsx(Ku,{className:"w-5 h-5"})]})]})})}):c.jsx("div",{className:"min-h-screen bg-hueso py-8",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gris-oscuro mb-8",children:"Mi Carrito"}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsx("div",{className:"lg:col-span-2 space-y-4",children:e.map(a=>c.jsx("div",{className:"card p-6",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"w-20 h-20 overflow-hidden rounded-lg bg-gray-100",children:c.jsx("img",{src:a.producto.imagen,alt:a.producto.nombre,className:"w-full h-full object-cover"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-semibold text-gris-oscuro mb-1",children:a.producto.nombre}),c.jsx("p",{className:"text-sm text-gray-600 mb-2",children:a.producto.categoria}),c.jsx("p",{className:"text-lg font-bold text-dorado",children:o(a.producto.precio)})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[c.jsx("button",{onClick:()=>t(a.producto.id,a.cantidad-1),className:"p-2 hover:bg-gray-100 transition-colors duration-200",children:c.jsx(JE,{className:"w-4 h-4"})}),c.jsx("span",{className:"px-3 py-2 border-x border-gray-300",children:a.cantidad}),c.jsx("button",{onClick:()=>t(a.producto.id,a.cantidad+1),className:"p-2 hover:bg-gray-100 transition-colors duration-200",disabled:a.cantidad>=a.producto.stock,children:c.jsx(zy,{className:"w-4 h-4"})})]}),c.jsx("button",{onClick:()=>r(a.producto.id),className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors duration-200",children:c.jsx(Wy,{className:"w-5 h-5"})})]})]})},a.producto.id))}),c.jsx("div",{className:"lg:col-span-1",children:c.jsxs("div",{className:"card p-6 sticky top-8",children:[c.jsx("h2",{className:"text-xl font-bold text-gris-oscuro mb-6",children:"Resumen del Pedido"}),c.jsxs("div",{className:"space-y-4 mb-6",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),c.jsx("span",{className:"font-medium",children:o(n())})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"IGV (18%):"}),c.jsx("span",{className:"font-medium",children:o(s())})]}),c.jsx("div",{className:"border-t border-gray-200 pt-4",children:c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-lg font-bold text-gris-oscuro",children:"Total:"}),c.jsx("span",{className:"text-lg font-bold text-dorado",children:o(i())})]})})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx(Ee,{to:"/checkout",className:"w-full btn-primary text-center py-3 text-lg block",children:"Proceder al Pago"}),c.jsx(Ee,{to:"/catalogo",className:"w-full btn-secondary text-center py-3 block",children:"Seguir Comprando"})]}),c.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),c.jsx("span",{children:"Envo gratis en compras +S/50"})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 mt-2",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),c.jsx("span",{children:"Pago 100% seguro"})]})]})]})})]})]})})},fC=()=>{const{items:e,getSubtotal:t,getIGV:r,getTotal:n}=eo(),{user:s,updateUser:i}=yl(),[o,a]=_.useState(!1),[l,u]=_.useState({direccion:(s==null?void 0:s.direccion)||"",telefono:(s==null?void 0:s.telefono)||"",metodoPago:"stripe",terminos:!1}),d=p=>{const{name:y,value:x,type:S}=p.target;u(g=>({...g,[y]:S==="checkbox"?p.target.checked:x}))},h=async p=>{if(p.preventDefault(),!l.terminos){alert("Debes aceptar los terminos y condiciones");return}a(!0);try{(l.direccion!==(s==null?void 0:s.direccion)||l.telefono!==(s==null?void 0:s.telefono))&&await i({direccion:l.direccion,telefono:l.telefono});const y=await fetch("/api/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:e.map(S=>({producto_id:S.producto.id,cantidad:S.cantidad,precio:S.producto.precio,nombre:S.producto.nombre,imagen:S.producto.imagen})),total:n(),direccion:l.direccion,metodo_pago:l.metodoPago})});if(!y.ok)throw new Error("Error al procesar el pago");const{url:x}=await y.json();window.location.href=x}catch(y){console.error("Error en checkout:",y),alert("Error al procesar el pago. Intentalo de nuevo.")}finally{a(!1)}},f=p=>new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN"}).format(p);return c.jsx("div",{className:"min-h-screen bg-hueso py-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gris-oscuro mb-8",children:"Finalizar Compra"}),c.jsxs("form",{onSubmit:h,className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"card p-6",children:[c.jsxs("h2",{className:"text-xl font-bold text-gris-oscuro mb-6 flex items-center",children:[c.jsx(Vy,{className:"w-6 h-6 mr-2 text-amarillo"}),"Informacion de Envio"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gris-oscuro mb-2",children:"Nombre Completo"}),c.jsx("input",{type:"text",value:`${(s==null?void 0:s.nombre)||""} ${(s==null?void 0:s.apellido)||""}`,disabled:!0,className:"input-field bg-gray-100"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gris-oscuro mb-2",children:"Email"}),c.jsx("input",{type:"email",value:(s==null?void 0:s.email)||"",disabled:!0,className:"input-field bg-gray-100"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gris-oscuro mb-2",children:"Telefono"}),c.jsx("input",{type:"tel",name:"telefono",value:l.telefono,onChange:d,required:!0,className:"input-field",placeholder:"+51 999 999 999"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gris-oscuro mb-2",children:"Direccion de Envio"}),c.jsx("textarea",{name:"direccion",value:l.direccion,onChange:d,required:!0,rows:3,className:"input-field",placeholder:"Ingresa tu direccion completa"})]})]})]}),c.jsxs("div",{className:"card p-6",children:[c.jsxs("h2",{className:"text-xl font-bold text-gris-oscuro mb-6 flex items-center",children:[c.jsx(BE,{className:"w-6 h-6 mr-2 text-amarillo"}),"Metodo de Pago"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center space-x-3 p-4 border border-gray-300 rounded-lg",children:[c.jsx("input",{type:"radio",id:"stripe",name:"metodoPago",value:"stripe",checked:l.metodoPago==="stripe",onChange:d,className:"text-amarillo"}),c.jsxs("label",{htmlFor:"stripe",className:"flex-1",children:[c.jsx("div",{className:"font-medium text-gris-oscuro",children:"Tarjeta de Credito/Debito"}),c.jsx("div",{className:"text-sm text-gray-600",children:"Visa, Mastercard, American Express"})]})]}),c.jsxs("div",{className:"flex items-center space-x-3 p-4 border border-gray-300 rounded-lg",children:[c.jsx("input",{type:"radio",id:"mercadopago",name:"metodoPago",value:"mercadopago",checked:l.metodoPago==="mercadopago",onChange:d,className:"text-amarillo"}),c.jsxs("label",{htmlFor:"mercadopago",className:"flex-1",children:[c.jsx("div",{className:"font-medium text-gris-oscuro",children:"Mercado Pago"}),c.jsx("div",{className:"text-sm text-gray-600",children:"Pago con cuenta Mercado Pago"})]})]})]})]}),c.jsx("div",{className:"card p-6",children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("input",{type:"checkbox",id:"terminos",name:"terminos",checked:l.terminos,onChange:d,required:!0,className:"mt-1 text-amarillo"}),c.jsxs("label",{htmlFor:"terminos",className:"text-sm text-gray-600",children:["Acepto los"," ",c.jsx("a",{href:"/terminos",className:"text-amarillo hover:underline",children:"terminos y condiciones"})," ","y la"," ",c.jsx("a",{href:"/privacidad",className:"text-amarillo hover:underline",children:"politica de privacidad"})]})]})})]}),c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"card p-6",children:[c.jsx("h2",{className:"text-xl font-bold text-gris-oscuro mb-6",children:"Resumen del Pedido"}),c.jsx("div",{className:"space-y-4",children:e.map(p=>c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-12 h-12 overflow-hidden rounded-lg bg-gray-100",children:c.jsx("img",{src:p.producto.imagen,alt:p.producto.nombre,className:"w-full h-full object-cover"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-medium text-gris-oscuro text-sm",children:p.producto.nombre}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Cantidad: ",p.cantidad]})]}),c.jsx("span",{className:"font-medium text-dorado",children:f(p.producto.precio*p.cantidad)})]},p.producto.id))}),c.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-6 space-y-2",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),c.jsx("span",{className:"font-medium",children:f(t())})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"IGV (18%):"}),c.jsx("span",{className:"font-medium",children:f(r())})]}),c.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[c.jsx("span",{className:"text-gris-oscuro",children:"Total:"}),c.jsx("span",{className:"text-dorado",children:f(n())})]})]}),c.jsx("button",{type:"submit",disabled:o,className:"w-full btn-primary py-4 text-lg mt-6 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Procesando...":"Finalizar Compra"})]})})]})]})})},pC=()=>{const{user:e,updateUser:t}=yl(),[r,n]=_.useState([]),[s,i]=_.useState(!0),[o,a]=_.useState(!1),[l,u]=_.useState({telefono:(e==null?void 0:e.telefono)||"",direccion:(e==null?void 0:e.direccion)||""});_.useEffect(()=>{(async()=>{if(e)try{const{data:x,error:S}=await ht.from("pedidos").select("*").eq("usuario_id",e.id).order("created_at",{ascending:!1});if(S){console.error("Error fetching orders:",S);return}n(x||[])}catch(x){console.error("Error in fetchPedidos:",x)}finally{i(!1)}})()},[e]);const d=async()=>{try{await t(l),a(!1)}catch(y){console.error("Error updating user:",y)}},h=y=>new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN"}).format(y),f=y=>new Date(y).toLocaleDateString("es-PE",{year:"numeric",month:"long",day:"numeric"}),p=y=>{switch(y){case"pendiente":return"bg-yellow-100 text-yellow-800";case"procesando":return"bg-blue-100 text-blue-800";case"enviado":return"bg-purple-100 text-purple-800";case"entregado":return"bg-green-100 text-green-800";case"cancelado":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return s?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-amarillo"})}):c.jsx("div",{className:"min-h-screen bg-hueso py-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gris-oscuro mb-8",children:"Mi Perfil"}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsx("div",{className:"lg:col-span-1",children:c.jsxs("div",{className:"card p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h2",{className:"text-xl font-bold text-gris-oscuro flex items-center",children:[c.jsx(Vy,{className:"w-6 h-6 mr-2 text-amarillo"}),"Informacion Personal"]}),c.jsx("button",{onClick:()=>a(!o),className:"p-2 text-amarillo hover:bg-amarillo hover:text-gris-oscuro rounded-lg transition-colors duration-200",children:c.jsx(YE,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Nombre Completo"}),c.jsxs("p",{className:"text-gris-oscuro font-medium",children:[e==null?void 0:e.nombre," ",e==null?void 0:e.apellido]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Email"}),c.jsx("p",{className:"text-gris-oscuro",children:e==null?void 0:e.email})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Telefono"}),o?c.jsx("input",{type:"tel",value:l.telefono,onChange:y=>u(x=>({...x,telefono:y.target.value})),className:"input-field"}):c.jsx("p",{className:"text-gris-oscuro",children:(e==null?void 0:e.telefono)||"No especificado"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Direccion"}),o?c.jsx("textarea",{value:l.direccion,onChange:y=>u(x=>({...x,direccion:y.target.value})),rows:3,className:"input-field"}):c.jsx("p",{className:"text-gris-oscuro",children:(e==null?void 0:e.direccion)||"No especificada"})]}),o&&c.jsxs("div",{className:"flex space-x-2 pt-4",children:[c.jsx("button",{onClick:d,className:"btn-primary flex-1",children:"Guardar"}),c.jsx("button",{onClick:()=>{a(!1),u({telefono:(e==null?void 0:e.telefono)||"",direccion:(e==null?void 0:e.direccion)||""})},className:"btn-secondary flex-1",children:"Cancelar"})]})]})]})}),c.jsx("div",{className:"lg:col-span-2",children:c.jsxs("div",{className:"card p-6",children:[c.jsxs("h2",{className:"text-xl font-bold text-gris-oscuro mb-6 flex items-center",children:[c.jsx(jr,{className:"w-6 h-6 mr-2 text-amarillo"}),"Historial de Pedidos"]}),r.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx(jr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"No tienes pedidos aun"})]}):c.jsx("div",{className:"space-y-4",children:r.map(y=>c.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"font-semibold text-gris-oscuro",children:["Pedido #",y.id.slice(-8)]}),c.jsx("p",{className:"text-sm text-gray-600",children:f(y.created_at)})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"font-bold text-dorado",children:h(y.total)}),c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p(y.estado)}`,children:y.estado})]})]}),c.jsx("div",{className:"space-y-2",children:y.items.map((x,S)=>c.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[c.jsx("div",{className:"w-8 h-8 overflow-hidden rounded bg-gray-100",children:c.jsx("img",{src:x.imagen,alt:x.nombre,className:"w-full h-full object-cover"})}),c.jsx("span",{className:"flex-1",children:x.nombre}),c.jsxs("span",{className:"text-gray-600",children:["x",x.cantidad]}),c.jsx("span",{className:"font-medium",children:h(x.precio*x.cantidad)})]},S))}),c.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{children:"Subtotal:"}),c.jsx("span",{children:h(y.subtotal)})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{children:"IGV (18%):"}),c.jsx("span",{children:h(y.igv)})]}),c.jsxs("div",{className:"flex justify-between font-semibold",children:[c.jsx("span",{children:"Total:"}),c.jsx("span",{children:h(y.total)})]})]})]},y.id))})]})})]})]})})},oh={CLERK_PUBLISHABLE_KEY:"pk_live_Y2xlcmsubWVyY2FkaWxsby5hcHAk",SUPABASE_URL:"https://xwubnuokmfghtyyfpgtl.supabase.co",SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh3dWJudW9rbWZnaHR5eWZwZ3RsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY5NTA3NTEsImV4cCI6MjA3MjUyNjc1MX0.H2x6CfC2z2ttnghuZvGpIdGlvUWlYy5GWjpR6Ok5SbA",STRIPE_PUBLISHABLE_KEY:"pk_test_51S3L8sDJ2Uq8pGw9YlYU8y4vtUmTkDuJlQyKvuGqwcC7ekZx3uKVILjGhPAsM76XwOhOfc1l22pX9xxaqpqYkA02007UYskdYH",CLOUDINARY_CLOUD_NAME:"ddbjhpjri",CLOUDINARY_UPLOAD_PRESET:"mercadillo_upload",MERCADOPAGO_PUBLIC_KEY:"tu_mercadopago_public_key_aqui"},mC=["CLERK_PUBLISHABLE_KEY","SUPABASE_URL","SUPABASE_ANON_KEY","STRIPE_PUBLISHABLE_KEY","CLOUDINARY_CLOUD_NAME","CLOUDINARY_UPLOAD_PRESET"];for(const e of mC)if(!oh[e])throw new Error(`Missing required environment variable: VITE_${e}`);const Vp=oh.CLOUDINARY_CLOUD_NAME,gC=oh.CLOUDINARY_UPLOAD_PRESET,vC=async e=>{const t=new FormData;t.append("file",e),t.append("upload_preset",gC),t.append("cloud_name",Vp);try{const r=await fetch(`https://api.cloudinary.com/v1_1/${Vp}/image/upload`,{method:"POST",body:t});if(!r.ok)throw new Error("Error uploading image");return(await r.json()).secure_url}catch(r){throw console.error("Error uploading image:",r),r}},yC=()=>{const[e,t]=_.useState([]),[r,n]=_.useState(!0),[s,i]=_.useState(!1),[o,a]=_.useState(null),[l,u]=_.useState(""),[d,h]=_.useState({nombre:"",descripcion:"",precio:"",stock:"",categoria:"",imagen:""});_.useEffect(()=>{f()},[]);const f=async()=>{try{const{data:j,error:P}=await ht.from("productos").select("*").order("created_at",{ascending:!1});if(P){console.error("Error fetching products:",P);return}t(j||[])}catch(j){console.error("Error in fetchProductos:",j)}finally{n(!1)}},p=j=>{const{name:P,value:w}=j.target;h(C=>({...C,[P]:w}))},y=async j=>{var w;const P=(w=j.target.files)==null?void 0:w[0];if(P)try{const C=await vC(P);h(A=>({...A,imagen:C}))}catch(C){console.error("Error uploading image:",C),alert("Error al subir la imagen")}},x=async j=>{j.preventDefault();try{const P={nombre:d.nombre,descripcion:d.descripcion,precio:parseFloat(d.precio),stock:parseInt(d.stock),categoria:d.categoria,imagen:d.imagen};if(o){const{error:w}=await ht.from("productos").update(P).eq("id",o.id);if(w){console.error("Error updating product:",w);return}}else{const{error:w}=await ht.from("productos").insert([P]);if(w){console.error("Error creating product:",w);return}}h({nombre:"",descripcion:"",precio:"",stock:"",categoria:"",imagen:""}),a(null),i(!1),f()}catch(P){console.error("Error in handleSubmit:",P)}},S=j=>{a(j),h({nombre:j.nombre,descripcion:j.descripcion,precio:j.precio.toString(),stock:j.stock.toString(),categoria:j.categoria,imagen:j.imagen}),i(!0)},g=async j=>{if(confirm("Ests seguro de que quieres eliminar este producto?"))try{const{error:P}=await ht.from("productos").delete().eq("id",j);if(P){console.error("Error deleting product:",P);return}f()}catch(P){console.error("Error in handleDelete:",P)}},m=()=>{a(null),h({nombre:"",descripcion:"",precio:"",stock:"",categoria:"",imagen:""}),i(!0)},v=e.filter(j=>j.nombre.toLowerCase().includes(l.toLowerCase())||j.categoria.toLowerCase().includes(l.toLowerCase())),b=j=>new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN"}).format(j);return r?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amarillo"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro",children:"Gestin de Productos"}),c.jsx("p",{className:"text-gray-600",children:"Administra tu catlogo de productos"})]}),c.jsxs("button",{onClick:m,className:"btn-primary flex items-center space-x-2",children:[c.jsx(zy,{className:"w-5 h-5"}),c.jsx("span",{children:"Nuevo Producto"})]})]}),c.jsxs("div",{className:"relative",children:[c.jsx($y,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{type:"text",placeholder:"Buscar productos...",value:l,onChange:j=>u(j.target.value),className:"input-field pl-10"})]}),c.jsx("div",{className:"card overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Producto"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categora"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Precio"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map(j=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-12 h-12 overflow-hidden rounded-lg bg-gray-100",children:c.jsx("img",{src:j.imagen,alt:j.nombre,className:"w-full h-full object-cover"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("div",{className:"text-sm font-medium text-gris-oscuro",children:j.nombre}),c.jsx("div",{className:"text-sm text-gray-500 line-clamp-1",children:j.descripcion})]})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded-full",children:j.categoria})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-dorado",children:b(j.precio)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${j.stock>10?"bg-green-100 text-green-800":j.stock>0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:j.stock})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>S(j),className:"text-amarillo hover:text-dorado transition-colors duration-200",children:c.jsx(QE,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>g(j.id),className:"text-red-500 hover:text-red-700 transition-colors duration-200",children:c.jsx(Wy,{className:"w-4 h-4"})})]})})]},j.id))})]})})}),s&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[c.jsx("h3",{className:"text-xl font-bold text-gris-oscuro mb-6",children:o?"Editar Producto":"Nuevo Producto"}),c.jsxs("form",{onSubmit:x,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gris-oscuro mb-2",children:"Nombre"}),c.jsx("input",{type:"text",name:"nombre",value:d.nombre,onChange:p,required:!0,className:"input-field"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gris-oscuro mb-2",children:"Categora"}),c.jsxs("select",{name:"categoria",value:d.categoria,onChange:p,required:!0,className:"input-field",children:[c.jsx("option",{value:"",children:"Seleccionar categora"}),c.jsx("option",{value:"Electrnicos",children:"Electrnicos"}),c.jsx("option",{value:"Ropa",children:"Ropa"}),c.jsx("option",{value:"Hogar",children:"Hogar"}),c.jsx("option",{value:"Deportes",children:"Deportes"}),c.jsx("option",{value:"Libros",children:"Libros"}),c.jsx("option",{value:"Otros",children:"Otros"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gris-oscuro mb-2",children:"Descripcin"}),c.jsx("textarea",{name:"descripcion",value:d.descripcion,onChange:p,required:!0,rows:3,className:"input-field"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gris-oscuro mb-2",children:"Precio (S/)"}),c.jsx("input",{type:"number",name:"precio",value:d.precio,onChange:p,required:!0,min:"0",step:"0.01",className:"input-field"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gris-oscuro mb-2",children:"Stock"}),c.jsx("input",{type:"number",name:"stock",value:d.stock,onChange:p,required:!0,min:"0",className:"input-field"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gris-oscuro mb-2",children:"Imagen"}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("input",{type:"file",accept:"image/*",onChange:y,className:"hidden",id:"image-upload"}),c.jsxs("label",{htmlFor:"image-upload",className:"btn-secondary flex items-center space-x-2 cursor-pointer",children:[c.jsx(rC,{className:"w-4 h-4"}),c.jsx("span",{children:"Subir Imagen"})]}),d.imagen&&c.jsx("div",{className:"w-16 h-16 overflow-hidden rounded-lg bg-gray-100",children:c.jsx("img",{src:d.imagen,alt:"Preview",className:"w-full h-full object-cover"})})]})]}),c.jsxs("div",{className:"flex space-x-4 pt-4",children:[c.jsxs("button",{type:"submit",className:"btn-primary flex-1",children:[o?"Actualizar":"Crear"," Producto"]}),c.jsx("button",{type:"button",onClick:()=>i(!1),className:"btn-secondary flex-1",children:"Cancelar"})]})]})]})})]})},xC=()=>{const[e,t]=_.useState([]),[r,n]=_.useState(!0),[s,i]=_.useState(null),[o,a]=_.useState("");_.useEffect(()=>{l()},[]);const l=async()=>{try{const{data:x,error:S}=await ht.from("pedidos").select("*").order("created_at",{ascending:!1});if(S){console.error("Error fetching orders:",S);return}t(x||[])}catch(x){console.error("Error in fetchPedidos:",x)}finally{n(!1)}},u=async(x,S)=>{try{const{error:g}=await ht.from("pedidos").update({estado:S}).eq("id",x);if(g){console.error("Error updating order status:",g);return}l(),i(null)}catch(g){console.error("Error in updateOrderStatus:",g)}},d=x=>new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN"}).format(x),h=x=>new Date(x).toLocaleDateString("es-PE",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),f=x=>{switch(x){case"pendiente":return"bg-yellow-100 text-yellow-800";case"procesando":return"bg-blue-100 text-blue-800";case"enviado":return"bg-purple-100 text-purple-800";case"entregado":return"bg-green-100 text-green-800";case"cancelado":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},p=x=>{switch(x){case"pendiente":return c.jsx(jr,{className:"w-4 h-4"});case"procesando":return c.jsx(jr,{className:"w-4 h-4"});case"enviado":return c.jsx(ih,{className:"w-4 h-4"});case"entregado":return c.jsx(FE,{className:"w-4 h-4"});case"cancelado":return c.jsx(Wp,{className:"w-4 h-4"});default:return c.jsx(jr,{className:"w-4 h-4"})}},y=e.filter(x=>o===""||x.estado===o);return r?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amarillo"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro",children:"Gestin de Pedidos"}),c.jsx("p",{className:"text-gray-600",children:"Administra todos los pedidos de la tienda"})]})}),c.jsx("div",{className:"flex flex-wrap gap-4",children:c.jsxs("select",{value:o,onChange:x=>a(x.target.value),className:"input-field",children:[c.jsx("option",{value:"",children:"Todos los estados"}),c.jsx("option",{value:"pendiente",children:"Pendiente"}),c.jsx("option",{value:"procesando",children:"Procesando"}),c.jsx("option",{value:"enviado",children:"Enviado"}),c.jsx("option",{value:"entregado",children:"Entregado"}),c.jsx("option",{value:"cancelado",children:"Cancelado"})]})}),c.jsx("div",{className:"card overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pedido"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(x=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[c.jsxs("div",{className:"text-sm font-medium text-gris-oscuro",children:["#",x.id.slice(-8)]}),c.jsxs("div",{className:"text-sm text-gray-500",children:[x.items.length," producto(s)"]})]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-gris-oscuro",children:x.usuario_id.slice(-8)})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f(x.estado)}`,children:[p(x.estado),c.jsx("span",{className:"ml-1 capitalize",children:x.estado})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-dorado",children:d(x.total)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h(x.created_at)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:c.jsx("button",{onClick:()=>i(x),className:"text-amarillo hover:text-dorado transition-colors duration-200",children:c.jsx(My,{className:"w-4 h-4"})})})]},x.id))})]})})}),s&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("h3",{className:"text-xl font-bold text-gris-oscuro",children:["Pedido #",s.id.slice(-8)]}),c.jsx("button",{onClick:()=>i(null),className:"text-gray-400 hover:text-gray-600",children:c.jsx(Wp,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold text-gris-oscuro mb-4",children:"Productos"}),c.jsx("div",{className:"space-y-4",children:s.items.map((x,S)=>c.jsxs("div",{className:"flex items-center space-x-4 p-4 border border-gray-200 rounded-lg",children:[c.jsx("div",{className:"w-16 h-16 overflow-hidden rounded-lg bg-gray-100",children:c.jsx("img",{src:x.imagen,alt:x.nombre,className:"w-full h-full object-cover"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h5",{className:"font-medium text-gris-oscuro",children:x.nombre}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Cantidad: ",x.cantidad]}),c.jsx("p",{className:"text-sm font-medium text-dorado",children:d(x.precio*x.cantidad)})]})]},S))})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold text-gris-oscuro mb-4",children:"Detalles del Pedido"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Estado actual:"}),c.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f(s.estado)}`,children:[p(s.estado),c.jsx("span",{className:"ml-1 capitalize",children:s.estado})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Fecha:"}),c.jsx("p",{className:"text-gris-oscuro",children:h(s.created_at)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Direccin de envo:"}),c.jsx("p",{className:"text-gris-oscuro",children:s.direccion_envio})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Mtodo de pago:"}),c.jsx("p",{className:"text-gris-oscuro capitalize",children:s.metodo_pago})]}),c.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[c.jsxs("div",{className:"flex justify-between mb-2",children:[c.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),c.jsx("span",{className:"font-medium",children:d(s.subtotal)})]}),c.jsxs("div",{className:"flex justify-between mb-2",children:[c.jsx("span",{className:"text-gray-600",children:"IGV (18%):"}),c.jsx("span",{className:"font-medium",children:d(s.igv)})]}),c.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[c.jsx("span",{className:"text-gris-oscuro",children:"Total:"}),c.jsx("span",{className:"text-dorado",children:d(s.total)})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Actualizar estado:"}),c.jsx("div",{className:"flex space-x-2",children:["pendiente","procesando","enviado","entregado","cancelado"].map(x=>c.jsx("button",{onClick:()=>u(s.id,x),disabled:s.estado===x,className:`px-3 py-1 text-xs font-medium rounded-full transition-colors duration-200 ${s.estado===x?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-amarillo text-gris-oscuro hover:bg-dorado"}`,children:x},x))})]})]})]})]})]})})]})},wC=()=>{const[e,t]=_.useState([]),[r,n]=_.useState(!0),[s,i]=_.useState("");_.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:h,error:f}=await ht.from("usuarios").select("*").order("created_at",{ascending:!1});if(f){console.error("Error fetching users:",f);return}t(h||[])}catch(h){console.error("Error in fetchUsuarios:",h)}finally{n(!1)}},a=async(h,f)=>{try{const{error:p}=await ht.from("usuarios").update({rol:f}).eq("id",h);if(p){console.error("Error updating user role:",p);return}o()}catch(p){console.error("Error in updateUserRole:",p)}},l=h=>new Date(h).toLocaleDateString("es-PE",{year:"numeric",month:"short",day:"numeric"}),u=e.filter(h=>h.nombre.toLowerCase().includes(s.toLowerCase())||h.apellido.toLowerCase().includes(s.toLowerCase())||h.email.toLowerCase().includes(s.toLowerCase())),d={total:e.length,admins:e.filter(h=>h.rol==="admin").length,clientes:e.filter(h=>h.rol==="cliente").length};return r?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amarillo"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro",children:"Gestin de Usuarios"}),c.jsx("p",{className:"text-gray-600",children:"Administra los usuarios de la plataforma"})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx("div",{className:"card p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Usuarios"}),c.jsx("p",{className:"text-2xl font-bold text-gris-oscuro",children:d.total})]}),c.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:c.jsx(Da,{className:"w-6 h-6 text-blue-600"})})]})}),c.jsx("div",{className:"card p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Administradores"}),c.jsx("p",{className:"text-2xl font-bold text-gris-oscuro",children:d.admins})]}),c.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:c.jsx(Fp,{className:"w-6 h-6 text-purple-600"})})]})}),c.jsx("div",{className:"card p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Clientes"}),c.jsx("p",{className:"text-2xl font-bold text-gris-oscuro",children:d.clientes})]}),c.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:c.jsx(Bp,{className:"w-6 h-6 text-green-600"})})]})})]}),c.jsx("div",{className:"relative",children:c.jsx("input",{type:"text",placeholder:"Buscar usuarios...",value:s,onChange:h=>i(h.target.value),className:"input-field"})}),c.jsx("div",{className:"card overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usuario"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rol"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha Registro"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(h=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-10 h-10 bg-amarillo rounded-full flex items-center justify-center",children:c.jsxs("span",{className:"text-gris-oscuro font-semibold",children:[h.nombre.charAt(0),h.apellido.charAt(0)]})}),c.jsxs("div",{className:"ml-4",children:[c.jsxs("div",{className:"text-sm font-medium text-gris-oscuro",children:[h.nombre," ",h.apellido]}),c.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",h.id.slice(-8)]})]})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[c.jsx(Dy,{className:"w-4 h-4 mr-2"}),h.email]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${h.rol==="admin"?"bg-purple-100 text-purple-800":"bg-green-100 text-green-800"}`,children:h.rol==="admin"?c.jsxs(c.Fragment,{children:[c.jsx(Fp,{className:"w-3 h-3 mr-1"}),"Admin"]}):c.jsxs(c.Fragment,{children:[c.jsx(Bp,{className:"w-3 h-3 mr-1"}),"Cliente"]})})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[c.jsx($E,{className:"w-4 h-4 mr-2"}),l(h.created_at)]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:c.jsx("div",{className:"flex space-x-2",children:h.rol==="admin"?c.jsx("button",{onClick:()=>a(h.id,"cliente"),className:"text-green-600 hover:text-green-800 transition-colors duration-200",children:"Hacer Cliente"}):c.jsx("button",{onClick:()=>a(h.id,"admin"),className:"text-purple-600 hover:text-purple-800 transition-colors duration-200",children:"Hacer Admin"})})})]},h.id))})]})})})]})},_C=()=>{const[e,t]=_.useState({totalProductos:0,totalPedidos:0,totalUsuarios:0,ingresosTotales:0,pedidosHoy:0,pedidosMes:0}),[r,n]=_.useState(!0);_.useEffect(()=>{(async()=>{try{const[o,a,l]=await Promise.all([ht.from("productos").select("id",{count:"exact"}),ht.from("pedidos").select("id, total, created_at, estado",{count:"exact"}),ht.from("usuarios").select("id",{count:"exact"})]),u=a.data||[],d=o.count||0,h=a.count||0,f=l.count||0,p=u.reduce((m,v)=>v.estado&&v.estado!=="cancelado"?m+v.total:m,0)||0,y=new Date().toISOString().split("T")[0],x=u.filter(m=>m.created_at.startsWith(y)).length||0,S=new Date;S.setDate(1);const g=u.filter(m=>new Date(m.created_at)>=S).length||0;t({totalProductos:d,totalPedidos:h,totalUsuarios:f,ingresosTotales:p,pedidosHoy:x,pedidosMes:g})}catch(o){console.error("Error fetching stats:",o)}finally{n(!1)}})()},[]);const s=i=>new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN"}).format(i);return r?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amarillo"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsx("div",{className:"card p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Productos"}),c.jsx("p",{className:"text-2xl font-bold text-gris-oscuro",children:e.totalProductos})]}),c.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:c.jsx(jr,{className:"w-6 h-6 text-blue-600"})})]})}),c.jsx("div",{className:"card p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Pedidos"}),c.jsx("p",{className:"text-2xl font-bold text-gris-oscuro",children:e.totalPedidos})]}),c.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:c.jsx(so,{className:"w-6 h-6 text-green-600"})})]})}),c.jsx("div",{className:"card p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Usuarios"}),c.jsx("p",{className:"text-2xl font-bold text-gris-oscuro",children:e.totalUsuarios})]}),c.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:c.jsx(Da,{className:"w-6 h-6 text-purple-600"})})]})}),c.jsx("div",{className:"card p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ingresos Totales"}),c.jsx("p",{className:"text-2xl font-bold text-dorado",children:s(e.ingresosTotales)})]}),c.jsx("div",{className:"w-12 h-12 bg-amarillo rounded-lg flex items-center justify-center",children:c.jsx(WE,{className:"w-6 h-6 text-gris-oscuro"})})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"card p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gris-oscuro mb-4",children:"Actividad Reciente"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:c.jsx(tC,{className:"w-4 h-4 text-green-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gris-oscuro",children:"Pedidos hoy"}),c.jsxs("p",{className:"text-xs text-gray-600",children:[e.pedidosHoy," nuevos pedidos"]})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:c.jsx(jr,{className:"w-4 h-4 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gris-oscuro",children:"Productos activos"}),c.jsxs("p",{className:"text-xs text-gray-600",children:[e.totalProductos," productos en catlogo"]})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:c.jsx(Da,{className:"w-4 h-4 text-purple-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gris-oscuro",children:"Usuarios registrados"}),c.jsxs("p",{className:"text-xs text-gray-600",children:[e.totalUsuarios," usuarios activos"]})]})]})]})]}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gris-oscuro mb-4",children:"Resumen del Mes"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Pedidos este mes:"}),c.jsx("span",{className:"font-semibold text-gris-oscuro",children:e.pedidosMes})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Ingresos totales:"}),c.jsx("span",{className:"font-semibold text-dorado",children:s(e.ingresosTotales)})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Promedio por pedido:"}),c.jsx("span",{className:"font-semibold text-gris-oscuro",children:e.totalPedidos>0?s(e.ingresosTotales/e.totalPedidos):"S/ 0.00"})]})]})]})]})]})},kC=()=>{const e=zn(),t=[{path:"/admin",icon:zE,label:"Dashboard"},{path:"/admin/productos",icon:jr,label:"Productos"},{path:"/admin/pedidos",icon:so,label:"Pedidos"},{path:"/admin/usuarios",icon:Da,label:"Usuarios"}];return c.jsx("div",{className:"min-h-screen bg-hueso",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gris-oscuro",children:"Panel de Administracin"}),c.jsx("p",{className:"text-lg text-gray-600 mt-2",children:"Gestiona tu tienda online desde aqu"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[c.jsx("div",{className:"lg:col-span-1",children:c.jsx("nav",{className:"card p-4",children:c.jsx("ul",{className:"space-y-2",children:t.map(r=>{const n=r.icon,s=e.pathname===r.path;return c.jsx("li",{children:c.jsxs(Ee,{to:r.path,className:`flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors duration-200 ${s?"bg-amarillo text-gris-oscuro":"text-gray-600 hover:bg-gray-100"}`,children:[c.jsx(n,{className:"w-5 h-5"}),c.jsx("span",{className:"font-medium",children:r.label})]})},r.path)})})})}),c.jsx("div",{className:"lg:col-span-3",children:c.jsxs(q_,{children:[c.jsx(si,{path:"/",element:c.jsx(_C,{})}),c.jsx(si,{path:"/productos",element:c.jsx(yC,{})}),c.jsx(si,{path:"/pedidos",element:c.jsx(xC,{})}),c.jsx(si,{path:"/usuarios",element:c.jsx(wC,{})})]})})]})]})})},Sc=({children:e,requireAdmin:t=!1})=>{const{user:r,isLoaded:n}=Qd(),{isAdmin:s,isLoading:i}=yl(),o=zn();return!n||i?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-amarillo"})}):r?t&&!s?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-2xl font-bold text-gris-oscuro mb-4",children:"Acceso Denegado"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"No tienes permisos para acceder a esta pgina."}),c.jsx("button",{onClick:()=>window.history.back(),className:"btn-primary",children:"Volver"})]})}):c.jsx(c.Fragment,{children:e}):c.jsx(V_,{to:"/sign-in",state:{from:o},replace:!0})};class SC extends _.Component{constructor(){super(...arguments);gh(this,"state",{hasError:!1})}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,n){console.error("Uncaught error:",r,n)}render(){return this.state.hasError?c.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-hueso text-gris-oscuro p-4 text-center",children:[c.jsx("h1",{className:"text-4xl font-bold mb-4",children:" Algo salio mal."}),c.jsx("p",{className:"text-lg mb-4",children:"Ha ocurrido un error inesperado en la aplicacion."}),c.jsx("p",{className:"text-md text-gray-600",children:"Por favor, recarga la pagina o intentalo de nuevo mas tarde."}),!1]}):this.props.children}}const jC=()=>c.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 p-4",children:c.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg w-full max-w-md text-center",children:[c.jsx("img",{src:"/logo.jpg",alt:"Logo",className:"mx-auto w-20 mb-4"}),c.jsx(LS,{path:"/sign-in",routing:"path",signUpUrl:"/sign-up",fallbackRedirectUrl:"/",appearance:{elements:{card:"shadow-none w-full p-0",formButtonPrimary:"bg-yellow-400 hover:bg-yellow-500 text-black font-semibold rounded-lg py-2",formFieldInput:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-400",closeButton:"z-50 text-gris-oscuro top-4 right-4 focus:ring-amarillo focus:border-amarillo",headerTitle:"text-gris-oscuro",headerSubtitle:"text-gris-claro",socialButtonsBlockButton:"bg-hueso text-gris-oscuro hover:bg-gray-200",footerActionLink:"text-amarillo hover:text-dorado"},variables:{colorPrimary:"#FFD700",colorText:"#333333",colorBackground:"#f5f1e9",colorInputBackground:"#f5f1e9",colorInputText:"#333333",borderRadius:"0.5rem",fontFamily:"Inter, sans-serif"}}})]})}),bC=()=>c.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 p-4",children:c.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg w-full max-w-md text-center",children:[c.jsx("img",{src:"/logo.jpg",alt:"Logo",className:"mx-auto w-20 mb-4"}),c.jsx(AS,{path:"/sign-up",routing:"path",signInUrl:"/sign-in",fallbackRedirectUrl:"/",appearance:{elements:{card:"shadow-none w-full p-0",formButtonPrimary:"bg-yellow-400 hover:bg-yellow-500 text-black font-semibold rounded-lg py-2",formFieldInput:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-400",closeButton:"z-50 text-gris-oscuro top-4 right-4 focus:ring-amarillo focus:border-amarillo",headerTitle:"text-gris-oscuro",headerSubtitle:"text-gris-claro",socialButtonsBlockButton:"bg-hueso text-gris-oscuro hover:bg-gray-200",footerActionLink:"text-amarillo hover:text-dorado"},variables:{colorPrimary:"#FFD700",colorText:"#333333",colorBackground:"#f5f1e9",colorInputBackground:"#f5f1e9",colorInputText:"#333333",borderRadius:"0.5rem",fontFamily:"Inter, sans-serif"}}})]})}),EC=e1([{path:"/",element:c.jsx(aC,{}),children:[{index:!0,element:c.jsx(cC,{})},{path:"catalogo",element:c.jsx(uC,{})},{path:"producto/:id",element:c.jsx(dC,{})},{path:"carrito",element:c.jsx(hC,{})},{path:"checkout",element:c.jsx(Sc,{children:c.jsx(fC,{})})},{path:"perfil",element:c.jsx(Sc,{children:c.jsx(pC,{})})},{path:"admin/*",element:c.jsx(Sc,{requireAdmin:!0,children:c.jsx(kC,{})})}]},{path:"/sign-in/*",element:c.jsx(jC,{})},{path:"/sign-up/*",element:c.jsx(bC,{})}]),CC="pk_live_Y2xlcmsubWVyY2FkaWxsby5hcHAk";jc.createRoot(document.getElementById("root")).render(c.jsx(T.StrictMode,{children:c.jsx(SC,{children:c.jsx(uy,{publishableKey:CC,signInFallbackRedirectUrl:"/",signUpFallbackRedirectUrl:"/",appearance:{elements:{rootBox:"",headerTitle:"text-gris-oscuro",headerSubtitle:"text-gris-claro",socialButtonsBlockButton:"bg-hueso text-gris-oscuro hover:bg-gray-200",formButtonPrimary:"bg-yellow-400 hover:bg-yellow-500 text-black font-semibold rounded-lg py-2",formFieldInput:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-400",footerActionLink:"text-amarillo hover:text-dorado",closeButton:"z-50 text-gris-oscuro top-4 right-4 focus:ring-amarillo focus:border-amarillo",userButtonPopoverCard:{width:"220px",borderRadius:"10px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",fontSize:"14px",padding:"6px",backgroundColor:"white",border:"1px solid rgb(229 231 235)"},userButtonPopoverListItem:{},userButtonPopoverListItemText:"text-sm",userButtonPopoverListItemHover:"bg-gray-100",userButtonPopoverActionButton:{padding:"4px 8px",fontSize:"14px"},userButtonPopoverFooter:{fontSize:"11px",marginTop:"4px"}},variables:{colorPrimary:"#FFD700",colorText:"#333333",colorBackground:"#f5f1e9",colorInputBackground:"#f5f1e9",colorInputText:"#333333",borderRadius:"0.5rem",fontFamily:"Inter, sans-serif"}},children:c.jsx(c1,{router:EC,future:{v7_startTransition:!0}})})})}));
