var Nw=Object.defineProperty;var Sw=(e,t,r)=>t in e?Nw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var al=(e,t,r)=>(Sw(e,typeof t!="symbol"?t+"":t,r),r),Cd=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var T=(e,t,r)=>(Cd(e,t,"read from private field"),r?r.call(e):t.get(e)),V=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},D=(e,t,r,n)=>(Cd(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);var il=(e,t,r,n)=>({set _(s){D(e,t,s,r)},get _(){return T(e,t,n)}}),ue=(e,t,r)=>(Cd(e,t,"access private method"),r);function $0(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var or=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function B0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ew(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var W0={exports:{}},zc={},q0={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fo=Symbol.for("react.element"),Pw=Symbol.for("react.portal"),Cw=Symbol.for("react.fragment"),Tw=Symbol.for("react.strict_mode"),Rw=Symbol.for("react.profiler"),Aw=Symbol.for("react.provider"),Ow=Symbol.for("react.context"),Fw=Symbol.for("react.forward_ref"),Lw=Symbol.for("react.suspense"),Iw=Symbol.for("react.memo"),Mw=Symbol.for("react.lazy"),qm=Symbol.iterator;function Uw(e){return e===null||typeof e!="object"?null:(e=qm&&e[qm]||e["@@iterator"],typeof e=="function"?e:null)}var H0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V0=Object.assign,K0={};function Ya(e,t,r){this.props=e,this.context=t,this.refs=K0,this.updater=r||H0}Ya.prototype.isReactComponent={};Ya.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ya.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Q0(){}Q0.prototype=Ya.prototype;function yf(e,t,r){this.props=e,this.context=t,this.refs=K0,this.updater=r||H0}var vf=yf.prototype=new Q0;vf.constructor=yf;V0(vf,Ya.prototype);vf.isPureReactComponent=!0;var Hm=Array.isArray,G0=Object.prototype.hasOwnProperty,bf={current:null},J0={key:!0,ref:!0,__self:!0,__source:!0};function Y0(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)G0.call(t,n)&&!J0.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Fo,type:e,key:i,ref:o,props:s,_owner:bf.current}}function Dw(e,t){return{$$typeof:Fo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function wf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fo}function zw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Vm=/\/+/g;function Td(e,t){return typeof e=="object"&&e!==null&&e.key!=null?zw(""+e.key):t.toString(36)}function Ul(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Fo:case Pw:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Td(o,0):n,Hm(s)?(r="",e!=null&&(r=e.replace(Vm,"$&/")+"/"),Ul(s,t,r,"",function(d){return d})):s!=null&&(wf(s)&&(s=Dw(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Vm,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Hm(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Td(i,l);o+=Ul(i,t,r,c,s)}else if(c=Uw(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Td(i,l++),o+=Ul(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ol(e,t,r){if(e==null)return e;var n=[],s=0;return Ul(e,n,"","",function(i){return t.call(r,i,s++)}),n}function $w(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pt={current:null},Dl={transition:null},Bw={ReactCurrentDispatcher:Pt,ReactCurrentBatchConfig:Dl,ReactCurrentOwner:bf};function X0(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:ol,forEach:function(e,t,r){ol(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ol(e,function(){t++}),t},toArray:function(e){return ol(e,function(t){return t})||[]},only:function(e){if(!wf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};le.Component=Ya;le.Fragment=Cw;le.Profiler=Rw;le.PureComponent=yf;le.StrictMode=Tw;le.Suspense=Lw;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bw;le.act=X0;le.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=V0({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=bf.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)G0.call(t,c)&&!J0.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Fo,type:e.type,key:s,ref:i,props:n,_owner:o}};le.createContext=function(e){return e={$$typeof:Ow,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Aw,_context:e},e.Consumer=e};le.createElement=Y0;le.createFactory=function(e){var t=Y0.bind(null,e);return t.type=e,t};le.createRef=function(){return{current:null}};le.forwardRef=function(e){return{$$typeof:Fw,render:e}};le.isValidElement=wf;le.lazy=function(e){return{$$typeof:Mw,_payload:{_status:-1,_result:e},_init:$w}};le.memo=function(e,t){return{$$typeof:Iw,type:e,compare:t===void 0?null:t}};le.startTransition=function(e){var t=Dl.transition;Dl.transition={};try{e()}finally{Dl.transition=t}};le.unstable_act=X0;le.useCallback=function(e,t){return Pt.current.useCallback(e,t)};le.useContext=function(e){return Pt.current.useContext(e)};le.useDebugValue=function(){};le.useDeferredValue=function(e){return Pt.current.useDeferredValue(e)};le.useEffect=function(e,t){return Pt.current.useEffect(e,t)};le.useId=function(){return Pt.current.useId()};le.useImperativeHandle=function(e,t,r){return Pt.current.useImperativeHandle(e,t,r)};le.useInsertionEffect=function(e,t){return Pt.current.useInsertionEffect(e,t)};le.useLayoutEffect=function(e,t){return Pt.current.useLayoutEffect(e,t)};le.useMemo=function(e,t){return Pt.current.useMemo(e,t)};le.useReducer=function(e,t,r){return Pt.current.useReducer(e,t,r)};le.useRef=function(e){return Pt.current.useRef(e)};le.useState=function(e){return Pt.current.useState(e)};le.useSyncExternalStore=function(e,t,r){return Pt.current.useSyncExternalStore(e,t,r)};le.useTransition=function(){return Pt.current.useTransition()};le.version="18.3.1";q0.exports=le;var w=q0.exports;const O=B0(w),Ww=$0({__proto__:null,default:O},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qw=w,Hw=Symbol.for("react.element"),Vw=Symbol.for("react.fragment"),Kw=Object.prototype.hasOwnProperty,Qw=qw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gw={key:!0,ref:!0,__self:!0,__source:!0};function Z0(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Kw.call(t,n)&&!Gw.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Hw,type:e,key:i,ref:o,props:s,_owner:Qw.current}}zc.Fragment=Vw;zc.jsx=Z0;zc.jsxs=Z0;W0.exports=zc;var a=W0.exports,Cu={},ex={exports:{}},Gt={},tx={exports:{}},rx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,G){var X=I.length;I.push(G);e:for(;0<X;){var ie=X-1>>>1,Z=I[ie];if(0<s(Z,G))I[ie]=G,I[X]=Z,X=ie;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var G=I[0],X=I.pop();if(X!==G){I[0]=X;e:for(var ie=0,Z=I.length,tt=Z>>>1;ie<tt;){var He=2*(ie+1)-1,Be=I[He],Ve=He+1,bt=I[Ve];if(0>s(Be,X))Ve<Z&&0>s(bt,Be)?(I[ie]=bt,I[Ve]=X,ie=Ve):(I[ie]=Be,I[He]=X,ie=He);else if(Ve<Z&&0>s(bt,X))I[ie]=bt,I[Ve]=X,ie=Ve;else break e}}return G}function s(I,G){var X=I.sortIndex-G.sortIndex;return X!==0?X:I.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,m=!1,v=!1,x=!1,j=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(I){for(var G=r(d);G!==null;){if(G.callback===null)n(d);else if(G.startTime<=I)n(d),G.sortIndex=G.expirationTime,t(c,G);else break;G=r(d)}}function b(I){if(x=!1,y(I),!v)if(r(c)!==null)v=!0,Pe(_);else{var G=r(d);G!==null&&de(b,G.startTime-I)}}function _(I,G){v=!1,x&&(x=!1,p(E),E=-1),m=!0;var X=f;try{for(y(G),h=r(c);h!==null&&(!(h.expirationTime>G)||I&&!F());){var ie=h.callback;if(typeof ie=="function"){h.callback=null,f=h.priorityLevel;var Z=ie(h.expirationTime<=G);G=e.unstable_now(),typeof Z=="function"?h.callback=Z:h===r(c)&&n(c),y(G)}else n(c);h=r(c)}if(h!==null)var tt=!0;else{var He=r(d);He!==null&&de(b,He.startTime-G),tt=!1}return tt}finally{h=null,f=X,m=!1}}var N=!1,k=null,E=-1,S=5,C=-1;function F(){return!(e.unstable_now()-C<S)}function z(){if(k!==null){var I=e.unstable_now();C=I;var G=!0;try{G=k(!0,I)}finally{G?J():(N=!1,k=null)}}else N=!1}var J;if(typeof g=="function")J=function(){g(z)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,xe=Y.port2;Y.port1.onmessage=z,J=function(){xe.postMessage(null)}}else J=function(){j(z,0)};function Pe(I){k=I,N||(N=!0,J())}function de(I,G){E=j(function(){I(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,Pe(_))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(I){switch(f){case 1:case 2:case 3:var G=3;break;default:G=f}var X=f;f=G;try{return I()}finally{f=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,G){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var X=f;f=I;try{return G()}finally{f=X}},e.unstable_scheduleCallback=function(I,G,X){var ie=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ie+X:ie):X=ie,I){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=X+Z,I={id:u++,callback:G,priorityLevel:I,startTime:X,expirationTime:Z,sortIndex:-1},X>ie?(I.sortIndex=X,t(d,I),r(c)===null&&I===r(d)&&(x?(p(E),E=-1):x=!0,de(b,X-ie))):(I.sortIndex=Z,t(c,I),v||m||(v=!0,Pe(_))),I},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(I){var G=f;return function(){var X=f;f=G;try{return I.apply(this,arguments)}finally{f=X}}}})(rx);tx.exports=rx;var Jw=tx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yw=w,Qt=Jw;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nx=new Set,Vi={};function qs(e,t){za(e,t),za(e+"Capture",t)}function za(e,t){for(Vi[e]=t,e=0;e<t.length;e++)nx.add(t[e])}var an=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tu=Object.prototype.hasOwnProperty,Xw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Km={},Qm={};function Zw(e){return Tu.call(Qm,e)?!0:Tu.call(Km,e)?!1:Xw.test(e)?Qm[e]=!0:(Km[e]=!0,!1)}function ek(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function tk(e,t,r,n){if(t===null||typeof t>"u"||ek(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ct(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ft[e]=new Ct(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ft[t]=new Ct(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ft[e]=new Ct(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ft[e]=new Ct(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ft[e]=new Ct(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ft[e]=new Ct(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ft[e]=new Ct(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ft[e]=new Ct(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ft[e]=new Ct(e,5,!1,e.toLowerCase(),null,!1,!1)});var kf=/[\-:]([a-z])/g;function jf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(kf,jf);ft[t]=new Ct(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(kf,jf);ft[t]=new Ct(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(kf,jf);ft[t]=new Ct(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ft[e]=new Ct(e,1,!1,e.toLowerCase(),null,!1,!1)});ft.xlinkHref=new Ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ft[e]=new Ct(e,1,!1,e.toLowerCase(),null,!0,!0)});function _f(e,t,r,n){var s=ft.hasOwnProperty(t)?ft[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(tk(t,r,s,n)&&(r=null),n||s===null?Zw(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var hn=Yw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ll=Symbol.for("react.element"),da=Symbol.for("react.portal"),ua=Symbol.for("react.fragment"),Nf=Symbol.for("react.strict_mode"),Ru=Symbol.for("react.profiler"),sx=Symbol.for("react.provider"),ax=Symbol.for("react.context"),Sf=Symbol.for("react.forward_ref"),Au=Symbol.for("react.suspense"),Ou=Symbol.for("react.suspense_list"),Ef=Symbol.for("react.memo"),jn=Symbol.for("react.lazy"),ix=Symbol.for("react.offscreen"),Gm=Symbol.iterator;function li(e){return e===null||typeof e!="object"?null:(e=Gm&&e[Gm]||e["@@iterator"],typeof e=="function"?e:null)}var Ie=Object.assign,Rd;function ki(e){if(Rd===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Rd=t&&t[1]||""}return`
`+Rd+e}var Ad=!1;function Od(e,t){if(!e||Ad)return"";Ad=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Ad=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ki(e):""}function rk(e){switch(e.tag){case 5:return ki(e.type);case 16:return ki("Lazy");case 13:return ki("Suspense");case 19:return ki("SuspenseList");case 0:case 2:case 15:return e=Od(e.type,!1),e;case 11:return e=Od(e.type.render,!1),e;case 1:return e=Od(e.type,!0),e;default:return""}}function Fu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ua:return"Fragment";case da:return"Portal";case Ru:return"Profiler";case Nf:return"StrictMode";case Au:return"Suspense";case Ou:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ax:return(e.displayName||"Context")+".Consumer";case sx:return(e._context.displayName||"Context")+".Provider";case Sf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ef:return t=e.displayName||null,t!==null?t:Fu(e.type)||"Memo";case jn:t=e._payload,e=e._init;try{return Fu(e(t))}catch{}}return null}function nk(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fu(t);case 8:return t===Nf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ox(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sk(e){var t=ox(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function cl(e){e._valueTracker||(e._valueTracker=sk(e))}function lx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ox(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function tc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Lu(e,t){var r=t.checked;return Ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Jm(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Xn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function cx(e,t){t=t.checked,t!=null&&_f(e,"checked",t,!1)}function Iu(e,t){cx(e,t);var r=Xn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Mu(e,t.type,r):t.hasOwnProperty("defaultValue")&&Mu(e,t.type,Xn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ym(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Mu(e,t,r){(t!=="number"||tc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ji=Array.isArray;function ka(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Xn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Uu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return Ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xm(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(M(92));if(ji(r)){if(1<r.length)throw Error(M(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Xn(r)}}function dx(e,t){var r=Xn(t.value),n=Xn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Zm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ux(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Du(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ux(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var dl,hx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(dl=dl||document.createElement("div"),dl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=dl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ki(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ri={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ak=["Webkit","ms","Moz","O"];Object.keys(Ri).forEach(function(e){ak.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ri[t]=Ri[e]})});function fx(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ri.hasOwnProperty(e)&&Ri[e]?(""+t).trim():t+"px"}function mx(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=fx(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var ik=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zu(e,t){if(t){if(ik[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function $u(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bu=null;function Pf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wu=null,ja=null,_a=null;function ep(e){if(e=Mo(e)){if(typeof Wu!="function")throw Error(M(280));var t=e.stateNode;t&&(t=Hc(t),Wu(e.stateNode,e.type,t))}}function px(e){ja?_a?_a.push(e):_a=[e]:ja=e}function gx(){if(ja){var e=ja,t=_a;if(_a=ja=null,ep(e),t)for(e=0;e<t.length;e++)ep(t[e])}}function xx(e,t){return e(t)}function yx(){}var Fd=!1;function vx(e,t,r){if(Fd)return e(t,r);Fd=!0;try{return xx(e,t,r)}finally{Fd=!1,(ja!==null||_a!==null)&&(yx(),gx())}}function Qi(e,t){var r=e.stateNode;if(r===null)return null;var n=Hc(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(M(231,t,typeof r));return r}var qu=!1;if(an)try{var ci={};Object.defineProperty(ci,"passive",{get:function(){qu=!0}}),window.addEventListener("test",ci,ci),window.removeEventListener("test",ci,ci)}catch{qu=!1}function ok(e,t,r,n,s,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var Ai=!1,rc=null,nc=!1,Hu=null,lk={onError:function(e){Ai=!0,rc=e}};function ck(e,t,r,n,s,i,o,l,c){Ai=!1,rc=null,ok.apply(lk,arguments)}function dk(e,t,r,n,s,i,o,l,c){if(ck.apply(this,arguments),Ai){if(Ai){var d=rc;Ai=!1,rc=null}else throw Error(M(198));nc||(nc=!0,Hu=d)}}function Hs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function bx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tp(e){if(Hs(e)!==e)throw Error(M(188))}function uk(e){var t=e.alternate;if(!t){if(t=Hs(e),t===null)throw Error(M(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return tp(s),e;if(i===n)return tp(s),t;i=i.sibling}throw Error(M(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(M(189))}}if(r.alternate!==n)throw Error(M(190))}if(r.tag!==3)throw Error(M(188));return r.stateNode.current===r?e:t}function wx(e){return e=uk(e),e!==null?kx(e):null}function kx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=kx(e);if(t!==null)return t;e=e.sibling}return null}var jx=Qt.unstable_scheduleCallback,rp=Qt.unstable_cancelCallback,hk=Qt.unstable_shouldYield,fk=Qt.unstable_requestPaint,qe=Qt.unstable_now,mk=Qt.unstable_getCurrentPriorityLevel,Cf=Qt.unstable_ImmediatePriority,_x=Qt.unstable_UserBlockingPriority,sc=Qt.unstable_NormalPriority,pk=Qt.unstable_LowPriority,Nx=Qt.unstable_IdlePriority,$c=null,Ur=null;function gk(e){if(Ur&&typeof Ur.onCommitFiberRoot=="function")try{Ur.onCommitFiberRoot($c,e,void 0,(e.current.flags&128)===128)}catch{}}var wr=Math.clz32?Math.clz32:vk,xk=Math.log,yk=Math.LN2;function vk(e){return e>>>=0,e===0?32:31-(xk(e)/yk|0)|0}var ul=64,hl=4194304;function _i(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ac(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=_i(l):(i&=o,i!==0&&(n=_i(i)))}else o=r&~s,o!==0?n=_i(o):i!==0&&(n=_i(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-wr(t),s=1<<r,n|=e[r],t&=~s;return n}function bk(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wk(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-wr(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=bk(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Vu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Sx(){var e=ul;return ul<<=1,!(ul&4194240)&&(ul=64),e}function Ld(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Lo(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wr(t),e[t]=r}function kk(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-wr(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Tf(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-wr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ke=0;function Ex(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Px,Rf,Cx,Tx,Rx,Ku=!1,fl=[],Bn=null,Wn=null,qn=null,Gi=new Map,Ji=new Map,En=[],jk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function np(e,t){switch(e){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":Gi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ji.delete(t.pointerId)}}function di(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Mo(t),t!==null&&Rf(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function _k(e,t,r,n,s){switch(t){case"focusin":return Bn=di(Bn,e,t,r,n,s),!0;case"dragenter":return Wn=di(Wn,e,t,r,n,s),!0;case"mouseover":return qn=di(qn,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Gi.set(i,di(Gi.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Ji.set(i,di(Ji.get(i)||null,e,t,r,n,s)),!0}return!1}function Ax(e){var t=ys(e.target);if(t!==null){var r=Hs(t);if(r!==null){if(t=r.tag,t===13){if(t=bx(r),t!==null){e.blockedOn=t,Rx(e.priority,function(){Cx(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Qu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Bu=n,r.target.dispatchEvent(n),Bu=null}else return t=Mo(r),t!==null&&Rf(t),e.blockedOn=r,!1;t.shift()}return!0}function sp(e,t,r){zl(e)&&r.delete(t)}function Nk(){Ku=!1,Bn!==null&&zl(Bn)&&(Bn=null),Wn!==null&&zl(Wn)&&(Wn=null),qn!==null&&zl(qn)&&(qn=null),Gi.forEach(sp),Ji.forEach(sp)}function ui(e,t){e.blockedOn===t&&(e.blockedOn=null,Ku||(Ku=!0,Qt.unstable_scheduleCallback(Qt.unstable_NormalPriority,Nk)))}function Yi(e){function t(s){return ui(s,e)}if(0<fl.length){ui(fl[0],e);for(var r=1;r<fl.length;r++){var n=fl[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Bn!==null&&ui(Bn,e),Wn!==null&&ui(Wn,e),qn!==null&&ui(qn,e),Gi.forEach(t),Ji.forEach(t),r=0;r<En.length;r++)n=En[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<En.length&&(r=En[0],r.blockedOn===null);)Ax(r),r.blockedOn===null&&En.shift()}var Na=hn.ReactCurrentBatchConfig,ic=!0;function Sk(e,t,r,n){var s=ke,i=Na.transition;Na.transition=null;try{ke=1,Af(e,t,r,n)}finally{ke=s,Na.transition=i}}function Ek(e,t,r,n){var s=ke,i=Na.transition;Na.transition=null;try{ke=4,Af(e,t,r,n)}finally{ke=s,Na.transition=i}}function Af(e,t,r,n){if(ic){var s=Qu(e,t,r,n);if(s===null)Hd(e,t,n,oc,r),np(e,n);else if(_k(s,e,t,r,n))n.stopPropagation();else if(np(e,n),t&4&&-1<jk.indexOf(e)){for(;s!==null;){var i=Mo(s);if(i!==null&&Px(i),i=Qu(e,t,r,n),i===null&&Hd(e,t,n,oc,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Hd(e,t,n,null,r)}}var oc=null;function Qu(e,t,r,n){if(oc=null,e=Pf(n),e=ys(e),e!==null)if(t=Hs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=bx(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return oc=e,null}function Ox(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mk()){case Cf:return 1;case _x:return 4;case sc:case pk:return 16;case Nx:return 536870912;default:return 16}default:return 16}}var Un=null,Of=null,$l=null;function Fx(){if($l)return $l;var e,t=Of,r=t.length,n,s="value"in Un?Un.value:Un.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return $l=s.slice(e,1<n?1-n:void 0)}function Bl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ml(){return!0}function ap(){return!1}function Jt(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ml:ap,this.isPropagationStopped=ap,this}return Ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ml)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ml)},persist:function(){},isPersistent:ml}),t}var Xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ff=Jt(Xa),Io=Ie({},Xa,{view:0,detail:0}),Pk=Jt(Io),Id,Md,hi,Bc=Ie({},Io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hi&&(hi&&e.type==="mousemove"?(Id=e.screenX-hi.screenX,Md=e.screenY-hi.screenY):Md=Id=0,hi=e),Id)},movementY:function(e){return"movementY"in e?e.movementY:Md}}),ip=Jt(Bc),Ck=Ie({},Bc,{dataTransfer:0}),Tk=Jt(Ck),Rk=Ie({},Io,{relatedTarget:0}),Ud=Jt(Rk),Ak=Ie({},Xa,{animationName:0,elapsedTime:0,pseudoElement:0}),Ok=Jt(Ak),Fk=Ie({},Xa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Lk=Jt(Fk),Ik=Ie({},Xa,{data:0}),op=Jt(Ik),Mk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zk(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Dk[e])?!!t[e]:!1}function Lf(){return zk}var $k=Ie({},Io,{key:function(e){if(e.key){var t=Mk[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Uk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lf,charCode:function(e){return e.type==="keypress"?Bl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Bk=Jt($k),Wk=Ie({},Bc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lp=Jt(Wk),qk=Ie({},Io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lf}),Hk=Jt(qk),Vk=Ie({},Xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kk=Jt(Vk),Qk=Ie({},Bc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gk=Jt(Qk),Jk=[9,13,27,32],If=an&&"CompositionEvent"in window,Oi=null;an&&"documentMode"in document&&(Oi=document.documentMode);var Yk=an&&"TextEvent"in window&&!Oi,Lx=an&&(!If||Oi&&8<Oi&&11>=Oi),cp=String.fromCharCode(32),dp=!1;function Ix(e,t){switch(e){case"keyup":return Jk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ha=!1;function Xk(e,t){switch(e){case"compositionend":return Mx(t);case"keypress":return t.which!==32?null:(dp=!0,cp);case"textInput":return e=t.data,e===cp&&dp?null:e;default:return null}}function Zk(e,t){if(ha)return e==="compositionend"||!If&&Ix(e,t)?(e=Fx(),$l=Of=Un=null,ha=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lx&&t.locale!=="ko"?null:t.data;default:return null}}var ej={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function up(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ej[e.type]:t==="textarea"}function Ux(e,t,r,n){px(n),t=lc(t,"onChange"),0<t.length&&(r=new Ff("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Fi=null,Xi=null;function tj(e){Gx(e,0)}function Wc(e){var t=pa(e);if(lx(t))return e}function rj(e,t){if(e==="change")return t}var Dx=!1;if(an){var Dd;if(an){var zd="oninput"in document;if(!zd){var hp=document.createElement("div");hp.setAttribute("oninput","return;"),zd=typeof hp.oninput=="function"}Dd=zd}else Dd=!1;Dx=Dd&&(!document.documentMode||9<document.documentMode)}function fp(){Fi&&(Fi.detachEvent("onpropertychange",zx),Xi=Fi=null)}function zx(e){if(e.propertyName==="value"&&Wc(Xi)){var t=[];Ux(t,Xi,e,Pf(e)),vx(tj,t)}}function nj(e,t,r){e==="focusin"?(fp(),Fi=t,Xi=r,Fi.attachEvent("onpropertychange",zx)):e==="focusout"&&fp()}function sj(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wc(Xi)}function aj(e,t){if(e==="click")return Wc(t)}function ij(e,t){if(e==="input"||e==="change")return Wc(t)}function oj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _r=typeof Object.is=="function"?Object.is:oj;function Zi(e,t){if(_r(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Tu.call(t,s)||!_r(e[s],t[s]))return!1}return!0}function mp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pp(e,t){var r=mp(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=mp(r)}}function $x(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$x(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Bx(){for(var e=window,t=tc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=tc(e.document)}return t}function Mf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lj(e){var t=Bx(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&$x(r.ownerDocument.documentElement,r)){if(n!==null&&Mf(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=pp(r,i);var o=pp(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cj=an&&"documentMode"in document&&11>=document.documentMode,fa=null,Gu=null,Li=null,Ju=!1;function gp(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ju||fa==null||fa!==tc(n)||(n=fa,"selectionStart"in n&&Mf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Li&&Zi(Li,n)||(Li=n,n=lc(Gu,"onSelect"),0<n.length&&(t=new Ff("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=fa)))}function pl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ma={animationend:pl("Animation","AnimationEnd"),animationiteration:pl("Animation","AnimationIteration"),animationstart:pl("Animation","AnimationStart"),transitionend:pl("Transition","TransitionEnd")},$d={},Wx={};an&&(Wx=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function qc(e){if($d[e])return $d[e];if(!ma[e])return e;var t=ma[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Wx)return $d[e]=t[r];return e}var qx=qc("animationend"),Hx=qc("animationiteration"),Vx=qc("animationstart"),Kx=qc("transitionend"),Qx=new Map,xp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function es(e,t){Qx.set(e,t),qs(t,[e])}for(var Bd=0;Bd<xp.length;Bd++){var Wd=xp[Bd],dj=Wd.toLowerCase(),uj=Wd[0].toUpperCase()+Wd.slice(1);es(dj,"on"+uj)}es(qx,"onAnimationEnd");es(Hx,"onAnimationIteration");es(Vx,"onAnimationStart");es("dblclick","onDoubleClick");es("focusin","onFocus");es("focusout","onBlur");es(Kx,"onTransitionEnd");za("onMouseEnter",["mouseout","mouseover"]);za("onMouseLeave",["mouseout","mouseover"]);za("onPointerEnter",["pointerout","pointerover"]);za("onPointerLeave",["pointerout","pointerover"]);qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qs("onBeforeInput",["compositionend","keypress","textInput","paste"]);qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ni="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ni));function yp(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,dk(n,t,void 0,e),e.currentTarget=null}function Gx(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;yp(s,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;yp(s,l,d),i=c}}}if(nc)throw e=Hu,nc=!1,Hu=null,e}function Se(e,t){var r=t[th];r===void 0&&(r=t[th]=new Set);var n=e+"__bubble";r.has(n)||(Jx(t,e,2,!1),r.add(n))}function qd(e,t,r){var n=0;t&&(n|=4),Jx(r,e,n,t)}var gl="_reactListening"+Math.random().toString(36).slice(2);function eo(e){if(!e[gl]){e[gl]=!0,nx.forEach(function(r){r!=="selectionchange"&&(hj.has(r)||qd(r,!1,e),qd(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gl]||(t[gl]=!0,qd("selectionchange",!1,t))}}function Jx(e,t,r,n){switch(Ox(t)){case 1:var s=Sk;break;case 4:s=Ek;break;default:s=Af}r=s.bind(null,t,r,e),s=void 0,!qu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Hd(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=ys(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}vx(function(){var d=i,u=Pf(r),h=[];e:{var f=Qx.get(e);if(f!==void 0){var m=Ff,v=e;switch(e){case"keypress":if(Bl(r)===0)break e;case"keydown":case"keyup":m=Bk;break;case"focusin":v="focus",m=Ud;break;case"focusout":v="blur",m=Ud;break;case"beforeblur":case"afterblur":m=Ud;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=ip;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Tk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Hk;break;case qx:case Hx:case Vx:m=Ok;break;case Kx:m=Kk;break;case"scroll":m=Pk;break;case"wheel":m=Gk;break;case"copy":case"cut":case"paste":m=Lk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=lp}var x=(t&4)!==0,j=!x&&e==="scroll",p=x?f!==null?f+"Capture":null:f;x=[];for(var g=d,y;g!==null;){y=g;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,p!==null&&(b=Qi(g,p),b!=null&&x.push(to(g,b,y)))),j)break;g=g.return}0<x.length&&(f=new m(f,v,null,r,u),h.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&r!==Bu&&(v=r.relatedTarget||r.fromElement)&&(ys(v)||v[on]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=r.relatedTarget||r.toElement,m=d,v=v?ys(v):null,v!==null&&(j=Hs(v),v!==j||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=d),m!==v)){if(x=ip,b="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(x=lp,b="onPointerLeave",p="onPointerEnter",g="pointer"),j=m==null?f:pa(m),y=v==null?f:pa(v),f=new x(b,g+"leave",m,r,u),f.target=j,f.relatedTarget=y,b=null,ys(u)===d&&(x=new x(p,g+"enter",v,r,u),x.target=y,x.relatedTarget=j,b=x),j=b,m&&v)t:{for(x=m,p=v,g=0,y=x;y;y=Xs(y))g++;for(y=0,b=p;b;b=Xs(b))y++;for(;0<g-y;)x=Xs(x),g--;for(;0<y-g;)p=Xs(p),y--;for(;g--;){if(x===p||p!==null&&x===p.alternate)break t;x=Xs(x),p=Xs(p)}x=null}else x=null;m!==null&&vp(h,f,m,x,!1),v!==null&&j!==null&&vp(h,j,v,x,!0)}}e:{if(f=d?pa(d):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var _=rj;else if(up(f))if(Dx)_=ij;else{_=sj;var N=nj}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=aj);if(_&&(_=_(e,d))){Ux(h,_,r,u);break e}N&&N(e,f,d),e==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&Mu(f,"number",f.value)}switch(N=d?pa(d):window,e){case"focusin":(up(N)||N.contentEditable==="true")&&(fa=N,Gu=d,Li=null);break;case"focusout":Li=Gu=fa=null;break;case"mousedown":Ju=!0;break;case"contextmenu":case"mouseup":case"dragend":Ju=!1,gp(h,r,u);break;case"selectionchange":if(cj)break;case"keydown":case"keyup":gp(h,r,u)}var k;if(If)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ha?Ix(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(Lx&&r.locale!=="ko"&&(ha||E!=="onCompositionStart"?E==="onCompositionEnd"&&ha&&(k=Fx()):(Un=u,Of="value"in Un?Un.value:Un.textContent,ha=!0)),N=lc(d,E),0<N.length&&(E=new op(E,e,null,r,u),h.push({event:E,listeners:N}),k?E.data=k:(k=Mx(r),k!==null&&(E.data=k)))),(k=Yk?Xk(e,r):Zk(e,r))&&(d=lc(d,"onBeforeInput"),0<d.length&&(u=new op("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=k))}Gx(h,t)})}function to(e,t,r){return{instance:e,listener:t,currentTarget:r}}function lc(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Qi(e,r),i!=null&&n.unshift(to(e,i,s)),i=Qi(e,t),i!=null&&n.push(to(e,i,s))),e=e.return}return n}function Xs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vp(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,s?(c=Qi(r,i),c!=null&&o.unshift(to(r,c,l))):s||(c=Qi(r,i),c!=null&&o.push(to(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var fj=/\r\n?/g,mj=/\u0000|\uFFFD/g;function bp(e){return(typeof e=="string"?e:""+e).replace(fj,`
`).replace(mj,"")}function xl(e,t,r){if(t=bp(t),bp(e)!==t&&r)throw Error(M(425))}function cc(){}var Yu=null,Xu=null;function Zu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var eh=typeof setTimeout=="function"?setTimeout:void 0,pj=typeof clearTimeout=="function"?clearTimeout:void 0,wp=typeof Promise=="function"?Promise:void 0,gj=typeof queueMicrotask=="function"?queueMicrotask:typeof wp<"u"?function(e){return wp.resolve(null).then(e).catch(xj)}:eh;function xj(e){setTimeout(function(){throw e})}function Vd(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Yi(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Yi(t)}function Hn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function kp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Za=Math.random().toString(36).slice(2),Ir="__reactFiber$"+Za,ro="__reactProps$"+Za,on="__reactContainer$"+Za,th="__reactEvents$"+Za,yj="__reactListeners$"+Za,vj="__reactHandles$"+Za;function ys(e){var t=e[Ir];if(t)return t;for(var r=e.parentNode;r;){if(t=r[on]||r[Ir]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=kp(e);e!==null;){if(r=e[Ir])return r;e=kp(e)}return t}e=r,r=e.parentNode}return null}function Mo(e){return e=e[Ir]||e[on],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function pa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function Hc(e){return e[ro]||null}var rh=[],ga=-1;function ts(e){return{current:e}}function Ee(e){0>ga||(e.current=rh[ga],rh[ga]=null,ga--)}function Ne(e,t){ga++,rh[ga]=e.current,e.current=t}var Zn={},vt=ts(Zn),Mt=ts(!1),Ls=Zn;function $a(e,t){var r=e.type.contextTypes;if(!r)return Zn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ut(e){return e=e.childContextTypes,e!=null}function dc(){Ee(Mt),Ee(vt)}function jp(e,t,r){if(vt.current!==Zn)throw Error(M(168));Ne(vt,t),Ne(Mt,r)}function Yx(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(M(108,nk(e)||"Unknown",s));return Ie({},r,n)}function uc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zn,Ls=vt.current,Ne(vt,e),Ne(Mt,Mt.current),!0}function _p(e,t,r){var n=e.stateNode;if(!n)throw Error(M(169));r?(e=Yx(e,t,Ls),n.__reactInternalMemoizedMergedChildContext=e,Ee(Mt),Ee(vt),Ne(vt,e)):Ee(Mt),Ne(Mt,r)}var Xr=null,Vc=!1,Kd=!1;function Xx(e){Xr===null?Xr=[e]:Xr.push(e)}function bj(e){Vc=!0,Xx(e)}function rs(){if(!Kd&&Xr!==null){Kd=!0;var e=0,t=ke;try{var r=Xr;for(ke=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Xr=null,Vc=!1}catch(s){throw Xr!==null&&(Xr=Xr.slice(e+1)),jx(Cf,rs),s}finally{ke=t,Kd=!1}}return null}var xa=[],ya=0,hc=null,fc=0,tr=[],rr=0,Is=null,tn=1,rn="";function hs(e,t){xa[ya++]=fc,xa[ya++]=hc,hc=e,fc=t}function Zx(e,t,r){tr[rr++]=tn,tr[rr++]=rn,tr[rr++]=Is,Is=e;var n=tn;e=rn;var s=32-wr(n)-1;n&=~(1<<s),r+=1;var i=32-wr(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,tn=1<<32-wr(t)+s|r<<s|n,rn=i+e}else tn=1<<i|r<<s|n,rn=e}function Uf(e){e.return!==null&&(hs(e,1),Zx(e,1,0))}function Df(e){for(;e===hc;)hc=xa[--ya],xa[ya]=null,fc=xa[--ya],xa[ya]=null;for(;e===Is;)Is=tr[--rr],tr[rr]=null,rn=tr[--rr],tr[rr]=null,tn=tr[--rr],tr[rr]=null}var Kt=null,Vt=null,Re=!1,vr=null;function ey(e,t){var r=sr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Np(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Kt=e,Vt=Hn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Kt=e,Vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Is!==null?{id:tn,overflow:rn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=sr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Kt=e,Vt=null,!0):!1;default:return!1}}function nh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sh(e){if(Re){var t=Vt;if(t){var r=t;if(!Np(e,t)){if(nh(e))throw Error(M(418));t=Hn(r.nextSibling);var n=Kt;t&&Np(e,t)?ey(n,r):(e.flags=e.flags&-4097|2,Re=!1,Kt=e)}}else{if(nh(e))throw Error(M(418));e.flags=e.flags&-4097|2,Re=!1,Kt=e}}}function Sp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Kt=e}function yl(e){if(e!==Kt)return!1;if(!Re)return Sp(e),Re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Zu(e.type,e.memoizedProps)),t&&(t=Vt)){if(nh(e))throw ty(),Error(M(418));for(;t;)ey(e,t),t=Hn(t.nextSibling)}if(Sp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Vt=Hn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Vt=null}}else Vt=Kt?Hn(e.stateNode.nextSibling):null;return!0}function ty(){for(var e=Vt;e;)e=Hn(e.nextSibling)}function Ba(){Vt=Kt=null,Re=!1}function zf(e){vr===null?vr=[e]:vr.push(e)}var wj=hn.ReactCurrentBatchConfig;function fi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(M(309));var n=r.stateNode}if(!n)throw Error(M(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(M(284));if(!r._owner)throw Error(M(290,e))}return e}function vl(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ep(e){var t=e._init;return t(e._payload)}function ry(e){function t(p,g){if(e){var y=p.deletions;y===null?(p.deletions=[g],p.flags|=16):y.push(g)}}function r(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function n(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function s(p,g){return p=Gn(p,g),p.index=0,p.sibling=null,p}function i(p,g,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<g?(p.flags|=2,g):y):(p.flags|=2,g)):(p.flags|=1048576,g)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,g,y,b){return g===null||g.tag!==6?(g=eu(y,p.mode,b),g.return=p,g):(g=s(g,y),g.return=p,g)}function c(p,g,y,b){var _=y.type;return _===ua?u(p,g,y.props.children,b,y.key):g!==null&&(g.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===jn&&Ep(_)===g.type)?(b=s(g,y.props),b.ref=fi(p,g,y),b.return=p,b):(b=Gl(y.type,y.key,y.props,null,p.mode,b),b.ref=fi(p,g,y),b.return=p,b)}function d(p,g,y,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=tu(y,p.mode,b),g.return=p,g):(g=s(g,y.children||[]),g.return=p,g)}function u(p,g,y,b,_){return g===null||g.tag!==7?(g=Fs(y,p.mode,b,_),g.return=p,g):(g=s(g,y),g.return=p,g)}function h(p,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=eu(""+g,p.mode,y),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ll:return y=Gl(g.type,g.key,g.props,null,p.mode,y),y.ref=fi(p,null,g),y.return=p,y;case da:return g=tu(g,p.mode,y),g.return=p,g;case jn:var b=g._init;return h(p,b(g._payload),y)}if(ji(g)||li(g))return g=Fs(g,p.mode,y,null),g.return=p,g;vl(p,g)}return null}function f(p,g,y,b){var _=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return _!==null?null:l(p,g,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ll:return y.key===_?c(p,g,y,b):null;case da:return y.key===_?d(p,g,y,b):null;case jn:return _=y._init,f(p,g,_(y._payload),b)}if(ji(y)||li(y))return _!==null?null:u(p,g,y,b,null);vl(p,y)}return null}function m(p,g,y,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return p=p.get(y)||null,l(g,p,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ll:return p=p.get(b.key===null?y:b.key)||null,c(g,p,b,_);case da:return p=p.get(b.key===null?y:b.key)||null,d(g,p,b,_);case jn:var N=b._init;return m(p,g,y,N(b._payload),_)}if(ji(b)||li(b))return p=p.get(y)||null,u(g,p,b,_,null);vl(g,b)}return null}function v(p,g,y,b){for(var _=null,N=null,k=g,E=g=0,S=null;k!==null&&E<y.length;E++){k.index>E?(S=k,k=null):S=k.sibling;var C=f(p,k,y[E],b);if(C===null){k===null&&(k=S);break}e&&k&&C.alternate===null&&t(p,k),g=i(C,g,E),N===null?_=C:N.sibling=C,N=C,k=S}if(E===y.length)return r(p,k),Re&&hs(p,E),_;if(k===null){for(;E<y.length;E++)k=h(p,y[E],b),k!==null&&(g=i(k,g,E),N===null?_=k:N.sibling=k,N=k);return Re&&hs(p,E),_}for(k=n(p,k);E<y.length;E++)S=m(k,p,E,y[E],b),S!==null&&(e&&S.alternate!==null&&k.delete(S.key===null?E:S.key),g=i(S,g,E),N===null?_=S:N.sibling=S,N=S);return e&&k.forEach(function(F){return t(p,F)}),Re&&hs(p,E),_}function x(p,g,y,b){var _=li(y);if(typeof _!="function")throw Error(M(150));if(y=_.call(y),y==null)throw Error(M(151));for(var N=_=null,k=g,E=g=0,S=null,C=y.next();k!==null&&!C.done;E++,C=y.next()){k.index>E?(S=k,k=null):S=k.sibling;var F=f(p,k,C.value,b);if(F===null){k===null&&(k=S);break}e&&k&&F.alternate===null&&t(p,k),g=i(F,g,E),N===null?_=F:N.sibling=F,N=F,k=S}if(C.done)return r(p,k),Re&&hs(p,E),_;if(k===null){for(;!C.done;E++,C=y.next())C=h(p,C.value,b),C!==null&&(g=i(C,g,E),N===null?_=C:N.sibling=C,N=C);return Re&&hs(p,E),_}for(k=n(p,k);!C.done;E++,C=y.next())C=m(k,p,E,C.value,b),C!==null&&(e&&C.alternate!==null&&k.delete(C.key===null?E:C.key),g=i(C,g,E),N===null?_=C:N.sibling=C,N=C);return e&&k.forEach(function(z){return t(p,z)}),Re&&hs(p,E),_}function j(p,g,y,b){if(typeof y=="object"&&y!==null&&y.type===ua&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ll:e:{for(var _=y.key,N=g;N!==null;){if(N.key===_){if(_=y.type,_===ua){if(N.tag===7){r(p,N.sibling),g=s(N,y.props.children),g.return=p,p=g;break e}}else if(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===jn&&Ep(_)===N.type){r(p,N.sibling),g=s(N,y.props),g.ref=fi(p,N,y),g.return=p,p=g;break e}r(p,N);break}else t(p,N);N=N.sibling}y.type===ua?(g=Fs(y.props.children,p.mode,b,y.key),g.return=p,p=g):(b=Gl(y.type,y.key,y.props,null,p.mode,b),b.ref=fi(p,g,y),b.return=p,p=b)}return o(p);case da:e:{for(N=y.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){r(p,g.sibling),g=s(g,y.children||[]),g.return=p,p=g;break e}else{r(p,g);break}else t(p,g);g=g.sibling}g=tu(y,p.mode,b),g.return=p,p=g}return o(p);case jn:return N=y._init,j(p,g,N(y._payload),b)}if(ji(y))return v(p,g,y,b);if(li(y))return x(p,g,y,b);vl(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(r(p,g.sibling),g=s(g,y),g.return=p,p=g):(r(p,g),g=eu(y,p.mode,b),g.return=p,p=g),o(p)):r(p,g)}return j}var Wa=ry(!0),ny=ry(!1),mc=ts(null),pc=null,va=null,$f=null;function Bf(){$f=va=pc=null}function Wf(e){var t=mc.current;Ee(mc),e._currentValue=t}function ah(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Sa(e,t){pc=e,$f=va=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(It=!0),e.firstContext=null)}function lr(e){var t=e._currentValue;if($f!==e)if(e={context:e,memoizedValue:t,next:null},va===null){if(pc===null)throw Error(M(308));va=e,pc.dependencies={lanes:0,firstContext:e}}else va=va.next=e;return t}var vs=null;function qf(e){vs===null?vs=[e]:vs.push(e)}function sy(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,qf(t)):(r.next=s.next,s.next=r),t.interleaved=r,ln(e,n)}function ln(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var _n=!1;function Hf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ay(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,me&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,ln(e,r)}return s=n.interleaved,s===null?(t.next=t,qf(n)):(t.next=s.next,s.next=t),n.interleaved=t,ln(e,r)}function Wl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Tf(e,r)}}function Pp(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function gc(e,t,r,n){var s=e.updateQueue;_n=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,u=d=c=null,l=i;do{var f=l.lane,m=l.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,x=l;switch(f=t,m=r,x.tag){case 1:if(v=x.payload,typeof v=="function"){h=v.call(m,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,f=typeof v=="function"?v.call(m,h,f):v,f==null)break e;h=Ie({},h,f);break e;case 2:_n=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=m,c=h):u=u.next=m,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(u===null&&(c=h),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Us|=o,e.lanes=o,e.memoizedState=h}}function Cp(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(M(191,s));s.call(n)}}}var Uo={},Dr=ts(Uo),no=ts(Uo),so=ts(Uo);function bs(e){if(e===Uo)throw Error(M(174));return e}function Vf(e,t){switch(Ne(so,t),Ne(no,e),Ne(Dr,Uo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Du(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Du(t,e)}Ee(Dr),Ne(Dr,t)}function qa(){Ee(Dr),Ee(no),Ee(so)}function iy(e){bs(so.current);var t=bs(Dr.current),r=Du(t,e.type);t!==r&&(Ne(no,e),Ne(Dr,r))}function Kf(e){no.current===e&&(Ee(Dr),Ee(no))}var Fe=ts(0);function xc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qd=[];function Qf(){for(var e=0;e<Qd.length;e++)Qd[e]._workInProgressVersionPrimary=null;Qd.length=0}var ql=hn.ReactCurrentDispatcher,Gd=hn.ReactCurrentBatchConfig,Ms=0,Le=null,Xe=null,at=null,yc=!1,Ii=!1,ao=0,kj=0;function gt(){throw Error(M(321))}function Gf(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!_r(e[r],t[r]))return!1;return!0}function Jf(e,t,r,n,s,i){if(Ms=i,Le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ql.current=e===null||e.memoizedState===null?Sj:Ej,e=r(n,s),Ii){i=0;do{if(Ii=!1,ao=0,25<=i)throw Error(M(301));i+=1,at=Xe=null,t.updateQueue=null,ql.current=Pj,e=r(n,s)}while(Ii)}if(ql.current=vc,t=Xe!==null&&Xe.next!==null,Ms=0,at=Xe=Le=null,yc=!1,t)throw Error(M(300));return e}function Yf(){var e=ao!==0;return ao=0,e}function Rr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?Le.memoizedState=at=e:at=at.next=e,at}function cr(){if(Xe===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=Xe.next;var t=at===null?Le.memoizedState:at.next;if(t!==null)at=t,Xe=e;else{if(e===null)throw Error(M(310));Xe=e,e={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},at===null?Le.memoizedState=at=e:at=at.next=e}return at}function io(e,t){return typeof t=="function"?t(e):t}function Jd(e){var t=cr(),r=t.queue;if(r===null)throw Error(M(311));r.lastRenderedReducer=e;var n=Xe,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Ms&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,Le.lanes|=u,Us|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,_r(n,t.memoizedState)||(It=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Le.lanes|=i,Us|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Yd(e){var t=cr(),r=t.queue;if(r===null)throw Error(M(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);_r(i,t.memoizedState)||(It=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function oy(){}function ly(e,t){var r=Le,n=cr(),s=t(),i=!_r(n.memoizedState,s);if(i&&(n.memoizedState=s,It=!0),n=n.queue,Xf(uy.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||at!==null&&at.memoizedState.tag&1){if(r.flags|=2048,oo(9,dy.bind(null,r,n,s,t),void 0,null),it===null)throw Error(M(349));Ms&30||cy(r,t,s)}return s}function cy(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function dy(e,t,r,n){t.value=r,t.getSnapshot=n,hy(t)&&fy(e)}function uy(e,t,r){return r(function(){hy(t)&&fy(e)})}function hy(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!_r(e,r)}catch{return!0}}function fy(e){var t=ln(e,1);t!==null&&kr(t,e,1,-1)}function Tp(e){var t=Rr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:io,lastRenderedState:e},t.queue=e,e=e.dispatch=Nj.bind(null,Le,e),[t.memoizedState,e]}function oo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function my(){return cr().memoizedState}function Hl(e,t,r,n){var s=Rr();Le.flags|=e,s.memoizedState=oo(1|t,r,void 0,n===void 0?null:n)}function Kc(e,t,r,n){var s=cr();n=n===void 0?null:n;var i=void 0;if(Xe!==null){var o=Xe.memoizedState;if(i=o.destroy,n!==null&&Gf(n,o.deps)){s.memoizedState=oo(t,r,i,n);return}}Le.flags|=e,s.memoizedState=oo(1|t,r,i,n)}function Rp(e,t){return Hl(8390656,8,e,t)}function Xf(e,t){return Kc(2048,8,e,t)}function py(e,t){return Kc(4,2,e,t)}function gy(e,t){return Kc(4,4,e,t)}function xy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yy(e,t,r){return r=r!=null?r.concat([e]):null,Kc(4,4,xy.bind(null,t,e),r)}function Zf(){}function vy(e,t){var r=cr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Gf(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function by(e,t){var r=cr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Gf(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function wy(e,t,r){return Ms&21?(_r(r,t)||(r=Sx(),Le.lanes|=r,Us|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,It=!0),e.memoizedState=r)}function jj(e,t){var r=ke;ke=r!==0&&4>r?r:4,e(!0);var n=Gd.transition;Gd.transition={};try{e(!1),t()}finally{ke=r,Gd.transition=n}}function ky(){return cr().memoizedState}function _j(e,t,r){var n=Qn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},jy(e))_y(t,r);else if(r=sy(e,t,r,n),r!==null){var s=Et();kr(r,e,n,s),Ny(r,t,n)}}function Nj(e,t,r){var n=Qn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(jy(e))_y(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,_r(l,o)){var c=t.interleaved;c===null?(s.next=s,qf(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=sy(e,t,s,n),r!==null&&(s=Et(),kr(r,e,n,s),Ny(r,t,n))}}function jy(e){var t=e.alternate;return e===Le||t!==null&&t===Le}function _y(e,t){Ii=yc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Ny(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Tf(e,r)}}var vc={readContext:lr,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},Sj={readContext:lr,useCallback:function(e,t){return Rr().memoizedState=[e,t===void 0?null:t],e},useContext:lr,useEffect:Rp,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Hl(4194308,4,xy.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Hl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Hl(4,2,e,t)},useMemo:function(e,t){var r=Rr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Rr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=_j.bind(null,Le,e),[n.memoizedState,e]},useRef:function(e){var t=Rr();return e={current:e},t.memoizedState=e},useState:Tp,useDebugValue:Zf,useDeferredValue:function(e){return Rr().memoizedState=e},useTransition:function(){var e=Tp(!1),t=e[0];return e=jj.bind(null,e[1]),Rr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Le,s=Rr();if(Re){if(r===void 0)throw Error(M(407));r=r()}else{if(r=t(),it===null)throw Error(M(349));Ms&30||cy(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Rp(uy.bind(null,n,i,e),[e]),n.flags|=2048,oo(9,dy.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Rr(),t=it.identifierPrefix;if(Re){var r=rn,n=tn;r=(n&~(1<<32-wr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ao++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=kj++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ej={readContext:lr,useCallback:vy,useContext:lr,useEffect:Xf,useImperativeHandle:yy,useInsertionEffect:py,useLayoutEffect:gy,useMemo:by,useReducer:Jd,useRef:my,useState:function(){return Jd(io)},useDebugValue:Zf,useDeferredValue:function(e){var t=cr();return wy(t,Xe.memoizedState,e)},useTransition:function(){var e=Jd(io)[0],t=cr().memoizedState;return[e,t]},useMutableSource:oy,useSyncExternalStore:ly,useId:ky,unstable_isNewReconciler:!1},Pj={readContext:lr,useCallback:vy,useContext:lr,useEffect:Xf,useImperativeHandle:yy,useInsertionEffect:py,useLayoutEffect:gy,useMemo:by,useReducer:Yd,useRef:my,useState:function(){return Yd(io)},useDebugValue:Zf,useDeferredValue:function(e){var t=cr();return Xe===null?t.memoizedState=e:wy(t,Xe.memoizedState,e)},useTransition:function(){var e=Yd(io)[0],t=cr().memoizedState;return[e,t]},useMutableSource:oy,useSyncExternalStore:ly,useId:ky,unstable_isNewReconciler:!1};function fr(e,t){if(e&&e.defaultProps){t=Ie({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ih(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ie({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Qc={isMounted:function(e){return(e=e._reactInternals)?Hs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Et(),s=Qn(e),i=nn(n,s);i.payload=t,r!=null&&(i.callback=r),t=Vn(e,i,s),t!==null&&(kr(t,e,s,n),Wl(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Et(),s=Qn(e),i=nn(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Vn(e,i,s),t!==null&&(kr(t,e,s,n),Wl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Et(),n=Qn(e),s=nn(r,n);s.tag=2,t!=null&&(s.callback=t),t=Vn(e,s,n),t!==null&&(kr(t,e,n,r),Wl(t,e,n))}};function Ap(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Zi(r,n)||!Zi(s,i):!0}function Sy(e,t,r){var n=!1,s=Zn,i=t.contextType;return typeof i=="object"&&i!==null?i=lr(i):(s=Ut(t)?Ls:vt.current,n=t.contextTypes,i=(n=n!=null)?$a(e,s):Zn),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Qc,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Op(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Qc.enqueueReplaceState(t,t.state,null)}function oh(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Hf(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=lr(i):(i=Ut(t)?Ls:vt.current,s.context=$a(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ih(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Qc.enqueueReplaceState(s,s.state,null),gc(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ha(e,t){try{var r="",n=t;do r+=rk(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Xd(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function lh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Cj=typeof WeakMap=="function"?WeakMap:Map;function Ey(e,t,r){r=nn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){wc||(wc=!0,yh=n),lh(e,t)},r}function Py(e,t,r){r=nn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){lh(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){lh(e,t),typeof n!="function"&&(Kn===null?Kn=new Set([this]):Kn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Fp(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Cj;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Wj.bind(null,e,t,r),t.then(e,e))}function Lp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ip(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=nn(-1,1),t.tag=2,Vn(r,t,1))),r.lanes|=1),e)}var Tj=hn.ReactCurrentOwner,It=!1;function _t(e,t,r,n){t.child=e===null?ny(t,null,r,n):Wa(t,e.child,r,n)}function Mp(e,t,r,n,s){r=r.render;var i=t.ref;return Sa(t,s),n=Jf(e,t,r,n,i,s),r=Yf(),e!==null&&!It?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,cn(e,t,s)):(Re&&r&&Uf(t),t.flags|=1,_t(e,t,n,s),t.child)}function Up(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!om(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Cy(e,t,i,n,s)):(e=Gl(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Zi,r(o,n)&&e.ref===t.ref)return cn(e,t,s)}return t.flags|=1,e=Gn(i,n),e.ref=t.ref,e.return=t,t.child=e}function Cy(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Zi(i,n)&&e.ref===t.ref)if(It=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(It=!0);else return t.lanes=e.lanes,cn(e,t,s)}return ch(e,t,r,n,s)}function Ty(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(wa,Wt),Wt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ne(wa,Wt),Wt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Ne(wa,Wt),Wt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Ne(wa,Wt),Wt|=n;return _t(e,t,s,r),t.child}function Ry(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ch(e,t,r,n,s){var i=Ut(r)?Ls:vt.current;return i=$a(t,i),Sa(t,s),r=Jf(e,t,r,n,i,s),n=Yf(),e!==null&&!It?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,cn(e,t,s)):(Re&&n&&Uf(t),t.flags|=1,_t(e,t,r,s),t.child)}function Dp(e,t,r,n,s){if(Ut(r)){var i=!0;uc(t)}else i=!1;if(Sa(t,s),t.stateNode===null)Vl(e,t),Sy(t,r,n),oh(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=lr(d):(d=Ut(r)?Ls:vt.current,d=$a(t,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&Op(t,o,n,d),_n=!1;var f=t.memoizedState;o.state=f,gc(t,n,o,s),c=t.memoizedState,l!==n||f!==c||Mt.current||_n?(typeof u=="function"&&(ih(t,r,u,n),c=t.memoizedState),(l=_n||Ap(t,r,l,n,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,ay(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:fr(t.type,l),o.props=d,h=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=lr(c):(c=Ut(r)?Ls:vt.current,c=$a(t,c));var m=r.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Op(t,o,n,c),_n=!1,f=t.memoizedState,o.state=f,gc(t,n,o,s);var v=t.memoizedState;l!==h||f!==v||Mt.current||_n?(typeof m=="function"&&(ih(t,r,m,n),v=t.memoizedState),(d=_n||Ap(t,r,d,n,f,v,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return dh(e,t,r,n,i,s)}function dh(e,t,r,n,s,i){Ry(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&_p(t,r,!1),cn(e,t,i);n=t.stateNode,Tj.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Wa(t,e.child,null,i),t.child=Wa(t,null,l,i)):_t(e,t,l,i),t.memoizedState=n.state,s&&_p(t,r,!0),t.child}function Ay(e){var t=e.stateNode;t.pendingContext?jp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&jp(e,t.context,!1),Vf(e,t.containerInfo)}function zp(e,t,r,n,s){return Ba(),zf(s),t.flags|=256,_t(e,t,r,n),t.child}var uh={dehydrated:null,treeContext:null,retryLane:0};function hh(e){return{baseLanes:e,cachePool:null,transitions:null}}function Oy(e,t,r){var n=t.pendingProps,s=Fe.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ne(Fe,s&1),e===null)return sh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Yc(o,n,0,null),e=Fs(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=hh(r),t.memoizedState=uh,e):em(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Rj(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Gn(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Gn(l,i):(i=Fs(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?hh(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=uh,n}return i=e.child,e=i.sibling,n=Gn(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function em(e,t){return t=Yc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bl(e,t,r,n){return n!==null&&zf(n),Wa(t,e.child,null,r),e=em(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Rj(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Xd(Error(M(422))),bl(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Yc({mode:"visible",children:n.children},s,0,null),i=Fs(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Wa(t,e.child,null,o),t.child.memoizedState=hh(o),t.memoizedState=uh,i);if(!(t.mode&1))return bl(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(M(419)),n=Xd(i,n,void 0),bl(e,t,o,n)}if(l=(o&e.childLanes)!==0,It||l){if(n=it,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ln(e,s),kr(n,e,s,-1))}return im(),n=Xd(Error(M(421))),bl(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=qj.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Vt=Hn(s.nextSibling),Kt=t,Re=!0,vr=null,e!==null&&(tr[rr++]=tn,tr[rr++]=rn,tr[rr++]=Is,tn=e.id,rn=e.overflow,Is=t),t=em(t,n.children),t.flags|=4096,t)}function $p(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ah(e.return,t,r)}function Zd(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Fy(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(_t(e,t,n.children,r),n=Fe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$p(e,r,t);else if(e.tag===19)$p(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ne(Fe,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&xc(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Zd(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&xc(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Zd(t,!0,r,null,i);break;case"together":Zd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Us|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,r=Gn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Gn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Aj(e,t,r){switch(t.tag){case 3:Ay(t),Ba();break;case 5:iy(t);break;case 1:Ut(t.type)&&uc(t);break;case 4:Vf(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Ne(mc,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ne(Fe,Fe.current&1),t.flags|=128,null):r&t.child.childLanes?Oy(e,t,r):(Ne(Fe,Fe.current&1),e=cn(e,t,r),e!==null?e.sibling:null);Ne(Fe,Fe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Fy(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ne(Fe,Fe.current),n)break;return null;case 22:case 23:return t.lanes=0,Ty(e,t,r)}return cn(e,t,r)}var Ly,fh,Iy,My;Ly=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};fh=function(){};Iy=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,bs(Dr.current);var i=null;switch(r){case"input":s=Lu(e,s),n=Lu(e,n),i=[];break;case"select":s=Ie({},s,{value:void 0}),n=Ie({},n,{value:void 0}),i=[];break;case"textarea":s=Uu(e,s),n=Uu(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=cc)}zu(r,n);var o;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Vi.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Vi.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Se("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};My=function(e,t,r,n){r!==n&&(t.flags|=4)};function mi(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function xt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Oj(e,t,r){var n=t.pendingProps;switch(Df(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(t),null;case 1:return Ut(t.type)&&dc(),xt(t),null;case 3:return n=t.stateNode,qa(),Ee(Mt),Ee(vt),Qf(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(yl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vr!==null&&(wh(vr),vr=null))),fh(e,t),xt(t),null;case 5:Kf(t);var s=bs(so.current);if(r=t.type,e!==null&&t.stateNode!=null)Iy(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(M(166));return xt(t),null}if(e=bs(Dr.current),yl(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ir]=t,n[ro]=i,e=(t.mode&1)!==0,r){case"dialog":Se("cancel",n),Se("close",n);break;case"iframe":case"object":case"embed":Se("load",n);break;case"video":case"audio":for(s=0;s<Ni.length;s++)Se(Ni[s],n);break;case"source":Se("error",n);break;case"img":case"image":case"link":Se("error",n),Se("load",n);break;case"details":Se("toggle",n);break;case"input":Jm(n,i),Se("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Se("invalid",n);break;case"textarea":Xm(n,i),Se("invalid",n)}zu(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&xl(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&xl(n.textContent,l,e),s=["children",""+l]):Vi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Se("scroll",n)}switch(r){case"input":cl(n),Ym(n,i,!0);break;case"textarea":cl(n),Zm(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=cc)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ux(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ir]=t,e[ro]=n,Ly(e,t,!1,!1),t.stateNode=e;e:{switch(o=$u(r,n),r){case"dialog":Se("cancel",e),Se("close",e),s=n;break;case"iframe":case"object":case"embed":Se("load",e),s=n;break;case"video":case"audio":for(s=0;s<Ni.length;s++)Se(Ni[s],e);s=n;break;case"source":Se("error",e),s=n;break;case"img":case"image":case"link":Se("error",e),Se("load",e),s=n;break;case"details":Se("toggle",e),s=n;break;case"input":Jm(e,n),s=Lu(e,n),Se("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Ie({},n,{value:void 0}),Se("invalid",e);break;case"textarea":Xm(e,n),s=Uu(e,n),Se("invalid",e);break;default:s=n}zu(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?mx(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&hx(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ki(e,c):typeof c=="number"&&Ki(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Vi.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Se("scroll",e):c!=null&&_f(e,i,c,o))}switch(r){case"input":cl(e),Ym(e,n,!1);break;case"textarea":cl(e),Zm(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Xn(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?ka(e,!!n.multiple,i,!1):n.defaultValue!=null&&ka(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=cc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xt(t),null;case 6:if(e&&t.stateNode!=null)My(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(M(166));if(r=bs(so.current),bs(Dr.current),yl(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ir]=t,(i=n.nodeValue!==r)&&(e=Kt,e!==null))switch(e.tag){case 3:xl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xl(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ir]=t,t.stateNode=n}return xt(t),null;case 13:if(Ee(Fe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Re&&Vt!==null&&t.mode&1&&!(t.flags&128))ty(),Ba(),t.flags|=98560,i=!1;else if(i=yl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(M(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(M(317));i[Ir]=t}else Ba(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xt(t),i=!1}else vr!==null&&(wh(vr),vr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Fe.current&1?et===0&&(et=3):im())),t.updateQueue!==null&&(t.flags|=4),xt(t),null);case 4:return qa(),fh(e,t),e===null&&eo(t.stateNode.containerInfo),xt(t),null;case 10:return Wf(t.type._context),xt(t),null;case 17:return Ut(t.type)&&dc(),xt(t),null;case 19:if(Ee(Fe),i=t.memoizedState,i===null)return xt(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)mi(i,!1);else{if(et!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=xc(e),o!==null){for(t.flags|=128,mi(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ne(Fe,Fe.current&1|2),t.child}e=e.sibling}i.tail!==null&&qe()>Va&&(t.flags|=128,n=!0,mi(i,!1),t.lanes=4194304)}else{if(!n)if(e=xc(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),mi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Re)return xt(t),null}else 2*qe()-i.renderingStartTime>Va&&r!==1073741824&&(t.flags|=128,n=!0,mi(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=qe(),t.sibling=null,r=Fe.current,Ne(Fe,n?r&1|2:r&1),t):(xt(t),null);case 22:case 23:return am(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Wt&1073741824&&(xt(t),t.subtreeFlags&6&&(t.flags|=8192)):xt(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function Fj(e,t){switch(Df(t),t.tag){case 1:return Ut(t.type)&&dc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qa(),Ee(Mt),Ee(vt),Qf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Kf(t),null;case 13:if(Ee(Fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));Ba()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ee(Fe),null;case 4:return qa(),null;case 10:return Wf(t.type._context),null;case 22:case 23:return am(),null;case 24:return null;default:return null}}var wl=!1,yt=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,$=null;function ba(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ze(e,t,n)}else r.current=null}function mh(e,t,r){try{r()}catch(n){ze(e,t,n)}}var Bp=!1;function Ij(e,t){if(Yu=ic,e=Bx(),Mf(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,f=null;t:for(;;){for(var m;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===r&&++d===s&&(l=o),f===i&&++u===n&&(c=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Xu={focusedElem:e,selectionRange:r},ic=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,j=v.memoizedState,p=t.stateNode,g=p.getSnapshotBeforeUpdate(t.elementType===t.type?x:fr(t.type,x),j);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(b){ze(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return v=Bp,Bp=!1,v}function Mi(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&mh(t,r,i)}s=s.next}while(s!==n)}}function Gc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ph(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Uy(e){var t=e.alternate;t!==null&&(e.alternate=null,Uy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ir],delete t[ro],delete t[th],delete t[yj],delete t[vj])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Dy(e){return e.tag===5||e.tag===3||e.tag===4}function Wp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Dy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=cc));else if(n!==4&&(e=e.child,e!==null))for(gh(e,t,r),e=e.sibling;e!==null;)gh(e,t,r),e=e.sibling}function xh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(xh(e,t,r),e=e.sibling;e!==null;)xh(e,t,r),e=e.sibling}var ct=null,gr=!1;function gn(e,t,r){for(r=r.child;r!==null;)zy(e,t,r),r=r.sibling}function zy(e,t,r){if(Ur&&typeof Ur.onCommitFiberUnmount=="function")try{Ur.onCommitFiberUnmount($c,r)}catch{}switch(r.tag){case 5:yt||ba(r,t);case 6:var n=ct,s=gr;ct=null,gn(e,t,r),ct=n,gr=s,ct!==null&&(gr?(e=ct,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ct.removeChild(r.stateNode));break;case 18:ct!==null&&(gr?(e=ct,r=r.stateNode,e.nodeType===8?Vd(e.parentNode,r):e.nodeType===1&&Vd(e,r),Yi(e)):Vd(ct,r.stateNode));break;case 4:n=ct,s=gr,ct=r.stateNode.containerInfo,gr=!0,gn(e,t,r),ct=n,gr=s;break;case 0:case 11:case 14:case 15:if(!yt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&mh(r,t,o),s=s.next}while(s!==n)}gn(e,t,r);break;case 1:if(!yt&&(ba(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ze(r,t,l)}gn(e,t,r);break;case 21:gn(e,t,r);break;case 22:r.mode&1?(yt=(n=yt)||r.memoizedState!==null,gn(e,t,r),yt=n):gn(e,t,r);break;default:gn(e,t,r)}}function qp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Lj),t.forEach(function(n){var s=Hj.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function ur(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ct=l.stateNode,gr=!1;break e;case 3:ct=l.stateNode.containerInfo,gr=!0;break e;case 4:ct=l.stateNode.containerInfo,gr=!0;break e}l=l.return}if(ct===null)throw Error(M(160));zy(i,o,s),ct=null,gr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){ze(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)$y(t,e),t=t.sibling}function $y(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ur(t,e),Tr(e),n&4){try{Mi(3,e,e.return),Gc(3,e)}catch(x){ze(e,e.return,x)}try{Mi(5,e,e.return)}catch(x){ze(e,e.return,x)}}break;case 1:ur(t,e),Tr(e),n&512&&r!==null&&ba(r,r.return);break;case 5:if(ur(t,e),Tr(e),n&512&&r!==null&&ba(r,r.return),e.flags&32){var s=e.stateNode;try{Ki(s,"")}catch(x){ze(e,e.return,x)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&cx(s,i),$u(l,o);var d=$u(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?mx(s,h):u==="dangerouslySetInnerHTML"?hx(s,h):u==="children"?Ki(s,h):_f(s,u,h,d)}switch(l){case"input":Iu(s,i);break;case"textarea":dx(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?ka(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?ka(s,!!i.multiple,i.defaultValue,!0):ka(s,!!i.multiple,i.multiple?[]:"",!1))}s[ro]=i}catch(x){ze(e,e.return,x)}}break;case 6:if(ur(t,e),Tr(e),n&4){if(e.stateNode===null)throw Error(M(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){ze(e,e.return,x)}}break;case 3:if(ur(t,e),Tr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Yi(t.containerInfo)}catch(x){ze(e,e.return,x)}break;case 4:ur(t,e),Tr(e);break;case 13:ur(t,e),Tr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(nm=qe())),n&4&&qp(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(yt=(d=yt)||u,ur(t,e),yt=d):ur(t,e),Tr(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for($=e,u=e.child;u!==null;){for(h=$=u;$!==null;){switch(f=$,m=f.child,f.tag){case 0:case 11:case 14:case 15:Mi(4,f,f.return);break;case 1:ba(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(x){ze(n,r,x)}}break;case 5:ba(f,f.return);break;case 22:if(f.memoizedState!==null){Vp(h);continue}}m!==null?(m.return=f,$=m):Vp(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=fx("display",o))}catch(x){ze(e,e.return,x)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(x){ze(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ur(t,e),Tr(e),n&4&&qp(e);break;case 21:break;default:ur(t,e),Tr(e)}}function Tr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Dy(r)){var n=r;break e}r=r.return}throw Error(M(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ki(s,""),n.flags&=-33);var i=Wp(e);xh(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Wp(e);gh(e,l,o);break;default:throw Error(M(161))}}catch(c){ze(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Mj(e,t,r){$=e,By(e)}function By(e,t,r){for(var n=(e.mode&1)!==0;$!==null;){var s=$,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||wl;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||yt;l=wl;var d=yt;if(wl=o,(yt=c)&&!d)for($=s;$!==null;)o=$,c=o.child,o.tag===22&&o.memoizedState!==null?Kp(s):c!==null?(c.return=o,$=c):Kp(s);for(;i!==null;)$=i,By(i),i=i.sibling;$=s,wl=l,yt=d}Hp(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,$=i):Hp(e)}}function Hp(e){for(;$!==null;){var t=$;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:yt||Gc(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!yt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:fr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Cp(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Cp(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Yi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}yt||t.flags&512&&ph(t)}catch(f){ze(t,t.return,f)}}if(t===e){$=null;break}if(r=t.sibling,r!==null){r.return=t.return,$=r;break}$=t.return}}function Vp(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var r=t.sibling;if(r!==null){r.return=t.return,$=r;break}$=t.return}}function Kp(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Gc(4,t)}catch(c){ze(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){ze(t,s,c)}}var i=t.return;try{ph(t)}catch(c){ze(t,i,c)}break;case 5:var o=t.return;try{ph(t)}catch(c){ze(t,o,c)}}}catch(c){ze(t,t.return,c)}if(t===e){$=null;break}var l=t.sibling;if(l!==null){l.return=t.return,$=l;break}$=t.return}}var Uj=Math.ceil,bc=hn.ReactCurrentDispatcher,tm=hn.ReactCurrentOwner,ir=hn.ReactCurrentBatchConfig,me=0,it=null,Ge=null,ht=0,Wt=0,wa=ts(0),et=0,lo=null,Us=0,Jc=0,rm=0,Ui=null,Ft=null,nm=0,Va=1/0,Jr=null,wc=!1,yh=null,Kn=null,kl=!1,Dn=null,kc=0,Di=0,vh=null,Kl=-1,Ql=0;function Et(){return me&6?qe():Kl!==-1?Kl:Kl=qe()}function Qn(e){return e.mode&1?me&2&&ht!==0?ht&-ht:wj.transition!==null?(Ql===0&&(Ql=Sx()),Ql):(e=ke,e!==0||(e=window.event,e=e===void 0?16:Ox(e.type)),e):1}function kr(e,t,r,n){if(50<Di)throw Di=0,vh=null,Error(M(185));Lo(e,r,n),(!(me&2)||e!==it)&&(e===it&&(!(me&2)&&(Jc|=r),et===4&&Pn(e,ht)),Dt(e,n),r===1&&me===0&&!(t.mode&1)&&(Va=qe()+500,Vc&&rs()))}function Dt(e,t){var r=e.callbackNode;wk(e,t);var n=ac(e,e===it?ht:0);if(n===0)r!==null&&rp(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&rp(r),t===1)e.tag===0?bj(Qp.bind(null,e)):Xx(Qp.bind(null,e)),gj(function(){!(me&6)&&rs()}),r=null;else{switch(Ex(n)){case 1:r=Cf;break;case 4:r=_x;break;case 16:r=sc;break;case 536870912:r=Nx;break;default:r=sc}r=Jy(r,Wy.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Wy(e,t){if(Kl=-1,Ql=0,me&6)throw Error(M(327));var r=e.callbackNode;if(Ea()&&e.callbackNode!==r)return null;var n=ac(e,e===it?ht:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=jc(e,n);else{t=n;var s=me;me|=2;var i=Hy();(it!==e||ht!==t)&&(Jr=null,Va=qe()+500,Os(e,t));do try{$j();break}catch(l){qy(e,l)}while(1);Bf(),bc.current=i,me=s,Ge!==null?t=0:(it=null,ht=0,t=et)}if(t!==0){if(t===2&&(s=Vu(e),s!==0&&(n=s,t=bh(e,s))),t===1)throw r=lo,Os(e,0),Pn(e,n),Dt(e,qe()),r;if(t===6)Pn(e,n);else{if(s=e.current.alternate,!(n&30)&&!Dj(s)&&(t=jc(e,n),t===2&&(i=Vu(e),i!==0&&(n=i,t=bh(e,i))),t===1))throw r=lo,Os(e,0),Pn(e,n),Dt(e,qe()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(M(345));case 2:fs(e,Ft,Jr);break;case 3:if(Pn(e,n),(n&130023424)===n&&(t=nm+500-qe(),10<t)){if(ac(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Et(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=eh(fs.bind(null,e,Ft,Jr),t);break}fs(e,Ft,Jr);break;case 4:if(Pn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-wr(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=qe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Uj(n/1960))-n,10<n){e.timeoutHandle=eh(fs.bind(null,e,Ft,Jr),n);break}fs(e,Ft,Jr);break;case 5:fs(e,Ft,Jr);break;default:throw Error(M(329))}}}return Dt(e,qe()),e.callbackNode===r?Wy.bind(null,e):null}function bh(e,t){var r=Ui;return e.current.memoizedState.isDehydrated&&(Os(e,t).flags|=256),e=jc(e,t),e!==2&&(t=Ft,Ft=r,t!==null&&wh(t)),e}function wh(e){Ft===null?Ft=e:Ft.push.apply(Ft,e)}function Dj(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!_r(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pn(e,t){for(t&=~rm,t&=~Jc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-wr(t),n=1<<r;e[r]=-1,t&=~n}}function Qp(e){if(me&6)throw Error(M(327));Ea();var t=ac(e,0);if(!(t&1))return Dt(e,qe()),null;var r=jc(e,t);if(e.tag!==0&&r===2){var n=Vu(e);n!==0&&(t=n,r=bh(e,n))}if(r===1)throw r=lo,Os(e,0),Pn(e,t),Dt(e,qe()),r;if(r===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fs(e,Ft,Jr),Dt(e,qe()),null}function sm(e,t){var r=me;me|=1;try{return e(t)}finally{me=r,me===0&&(Va=qe()+500,Vc&&rs())}}function Ds(e){Dn!==null&&Dn.tag===0&&!(me&6)&&Ea();var t=me;me|=1;var r=ir.transition,n=ke;try{if(ir.transition=null,ke=1,e)return e()}finally{ke=n,ir.transition=r,me=t,!(me&6)&&rs()}}function am(){Wt=wa.current,Ee(wa)}function Os(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,pj(r)),Ge!==null)for(r=Ge.return;r!==null;){var n=r;switch(Df(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&dc();break;case 3:qa(),Ee(Mt),Ee(vt),Qf();break;case 5:Kf(n);break;case 4:qa();break;case 13:Ee(Fe);break;case 19:Ee(Fe);break;case 10:Wf(n.type._context);break;case 22:case 23:am()}r=r.return}if(it=e,Ge=e=Gn(e.current,null),ht=Wt=t,et=0,lo=null,rm=Jc=Us=0,Ft=Ui=null,vs!==null){for(t=0;t<vs.length;t++)if(r=vs[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}vs=null}return e}function qy(e,t){do{var r=Ge;try{if(Bf(),ql.current=vc,yc){for(var n=Le.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}yc=!1}if(Ms=0,at=Xe=Le=null,Ii=!1,ao=0,tm.current=null,r===null||r.return===null){et=1,lo=t,Ge=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=ht,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=Lp(o);if(m!==null){m.flags&=-257,Ip(m,o,l,i,t),m.mode&1&&Fp(i,d,t),t=m,c=d;var v=t.updateQueue;if(v===null){var x=new Set;x.add(c),t.updateQueue=x}else v.add(c);break e}else{if(!(t&1)){Fp(i,d,t),im();break e}c=Error(M(426))}}else if(Re&&l.mode&1){var j=Lp(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Ip(j,o,l,i,t),zf(Ha(c,l));break e}}i=c=Ha(c,l),et!==4&&(et=2),Ui===null?Ui=[i]:Ui.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Ey(i,c,t);Pp(i,p);break e;case 1:l=c;var g=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Kn===null||!Kn.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=Py(i,l,t);Pp(i,b);break e}}i=i.return}while(i!==null)}Ky(r)}catch(_){t=_,Ge===r&&r!==null&&(Ge=r=r.return);continue}break}while(1)}function Hy(){var e=bc.current;return bc.current=vc,e===null?vc:e}function im(){(et===0||et===3||et===2)&&(et=4),it===null||!(Us&268435455)&&!(Jc&268435455)||Pn(it,ht)}function jc(e,t){var r=me;me|=2;var n=Hy();(it!==e||ht!==t)&&(Jr=null,Os(e,t));do try{zj();break}catch(s){qy(e,s)}while(1);if(Bf(),me=r,bc.current=n,Ge!==null)throw Error(M(261));return it=null,ht=0,et}function zj(){for(;Ge!==null;)Vy(Ge)}function $j(){for(;Ge!==null&&!hk();)Vy(Ge)}function Vy(e){var t=Gy(e.alternate,e,Wt);e.memoizedProps=e.pendingProps,t===null?Ky(e):Ge=t,tm.current=null}function Ky(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Fj(r,t),r!==null){r.flags&=32767,Ge=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{et=6,Ge=null;return}}else if(r=Oj(r,t,Wt),r!==null){Ge=r;return}if(t=t.sibling,t!==null){Ge=t;return}Ge=t=e}while(t!==null);et===0&&(et=5)}function fs(e,t,r){var n=ke,s=ir.transition;try{ir.transition=null,ke=1,Bj(e,t,r,n)}finally{ir.transition=s,ke=n}return null}function Bj(e,t,r,n){do Ea();while(Dn!==null);if(me&6)throw Error(M(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(kk(e,i),e===it&&(Ge=it=null,ht=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||kl||(kl=!0,Jy(sc,function(){return Ea(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ir.transition,ir.transition=null;var o=ke;ke=1;var l=me;me|=4,tm.current=null,Ij(e,r),$y(r,e),lj(Xu),ic=!!Yu,Xu=Yu=null,e.current=r,Mj(r),fk(),me=l,ke=o,ir.transition=i}else e.current=r;if(kl&&(kl=!1,Dn=e,kc=s),i=e.pendingLanes,i===0&&(Kn=null),gk(r.stateNode),Dt(e,qe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(wc)throw wc=!1,e=yh,yh=null,e;return kc&1&&e.tag!==0&&Ea(),i=e.pendingLanes,i&1?e===vh?Di++:(Di=0,vh=e):Di=0,rs(),null}function Ea(){if(Dn!==null){var e=Ex(kc),t=ir.transition,r=ke;try{if(ir.transition=null,ke=16>e?16:e,Dn===null)var n=!1;else{if(e=Dn,Dn=null,kc=0,me&6)throw Error(M(331));var s=me;for(me|=4,$=e.current;$!==null;){var i=$,o=i.child;if($.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for($=d;$!==null;){var u=$;switch(u.tag){case 0:case 11:case 15:Mi(8,u,i)}var h=u.child;if(h!==null)h.return=u,$=h;else for(;$!==null;){u=$;var f=u.sibling,m=u.return;if(Uy(u),u===d){$=null;break}if(f!==null){f.return=m,$=f;break}$=m}}}var v=i.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var j=x.sibling;x.sibling=null,x=j}while(x!==null)}}$=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,$=o;else e:for(;$!==null;){if(i=$,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Mi(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,$=p;break e}$=i.return}}var g=e.current;for($=g;$!==null;){o=$;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,$=y;else e:for(o=g;$!==null;){if(l=$,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Gc(9,l)}}catch(_){ze(l,l.return,_)}if(l===o){$=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,$=b;break e}$=l.return}}if(me=s,rs(),Ur&&typeof Ur.onPostCommitFiberRoot=="function")try{Ur.onPostCommitFiberRoot($c,e)}catch{}n=!0}return n}finally{ke=r,ir.transition=t}}return!1}function Gp(e,t,r){t=Ha(r,t),t=Ey(e,t,1),e=Vn(e,t,1),t=Et(),e!==null&&(Lo(e,1,t),Dt(e,t))}function ze(e,t,r){if(e.tag===3)Gp(e,e,r);else for(;t!==null;){if(t.tag===3){Gp(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Kn===null||!Kn.has(n))){e=Ha(r,e),e=Py(t,e,1),t=Vn(t,e,1),e=Et(),t!==null&&(Lo(t,1,e),Dt(t,e));break}}t=t.return}}function Wj(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Et(),e.pingedLanes|=e.suspendedLanes&r,it===e&&(ht&r)===r&&(et===4||et===3&&(ht&130023424)===ht&&500>qe()-nm?Os(e,0):rm|=r),Dt(e,t)}function Qy(e,t){t===0&&(e.mode&1?(t=hl,hl<<=1,!(hl&130023424)&&(hl=4194304)):t=1);var r=Et();e=ln(e,t),e!==null&&(Lo(e,t,r),Dt(e,r))}function qj(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Qy(e,r)}function Hj(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(M(314))}n!==null&&n.delete(t),Qy(e,r)}var Gy;Gy=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Mt.current)It=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return It=!1,Aj(e,t,r);It=!!(e.flags&131072)}else It=!1,Re&&t.flags&1048576&&Zx(t,fc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Vl(e,t),e=t.pendingProps;var s=$a(t,vt.current);Sa(t,r),s=Jf(null,t,n,e,s,r);var i=Yf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ut(n)?(i=!0,uc(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Hf(t),s.updater=Qc,t.stateNode=s,s._reactInternals=t,oh(t,n,e,r),t=dh(null,t,n,!0,i,r)):(t.tag=0,Re&&i&&Uf(t),_t(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Vl(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Kj(n),e=fr(n,e),s){case 0:t=ch(null,t,n,e,r);break e;case 1:t=Dp(null,t,n,e,r);break e;case 11:t=Mp(null,t,n,e,r);break e;case 14:t=Up(null,t,n,fr(n.type,e),r);break e}throw Error(M(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:fr(n,s),ch(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:fr(n,s),Dp(e,t,n,s,r);case 3:e:{if(Ay(t),e===null)throw Error(M(387));n=t.pendingProps,i=t.memoizedState,s=i.element,ay(e,t),gc(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ha(Error(M(423)),t),t=zp(e,t,n,r,s);break e}else if(n!==s){s=Ha(Error(M(424)),t),t=zp(e,t,n,r,s);break e}else for(Vt=Hn(t.stateNode.containerInfo.firstChild),Kt=t,Re=!0,vr=null,r=ny(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ba(),n===s){t=cn(e,t,r);break e}_t(e,t,n,r)}t=t.child}return t;case 5:return iy(t),e===null&&sh(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Zu(n,s)?o=null:i!==null&&Zu(n,i)&&(t.flags|=32),Ry(e,t),_t(e,t,o,r),t.child;case 6:return e===null&&sh(t),null;case 13:return Oy(e,t,r);case 4:return Vf(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Wa(t,null,n,r):_t(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:fr(n,s),Mp(e,t,n,s,r);case 7:return _t(e,t,t.pendingProps,r),t.child;case 8:return _t(e,t,t.pendingProps.children,r),t.child;case 12:return _t(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Ne(mc,n._currentValue),n._currentValue=o,i!==null)if(_r(i.value,o)){if(i.children===s.children&&!Mt.current){t=cn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=nn(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),ah(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(M(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),ah(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}_t(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Sa(t,r),s=lr(s),n=n(s),t.flags|=1,_t(e,t,n,r),t.child;case 14:return n=t.type,s=fr(n,t.pendingProps),s=fr(n.type,s),Up(e,t,n,s,r);case 15:return Cy(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:fr(n,s),Vl(e,t),t.tag=1,Ut(n)?(e=!0,uc(t)):e=!1,Sa(t,r),Sy(t,n,s),oh(t,n,s,r),dh(null,t,n,!0,e,r);case 19:return Fy(e,t,r);case 22:return Ty(e,t,r)}throw Error(M(156,t.tag))};function Jy(e,t){return jx(e,t)}function Vj(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(e,t,r,n){return new Vj(e,t,r,n)}function om(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Kj(e){if(typeof e=="function")return om(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Sf)return 11;if(e===Ef)return 14}return 2}function Gn(e,t){var r=e.alternate;return r===null?(r=sr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Gl(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")om(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ua:return Fs(r.children,s,i,t);case Nf:o=8,s|=8;break;case Ru:return e=sr(12,r,t,s|2),e.elementType=Ru,e.lanes=i,e;case Au:return e=sr(13,r,t,s),e.elementType=Au,e.lanes=i,e;case Ou:return e=sr(19,r,t,s),e.elementType=Ou,e.lanes=i,e;case ix:return Yc(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case sx:o=10;break e;case ax:o=9;break e;case Sf:o=11;break e;case Ef:o=14;break e;case jn:o=16,n=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=sr(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Fs(e,t,r,n){return e=sr(7,e,n,t),e.lanes=r,e}function Yc(e,t,r,n){return e=sr(22,e,n,t),e.elementType=ix,e.lanes=r,e.stateNode={isHidden:!1},e}function eu(e,t,r){return e=sr(6,e,null,t),e.lanes=r,e}function tu(e,t,r){return t=sr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qj(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ld(0),this.expirationTimes=Ld(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ld(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function lm(e,t,r,n,s,i,o,l,c){return e=new Qj(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=sr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hf(i),e}function Gj(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:da,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Yy(e){if(!e)return Zn;e=e._reactInternals;e:{if(Hs(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var r=e.type;if(Ut(r))return Yx(e,r,t)}return t}function Xy(e,t,r,n,s,i,o,l,c){return e=lm(r,n,!0,e,s,i,o,l,c),e.context=Yy(null),r=e.current,n=Et(),s=Qn(r),i=nn(n,s),i.callback=t??null,Vn(r,i,s),e.current.lanes=s,Lo(e,s,n),Dt(e,n),e}function Xc(e,t,r,n){var s=t.current,i=Et(),o=Qn(s);return r=Yy(r),t.context===null?t.context=r:t.pendingContext=r,t=nn(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Vn(s,t,o),e!==null&&(kr(e,s,o,i),Wl(e,s,o)),o}function _c(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Jp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function cm(e,t){Jp(e,t),(e=e.alternate)&&Jp(e,t)}function Jj(){return null}var Zy=typeof reportError=="function"?reportError:function(e){console.error(e)};function dm(e){this._internalRoot=e}Zc.prototype.render=dm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));Xc(e,t,null,null)};Zc.prototype.unmount=dm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ds(function(){Xc(null,e,null,null)}),t[on]=null}};function Zc(e){this._internalRoot=e}Zc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tx();e={blockedOn:null,target:e,priority:t};for(var r=0;r<En.length&&t!==0&&t<En[r].priority;r++);En.splice(r,0,e),r===0&&Ax(e)}};function um(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ed(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yp(){}function Yj(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var d=_c(o);i.call(d)}}var o=Xy(t,n,e,0,null,!1,!1,"",Yp);return e._reactRootContainer=o,e[on]=o.current,eo(e.nodeType===8?e.parentNode:e),Ds(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var d=_c(c);l.call(d)}}var c=lm(e,0,!1,null,null,!1,!1,"",Yp);return e._reactRootContainer=c,e[on]=c.current,eo(e.nodeType===8?e.parentNode:e),Ds(function(){Xc(t,c,r,n)}),c}function td(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=_c(o);l.call(c)}}Xc(t,o,e,s)}else o=Yj(r,t,e,s,n);return _c(o)}Px=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=_i(t.pendingLanes);r!==0&&(Tf(t,r|1),Dt(t,qe()),!(me&6)&&(Va=qe()+500,rs()))}break;case 13:Ds(function(){var n=ln(e,1);if(n!==null){var s=Et();kr(n,e,1,s)}}),cm(e,1)}};Rf=function(e){if(e.tag===13){var t=ln(e,134217728);if(t!==null){var r=Et();kr(t,e,134217728,r)}cm(e,134217728)}};Cx=function(e){if(e.tag===13){var t=Qn(e),r=ln(e,t);if(r!==null){var n=Et();kr(r,e,t,n)}cm(e,t)}};Tx=function(){return ke};Rx=function(e,t){var r=ke;try{return ke=e,t()}finally{ke=r}};Wu=function(e,t,r){switch(t){case"input":if(Iu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Hc(n);if(!s)throw Error(M(90));lx(n),Iu(n,s)}}}break;case"textarea":dx(e,r);break;case"select":t=r.value,t!=null&&ka(e,!!r.multiple,t,!1)}};xx=sm;yx=Ds;var Xj={usingClientEntryPoint:!1,Events:[Mo,pa,Hc,px,gx,sm]},pi={findFiberByHostInstance:ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zj={bundleType:pi.bundleType,version:pi.version,rendererPackageName:pi.rendererPackageName,rendererConfig:pi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wx(e),e===null?null:e.stateNode},findFiberByHostInstance:pi.findFiberByHostInstance||Jj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jl.isDisabled&&jl.supportsFiber)try{$c=jl.inject(Zj),Ur=jl}catch{}}Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xj;Gt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!um(t))throw Error(M(200));return Gj(e,t,null,r)};Gt.createRoot=function(e,t){if(!um(e))throw Error(M(299));var r=!1,n="",s=Zy;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=lm(e,1,!1,null,null,r,!1,n,s),e[on]=t.current,eo(e.nodeType===8?e.parentNode:e),new dm(t)};Gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=wx(t),e=e===null?null:e.stateNode,e};Gt.flushSync=function(e){return Ds(e)};Gt.hydrate=function(e,t,r){if(!ed(t))throw Error(M(200));return td(null,e,t,!0,r)};Gt.hydrateRoot=function(e,t,r){if(!um(e))throw Error(M(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Zy;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Xy(t,null,e,1,r??null,s,!1,i,o),e[on]=t.current,eo(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Zc(t)};Gt.render=function(e,t,r){if(!ed(t))throw Error(M(200));return td(null,e,t,!1,r)};Gt.unmountComponentAtNode=function(e){if(!ed(e))throw Error(M(40));return e._reactRootContainer?(Ds(function(){td(null,null,e,!1,function(){e._reactRootContainer=null,e[on]=null})}),!0):!1};Gt.unstable_batchedUpdates=sm;Gt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ed(r))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return td(e,t,r,!1,n)};Gt.version="18.3.1-next-f1338f8080-20240426";function ev(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ev)}catch(e){console.error(e)}}ev(),ex.exports=Gt;var rd=ex.exports;const e_=B0(rd),t_=$0({__proto__:null,default:e_},[rd]);var Xp=rd;Cu.createRoot=Xp.createRoot,Cu.hydrateRoot=Xp.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Te(){return Te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Te.apply(this,arguments)}var We;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(We||(We={}));const Zp="popstate";function r_(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return co("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:zs(s)}return s_(t,r,null,e)}function se(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ka(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function n_(){return Math.random().toString(36).substr(2,8)}function eg(e,t){return{usr:e.state,key:e.key,idx:t}}function co(e,t,r,n){return r===void 0&&(r=null),Te({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?fn(t):t,{state:r,key:t&&t.key||n||n_()})}function zs(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function fn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function s_(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=We.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Te({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=We.Pop;let j=u(),p=j==null?null:j-d;d=j,c&&c({action:l,location:x.location,delta:p})}function f(j,p){l=We.Push;let g=co(x.location,j,p);r&&r(g,j),d=u()+1;let y=eg(g,d),b=x.createHref(g);try{o.pushState(y,"",b)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(b)}i&&c&&c({action:l,location:x.location,delta:1})}function m(j,p){l=We.Replace;let g=co(x.location,j,p);r&&r(g,j),d=u();let y=eg(g,d),b=x.createHref(g);o.replaceState(y,"",b),i&&c&&c({action:l,location:x.location,delta:0})}function v(j){let p=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof j=="string"?j:zs(j);return g=g.replace(/ $/,"%20"),se(p,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,p)}let x={get action(){return l},get location(){return e(s,o)},listen(j){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Zp,h),c=j,()=>{s.removeEventListener(Zp,h),c=null}},createHref(j){return t(s,j)},createURL:v,encodeLocation(j){let p=v(j);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:m,go(j){return o.go(j)}};return x}var we;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(we||(we={}));const a_=new Set(["lazy","caseSensitive","path","id","index","children"]);function i_(e){return e.index===!0}function Nc(e,t,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),e.map((s,i)=>{let o=[...r,String(i)],l=typeof s.id=="string"?s.id:o.join("-");if(se(s.index!==!0||!s.children,"Cannot specify children on an index route"),se(!n[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),i_(s)){let c=Te({},s,t(s),{id:l});return n[l]=c,c}else{let c=Te({},s,t(s),{id:l,children:void 0});return n[l]=c,s.children&&(c.children=Nc(s.children,t,o,n)),c}})}function ps(e,t,r){return r===void 0&&(r="/"),Jl(e,t,r,!1)}function Jl(e,t,r,n){let s=typeof t=="string"?fn(t):t,i=ei(s.pathname||"/",r);if(i==null)return null;let o=tv(e);l_(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=v_(i);l=x_(o[c],d,n)}return l}function o_(e,t){let{route:r,pathname:n,params:s}=e;return{id:r.id,pathname:n,params:s,data:t[r.id],handle:r.handle}}function tv(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(se(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=sn([n,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(se(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),tv(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:p_(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of rv(i.path))s(i,o,c)}),t}function rv(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=rv(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function l_(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:g_(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const c_=/^:[\w-]+$/,d_=3,u_=2,h_=1,f_=10,m_=-2,tg=e=>e==="*";function p_(e,t){let r=e.split("/"),n=r.length;return r.some(tg)&&(n+=m_),t&&(n+=u_),r.filter(s=>!tg(s)).reduce((s,i)=>s+(c_.test(i)?d_:i===""?h_:f_),n)}function g_(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function x_(e,t,r){r===void 0&&(r=!1);let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",h=rg({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!h&&d&&r&&!n[n.length-1].route.index&&(h=rg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:sn([i,h.pathname]),pathnameBase:k_(sn([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=sn([i,h.pathnameBase]))}return o}function rg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=y_(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((d,u,h)=>{let{paramName:f,isOptional:m}=u;if(f==="*"){let x=l[h]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const v=l[h];return m&&!v?d[f]=void 0:d[f]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function y_(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Ka(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function v_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ka(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ei(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function b_(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?fn(e):e;return{pathname:r?r.startsWith("/")?r:w_(r,t):t,search:j_(n),hash:__(s)}}function w_(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function ru(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nv(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function nd(e,t){let r=nv(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function sd(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=fn(e):(s=Te({},e),se(!s.pathname||!s.pathname.includes("?"),ru("?","pathname","search",s)),se(!s.pathname||!s.pathname.includes("#"),ru("#","pathname","hash",s)),se(!s.search||!s.search.includes("#"),ru("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=b_(s,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const sn=e=>e.join("/").replace(/\/\/+/g,"/"),k_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),j_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,__=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class Sc{constructor(t,r,n,s){s===void 0&&(s=!1),this.status=t,this.statusText=r||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function uo(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const sv=["post","put","patch","delete"],N_=new Set(sv),S_=["get",...sv],E_=new Set(S_),P_=new Set([301,302,303,307,308]),C_=new Set([307,308]),nu={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},T_={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},gi={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},hm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,R_=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),av="remix-router-transitions";function A_(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",n=!r;se(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(e.mapRouteProperties)s=e.mapRouteProperties;else if(e.detectErrorBoundary){let P=e.detectErrorBoundary;s=R=>({hasErrorBoundary:P(R)})}else s=R_;let i={},o=Nc(e.routes,s,void 0,i),l,c=e.basename||"/",d=e.dataStrategy||I_,u=e.patchRoutesOnNavigation,h=Te({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),f=null,m=new Set,v=null,x=null,j=null,p=e.hydrationData!=null,g=ps(o,e.history.location,c),y=!1,b=null;if(g==null&&!u){let P=At(404,{pathname:e.history.location.pathname}),{matches:R,route:A}=fg(o);g=R,b={[A.id]:P}}g&&!e.hydrationData&&tl(g,o,e.history.location.pathname).active&&(g=null);let _;if(g)if(g.some(P=>P.route.lazy))_=!1;else if(!g.some(P=>P.route.loader))_=!0;else if(h.v7_partialHydration){let P=e.hydrationData?e.hydrationData.loaderData:null,R=e.hydrationData?e.hydrationData.errors:null;if(R){let A=g.findIndex(L=>R[L.route.id]!==void 0);_=g.slice(0,A+1).every(L=>!jh(L.route,P,R))}else _=g.every(A=>!jh(A.route,P,R))}else _=e.hydrationData!=null;else if(_=!1,g=[],h.v7_partialHydration){let P=tl(null,o,e.history.location.pathname);P.active&&P.matches&&(y=!0,g=P.matches)}let N,k={historyAction:e.history.action,location:e.history.location,matches:g,initialized:_,navigation:nu,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||b,fetchers:new Map,blockers:new Map},E=We.Pop,S=!1,C,F=!1,z=new Map,J=null,Y=!1,xe=!1,Pe=[],de=new Set,I=new Map,G=0,X=-1,ie=new Map,Z=new Set,tt=new Map,He=new Map,Be=new Set,Ve=new Map,bt=new Map,Qs;function Nd(){if(f=e.history.listen(P=>{let{action:R,location:A,delta:L}=P;if(Qs){Qs(),Qs=void 0;return}Ka(bt.size===0||L!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let U=zm({currentLocation:k.location,nextLocation:A,historyAction:R});if(U&&L!=null){let Q=new Promise(ee=>{Qs=ee});e.history.go(L*-1),el(U,{state:"blocked",location:A,proceed(){el(U,{state:"proceeding",proceed:void 0,reset:void 0,location:A}),Q.then(()=>e.history.go(L))},reset(){let ee=new Map(k.blockers);ee.set(U,gi),pt({blockers:ee})}});return}return be(R,A)}),r){J_(t,z);let P=()=>Y_(t,z);t.addEventListener("pagehide",P),J=()=>t.removeEventListener("pagehide",P)}return k.initialized||be(We.Pop,k.location,{initialHydration:!0}),N}function is(){f&&f(),J&&J(),m.clear(),C&&C.abort(),k.fetchers.forEach((P,R)=>Zo(R)),k.blockers.forEach((P,R)=>Dm(R))}function Jo(P){return m.add(P),()=>m.delete(P)}function pt(P,R){R===void 0&&(R={}),k=Te({},k,P);let A=[],L=[];h.v7_fetcherPersist&&k.fetchers.forEach((U,Q)=>{U.state==="idle"&&(Be.has(Q)?L.push(Q):A.push(Q))}),Be.forEach(U=>{!k.fetchers.has(U)&&!I.has(U)&&L.push(U)}),[...m].forEach(U=>U(k,{deletedFetchers:L,viewTransitionOpts:R.viewTransitionOpts,flushSync:R.flushSync===!0})),h.v7_fetcherPersist?(A.forEach(U=>k.fetchers.delete(U)),L.forEach(U=>Zo(U))):L.forEach(U=>Be.delete(U))}function pe(P,R,A){var L,U;let{flushSync:Q}=A===void 0?{}:A,ee=k.actionData!=null&&k.navigation.formMethod!=null&&xr(k.navigation.formMethod)&&k.navigation.state==="loading"&&((L=P.state)==null?void 0:L._isRedirect)!==!0,q;R.actionData?Object.keys(R.actionData).length>0?q=R.actionData:q=null:ee?q=k.actionData:q=null;let H=R.loaderData?ug(k.loaderData,R.loaderData,R.matches||[],R.errors):k.loaderData,W=k.blockers;W.size>0&&(W=new Map(W),W.forEach((fe,lt)=>W.set(lt,gi)));let K=S===!0||k.navigation.formMethod!=null&&xr(k.navigation.formMethod)&&((U=P.state)==null?void 0:U._isRedirect)!==!0;l&&(o=l,l=void 0),Y||E===We.Pop||(E===We.Push?e.history.push(P,P.state):E===We.Replace&&e.history.replace(P,P.state));let ne;if(E===We.Pop){let fe=z.get(k.location.pathname);fe&&fe.has(P.pathname)?ne={currentLocation:k.location,nextLocation:P}:z.has(P.pathname)&&(ne={currentLocation:P,nextLocation:k.location})}else if(F){let fe=z.get(k.location.pathname);fe?fe.add(P.pathname):(fe=new Set([P.pathname]),z.set(k.location.pathname,fe)),ne={currentLocation:k.location,nextLocation:P}}pt(Te({},R,{actionData:q,loaderData:H,historyAction:E,location:P,initialized:!0,navigation:nu,revalidation:"idle",restoreScrollPosition:Bm(P,R.matches||k.matches),preventScrollReset:K,blockers:W}),{viewTransitionOpts:ne,flushSync:Q===!0}),E=We.Pop,S=!1,F=!1,Y=!1,xe=!1,Pe=[]}async function ve(P,R){if(typeof P=="number"){e.history.go(P);return}let A=kh(k.location,k.matches,c,h.v7_prependBasename,P,h.v7_relativeSplatPath,R==null?void 0:R.fromRouteId,R==null?void 0:R.relative),{path:L,submission:U,error:Q}=ng(h.v7_normalizeFormMethod,!1,A,R),ee=k.location,q=co(k.location,L,R&&R.state);q=Te({},q,e.history.encodeLocation(q));let H=R&&R.replace!=null?R.replace:void 0,W=We.Push;H===!0?W=We.Replace:H===!1||U!=null&&xr(U.formMethod)&&U.formAction===k.location.pathname+k.location.search&&(W=We.Replace);let K=R&&"preventScrollReset"in R?R.preventScrollReset===!0:void 0,ne=(R&&R.flushSync)===!0,fe=zm({currentLocation:ee,nextLocation:q,historyAction:W});if(fe){el(fe,{state:"blocked",location:q,proceed(){el(fe,{state:"proceeding",proceed:void 0,reset:void 0,location:q}),ve(P,R)},reset(){let lt=new Map(k.blockers);lt.set(fe,gi),pt({blockers:lt})}});return}return await be(W,q,{submission:U,pendingError:Q,preventScrollReset:K,replace:R&&R.replace,enableViewTransition:R&&R.viewTransition,flushSync:ne})}function rt(){if(os(),pt({revalidation:"loading"}),k.navigation.state!=="submitting"){if(k.navigation.state==="idle"){be(k.historyAction,k.location,{startUninterruptedRevalidation:!0});return}be(E||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:F===!0})}}async function be(P,R,A){C&&C.abort(),C=null,E=P,Y=(A&&A.startUninterruptedRevalidation)===!0,ww(k.location,k.matches),S=(A&&A.preventScrollReset)===!0,F=(A&&A.enableViewTransition)===!0;let L=l||o,U=A&&A.overrideNavigation,Q=A!=null&&A.initialHydration&&k.matches&&k.matches.length>0&&!y?k.matches:ps(L,R,c),ee=(A&&A.flushSync)===!0;if(Q&&k.initialized&&!xe&&B_(k.location,R)&&!(A&&A.submission&&xr(A.submission.formMethod))){pe(R,{matches:Q},{flushSync:ee});return}let q=tl(Q,L,R.pathname);if(q.active&&q.matches&&(Q=q.matches),!Q){let{error:je,notFoundMatches:ye,route:Me}=Sd(R.pathname);pe(R,{matches:ye,loaderData:{},errors:{[Me.id]:je}},{flushSync:ee});return}C=new AbortController;let H=Zs(e.history,R,C.signal,A&&A.submission),W;if(A&&A.pendingError)W=[gs(Q).route.id,{type:we.error,error:A.pendingError}];else if(A&&A.submission&&xr(A.submission.formMethod)){let je=await zt(H,R,A.submission,Q,q.active,{replace:A.replace,flushSync:ee});if(je.shortCircuited)return;if(je.pendingActionResult){let[ye,Me]=je.pendingActionResult;if(qt(Me)&&uo(Me.error)&&Me.error.status===404){C=null,pe(R,{matches:je.matches,loaderData:{},errors:{[ye]:Me.error}});return}}Q=je.matches||Q,W=je.pendingActionResult,U=su(R,A.submission),ee=!1,q.active=!1,H=Zs(e.history,H.url,H.signal)}let{shortCircuited:K,matches:ne,loaderData:fe,errors:lt}=await mn(H,R,Q,q.active,U,A&&A.submission,A&&A.fetcherSubmission,A&&A.replace,A&&A.initialHydration===!0,ee,W);K||(C=null,pe(R,Te({matches:ne||Q},hg(W),{loaderData:fe,errors:lt})))}async function zt(P,R,A,L,U,Q){Q===void 0&&(Q={}),os();let ee=Q_(R,A);if(pt({navigation:ee},{flushSync:Q.flushSync===!0}),U){let W=await rl(L,R.pathname,P.signal);if(W.type==="aborted")return{shortCircuited:!0};if(W.type==="error"){let K=gs(W.partialMatches).route.id;return{matches:W.partialMatches,pendingActionResult:[K,{type:we.error,error:W.error}]}}else if(W.matches)L=W.matches;else{let{notFoundMatches:K,error:ne,route:fe}=Sd(R.pathname);return{matches:K,pendingActionResult:[fe.id,{type:we.error,error:ne}]}}}let q,H=Si(L,R);if(!H.route.action&&!H.route.lazy)q={type:we.error,error:At(405,{method:P.method,pathname:R.pathname,routeId:H.route.id})};else if(q=(await nt("action",k,P,[H],L,null))[H.route.id],P.signal.aborted)return{shortCircuited:!0};if(ws(q)){let W;return Q&&Q.replace!=null?W=Q.replace:W=lg(q.response.headers.get("Location"),new URL(P.url),c)===k.location.pathname+k.location.search,await Er(P,q,!0,{submission:A,replace:W}),{shortCircuited:!0}}if(zn(q))throw At(400,{type:"defer-action"});if(qt(q)){let W=gs(L,H.route.id);return(Q&&Q.replace)!==!0&&(E=We.Push),{matches:L,pendingActionResult:[W.route.id,q]}}return{matches:L,pendingActionResult:[H.route.id,q]}}async function mn(P,R,A,L,U,Q,ee,q,H,W,K){let ne=U||su(R,Q),fe=Q||ee||pg(ne),lt=!Y&&(!h.v7_partialHydration||!H);if(L){if(lt){let Ue=Ke(K);pt(Te({navigation:ne},Ue!==void 0?{actionData:Ue}:{}),{flushSync:W})}let ge=await rl(A,R.pathname,P.signal);if(ge.type==="aborted")return{shortCircuited:!0};if(ge.type==="error"){let Ue=gs(ge.partialMatches).route.id;return{matches:ge.partialMatches,loaderData:{},errors:{[Ue]:ge.error}}}else if(ge.matches)A=ge.matches;else{let{error:Ue,notFoundMatches:Js,route:oi}=Sd(R.pathname);return{matches:Js,loaderData:{},errors:{[oi.id]:Ue}}}}let je=l||o,[ye,Me]=ag(e.history,k,A,fe,R,h.v7_partialHydration&&H===!0,h.v7_skipActionErrorRevalidation,xe,Pe,de,Be,tt,Z,je,c,K);if(Ed(ge=>!(A&&A.some(Ue=>Ue.route.id===ge))||ye&&ye.some(Ue=>Ue.route.id===ge)),X=++G,ye.length===0&&Me.length===0){let ge=Mm();return pe(R,Te({matches:A,loaderData:{},errors:K&&qt(K[1])?{[K[0]]:K[1].error}:null},hg(K),ge?{fetchers:new Map(k.fetchers)}:{}),{flushSync:W}),{shortCircuited:!0}}if(lt){let ge={};if(!L){ge.navigation=ne;let Ue=Ke(K);Ue!==void 0&&(ge.actionData=Ue)}Me.length>0&&(ge.fetchers=ot(Me)),pt(ge,{flushSync:W})}Me.forEach(ge=>{pn(ge.key),ge.controller&&I.set(ge.key,ge.controller)});let Gs=()=>Me.forEach(ge=>pn(ge.key));C&&C.signal.addEventListener("abort",Gs);let{loaderResults:ai,fetcherResults:Hr}=await Xt(k,A,ye,Me,P);if(P.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",Gs),Me.forEach(ge=>I.delete(ge.key));let Cr=_l(ai);if(Cr)return await Er(P,Cr.result,!0,{replace:q}),{shortCircuited:!0};if(Cr=_l(Hr),Cr)return Z.add(Cr.key),await Er(P,Cr.result,!0,{replace:q}),{shortCircuited:!0};let{loaderData:Pd,errors:ii}=dg(k,A,ai,K,Me,Hr,Ve);Ve.forEach((ge,Ue)=>{ge.subscribe(Js=>{(Js||ge.done)&&Ve.delete(Ue)})}),h.v7_partialHydration&&H&&k.errors&&(ii=Te({},k.errors,ii));let ls=Mm(),nl=Um(X),sl=ls||nl||Me.length>0;return Te({matches:A,loaderData:Pd,errors:ii},sl?{fetchers:new Map(k.fetchers)}:{})}function Ke(P){if(P&&!qt(P[1]))return{[P[0]]:P[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function ot(P){return P.forEach(R=>{let A=k.fetchers.get(R.key),L=xi(void 0,A?A.data:void 0);k.fetchers.set(R.key,L)}),new Map(k.fetchers)}function dr(P,R,A,L){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");pn(P);let U=(L&&L.flushSync)===!0,Q=l||o,ee=kh(k.location,k.matches,c,h.v7_prependBasename,A,h.v7_relativeSplatPath,R,L==null?void 0:L.relative),q=ps(Q,ee,c),H=tl(q,Q,ee);if(H.active&&H.matches&&(q=H.matches),!q){$t(P,R,At(404,{pathname:ee}),{flushSync:U});return}let{path:W,submission:K,error:ne}=ng(h.v7_normalizeFormMethod,!0,ee,L);if(ne){$t(P,R,ne,{flushSync:U});return}let fe=Si(q,W),lt=(L&&L.preventScrollReset)===!0;if(K&&xr(K.formMethod)){Yo(P,R,W,fe,q,H.active,U,lt,K);return}tt.set(P,{routeId:R,path:W}),Xo(P,R,W,fe,q,H.active,U,lt,K)}async function Yo(P,R,A,L,U,Q,ee,q,H){os(),tt.delete(P);function W(Qe){if(!Qe.route.action&&!Qe.route.lazy){let Ys=At(405,{method:H.formMethod,pathname:A,routeId:R});return $t(P,R,Ys,{flushSync:ee}),!0}return!1}if(!Q&&W(L))return;let K=k.fetchers.get(P);Pr(P,G_(H,K),{flushSync:ee});let ne=new AbortController,fe=Zs(e.history,A,ne.signal,H);if(Q){let Qe=await rl(U,new URL(fe.url).pathname,fe.signal,P);if(Qe.type==="aborted")return;if(Qe.type==="error"){$t(P,R,Qe.error,{flushSync:ee});return}else if(Qe.matches){if(U=Qe.matches,L=Si(U,A),W(L))return}else{$t(P,R,At(404,{pathname:A}),{flushSync:ee});return}}I.set(P,ne);let lt=G,ye=(await nt("action",k,fe,[L],U,P))[L.route.id];if(fe.signal.aborted){I.get(P)===ne&&I.delete(P);return}if(h.v7_fetcherPersist&&Be.has(P)){if(ws(ye)||qt(ye)){Pr(P,yn(void 0));return}}else{if(ws(ye))if(I.delete(P),X>lt){Pr(P,yn(void 0));return}else return Z.add(P),Pr(P,xi(H)),Er(fe,ye,!1,{fetcherSubmission:H,preventScrollReset:q});if(qt(ye)){$t(P,R,ye.error);return}}if(zn(ye))throw At(400,{type:"defer-action"});let Me=k.navigation.location||k.location,Gs=Zs(e.history,Me,ne.signal),ai=l||o,Hr=k.navigation.state!=="idle"?ps(ai,k.navigation.location,c):k.matches;se(Hr,"Didn't find any matches after fetcher action");let Cr=++G;ie.set(P,Cr);let Pd=xi(H,ye.data);k.fetchers.set(P,Pd);let[ii,ls]=ag(e.history,k,Hr,H,Me,!1,h.v7_skipActionErrorRevalidation,xe,Pe,de,Be,tt,Z,ai,c,[L.route.id,ye]);ls.filter(Qe=>Qe.key!==P).forEach(Qe=>{let Ys=Qe.key,Wm=k.fetchers.get(Ys),_w=xi(void 0,Wm?Wm.data:void 0);k.fetchers.set(Ys,_w),pn(Ys),Qe.controller&&I.set(Ys,Qe.controller)}),pt({fetchers:new Map(k.fetchers)});let nl=()=>ls.forEach(Qe=>pn(Qe.key));ne.signal.addEventListener("abort",nl);let{loaderResults:sl,fetcherResults:ge}=await Xt(k,Hr,ii,ls,Gs);if(ne.signal.aborted)return;ne.signal.removeEventListener("abort",nl),ie.delete(P),I.delete(P),ls.forEach(Qe=>I.delete(Qe.key));let Ue=_l(sl);if(Ue)return Er(Gs,Ue.result,!1,{preventScrollReset:q});if(Ue=_l(ge),Ue)return Z.add(Ue.key),Er(Gs,Ue.result,!1,{preventScrollReset:q});let{loaderData:Js,errors:oi}=dg(k,Hr,sl,void 0,ls,ge,Ve);if(k.fetchers.has(P)){let Qe=yn(ye.data);k.fetchers.set(P,Qe)}Um(Cr),k.navigation.state==="loading"&&Cr>X?(se(E,"Expected pending action"),C&&C.abort(),pe(k.navigation.location,{matches:Hr,loaderData:Js,errors:oi,fetchers:new Map(k.fetchers)})):(pt({errors:oi,loaderData:ug(k.loaderData,Js,Hr,oi),fetchers:new Map(k.fetchers)}),xe=!1)}async function Xo(P,R,A,L,U,Q,ee,q,H){let W=k.fetchers.get(P);Pr(P,xi(H,W?W.data:void 0),{flushSync:ee});let K=new AbortController,ne=Zs(e.history,A,K.signal);if(Q){let ye=await rl(U,new URL(ne.url).pathname,ne.signal,P);if(ye.type==="aborted")return;if(ye.type==="error"){$t(P,R,ye.error,{flushSync:ee});return}else if(ye.matches)U=ye.matches,L=Si(U,A);else{$t(P,R,At(404,{pathname:A}),{flushSync:ee});return}}I.set(P,K);let fe=G,je=(await nt("loader",k,ne,[L],U,P))[L.route.id];if(zn(je)&&(je=await fm(je,ne.signal,!0)||je),I.get(P)===K&&I.delete(P),!ne.signal.aborted){if(Be.has(P)){Pr(P,yn(void 0));return}if(ws(je))if(X>fe){Pr(P,yn(void 0));return}else{Z.add(P),await Er(ne,je,!1,{preventScrollReset:q});return}if(qt(je)){$t(P,R,je.error);return}se(!zn(je),"Unhandled fetcher deferred data"),Pr(P,yn(je.data))}}async function Er(P,R,A,L){let{submission:U,fetcherSubmission:Q,preventScrollReset:ee,replace:q}=L===void 0?{}:L;R.response.headers.has("X-Remix-Revalidate")&&(xe=!0);let H=R.response.headers.get("Location");se(H,"Expected a Location header on the redirect Response"),H=lg(H,new URL(P.url),c);let W=co(k.location,H,{_isRedirect:!0});if(r){let ye=!1;if(R.response.headers.has("X-Remix-Reload-Document"))ye=!0;else if(hm.test(H)){const Me=e.history.createURL(H);ye=Me.origin!==t.location.origin||ei(Me.pathname,c)==null}if(ye){q?t.location.replace(H):t.location.assign(H);return}}C=null;let K=q===!0||R.response.headers.has("X-Remix-Replace")?We.Replace:We.Push,{formMethod:ne,formAction:fe,formEncType:lt}=k.navigation;!U&&!Q&&ne&&fe&&lt&&(U=pg(k.navigation));let je=U||Q;if(C_.has(R.response.status)&&je&&xr(je.formMethod))await be(K,W,{submission:Te({},je,{formAction:H}),preventScrollReset:ee||S,enableViewTransition:A?F:void 0});else{let ye=su(W,U);await be(K,W,{overrideNavigation:ye,fetcherSubmission:Q,preventScrollReset:ee||S,enableViewTransition:A?F:void 0})}}async function nt(P,R,A,L,U,Q){let ee,q={};try{ee=await M_(d,P,R,A,L,U,Q,i,s)}catch(H){return L.forEach(W=>{q[W.route.id]={type:we.error,error:H}}),q}for(let[H,W]of Object.entries(ee))if(W_(W)){let K=W.result;q[H]={type:we.redirect,response:z_(K,A,H,U,c,h.v7_relativeSplatPath)}}else q[H]=await D_(W);return q}async function Xt(P,R,A,L,U){let Q=P.matches,ee=nt("loader",P,U,A,R,null),q=Promise.all(L.map(async K=>{if(K.matches&&K.match&&K.controller){let fe=(await nt("loader",P,Zs(e.history,K.path,K.controller.signal),[K.match],K.matches,K.key))[K.match.route.id];return{[K.key]:fe}}else return Promise.resolve({[K.key]:{type:we.error,error:At(404,{pathname:K.path})}})})),H=await ee,W=(await q).reduce((K,ne)=>Object.assign(K,ne),{});return await Promise.all([V_(R,H,U.signal,Q,P.loaderData),K_(R,W,L)]),{loaderResults:H,fetcherResults:W}}function os(){xe=!0,Pe.push(...Ed()),tt.forEach((P,R)=>{I.has(R)&&de.add(R),pn(R)})}function Pr(P,R,A){A===void 0&&(A={}),k.fetchers.set(P,R),pt({fetchers:new Map(k.fetchers)},{flushSync:(A&&A.flushSync)===!0})}function $t(P,R,A,L){L===void 0&&(L={});let U=gs(k.matches,R);Zo(P),pt({errors:{[U.route.id]:A},fetchers:new Map(k.fetchers)},{flushSync:(L&&L.flushSync)===!0})}function Lm(P){return He.set(P,(He.get(P)||0)+1),Be.has(P)&&Be.delete(P),k.fetchers.get(P)||T_}function Zo(P){let R=k.fetchers.get(P);I.has(P)&&!(R&&R.state==="loading"&&ie.has(P))&&pn(P),tt.delete(P),ie.delete(P),Z.delete(P),h.v7_fetcherPersist&&Be.delete(P),de.delete(P),k.fetchers.delete(P)}function yw(P){let R=(He.get(P)||0)-1;R<=0?(He.delete(P),Be.add(P),h.v7_fetcherPersist||Zo(P)):He.set(P,R),pt({fetchers:new Map(k.fetchers)})}function pn(P){let R=I.get(P);R&&(R.abort(),I.delete(P))}function Im(P){for(let R of P){let A=Lm(R),L=yn(A.data);k.fetchers.set(R,L)}}function Mm(){let P=[],R=!1;for(let A of Z){let L=k.fetchers.get(A);se(L,"Expected fetcher: "+A),L.state==="loading"&&(Z.delete(A),P.push(A),R=!0)}return Im(P),R}function Um(P){let R=[];for(let[A,L]of ie)if(L<P){let U=k.fetchers.get(A);se(U,"Expected fetcher: "+A),U.state==="loading"&&(pn(A),ie.delete(A),R.push(A))}return Im(R),R.length>0}function vw(P,R){let A=k.blockers.get(P)||gi;return bt.get(P)!==R&&bt.set(P,R),A}function Dm(P){k.blockers.delete(P),bt.delete(P)}function el(P,R){let A=k.blockers.get(P)||gi;se(A.state==="unblocked"&&R.state==="blocked"||A.state==="blocked"&&R.state==="blocked"||A.state==="blocked"&&R.state==="proceeding"||A.state==="blocked"&&R.state==="unblocked"||A.state==="proceeding"&&R.state==="unblocked","Invalid blocker state transition: "+A.state+" -> "+R.state);let L=new Map(k.blockers);L.set(P,R),pt({blockers:L})}function zm(P){let{currentLocation:R,nextLocation:A,historyAction:L}=P;if(bt.size===0)return;bt.size>1&&Ka(!1,"A router only supports one blocker at a time");let U=Array.from(bt.entries()),[Q,ee]=U[U.length-1],q=k.blockers.get(Q);if(!(q&&q.state==="proceeding")&&ee({currentLocation:R,nextLocation:A,historyAction:L}))return Q}function Sd(P){let R=At(404,{pathname:P}),A=l||o,{matches:L,route:U}=fg(A);return Ed(),{notFoundMatches:L,route:U,error:R}}function Ed(P){let R=[];return Ve.forEach((A,L)=>{(!P||P(L))&&(A.cancel(),R.push(L),Ve.delete(L))}),R}function bw(P,R,A){if(v=P,j=R,x=A||null,!p&&k.navigation===nu){p=!0;let L=Bm(k.location,k.matches);L!=null&&pt({restoreScrollPosition:L})}return()=>{v=null,j=null,x=null}}function $m(P,R){return x&&x(P,R.map(L=>o_(L,k.loaderData)))||P.key}function ww(P,R){if(v&&j){let A=$m(P,R);v[A]=j()}}function Bm(P,R){if(v){let A=$m(P,R),L=v[A];if(typeof L=="number")return L}return null}function tl(P,R,A){if(u)if(P){if(Object.keys(P[0].params).length>0)return{active:!0,matches:Jl(R,A,c,!0)}}else return{active:!0,matches:Jl(R,A,c,!0)||[]};return{active:!1,matches:null}}async function rl(P,R,A,L){if(!u)return{type:"success",matches:P};let U=P;for(;;){let Q=l==null,ee=l||o,q=i;try{await u({signal:A,path:R,matches:U,fetcherKey:L,patch:(K,ne)=>{A.aborted||og(K,ne,ee,q,s)}})}catch(K){return{type:"error",error:K,partialMatches:U}}finally{Q&&!A.aborted&&(o=[...o])}if(A.aborted)return{type:"aborted"};let H=ps(ee,R,c);if(H)return{type:"success",matches:H};let W=Jl(ee,R,c,!0);if(!W||U.length===W.length&&U.every((K,ne)=>K.route.id===W[ne].route.id))return{type:"success",matches:null};U=W}}function kw(P){i={},l=Nc(P,s,void 0,i)}function jw(P,R){let A=l==null;og(P,R,l||o,i,s),A&&(o=[...o],pt({}))}return N={get basename(){return c},get future(){return h},get state(){return k},get routes(){return o},get window(){return t},initialize:Nd,subscribe:Jo,enableScrollRestoration:bw,navigate:ve,fetch:dr,revalidate:rt,createHref:P=>e.history.createHref(P),encodeLocation:P=>e.history.encodeLocation(P),getFetcher:Lm,deleteFetcher:yw,dispose:is,getBlocker:vw,deleteBlocker:Dm,patchRoutes:jw,_internalFetchControllers:I,_internalActiveDeferreds:Ve,_internalSetRoutes:kw},N}function O_(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function kh(e,t,r,n,s,i,o,l){let c,d;if(o){c=[];for(let h of t)if(c.push(h),h.route.id===o){d=h;break}}else c=t,d=t[t.length-1];let u=sd(s||".",nd(c,i),ei(e.pathname,r)||e.pathname,l==="path");if(s==null&&(u.search=e.search,u.hash=e.hash),(s==null||s===""||s===".")&&d){let h=mm(u.search);if(d.route.index&&!h)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&h){let f=new URLSearchParams(u.search),m=f.getAll("index");f.delete("index"),m.filter(x=>x).forEach(x=>f.append("index",x));let v=f.toString();u.search=v?"?"+v:""}}return n&&r!=="/"&&(u.pathname=u.pathname==="/"?r:sn([r,u.pathname])),zs(u)}function ng(e,t,r,n){if(!n||!O_(n))return{path:r};if(n.formMethod&&!H_(n.formMethod))return{path:r,error:At(405,{method:n.formMethod})};let s=()=>({path:r,error:At(400,{type:"invalid-body"})}),i=n.formMethod||"get",o=e?i.toUpperCase():i.toLowerCase(),l=lv(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!xr(o))return s();let f=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((m,v)=>{let[x,j]=v;return""+m+x+"="+j+`
`},""):String(n.body);return{path:r,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:f}}}else if(n.formEncType==="application/json"){if(!xr(o))return s();try{let f=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:f,text:void 0}}}catch{return s()}}}se(typeof FormData=="function","FormData is not available in this environment");let c,d;if(n.formData)c=_h(n.formData),d=n.formData;else if(n.body instanceof FormData)c=_h(n.body),d=n.body;else if(n.body instanceof URLSearchParams)c=n.body,d=cg(c);else if(n.body==null)c=new URLSearchParams,d=new FormData;else try{c=new URLSearchParams(n.body),d=cg(c)}catch{return s()}let u={formMethod:o,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(xr(u.formMethod))return{path:r,submission:u};let h=fn(r);return t&&h.search&&mm(h.search)&&c.append("index",""),h.search="?"+c,{path:zs(h),submission:u}}function sg(e,t,r){r===void 0&&(r=!1);let n=e.findIndex(s=>s.route.id===t);return n>=0?e.slice(0,r?n+1:n):e}function ag(e,t,r,n,s,i,o,l,c,d,u,h,f,m,v,x){let j=x?qt(x[1])?x[1].error:x[1].data:void 0,p=e.createURL(t.location),g=e.createURL(s),y=r;i&&t.errors?y=sg(r,Object.keys(t.errors)[0],!0):x&&qt(x[1])&&(y=sg(r,x[0]));let b=x?x[1].statusCode:void 0,_=o&&b&&b>=400,N=y.filter((E,S)=>{let{route:C}=E;if(C.lazy)return!0;if(C.loader==null)return!1;if(i)return jh(C,t.loaderData,t.errors);if(F_(t.loaderData,t.matches[S],E)||c.some(J=>J===E.route.id))return!0;let F=t.matches[S],z=E;return ig(E,Te({currentUrl:p,currentParams:F.params,nextUrl:g,nextParams:z.params},n,{actionResult:j,actionStatus:b,defaultShouldRevalidate:_?!1:l||p.pathname+p.search===g.pathname+g.search||p.search!==g.search||iv(F,z)}))}),k=[];return h.forEach((E,S)=>{if(i||!r.some(Y=>Y.route.id===E.routeId)||u.has(S))return;let C=ps(m,E.path,v);if(!C){k.push({key:S,routeId:E.routeId,path:E.path,matches:null,match:null,controller:null});return}let F=t.fetchers.get(S),z=Si(C,E.path),J=!1;f.has(S)?J=!1:d.has(S)?(d.delete(S),J=!0):F&&F.state!=="idle"&&F.data===void 0?J=l:J=ig(z,Te({currentUrl:p,currentParams:t.matches[t.matches.length-1].params,nextUrl:g,nextParams:r[r.length-1].params},n,{actionResult:j,actionStatus:b,defaultShouldRevalidate:_?!1:l})),J&&k.push({key:S,routeId:E.routeId,path:E.path,matches:C,match:z,controller:new AbortController})}),[N,k]}function jh(e,t,r){if(e.lazy)return!0;if(!e.loader)return!1;let n=t!=null&&t[e.id]!==void 0,s=r!=null&&r[e.id]!==void 0;return!n&&s?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!n&&!s}function F_(e,t,r){let n=!t||r.route.id!==t.route.id,s=e[r.route.id]===void 0;return n||s}function iv(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function ig(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function og(e,t,r,n,s){var i;let o;if(e){let d=n[e];se(d,"No route found to patch children into: routeId = "+e),d.children||(d.children=[]),o=d.children}else o=r;let l=t.filter(d=>!o.some(u=>ov(d,u))),c=Nc(l,s,[e||"_","patch",String(((i=o)==null?void 0:i.length)||"0")],n);o.push(...c)}function ov(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,n)=>{var s;return(s=t.children)==null?void 0:s.some(i=>ov(r,i))}):!1}async function L_(e,t,r){if(!e.lazy)return;let n=await e.lazy();if(!e.lazy)return;let s=r[e.id];se(s,"No route found in manifest");let i={};for(let o in n){let c=s[o]!==void 0&&o!=="hasErrorBoundary";Ka(!c,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!c&&!a_.has(o)&&(i[o]=n[o])}Object.assign(s,i),Object.assign(s,Te({},t(s),{lazy:void 0}))}async function I_(e){let{matches:t}=e,r=t.filter(s=>s.shouldLoad);return(await Promise.all(r.map(s=>s.resolve()))).reduce((s,i,o)=>Object.assign(s,{[r[o].route.id]:i}),{})}async function M_(e,t,r,n,s,i,o,l,c,d){let u=i.map(m=>m.route.lazy?L_(m.route,c,l):void 0),h=i.map((m,v)=>{let x=u[v],j=s.some(g=>g.route.id===m.route.id);return Te({},m,{shouldLoad:j,resolve:async g=>(g&&n.method==="GET"&&(m.route.lazy||m.route.loader)&&(j=!0),j?U_(t,n,m,x,g,d):Promise.resolve({type:we.data,result:void 0}))})}),f=await e({matches:h,request:n,params:i[0].params,fetcherKey:o,context:d});try{await Promise.all(u)}catch{}return f}async function U_(e,t,r,n,s,i){let o,l,c=d=>{let u,h=new Promise((v,x)=>u=x);l=()=>u(),t.signal.addEventListener("abort",l);let f=v=>typeof d!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+r.route.id+"]"))):d({request:t,params:r.params,context:i},...v!==void 0?[v]:[]),m=(async()=>{try{return{type:"data",result:await(s?s(x=>f(x)):f())}}catch(v){return{type:"error",result:v}}})();return Promise.race([m,h])};try{let d=r.route[e];if(n)if(d){let u,[h]=await Promise.all([c(d).catch(f=>{u=f}),n]);if(u!==void 0)throw u;o=h}else if(await n,d=r.route[e],d)o=await c(d);else if(e==="action"){let u=new URL(t.url),h=u.pathname+u.search;throw At(405,{method:t.method,pathname:h,routeId:r.route.id})}else return{type:we.data,result:void 0};else if(d)o=await c(d);else{let u=new URL(t.url),h=u.pathname+u.search;throw At(404,{pathname:h})}se(o.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(d){return{type:we.error,result:d}}finally{l&&t.signal.removeEventListener("abort",l)}return o}async function D_(e){let{result:t,type:r}=e;if(cv(t)){let h;try{let f=t.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?t.body==null?h=null:h=await t.json():h=await t.text()}catch(f){return{type:we.error,error:f}}return r===we.error?{type:we.error,error:new Sc(t.status,t.statusText,h),statusCode:t.status,headers:t.headers}:{type:we.data,data:h,statusCode:t.status,headers:t.headers}}if(r===we.error){if(mg(t)){var n,s;if(t.data instanceof Error){var i,o;return{type:we.error,error:t.data,statusCode:(i=t.init)==null?void 0:i.status,headers:(o=t.init)!=null&&o.headers?new Headers(t.init.headers):void 0}}return{type:we.error,error:new Sc(((n=t.init)==null?void 0:n.status)||500,void 0,t.data),statusCode:uo(t)?t.status:void 0,headers:(s=t.init)!=null&&s.headers?new Headers(t.init.headers):void 0}}return{type:we.error,error:t,statusCode:uo(t)?t.status:void 0}}if(q_(t)){var l,c;return{type:we.deferred,deferredData:t,statusCode:(l=t.init)==null?void 0:l.status,headers:((c=t.init)==null?void 0:c.headers)&&new Headers(t.init.headers)}}if(mg(t)){var d,u;return{type:we.data,data:t.data,statusCode:(d=t.init)==null?void 0:d.status,headers:(u=t.init)!=null&&u.headers?new Headers(t.init.headers):void 0}}return{type:we.data,data:t}}function z_(e,t,r,n,s,i){let o=e.headers.get("Location");if(se(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!hm.test(o)){let l=n.slice(0,n.findIndex(c=>c.route.id===r)+1);o=kh(new URL(t.url),l,s,!0,o,i),e.headers.set("Location",o)}return e}function lg(e,t,r){if(hm.test(e)){let n=e,s=n.startsWith("//")?new URL(t.protocol+n):new URL(n),i=ei(s.pathname,r)!=null;if(s.origin===t.origin&&i)return s.pathname+s.search+s.hash}return e}function Zs(e,t,r,n){let s=e.createURL(lv(t)).toString(),i={signal:r};if(n&&xr(n.formMethod)){let{formMethod:o,formEncType:l}=n;i.method=o.toUpperCase(),l==="application/json"?(i.headers=new Headers({"Content-Type":l}),i.body=JSON.stringify(n.json)):l==="text/plain"?i.body=n.text:l==="application/x-www-form-urlencoded"&&n.formData?i.body=_h(n.formData):i.body=n.formData}return new Request(s,i)}function _h(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function cg(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function $_(e,t,r,n,s){let i={},o=null,l,c=!1,d={},u=r&&qt(r[1])?r[1].error:void 0;return e.forEach(h=>{if(!(h.route.id in t))return;let f=h.route.id,m=t[f];if(se(!ws(m),"Cannot handle redirect results in processLoaderData"),qt(m)){let v=m.error;if(u!==void 0&&(v=u,u=void 0),o=o||{},s)o[f]=v;else{let x=gs(e,f);o[x.route.id]==null&&(o[x.route.id]=v)}i[f]=void 0,c||(c=!0,l=uo(m.error)?m.error.status:500),m.headers&&(d[f]=m.headers)}else zn(m)?(n.set(f,m.deferredData),i[f]=m.deferredData.data,m.statusCode!=null&&m.statusCode!==200&&!c&&(l=m.statusCode),m.headers&&(d[f]=m.headers)):(i[f]=m.data,m.statusCode&&m.statusCode!==200&&!c&&(l=m.statusCode),m.headers&&(d[f]=m.headers))}),u!==void 0&&r&&(o={[r[0]]:u},i[r[0]]=void 0),{loaderData:i,errors:o,statusCode:l||200,loaderHeaders:d}}function dg(e,t,r,n,s,i,o){let{loaderData:l,errors:c}=$_(t,r,n,o,!1);return s.forEach(d=>{let{key:u,match:h,controller:f}=d,m=i[u];if(se(m,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(qt(m)){let v=gs(e.matches,h==null?void 0:h.route.id);c&&c[v.route.id]||(c=Te({},c,{[v.route.id]:m.error})),e.fetchers.delete(u)}else if(ws(m))se(!1,"Unhandled fetcher revalidation redirect");else if(zn(m))se(!1,"Unhandled fetcher deferred data");else{let v=yn(m.data);e.fetchers.set(u,v)}}),{loaderData:l,errors:c}}function ug(e,t,r,n){let s=Te({},t);for(let i of r){let o=i.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(s[o]=t[o]):e[o]!==void 0&&i.route.loader&&(s[o]=e[o]),n&&n.hasOwnProperty(o))break}return s}function hg(e){return e?qt(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function gs(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function fg(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function At(e,t){let{pathname:r,routeId:n,method:s,type:i,message:o}=t===void 0?{}:t,l="Unknown Server Error",c="Unknown @remix-run/router error";return e===400?(l="Bad Request",s&&r&&n?c="You made a "+s+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":i==="defer-action"?c="defer() is not supported in actions":i==="invalid-body"&&(c="Unable to encode submission body")):e===403?(l="Forbidden",c='Route "'+n+'" does not match URL "'+r+'"'):e===404?(l="Not Found",c='No route matches URL "'+r+'"'):e===405&&(l="Method Not Allowed",s&&r&&n?c="You made a "+s.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":s&&(c='Invalid request method "'+s.toUpperCase()+'"')),new Sc(e||500,l,new Error(c),!0)}function _l(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[n,s]=t[r];if(ws(s))return{key:n,result:s}}}function lv(e){let t=typeof e=="string"?fn(e):e;return zs(Te({},t,{hash:""}))}function B_(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function W_(e){return cv(e.result)&&P_.has(e.result.status)}function zn(e){return e.type===we.deferred}function qt(e){return e.type===we.error}function ws(e){return(e&&e.type)===we.redirect}function mg(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function q_(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function cv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function H_(e){return E_.has(e.toLowerCase())}function xr(e){return N_.has(e.toLowerCase())}async function V_(e,t,r,n,s){let i=Object.entries(t);for(let o=0;o<i.length;o++){let[l,c]=i[o],d=e.find(f=>(f==null?void 0:f.route.id)===l);if(!d)continue;let u=n.find(f=>f.route.id===d.route.id),h=u!=null&&!iv(u,d)&&(s&&s[d.route.id])!==void 0;zn(c)&&h&&await fm(c,r,!1).then(f=>{f&&(t[l]=f)})}}async function K_(e,t,r){for(let n=0;n<r.length;n++){let{key:s,routeId:i,controller:o}=r[n],l=t[s];e.find(d=>(d==null?void 0:d.route.id)===i)&&zn(l)&&(se(o,"Expected an AbortController for revalidating fetcher deferred result"),await fm(l,o.signal,!0).then(d=>{d&&(t[s]=d)}))}}async function fm(e,t,r){if(r===void 0&&(r=!1),!await e.deferredData.resolveData(t)){if(r)try{return{type:we.data,data:e.deferredData.unwrappedData}}catch(s){return{type:we.error,error:s}}return{type:we.data,data:e.deferredData.data}}}function mm(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Si(e,t){let r=typeof t=="string"?fn(t).search:t.search;if(e[e.length-1].route.index&&mm(r||""))return e[e.length-1];let n=nv(e);return n[n.length-1]}function pg(e){let{formMethod:t,formAction:r,formEncType:n,text:s,formData:i,json:o}=e;if(!(!t||!r||!n)){if(s!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:t,formAction:r,formEncType:n,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:o,text:void 0}}}function su(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Q_(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function xi(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function G_(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function yn(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function J_(e,t){try{let r=e.sessionStorage.getItem(av);if(r){let n=JSON.parse(r);for(let[s,i]of Object.entries(n||{}))i&&Array.isArray(i)&&t.set(s,new Set(i||[]))}}catch{}}function Y_(e,t){if(t.size>0){let r={};for(let[n,s]of t)r[n]=[...s];try{e.sessionStorage.setItem(av,JSON.stringify(r))}catch(n){Ka(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ho(){return ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ho.apply(this,arguments)}const ad=w.createContext(null),dv=w.createContext(null),ns=w.createContext(null),id=w.createContext(null),Br=w.createContext({outlet:null,matches:[],isDataRoute:!1}),uv=w.createContext(null);function X_(e,t){let{relative:r}=t===void 0?{}:t;ti()||se(!1);let{basename:n,navigator:s}=w.useContext(ns),{hash:i,pathname:o,search:l}=fv(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:sn([n,o])),s.createHref({pathname:c,search:l,hash:i})}function ti(){return w.useContext(id)!=null}function Nr(){return ti()||se(!1),w.useContext(id).location}function hv(e){w.useContext(ns).static||w.useLayoutEffect(e)}function Wr(){let{isDataRoute:e}=w.useContext(Br);return e?f1():Z_()}function Z_(){ti()||se(!1);let e=w.useContext(ad),{basename:t,future:r,navigator:n}=w.useContext(ns),{matches:s}=w.useContext(Br),{pathname:i}=Nr(),o=JSON.stringify(nd(s,r.v7_relativeSplatPath)),l=w.useRef(!1);return hv(()=>{l.current=!0}),w.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let h=sd(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:sn([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,o,i,e])}const e1=w.createContext(null);function t1(e){let t=w.useContext(Br).outlet;return t&&w.createElement(e1.Provider,{value:e},t)}function r1(){let{matches:e}=w.useContext(Br),t=e[e.length-1];return t?t.params:{}}function fv(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=w.useContext(ns),{matches:s}=w.useContext(Br),{pathname:i}=Nr(),o=JSON.stringify(nd(s,n.v7_relativeSplatPath));return w.useMemo(()=>sd(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function n1(e,t){return mv(e,t)}function mv(e,t,r,n){ti()||se(!1);let{navigator:s}=w.useContext(ns),{matches:i}=w.useContext(Br),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Nr(),u;if(t){var h;let j=typeof t=="string"?fn(t):t;c==="/"||(h=j.pathname)!=null&&h.startsWith(c)||se(!1),u=j}else u=d;let f=u.pathname||"/",m=f;if(c!=="/"){let j=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(j.length).join("/")}let v=ps(e,{pathname:m}),x=l1(v&&v.map(j=>Object.assign({},j,{params:Object.assign({},l,j.params),pathname:sn([c,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:sn([c,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),i,r,n);return t&&x?w.createElement(id.Provider,{value:{location:ho({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:We.Pop}},x):x}function s1(){let e=h1(),t=uo(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:s},r):null,i)}const a1=w.createElement(s1,null);class i1 extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?w.createElement(Br.Provider,{value:this.props.routeContext},w.createElement(uv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function o1(e){let{routeContext:t,match:r,children:n}=e,s=w.useContext(ad);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(Br.Provider,{value:t},n)}function l1(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||se(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:m}=r,v=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||v){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let m,v=!1,x=null,j=null;r&&(m=l&&h.route.id?l[h.route.id]:void 0,x=h.route.errorElement||a1,c&&(d<0&&f===0?(m1("route-fallback",!1),v=!0,j=null):d===f&&(v=!0,j=h.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,f+1)),g=()=>{let y;return m?y=x:v?y=j:h.route.Component?y=w.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=u,w.createElement(o1,{match:h,routeContext:{outlet:u,matches:p,isDataRoute:r!=null},children:y})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?w.createElement(i1,{location:r.location,revalidation:r.revalidation,component:x,error:m,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var pv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(pv||{}),Ec=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ec||{});function c1(e){let t=w.useContext(ad);return t||se(!1),t}function d1(e){let t=w.useContext(dv);return t||se(!1),t}function u1(e){let t=w.useContext(Br);return t||se(!1),t}function gv(e){let t=u1(),r=t.matches[t.matches.length-1];return r.route.id||se(!1),r.route.id}function h1(){var e;let t=w.useContext(uv),r=d1(Ec.UseRouteError),n=gv(Ec.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function f1(){let{router:e}=c1(pv.UseNavigateStable),t=gv(Ec.UseNavigateStable),r=w.useRef(!1);return hv(()=>{r.current=!0}),w.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ho({fromRouteId:t},i)))},[e,t])}const gg={};function m1(e,t,r){!t&&!gg[e]&&(gg[e]=!0)}function p1(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function g1(e){let{to:t,replace:r,state:n,relative:s}=e;ti()||se(!1);let{future:i,static:o}=w.useContext(ns),{matches:l}=w.useContext(Br),{pathname:c}=Nr(),d=Wr(),u=sd(t,nd(l,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(u);return w.useEffect(()=>d(JSON.parse(h),{replace:r,state:n,relative:s}),[d,h,s,r,n]),null}function x1(e){return t1(e.context)}function Ei(e){se(!1)}function y1(e){let{basename:t="/",children:r=null,location:n,navigationType:s=We.Pop,navigator:i,static:o=!1,future:l}=e;ti()&&se(!1);let c=t.replace(/^\/*/,"/"),d=w.useMemo(()=>({basename:c,navigator:i,static:o,future:ho({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=fn(n));let{pathname:u="/",search:h="",hash:f="",state:m=null,key:v="default"}=n,x=w.useMemo(()=>{let j=ei(u,c);return j==null?null:{location:{pathname:j,search:h,hash:f,state:m,key:v},navigationType:s}},[c,u,h,f,m,v,s]);return x==null?null:w.createElement(ns.Provider,{value:d},w.createElement(id.Provider,{children:r,value:x}))}function v1(e){let{children:t,location:r}=e;return n1(Nh(t),r)}new Promise(()=>{});function Nh(e,t){t===void 0&&(t=[]);let r=[];return w.Children.forEach(e,(n,s)=>{if(!w.isValidElement(n))return;let i=[...t,s];if(n.type===w.Fragment){r.push.apply(r,Nh(n.props.children,i));return}n.type!==Ei&&se(!1),!n.props.index||!n.props.children||se(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Nh(n.props.children,i)),r.push(o)}),r}function b1(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:w.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:w.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:w.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fo(){return fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fo.apply(this,arguments)}function w1(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function k1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function j1(e,t){return e.button===0&&(!t||t==="_self")&&!k1(e)}function Sh(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function _1(e,t){let r=Sh(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const N1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],S1="6";try{window.__reactRouterVersion=S1}catch{}function E1(e,t){return A_({basename:t==null?void 0:t.basename,future:fo({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:r_({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||P1(),routes:e,mapRouteProperties:b1,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function P1(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=fo({},t,{errors:C1(t.errors)})),t}function C1(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,s]of t)if(s&&s.__type==="RouteErrorResponse")r[n]=new Sc(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let o=new i(s.message);o.stack="",r[n]=o}catch{}}if(r[n]==null){let i=new Error(s.message);i.stack="",r[n]=i}}else r[n]=s;return r}const T1=w.createContext({isTransitioning:!1}),R1=w.createContext(new Map),A1="startTransition",xg=Ww[A1],O1="flushSync",yg=t_[O1];function F1(e){xg?xg(e):e()}function yi(e){yg?yg(e):e()}let L1=class{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}};function I1(e){let{fallbackElement:t,router:r,future:n}=e,[s,i]=w.useState(r.state),[o,l]=w.useState(),[c,d]=w.useState({isTransitioning:!1}),[u,h]=w.useState(),[f,m]=w.useState(),[v,x]=w.useState(),j=w.useRef(new Map),{v7_startTransition:p}=n||{},g=w.useCallback(E=>{p?F1(E):E()},[p]),y=w.useCallback((E,S)=>{let{deletedFetchers:C,flushSync:F,viewTransitionOpts:z}=S;E.fetchers.forEach((Y,xe)=>{Y.data!==void 0&&j.current.set(xe,Y.data)}),C.forEach(Y=>j.current.delete(Y));let J=r.window==null||r.window.document==null||typeof r.window.document.startViewTransition!="function";if(!z||J){F?yi(()=>i(E)):g(()=>i(E));return}if(F){yi(()=>{f&&(u&&u.resolve(),f.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:z.currentLocation,nextLocation:z.nextLocation})});let Y=r.window.document.startViewTransition(()=>{yi(()=>i(E))});Y.finished.finally(()=>{yi(()=>{h(void 0),m(void 0),l(void 0),d({isTransitioning:!1})})}),yi(()=>m(Y));return}f?(u&&u.resolve(),f.skipTransition(),x({state:E,currentLocation:z.currentLocation,nextLocation:z.nextLocation})):(l(E),d({isTransitioning:!0,flushSync:!1,currentLocation:z.currentLocation,nextLocation:z.nextLocation}))},[r.window,f,u,j,g]);w.useLayoutEffect(()=>r.subscribe(y),[r,y]),w.useEffect(()=>{c.isTransitioning&&!c.flushSync&&h(new L1)},[c]),w.useEffect(()=>{if(u&&o&&r.window){let E=o,S=u.promise,C=r.window.document.startViewTransition(async()=>{g(()=>i(E)),await S});C.finished.finally(()=>{h(void 0),m(void 0),l(void 0),d({isTransitioning:!1})}),m(C)}},[g,o,u,r.window]),w.useEffect(()=>{u&&o&&s.location.key===o.location.key&&u.resolve()},[u,f,s.location,o]),w.useEffect(()=>{!c.isTransitioning&&v&&(l(v.state),d({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),x(void 0))},[c.isTransitioning,v]),w.useEffect(()=>{},[]);let b=w.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:E=>r.navigate(E),push:(E,S,C)=>r.navigate(E,{state:S,preventScrollReset:C==null?void 0:C.preventScrollReset}),replace:(E,S,C)=>r.navigate(E,{replace:!0,state:S,preventScrollReset:C==null?void 0:C.preventScrollReset})}),[r]),_=r.basename||"/",N=w.useMemo(()=>({router:r,navigator:b,static:!1,basename:_}),[r,b,_]),k=w.useMemo(()=>({v7_relativeSplatPath:r.future.v7_relativeSplatPath}),[r.future.v7_relativeSplatPath]);return w.useEffect(()=>p1(n,r.future),[n,r.future]),w.createElement(w.Fragment,null,w.createElement(ad.Provider,{value:N},w.createElement(dv.Provider,{value:s},w.createElement(R1.Provider,{value:j.current},w.createElement(T1.Provider,{value:c},w.createElement(y1,{basename:_,location:s.location,navigationType:s.historyAction,navigator:b,future:k},s.initialized||r.future.v7_partialHydration?w.createElement(M1,{routes:r.routes,future:r.future,state:s}):t))))),null)}const M1=w.memo(U1);function U1(e){let{routes:t,future:r,state:n}=e;return mv(t,void 0,n,r)}const D1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",z1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ce=w.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,f=w1(t,N1),{basename:m}=w.useContext(ns),v,x=!1;if(typeof d=="string"&&z1.test(d)&&(v=d,D1))try{let y=new URL(window.location.href),b=d.startsWith("//")?new URL(y.protocol+d):new URL(d),_=ei(b.pathname,m);b.origin===y.origin&&_!=null?d=_+b.search+b.hash:x=!0}catch{}let j=X_(d,{relative:s}),p=$1(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:s,viewTransition:h});function g(y){n&&n(y),y.defaultPrevented||p(y)}return w.createElement("a",fo({},f,{href:v||j,onClick:x||i?n:g,ref:r,target:c}))});var vg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(vg||(vg={}));var bg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(bg||(bg={}));function $1(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Wr(),d=Nr(),u=fv(e,{relative:o});return w.useCallback(h=>{if(j1(h,r)){h.preventDefault();let f=n!==void 0?n:zs(d)===zs(u);c(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,n,s,r,e,i,o,l])}function od(e){let t=w.useRef(Sh(e)),r=w.useRef(!1),n=Nr(),s=w.useMemo(()=>_1(n.search,r.current?null:t.current),[n.search]),i=Wr(),o=w.useCallback((l,c)=>{const d=Sh(typeof l=="function"?l(s):l);r.current=!0,i("?"+d,c)},[i,s]);return[s,o]}var B1=Object.freeze({InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingSecretKeyErrorMessage:"Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingClerkProvider:"{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider"});function xv({packageName:e,customMessages:t}){let r=e;function n(i,o){if(!o)return`${r}: ${i}`;let l=i;const c=i.matchAll(/{{([a-zA-Z0-9-_]+)}}/g);for(const d of c){const u=(o[d[1]]||"").toString();l=l.replace(`{{${d[1]}}}`,u)}return`${r}: ${l}`}const s={...B1,...t};return{setPackageName({packageName:i}){return typeof i=="string"&&(r=i),this},setMessages({customMessages:i}){return Object.assign(s,i||{}),this},throwInvalidPublishableKeyError(i){throw new Error(n(s.InvalidPublishableKeyErrorMessage,i))},throwInvalidProxyUrl(i){throw new Error(n(s.InvalidProxyUrlErrorMessage,i))},throwMissingPublishableKeyError(){throw new Error(n(s.MissingPublishableKeyErrorMessage))},throwMissingSecretKeyError(){throw new Error(n(s.MissingSecretKeyErrorMessage))},throwMissingClerkProviderError(i){throw new Error(n(s.MissingClerkProvider,i))},throw(i){throw new Error(n(i))}}}var yv=Object.defineProperty,W1=Object.getOwnPropertyDescriptor,q1=Object.getOwnPropertyNames,H1=Object.prototype.hasOwnProperty,V1=(e,t)=>{for(var r in t)yv(e,r,{get:t[r],enumerable:!0})},wg=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of q1(t))!H1.call(e,s)&&s!==r&&yv(e,s,{get:()=>t[s],enumerable:!(n=W1(t,s))||n.enumerable});return e},K1=(e,t,r)=>(wg(e,t,"default"),r&&wg(r,t,"default")),vv=e=>typeof atob<"u"&&typeof atob=="function"?atob(e):typeof global<"u"&&global.Buffer?new global.Buffer(e,"base64").toString():e,Q1=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],bv="pk_live_",G1="pk_test_";function wv(e){if(!e.endsWith("$"))return!1;const t=e.slice(0,-1);return t.includes("$")?!1:t.includes(".")}function kg(e,t={}){if(e=e||"",!e||!Eh(e)){if(t.fatal&&!e)throw new Error("Publishable key is missing. Ensure that your publishable key is correctly configured. Double-check your environment configuration for your keys, or access them here: https://dashboard.clerk.com/last-active?path=api-keys");if(t.fatal&&!Eh(e))throw new Error("Publishable key not valid.");return null}const r=e.startsWith(bv)?"production":"development";let n;try{n=vv(e.split("_")[2])}catch{if(t.fatal)throw new Error("Publishable key not valid: Failed to decode key.");return null}if(!wv(n)){if(t.fatal)throw new Error("Publishable key not valid: Decoded key has invalid format.");return null}let s=n.slice(0,-1);return t.proxyUrl?s=t.proxyUrl:r!=="development"&&t.domain&&t.isSatellite&&(s=`clerk.${t.domain}`),{instanceType:r,frontendApi:s}}function Eh(e=""){try{if(!(e.startsWith(bv)||e.startsWith(G1)))return!1;const r=e.split("_");if(r.length!==3)return!1;const n=r[2];if(!n)return!1;const s=vv(n);return wv(s)}catch{return!1}}function J1(){const e=new Map;return{isDevOrStagingUrl:t=>{if(!t)return!1;const r=typeof t=="string"?t:t.hostname;let n=e.get(r);return n===void 0&&(n=Q1.some(s=>r.endsWith(s)),e.set(r,n)),n}}}var Y1="METHOD_CALLED",X1=.1;function kv(e,t){return{event:Y1,eventSamplingRate:X1,payload:{method:e,...t}}}var jv={exports:{}},_v={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qa=w;function Z1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var eN=typeof Object.is=="function"?Object.is:Z1,tN=Qa.useState,rN=Qa.useEffect,nN=Qa.useLayoutEffect,sN=Qa.useDebugValue;function aN(e,t){var r=t(),n=tN({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return nN(function(){s.value=r,s.getSnapshot=t,au(s)&&i({inst:s})},[e,r,t]),rN(function(){return au(s)&&i({inst:s}),e(function(){au(s)&&i({inst:s})})},[e]),sN(r),r}function au(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!eN(e,r)}catch{return!0}}function iN(e,t){return t()}var oN=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?iN:aN;_v.useSyncExternalStore=Qa.useSyncExternalStore!==void 0?Qa.useSyncExternalStore:oN;jv.exports=_v;var Nv=jv.exports;const Sv=0,Ev=1,Pv=2,jg=3;var _g=Object.prototype.hasOwnProperty;function Ph(e,t){var r,n;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&Ph(e[n],t[n]););return n===-1}if(!r||typeof e=="object"){n=0;for(r in e)if(_g.call(e,r)&&++n&&!_g.call(t,r)||!(r in t)||!Ph(e[r],t[r]))return!1;return Object.keys(t).length===n}}return e!==e&&t!==t}const br=new WeakMap,$n=()=>{},Ze=$n(),Pc=Object,ae=e=>e===Ze,nr=e=>typeof e=="function",dn=(e,t)=>({...e,...t}),Cv=e=>nr(e.then),iu={},Nl={},pm="undefined",Do=typeof window!=pm,Ch=typeof document!=pm,lN=Do&&"Deno"in window,cN=()=>Do&&typeof window.requestAnimationFrame!=pm,Nn=(e,t)=>{const r=br.get(e);return[()=>!ae(t)&&e.get(t)||iu,n=>{if(!ae(t)){const s=e.get(t);t in Nl||(Nl[t]=s),r[5](t,dn(s,n),s||iu)}},r[6],()=>!ae(t)&&t in Nl?Nl[t]:!ae(t)&&e.get(t)||iu]};let Th=!0;const dN=()=>Th,[Rh,Ah]=Do&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[$n,$n],uN=()=>{const e=Ch&&document.visibilityState;return ae(e)||e!=="hidden"},hN=e=>(Ch&&document.addEventListener("visibilitychange",e),Rh("focus",e),()=>{Ch&&document.removeEventListener("visibilitychange",e),Ah("focus",e)}),fN=e=>{const t=()=>{Th=!0,e()},r=()=>{Th=!1};return Rh("online",t),Rh("offline",r),()=>{Ah("online",t),Ah("offline",r)}},mN={isOnline:dN,isVisible:uN},pN={initFocus:hN,initReconnect:fN},Ng=!O.useId,mo=!Do||lN,gN=e=>cN()?window.requestAnimationFrame(e):setTimeout(e,1),zi=mo?w.useEffect:w.useLayoutEffect,ou=typeof navigator<"u"&&navigator.connection,Sg=!mo&&ou&&(["slow-2g","2g"].includes(ou.effectiveType)||ou.saveData),Sl=new WeakMap,xN=e=>Pc.prototype.toString.call(e),lu=(e,t)=>e===`[object ${t}]`;let yN=0;const Oh=e=>{const t=typeof e,r=xN(e),n=lu(r,"Date"),s=lu(r,"RegExp"),i=lu(r,"Object");let o,l;if(Pc(e)===e&&!n&&!s){if(o=Sl.get(e),o)return o;if(o=++yN+"~",Sl.set(e,o),Array.isArray(e)){for(o="@",l=0;l<e.length;l++)o+=Oh(e[l])+",";Sl.set(e,o)}if(i){o="#";const c=Pc.keys(e).sort();for(;!ae(l=c.pop());)ae(e[l])||(o+=l+":"+Oh(e[l])+",");Sl.set(e,o)}}else o=n?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return o},Ga=e=>{if(nr(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Oh(e):"",[e,t]};let vN=0;const Fh=()=>++vN;async function Tv(...e){const[t,r,n,s]=e,i=dn({populateCache:!0,throwOnError:!0},typeof s=="boolean"?{revalidate:s}:s||{});let o=i.populateCache;const l=i.rollbackOnError;let c=i.optimisticData;const d=f=>typeof l=="function"?l(f):l!==!1,u=i.throwOnError;if(nr(r)){const f=r,m=[],v=t.keys();for(const x of v)!/^\$(inf|sub)\$/.test(x)&&f(t.get(x)._k)&&m.push(x);return Promise.all(m.map(h))}return h(r);async function h(f){const[m]=Ga(f);if(!m)return;const[v,x]=Nn(t,m),[j,p,g,y]=br.get(t),b=()=>{const Y=j[m];return(nr(i.revalidate)?i.revalidate(v().data,f):i.revalidate!==!1)&&(delete g[m],delete y[m],Y&&Y[0])?Y[0](Pv).then(()=>v().data):v().data};if(e.length<3)return b();let _=n,N,k=!1;const E=Fh();p[m]=[E,0];const S=!ae(c),C=v(),F=C.data,z=C._c,J=ae(z)?F:z;if(S&&(c=nr(c)?c(J,F):c,x({data:c,_c:J})),nr(_))try{_=_(J)}catch(Y){N=Y,k=!0}if(_&&Cv(_))if(_=await _.catch(Y=>{N=Y,k=!0}),E!==p[m][0]){if(k)throw N;return _}else k&&S&&d(N)&&(o=!0,x({data:J,_c:Ze}));if(o&&!k)if(nr(o)){const Y=o(_,J);x({data:Y,error:Ze,_c:Ze})}else x({data:_,error:Ze,_c:Ze});if(p[m][1]=Fh(),Promise.resolve(b()).then(()=>{x({_c:Ze})}),k){if(u)throw N;return}return _}}const Eg=(e,t)=>{for(const r in e)e[r][0]&&e[r][0](t)},Rv=(e,t)=>{if(!br.has(e)){const r=dn(pN,t),n=Object.create(null),s=Tv.bind(Ze,e);let i=$n;const o=Object.create(null),l=(u,h)=>{const f=o[u]||[];return o[u]=f,f.push(h),()=>f.splice(f.indexOf(h),1)},c=(u,h,f)=>{e.set(u,h);const m=o[u];if(m)for(const v of m)v(h,f)},d=()=>{if(!br.has(e)&&(br.set(e,[n,Object.create(null),Object.create(null),Object.create(null),s,c,l]),!mo)){const u=r.initFocus(setTimeout.bind(Ze,Eg.bind(Ze,n,Sv))),h=r.initReconnect(setTimeout.bind(Ze,Eg.bind(Ze,n,Ev)));i=()=>{u&&u(),h&&h(),br.delete(e)}}};return d(),[e,s,d,i]}return[e,br.get(e)[4]]},bN=(e,t,r,n,s)=>{const i=r.errorRetryCount,o=s.retryCount,l=~~((Math.random()+.5)*(1<<(o<8?o:8)))*r.errorRetryInterval;!ae(i)&&o>i||setTimeout(n,l,s)},wN=Ph,[zo,Av]=Rv(new Map),Ov=dn({onLoadingSlow:$n,onSuccess:$n,onError:$n,onErrorRetry:bN,onDiscarded:$n,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Sg?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Sg?5e3:3e3,compare:wN,isPaused:()=>!1,cache:zo,mutate:Av,fallback:{}},mN),Fv=(e,t)=>{const r=dn(e,t);if(t){const{use:n,fallback:s}=e,{use:i,fallback:o}=t;n&&i&&(r.use=n.concat(i)),s&&o&&(r.fallback=dn(s,o))}return r},Lh=w.createContext({}),kN=e=>{const{value:t}=e,r=w.useContext(Lh),n=nr(t),s=w.useMemo(()=>n?t(r):t,[n,r,t]),i=w.useMemo(()=>n?s:Fv(r,s),[n,r,s]),o=s&&s.provider,l=w.useRef(Ze);o&&!l.current&&(l.current=Rv(o(i.cache||zo),s));const c=l.current;return c&&(i.cache=c[0],i.mutate=c[1]),zi(()=>{if(c)return c[2]&&c[2](),c[3]},[]),w.createElement(Lh.Provider,dn(e,{value:i}))},Lv="$inf$",Iv=Do&&window.__SWR_DEVTOOLS_USE__,jN=Iv?window.__SWR_DEVTOOLS_USE__:[],_N=()=>{Iv&&(window.__SWR_DEVTOOLS_REACT__=O)},Mv=e=>nr(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],Uv=()=>dn(Ov,w.useContext(Lh)),NN=(e,t)=>{const[r,n]=Ga(e),[,,,s]=br.get(zo);if(s[r])return s[r];const i=t(n);return s[r]=i,i},SN=e=>(t,r,n)=>e(t,r&&((...i)=>{const[o]=Ga(t),[,,,l]=br.get(zo);if(o.startsWith(Lv))return r(...i);const c=l[o];return ae(c)?r(...i):(delete l[o],c)}),n),EN=jN.concat(SN),PN=e=>function(...r){const n=Uv(),[s,i,o]=Mv(r),l=Fv(n,o);let c=e;const{use:d}=l,u=(d||[]).concat(EN);for(let h=u.length;h--;)c=u[h](c);return c(s,i||l.fetcher||null,l)},CN=(e,t,r)=>{const n=t[e]||(t[e]=[]);return n.push(r),()=>{const s=n.indexOf(r);s>=0&&(n[s]=n[n.length-1],n.pop())}},TN=(e,t)=>(...r)=>{const[n,s,i]=Mv(r),o=(i.use||[]).concat(t);return e(n,s,{...i,use:o})};_N();const RN=()=>{},AN=RN(),Ih=Object,Pg=e=>e===AN,ON=e=>typeof e=="function",El=new WeakMap,FN=e=>Ih.prototype.toString.call(e),cu=(e,t)=>e===`[object ${t}]`;let LN=0;const Mh=e=>{const t=typeof e,r=FN(e),n=cu(r,"Date"),s=cu(r,"RegExp"),i=cu(r,"Object");let o,l;if(Ih(e)===e&&!n&&!s){if(o=El.get(e),o)return o;if(o=++LN+"~",El.set(e,o),Array.isArray(e)){for(o="@",l=0;l<e.length;l++)o+=Mh(e[l])+",";El.set(e,o)}if(i){o="#";const c=Ih.keys(e).sort();for(;!Pg(l=c.pop());)Pg(e[l])||(o+=l+":"+Mh(e[l])+",");El.set(e,o)}}else o=n?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return o},IN=e=>{if(ON(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Mh(e):"",[e,t]},MN=e=>IN(e)[0],du=O.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),uu={dedupe:!0},UN=(e,t,r)=>{const{cache:n,compare:s,suspense:i,fallbackData:o,revalidateOnMount:l,revalidateIfStale:c,refreshInterval:d,refreshWhenHidden:u,refreshWhenOffline:h,keepPreviousData:f}=r,[m,v,x,j]=br.get(n),[p,g]=Ga(e),y=w.useRef(!1),b=w.useRef(!1),_=w.useRef(p),N=w.useRef(t),k=w.useRef(r),E=()=>k.current,S=()=>E().isVisible()&&E().isOnline(),[C,F,z,J]=Nn(n,p),Y=w.useRef({}).current,xe=ae(o)?ae(r.fallback)?Ze:r.fallback[p]:o,Pe=(pe,ve)=>{for(const rt in Y){const be=rt;if(be==="data"){if(!s(pe[be],ve[be])&&(!ae(pe[be])||!s(Be,ve[be])))return!1}else if(ve[be]!==pe[be])return!1}return!0},de=w.useMemo(()=>{const pe=(()=>!p||!t?!1:ae(l)?E().isPaused()||i?!1:c!==!1:l)(),ve=ot=>{const dr=dn(ot);return delete dr._k,pe?{isValidating:!0,isLoading:!0,...dr}:dr},rt=C(),be=J(),zt=ve(rt),mn=rt===be?zt:ve(be);let Ke=zt;return[()=>{const ot=ve(C());return Pe(ot,Ke)?(Ke.data=ot.data,Ke.isLoading=ot.isLoading,Ke.isValidating=ot.isValidating,Ke.error=ot.error,Ke):(Ke=ot,ot)},()=>mn]},[n,p]),I=Nv.useSyncExternalStore(w.useCallback(pe=>z(p,(ve,rt)=>{Pe(rt,ve)||pe()}),[n,p]),de[0],de[1]),G=!y.current,X=m[p]&&m[p].length>0,ie=I.data,Z=ae(ie)?xe&&Cv(xe)?du(xe):xe:ie,tt=I.error,He=w.useRef(Z),Be=f?ae(ie)?ae(He.current)?Z:He.current:ie:Z,Ve=(()=>X&&!ae(tt)?!1:G&&!ae(l)?l:E().isPaused()?!1:i?ae(Z)?!1:c:ae(Z)||c)(),bt=!!(p&&t&&G&&Ve),Qs=ae(I.isValidating)?bt:I.isValidating,Nd=ae(I.isLoading)?bt:I.isLoading,is=w.useCallback(async pe=>{const ve=N.current;if(!p||!ve||b.current||E().isPaused())return!1;let rt,be,zt=!0;const mn=pe||{},Ke=!x[p]||!mn.dedupe,ot=()=>Ng?!b.current&&p===_.current&&y.current:p===_.current,dr={isValidating:!1,isLoading:!1},Yo=()=>{F(dr)},Xo=()=>{const nt=x[p];nt&&nt[1]===be&&delete x[p]},Er={isValidating:!0};ae(C().data)&&(Er.isLoading=!0);try{if(Ke&&(F(Er),r.loadingTimeout&&ae(C().data)&&setTimeout(()=>{zt&&ot()&&E().onLoadingSlow(p,r)},r.loadingTimeout),x[p]=[ve(g),Fh()]),[rt,be]=x[p],rt=await rt,Ke&&setTimeout(Xo,r.dedupingInterval),!x[p]||x[p][1]!==be)return Ke&&ot()&&E().onDiscarded(p),!1;dr.error=Ze;const nt=v[p];if(!ae(nt)&&(be<=nt[0]||be<=nt[1]||nt[1]===0))return Yo(),Ke&&ot()&&E().onDiscarded(p),!1;const Xt=C().data;dr.data=s(Xt,rt)?Xt:rt,Ke&&ot()&&E().onSuccess(rt,p,r)}catch(nt){Xo();const Xt=E(),{shouldRetryOnError:os}=Xt;Xt.isPaused()||(dr.error=nt,Ke&&ot()&&(Xt.onError(nt,p,Xt),(os===!0||nr(os)&&os(nt))&&(!E().revalidateOnFocus||!E().revalidateOnReconnect||S())&&Xt.onErrorRetry(nt,p,Xt,Pr=>{const $t=m[p];$t&&$t[0]&&$t[0](jg,Pr)},{retryCount:(mn.retryCount||0)+1,dedupe:!0})))}return zt=!1,Yo(),!0},[p,n]),Jo=w.useCallback((...pe)=>Tv(n,_.current,...pe),[]);if(zi(()=>{N.current=t,k.current=r,ae(ie)||(He.current=ie)}),zi(()=>{if(!p)return;const pe=is.bind(Ze,uu);let ve=0;E().revalidateOnFocus&&(ve=Date.now()+E().focusThrottleInterval);const be=CN(p,m,(zt,mn={})=>{if(zt==Sv){const Ke=Date.now();E().revalidateOnFocus&&Ke>ve&&S()&&(ve=Ke+E().focusThrottleInterval,pe())}else if(zt==Ev)E().revalidateOnReconnect&&S()&&pe();else{if(zt==Pv)return is();if(zt==jg)return is(mn)}});return b.current=!1,_.current=p,y.current=!0,F({_k:g}),Ve&&(x[p]||(ae(Z)||mo?pe():gN(pe))),()=>{b.current=!0,be()}},[p]),zi(()=>{let pe;function ve(){const be=nr(d)?d(C().data):d;be&&pe!==-1&&(pe=setTimeout(rt,be))}function rt(){!C().error&&(u||E().isVisible())&&(h||E().isOnline())?is(uu).then(ve):ve()}return ve(),()=>{pe&&(clearTimeout(pe),pe=-1)}},[d,u,h,p]),w.useDebugValue(Be),i&&ae(Z)&&p){if(!Ng&&mo)throw new Error("Fallback data is required when using Suspense in SSR.");N.current=t,k.current=r,b.current=!1;const pe=j[p];if(!ae(pe)){const ve=Jo(pe);du(ve)}if(ae(tt)){const ve=is(uu);ae(Be)||(ve.status="fulfilled",ve.value=!0),du(ve)}else throw tt}return{mutate:Jo,get data(){return Y.data=!0,Be},get error(){return Y.error=!0,tt},get isValidating(){return Y.isValidating=!0,Qs},get isLoading(){return Y.isLoading=!0,Nd}}},DN=Pc.defineProperty(kN,"defaultValue",{value:Ov}),gm=PN(UN),zN=Object.freeze(Object.defineProperty({__proto__:null,SWRConfig:DN,default:gm,mutate:Av,preload:NN,unstable_serialize:MN,useSWRConfig:Uv},Symbol.toStringTag,{value:"Module"})),$N=()=>{},BN=$N(),Uh=Object,Cg=e=>e===BN,WN=e=>typeof e=="function",Pl=new WeakMap,qN=e=>Uh.prototype.toString.call(e),hu=(e,t)=>e===`[object ${t}]`;let HN=0;const Dh=e=>{const t=typeof e,r=qN(e),n=hu(r,"Date"),s=hu(r,"RegExp"),i=hu(r,"Object");let o,l;if(Uh(e)===e&&!n&&!s){if(o=Pl.get(e),o)return o;if(o=++HN+"~",Pl.set(e,o),Array.isArray(e)){for(o="@",l=0;l<e.length;l++)o+=Dh(e[l])+",";Pl.set(e,o)}if(i){o="#";const c=Uh.keys(e).sort();for(;!Cg(l=c.pop());)Cg(e[l])||(o+=l+":"+Dh(e[l])+",");Pl.set(e,o)}}else o=n?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return o},VN=e=>{if(WN(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Dh(e):"",[e,t]},KN=e=>VN(e?e(0,null):null)[0],fu=Promise.resolve(),QN=e=>(t,r,n)=>{const s=w.useRef(!1),{cache:i,initialSize:o=1,revalidateAll:l=!1,persistSize:c=!1,revalidateFirstPage:d=!0,revalidateOnMount:u=!1,parallel:h=!1}=n,[,,,f]=br.get(zo);let m;try{m=KN(t),m&&(m=Lv+m)}catch{}const[v,x,j]=Nn(i,m),p=w.useCallback(()=>ae(v()._l)?o:v()._l,[i,m,o]);Nv.useSyncExternalStore(w.useCallback(E=>m?j(m,()=>{E()}):()=>{},[i,m]),p,p);const g=w.useCallback(()=>{const E=v()._l;return ae(E)?o:E},[m,o]),y=w.useRef(g());zi(()=>{if(!s.current){s.current=!0;return}m&&x({_l:c?y.current:g()})},[m,i]);const b=u&&!s.current,_=e(m,async E=>{const S=v()._i,C=v()._r;x({_r:Ze});const F=[],z=g(),[J]=Nn(i,E),Y=J().data,xe=[];let Pe=null;for(let de=0;de<z;++de){const[I,G]=Ga(t(de,h?null:Pe));if(!I)break;const[X,ie]=Nn(i,I);let Z=X().data;const tt=l||S||ae(Z)||d&&!de&&!ae(Y)||b||Y&&!ae(Y[de])&&!n.compare(Y[de],Z);if(r&&(typeof C=="function"?C(Z,G):tt)){const He=async()=>{if(!(I in f))Z=await r(G);else{const Ve=f[I];delete f[I],Z=await Ve}ie({data:Z,_k:G}),F[de]=Z};h?xe.push(He):await He()}else F[de]=Z;h||(Pe=Z)}return h&&await Promise.all(xe.map(de=>de())),x({_i:Ze}),F},n),N=w.useCallback(function(E,S){const C=typeof S=="boolean"?{revalidate:S}:S||{},F=C.revalidate!==!1;return m?(F&&(ae(E)?x({_i:!0,_r:C.revalidate}):x({_i:!1,_r:C.revalidate})),arguments.length?_.mutate(E,{...C,revalidate:F}):_.mutate()):fu},[m,i]),k=w.useCallback(E=>{if(!m)return fu;const[,S]=Nn(i,m);let C;if(nr(E)?C=E(g()):typeof E=="number"&&(C=E),typeof C!="number")return fu;S({_l:C}),y.current=C;const F=[],[z]=Nn(i,m);let J=null;for(let Y=0;Y<C;++Y){const[xe]=Ga(t(Y,J)),[Pe]=Nn(i,xe),de=xe?Pe().data:Ze;if(ae(de))return N(z().data);F.push(de),J=de}return N(F)},[m,i,N,g]);return{size:g(),setSize:k,mutate:N,get data(){return _.data},get error(){return _.error},get isValidating(){return _.isValidating},get isLoading(){return _.isLoading}}},GN=TN(gm,QN);var Tg=Object.prototype.hasOwnProperty;function Rg(e,t,r){for(r of e.keys())if($i(r,t))return r}function $i(e,t){var r,n,s;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&$i(e[n],t[n]););return n===-1}if(r===Set){if(e.size!==t.size)return!1;for(n of e)if(s=n,s&&typeof s=="object"&&(s=Rg(t,s),!s)||!t.has(s))return!1;return!0}if(r===Map){if(e.size!==t.size)return!1;for(n of e)if(s=n[0],s&&typeof s=="object"&&(s=Rg(t,s),!s)||!$i(n[1],t.get(s)))return!1;return!0}if(r===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(r===DataView){if((n=e.byteLength)===t.byteLength)for(;n--&&e.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(e)){if((n=e.byteLength)===t.byteLength)for(;n--&&e[n]===t[n];);return n===-1}if(!r||typeof e=="object"){n=0;for(r in e)if(Tg.call(e,r)&&++n&&!Tg.call(t,r)||!(r in t)||!$i(e[r],t[r]))return!1;return Object.keys(t).length===n}}return e!==e&&t!==t}function JN(e,t){if(!e)throw typeof t=="string"?new Error(t):new Error(`${t.displayName} not found`)}var qr=(e,t)=>{const{assertCtxFn:r=JN}=t||{},n=O.createContext(void 0);return n.displayName=e,[n,()=>{const o=O.useContext(n);return r(o,`${e} not found`),o.value},()=>{const o=O.useContext(n);return o?o.value:{}}]},xm={};V1(xm,{useSWR:()=>gm,useSWRInfinite:()=>GN});K1(xm,zN);var[Dv,ld]=qr("ClerkInstanceContext"),[YN,XN]=qr("UserContext"),[ZN,oT]=qr("ClientContext"),[eS,tS]=qr("SessionContext");O.createContext({});var[rS,lT]=qr("CheckoutContext"),nS=({children:e,...t})=>O.createElement(rS.Provider,{value:{value:t}},e),[sS,cT]=qr("OrganizationContext"),aS=({children:e,organization:t,swrConfig:r})=>O.createElement(xm.SWRConfig,{value:r},O.createElement(sS.Provider,{value:{value:{organization:t}}},e));function cd(e){if(!O.useContext(Dv)){if(typeof e=="function"){e();return}throw new Error(`${e} can only be used within the <ClerkProvider /> component.

Possible fixes:
1. Ensure that the <ClerkProvider /> is correctly wrapping your application where this component is used.
2. Check for multiple versions of the \`@clerk/shared\` package in your project. Use a tool like \`npm ls @clerk/shared\` to identify multiple versions, and update your dependencies to only rely on one.

Learn more: https://clerk.com/docs/components/clerk-provider`.trim())}}typeof window<"u"?O.useLayoutEffect:O.useEffect;var Ag="useSession",zv=()=>{var r;cd(Ag);const e=tS(),t=ld();return(r=t.telemetry)==null||r.record(kv(Ag)),e===void 0?{isLoaded:!1,isSignedIn:void 0,session:void 0}:e===null?{isLoaded:!0,isSignedIn:!1,session:null}:{isLoaded:!0,isSignedIn:t.isSignedIn,session:e}},Og="useUser";function mt(){var r;cd(Og);const e=XN();return(r=ld().telemetry)==null||r.record(kv(Og)),e===void 0?{isLoaded:!1,isSignedIn:void 0,user:void 0}:e===null?{isLoaded:!0,isSignedIn:!1,user:null}:{isLoaded:!0,isSignedIn:!0,user:e}}var iS=()=>(cd("useClerk"),ld()),Fg=$i,oS=e=>{const t=w.useRef(e);return w.useEffect(()=>{t.current=e},[e]),t.current},Bt=(e,t,r)=>{const n=!!r,s=w.useRef(r);w.useEffect(()=>{s.current=r},[r]),w.useEffect(()=>{if(!n||!e)return()=>{};const i=(...o)=>{s.current&&s.current(...o)};return e.on(t,i),()=>{e.off(t,i)}},[n,t,e,s])},$v=O.createContext(null);$v.displayName="ElementsContext";var lS=(e,t)=>{if(!e)throw new Error(`Could not find Elements context; You need to wrap the part of your app that ${t} in an <Elements> provider.`);return e},Cc=e=>e!==null&&typeof e=="object",cS=(e,t,r)=>Cc(e)?Object.keys(e).reduce((n,s)=>{const i=!Cc(t)||!Bv(e[s],t[s]);return r.includes(s)?(i&&console.warn(`Unsupported prop change: options.${s} is not a mutable property.`),n):i?{...n||{},[s]:e[s]}:n},null):null,Lg="[object Object]",Bv=(e,t)=>{if(!Cc(e)||!Cc(t))return e===t;const r=Array.isArray(e),n=Array.isArray(t);if(r!==n)return!1;const s=Object.prototype.toString.call(e)===Lg,i=Object.prototype.toString.call(t)===Lg;if(s!==i)return!1;if(!s&&!r)return e===t;const o=Object.keys(e),l=Object.keys(t);if(o.length!==l.length)return!1;const c={};for(let m=0;m<o.length;m+=1)c[o[m]]=!0;for(let m=0;m<l.length;m+=1)c[l[m]]=!0;const d=Object.keys(c);if(d.length!==o.length)return!1;const u=e,h=t,f=m=>Bv(u[m],h[m]);return d.every(f)},Ig=e=>{const t=O.useContext($v);return lS(t,e)},dS=e=>e.charAt(0).toUpperCase()+e.slice(1),uS=(e,t)=>{const r=`${dS(e)}Element`,i=t?o=>{Ig(`mounts <${r}>`);const{id:l,className:c}=o;return O.createElement("div",{id:l,className:c})}:({id:o,className:l,fallback:c,options:d={},onBlur:u,onFocus:h,onReady:f,onChange:m,onEscape:v,onClick:x,onLoadError:j,onLoaderStart:p,onNetworksChange:g,onConfirm:y,onCancel:b,onShippingAddressChange:_,onShippingRateChange:N})=>{const k=Ig(`mounts <${r}>`),E="elements"in k?k.elements:null,[S,C]=O.useState(null),F=O.useRef(null),z=O.useRef(null),[J,Y]=w.useState(!1);Bt(S,"blur",u),Bt(S,"focus",h),Bt(S,"escape",v),Bt(S,"click",x),Bt(S,"loaderror",j),Bt(S,"loaderstart",p),Bt(S,"networkschange",g),Bt(S,"confirm",y),Bt(S,"cancel",b),Bt(S,"shippingaddresschange",_),Bt(S,"shippingratechange",N),Bt(S,"change",m);let xe;f&&(xe=()=>{Y(!0),f(S)}),Bt(S,"ready",xe),O.useLayoutEffect(()=>{if(F.current===null&&z.current!==null&&E){let de=null;E&&(de=E.create(e,d)),F.current=de,C(de),de&&de.mount(z.current)}},[E,d]);const Pe=oS(d);return O.useEffect(()=>{if(!F.current)return;const de=cS(d,Pe,["paymentRequest"]);de&&"update"in F.current&&F.current.update(de)},[d,Pe]),O.useLayoutEffect(()=>()=>{if(F.current&&typeof F.current.destroy=="function")try{F.current.destroy(),F.current=null}catch{}},[]),O.createElement(O.Fragment,null,!J&&c,O.createElement("div",{id:o,style:{height:J?"unset":"0px",visibility:J?"visible":"hidden"},className:l,ref:z}))};return i.displayName=r,i.__elementType=e,i},hS=typeof window>"u";uS("payment",hS);qr("StripeLibsContext");qr("PaymentElementContext");qr("StripeUtilsContext");var zr=xv({packageName:"@clerk/clerk-react"});function fS(e){zr.setMessages(e).setPackageName(e)}var[mS,dT]=qr("AuthContext"),pS=Dv,gS=ld,xS="You've added multiple <ClerkProvider> components in your React component tree. Wrap your components in a single <ClerkProvider>.",yS=e=>`You've passed multiple children components to <${e}/>. You can only pass a single child component or text.`,mu="Unsupported usage of isSatellite, domain or proxyUrl. The usage of isSatellite, domain or proxyUrl as function is not supported in non-browser environments.",vS="<UserProfile.Page /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",bS="<UserProfile.Link /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",wS="<OrganizationProfile.Page /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",kS="<OrganizationProfile.Link /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",jS=e=>`<${e} /> can only accept <${e}.Page /> and <${e}.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.`,_S=e=>`Missing props. <${e}.Page /> component requires the following props: url, label, labelIcon, alongside with children to be rendered inside the page.`,NS=e=>`Missing props. <${e}.Link /> component requires the following props: url, label and labelIcon.`,SS="<UserButton /> can only accept <UserButton.UserProfilePage />, <UserButton.UserProfileLink /> and <UserButton.MenuItems /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",ES="<UserButton.MenuItems /> component can only accept <UserButton.Action /> and <UserButton.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",PS="<UserButton.MenuItems /> component needs to be a direct child of `<UserButton />`.",CS="<UserButton.Action /> component needs to be a direct child of `<UserButton.MenuItems />`.",TS="<UserButton.Link /> component needs to be a direct child of `<UserButton.MenuItems />`.",RS="Missing props. <UserButton.Link /> component requires the following props: href, label and labelIcon.",AS="Missing props. <UserButton.Action /> component requires the following props: label.",OS=e=>{cd(()=>{zr.throwMissingClerkProviderError({source:e})})},Ae=(e,t)=>{const n=(typeof t=="string"?t:t==null?void 0:t.component)||e.displayName||e.name||"Component";e.displayName=n;const s=typeof t=="string"?void 0:t,i=o=>{OS(n||"withClerk");const l=gS();return!l.loaded&&!(s!=null&&s.renderWhileLoading)?null:O.createElement(e,{...o,component:n,clerk:l})};return i.displayName=`withClerk(${n})`,i},FS=()=>{try{return!1}catch{}return!1},LS=()=>{try{return!1}catch{}return!1},IS=()=>{try{return!0}catch{}return!1},Mg=new Set,ym=(e,t,r)=>{const n=LS()||IS(),s=r??e;Mg.has(s)||n||(Mg.add(s),console.warn(`Clerk - DEPRECATION WARNING: "${e}" is deprecated and will be removed in the next major release.
${t}`))};Ae(({clerk:e,...t})=>{const{client:r,session:n}=e,s=r.signedInSessions?r.signedInSessions.length>0:r.activeSessions&&r.activeSessions.length>0;return O.useEffect(()=>{n===null&&s?e.redirectToAfterSignOut():e.redirectToSignIn(t)},[]),null},"RedirectToSignIn");Ae(({clerk:e,...t})=>(O.useEffect(()=>{e.redirectToSignUp(t)},[]),null),"RedirectToSignUp");Ae(({clerk:e,...t})=>(O.useEffect(()=>{e.redirectToTasks(t)},[]),null),"RedirectToTasks");Ae(({clerk:e})=>(O.useEffect(()=>{ym("RedirectToUserProfile","Use the `redirectToUserProfile()` method instead."),e.redirectToUserProfile()},[]),null),"RedirectToUserProfile");Ae(({clerk:e})=>(O.useEffect(()=>{ym("RedirectToOrganizationProfile","Use the `redirectToOrganizationProfile()` method instead."),e.redirectToOrganizationProfile()},[]),null),"RedirectToOrganizationProfile");Ae(({clerk:e})=>(O.useEffect(()=>{ym("RedirectToCreateOrganization","Use the `redirectToCreateOrganization()` method instead."),e.redirectToCreateOrganization()},[]),null),"RedirectToCreateOrganization");Ae(({clerk:e,...t})=>(O.useEffect(()=>{e.handleRedirectCallback(t)},[]),null),"AuthenticateWithRedirectCallback");var St=e=>{FS()&&console.error(`Clerk: ${e}`)};function pu(e,t,r){if(typeof e=="function")return e(t);if(typeof e<"u")return e;if(typeof r<"u")return r}var Ug=(e,...t)=>{const r={...e};for(const n of t)delete r[n];return r},dd=e=>t=>{try{return O.Children.only(e)}catch{return zr.throw(yS(t))}},ud=(e,t)=>(e||(e=t),typeof e=="string"&&(e=O.createElement("button",null,e)),e),hd=e=>(...t)=>{if(e&&typeof e=="function")return e(...t)};function MS(e){return typeof e=="function"}var Cl=new Map;function US(e,t,r=1){O.useEffect(()=>{const n=Cl.get(e)||0;return n==r?zr.throw(t):(Cl.set(e,n+1),()=>{Cl.set(e,(Cl.get(e)||1)-1)})},[])}function DS(e,t,r){const n=e.displayName||e.name||t||"Component",s=i=>(US(t,r),O.createElement(e,{...i}));return s.displayName=`withMaxAllowedInstancesGuard(${n})`,s}var Bi=e=>{const[t,r]=w.useState(new Map);return e.map(n=>({id:n.id,mount:s=>r(i=>new Map(i).set(String(n.id),s)),unmount:()=>r(s=>{const i=new Map(s);return i.set(String(n.id),null),i}),portal:()=>{const s=t.get(String(n.id));return s?rd.createPortal(n.component,s):null}}))},Nt=(e,t)=>!!e&&O.isValidElement(e)&&(e==null?void 0:e.type)===t,Wv=(e,t)=>Vv({children:e,reorderItemsLabels:["account","security"],LinkComponent:Bo,PageComponent:$o,MenuItemsComponent:md,componentName:"UserProfile"},t),qv=(e,t)=>Vv({children:e,reorderItemsLabels:["general","members"],LinkComponent:gd,PageComponent:pd,componentName:"OrganizationProfile"},t),Hv=e=>{const t=[],r=[gd,pd,md,$o,Bo];return O.Children.forEach(e,n=>{r.some(s=>Nt(n,s))||t.push(n)}),t},Vv=(e,t)=>{const{children:r,LinkComponent:n,PageComponent:s,MenuItemsComponent:i,reorderItemsLabels:o,componentName:l}=e,{allowForAnyChildren:c=!1}=t||{},d=[];O.Children.forEach(r,g=>{if(!Nt(g,s)&&!Nt(g,n)&&!Nt(g,i)){g&&!c&&St(jS(l));return}const{props:y}=g,{children:b,label:_,url:N,labelIcon:k}=y;if(Nt(g,s))if(Dg(y,o))d.push({label:_});else if(gu(y))d.push({label:_,labelIcon:k,children:b,url:N});else{St(_S(l));return}if(Nt(g,n))if(xu(y))d.push({label:_,labelIcon:k,url:N});else{St(NS(l));return}});const u=[],h=[],f=[];d.forEach((g,y)=>{if(gu(g)){u.push({component:g.children,id:y}),h.push({component:g.labelIcon,id:y});return}xu(g)&&f.push({component:g.labelIcon,id:y})});const m=Bi(u),v=Bi(h),x=Bi(f),j=[],p=[];return d.forEach((g,y)=>{if(Dg(g,o)){j.push({label:g.label});return}if(gu(g)){const{portal:b,mount:_,unmount:N}=m.find(C=>C.id===y),{portal:k,mount:E,unmount:S}=v.find(C=>C.id===y);j.push({label:g.label,url:g.url,mount:_,unmount:N,mountIcon:E,unmountIcon:S}),p.push(b),p.push(k);return}if(xu(g)){const{portal:b,mount:_,unmount:N}=x.find(k=>k.id===y);j.push({label:g.label,url:g.url,mountIcon:_,unmountIcon:N}),p.push(b);return}}),{customPages:j,customPagesPortals:p}},Dg=(e,t)=>{const{children:r,label:n,url:s,labelIcon:i}=e;return!r&&!s&&!i&&t.some(o=>o===n)},gu=e=>{const{children:t,label:r,url:n,labelIcon:s}=e;return!!t&&!!n&&!!s&&!!r},xu=e=>{const{children:t,label:r,url:n,labelIcon:s}=e;return!t&&!!n&&!!s&&!!r},zS=e=>$S({children:e,reorderItemsLabels:["manageAccount","signOut"],MenuItemsComponent:md,MenuActionComponent:Qv,MenuLinkComponent:Gv,UserProfileLinkComponent:Bo,UserProfilePageComponent:$o}),$S=({children:e,MenuItemsComponent:t,MenuActionComponent:r,MenuLinkComponent:n,UserProfileLinkComponent:s,UserProfilePageComponent:i,reorderItemsLabels:o})=>{const l=[],c=[],d=[];O.Children.forEach(e,v=>{if(!Nt(v,t)&&!Nt(v,s)&&!Nt(v,i)){v&&St(SS);return}if(Nt(v,s)||Nt(v,i))return;const{props:x}=v;O.Children.forEach(x.children,j=>{if(!Nt(j,r)&&!Nt(j,n)){j&&St(ES);return}const{props:p}=j,{label:g,labelIcon:y,href:b,onClick:_,open:N}=p;if(Nt(j,r))if(zg(p,o))l.push({label:g});else if(yu(p)){const k={label:g,labelIcon:y};if(_!==void 0)l.push({...k,onClick:_});else if(N!==void 0)l.push({...k,open:N.startsWith("/")?N:`/${N}`});else{St("Custom menu item must have either onClick or open property");return}}else{St(AS);return}if(Nt(j,n))if(vu(p))l.push({label:g,labelIcon:y,href:b});else{St(RS);return}})});const u=[],h=[];l.forEach((v,x)=>{yu(v)&&u.push({component:v.labelIcon,id:x}),vu(v)&&h.push({component:v.labelIcon,id:x})});const f=Bi(u),m=Bi(h);return l.forEach((v,x)=>{if(zg(v,o)&&c.push({label:v.label}),yu(v)){const{portal:j,mount:p,unmount:g}=f.find(b=>b.id===x),y={label:v.label,mountIcon:p,unmountIcon:g};"onClick"in v?y.onClick=v.onClick:"open"in v&&(y.open=v.open),c.push(y),d.push(j)}if(vu(v)){const{portal:j,mount:p,unmount:g}=m.find(y=>y.id===x);c.push({label:v.label,href:v.href,mountIcon:p,unmountIcon:g}),d.push(j)}}),{customMenuItems:c,customMenuItemsPortals:d}},zg=(e,t)=>{const{children:r,label:n,onClick:s,labelIcon:i}=e;return!r&&!s&&!i&&t.some(o=>o===n)},yu=e=>{const{label:t,labelIcon:r,onClick:n,open:s}=e;return!!r&&!!t&&(typeof n=="function"||typeof s=="string")},vu=e=>{const{label:t,href:r,labelIcon:n}=e;return!!r&&!!n&&!!t},BS=e=>{const t=e==null?void 0:e.isReady;return r=>new Promise((n,s)=>{const{root:i=document==null?void 0:document.body,selector:o,timeout:l=0}=r;if(!i){s(new Error("No root element provided"));return}let c=i;if(o&&(c=i==null?void 0:i.querySelector(o)),t(c,o)){n();return}const d=new MutationObserver(u=>{for(const h of u)if(!c&&o&&(c=i==null?void 0:i.querySelector(o)),(e.childList&&h.type==="childList"||e.attributes&&h.type==="attributes")&&t(c,o)){d.disconnect(),n();return}});d.observe(i,e),l>0&&setTimeout(()=>{d.disconnect(),s(new Error(`Timeout waiting for ${o}`))},l)})},WS=BS({childList:!0,subtree:!0,isReady:(e,t)=>{var r;return!!(e!=null&&e.childElementCount)&&((r=e==null?void 0:e.matches)==null?void 0:r.call(e,t))&&e.childElementCount>0}});function Yt(e,t){const r=w.useRef(),[n,s]=w.useState("rendering");return w.useEffect(()=>{if(!e)throw new Error("Clerk: no component name provided, unable to detect mount.");if(typeof window<"u"&&!r.current){const i=`[data-clerk-component="${e}"]`,o=t==null?void 0:t.selector;r.current=WS({selector:o?i+o:i}).then(()=>{s("rendered")}).catch(()=>{s("error")})}},[e,t==null?void 0:t.selector]),n}var Tl=e=>"mount"in e,$g=e=>"open"in e,Bg=e=>e==null?void 0:e.map(({mountIcon:t,unmountIcon:r,...n})=>n),Tt=class extends O.PureComponent{constructor(){super(...arguments),this.rootRef=O.createRef()}componentDidUpdate(e){var t,r,n,s;if(!Tl(e)||!Tl(this.props))return;const i=Ug(e.props,"customPages","customMenuItems","children"),o=Ug(this.props.props,"customPages","customMenuItems","children"),l=((t=i.customPages)==null?void 0:t.length)!==((r=o.customPages)==null?void 0:r.length),c=((n=i.customMenuItems)==null?void 0:n.length)!==((s=o.customMenuItems)==null?void 0:s.length),d=Bg(e.props.customMenuItems),u=Bg(this.props.props.customMenuItems);(!Fg(i,o)||!Fg(d,u)||l||c)&&this.rootRef.current&&this.props.updateProps({node:this.rootRef.current,props:this.props.props})}componentDidMount(){this.rootRef.current&&(Tl(this.props)&&this.props.mount(this.rootRef.current,this.props.props),$g(this.props)&&this.props.open(this.props.props))}componentWillUnmount(){this.rootRef.current&&(Tl(this.props)&&this.props.unmount(this.rootRef.current),$g(this.props)&&this.props.close())}render(){const{hideRootHtmlElement:e=!1}=this.props,t={ref:this.rootRef,...this.props.rootProps,...this.props.component&&{"data-clerk-component":this.props.component}};return O.createElement(O.Fragment,null,!e&&O.createElement("div",{...t}),this.props.children)}},fd=e=>{var t,r;return O.createElement(O.Fragment,null,(t=e==null?void 0:e.customPagesPortals)==null?void 0:t.map((n,s)=>w.createElement(n,{key:s})),(r=e==null?void 0:e.customMenuItemsPortals)==null?void 0:r.map((n,s)=>w.createElement(n,{key:s})))},qS=Ae(({clerk:e,component:t,fallback:r,...n})=>{const i=Yt(t)==="rendering"||!e.loaded,o={...i&&r&&{style:{display:"none"}}};return O.createElement(O.Fragment,null,i&&r,e.loaded&&O.createElement(Tt,{component:t,mount:e.mountSignIn,unmount:e.unmountSignIn,updateProps:e.__unstable__updateProps,props:n,rootProps:o}))},{component:"SignIn",renderWhileLoading:!0}),HS=Ae(({clerk:e,component:t,fallback:r,...n})=>{const i=Yt(t)==="rendering"||!e.loaded,o={...i&&r&&{style:{display:"none"}}};return O.createElement(O.Fragment,null,i&&r,e.loaded&&O.createElement(Tt,{component:t,mount:e.mountSignUp,unmount:e.unmountSignUp,updateProps:e.__unstable__updateProps,props:n,rootProps:o}))},{component:"SignUp",renderWhileLoading:!0});function $o({children:e}){return St(vS),O.createElement(O.Fragment,null,e)}function Bo({children:e}){return St(bS),O.createElement(O.Fragment,null,e)}var VS=Ae(({clerk:e,component:t,fallback:r,...n})=>{const i=Yt(t)==="rendering"||!e.loaded,o={...i&&r&&{style:{display:"none"}}},{customPages:l,customPagesPortals:c}=Wv(n.children);return O.createElement(O.Fragment,null,i&&r,O.createElement(Tt,{component:t,mount:e.mountUserProfile,unmount:e.unmountUserProfile,updateProps:e.__unstable__updateProps,props:{...n,customPages:l},rootProps:o},O.createElement(fd,{customPagesPortals:c})))},{component:"UserProfile",renderWhileLoading:!0}),KS=Object.assign(VS,{Page:$o,Link:Bo}),Kv=w.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),QS=Ae(({clerk:e,component:t,fallback:r,...n})=>{const i=Yt(t)==="rendering"||!e.loaded,o={...i&&r&&{style:{display:"none"}}},{customPages:l,customPagesPortals:c}=Wv(n.children,{allowForAnyChildren:!!n.__experimental_asProvider}),d=Object.assign(n.userProfileProps||{},{customPages:l}),{customMenuItems:u,customMenuItemsPortals:h}=zS(n.children),f=Hv(n.children),m={mount:e.mountUserButton,unmount:e.unmountUserButton,updateProps:e.__unstable__updateProps,props:{...n,userProfileProps:d,customMenuItems:u}},v={customPagesPortals:c,customMenuItemsPortals:h};return O.createElement(Kv.Provider,{value:m},i&&r,e.loaded&&O.createElement(Tt,{component:t,...m,hideRootHtmlElement:!!n.__experimental_asProvider,rootProps:o},n.__experimental_asProvider?f:null,O.createElement(fd,{...v})))},{component:"UserButton",renderWhileLoading:!0});function md({children:e}){return St(PS),O.createElement(O.Fragment,null,e)}function Qv({children:e}){return St(CS),O.createElement(O.Fragment,null,e)}function Gv({children:e}){return St(TS),O.createElement(O.Fragment,null,e)}function GS(e){const t=w.useContext(Kv),r={...t,props:{...t.props,...e}};return O.createElement(Tt,{...r})}Object.assign(QS,{UserProfilePage:$o,UserProfileLink:Bo,MenuItems:md,Action:Qv,Link:Gv,__experimental_Outlet:GS});function pd({children:e}){return St(wS),O.createElement(O.Fragment,null,e)}function gd({children:e}){return St(kS),O.createElement(O.Fragment,null,e)}var JS=Ae(({clerk:e,component:t,fallback:r,...n})=>{const i=Yt(t)==="rendering"||!e.loaded,o={...i&&r&&{style:{display:"none"}}},{customPages:l,customPagesPortals:c}=qv(n.children);return O.createElement(O.Fragment,null,i&&r,e.loaded&&O.createElement(Tt,{component:t,mount:e.mountOrganizationProfile,unmount:e.unmountOrganizationProfile,updateProps:e.__unstable__updateProps,props:{...n,customPages:l},rootProps:o},O.createElement(fd,{customPagesPortals:c})))},{component:"OrganizationProfile",renderWhileLoading:!0});Object.assign(JS,{Page:pd,Link:gd});Ae(({clerk:e,component:t,fallback:r,...n})=>{const i=Yt(t)==="rendering"||!e.loaded,o={...i&&r&&{style:{display:"none"}}};return O.createElement(O.Fragment,null,i&&r,e.loaded&&O.createElement(Tt,{component:t,mount:e.mountCreateOrganization,unmount:e.unmountCreateOrganization,updateProps:e.__unstable__updateProps,props:n,rootProps:o}))},{component:"CreateOrganization",renderWhileLoading:!0});var Jv=w.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),YS=Ae(({clerk:e,component:t,fallback:r,...n})=>{const i=Yt(t)==="rendering"||!e.loaded,o={...i&&r&&{style:{display:"none"}}},{customPages:l,customPagesPortals:c}=qv(n.children,{allowForAnyChildren:!!n.__experimental_asProvider}),d=Object.assign(n.organizationProfileProps||{},{customPages:l}),u=Hv(n.children),h={mount:e.mountOrganizationSwitcher,unmount:e.unmountOrganizationSwitcher,updateProps:e.__unstable__updateProps,props:{...n,organizationProfileProps:d},rootProps:o,component:t};return e.__experimental_prefetchOrganizationSwitcher(),O.createElement(Jv.Provider,{value:h},O.createElement(O.Fragment,null,i&&r,e.loaded&&O.createElement(Tt,{...h,hideRootHtmlElement:!!n.__experimental_asProvider},n.__experimental_asProvider?u:null,O.createElement(fd,{customPagesPortals:c}))))},{component:"OrganizationSwitcher",renderWhileLoading:!0});function XS(e){const t=w.useContext(Jv),r={...t,props:{...t.props,...e}};return O.createElement(Tt,{...r})}Object.assign(YS,{OrganizationProfilePage:pd,OrganizationProfileLink:gd,__experimental_Outlet:XS});Ae(({clerk:e,component:t,fallback:r,...n})=>{const i=Yt(t)==="rendering"||!e.loaded,o={...i&&r&&{style:{display:"none"}}};return O.createElement(O.Fragment,null,i&&r,e.loaded&&O.createElement(Tt,{component:t,mount:e.mountOrganizationList,unmount:e.unmountOrganizationList,updateProps:e.__unstable__updateProps,props:n,rootProps:o}))},{component:"OrganizationList",renderWhileLoading:!0});Ae(({clerk:e,component:t,fallback:r,...n})=>{const i=Yt(t)==="rendering"||!e.loaded,o={...i&&r&&{style:{display:"none"}}};return O.createElement(O.Fragment,null,i&&r,e.loaded&&O.createElement(Tt,{component:t,open:e.openGoogleOneTap,close:e.closeGoogleOneTap,updateProps:e.__unstable__updateProps,props:n,rootProps:o}))},{component:"GoogleOneTap",renderWhileLoading:!0});Ae(({clerk:e,component:t,fallback:r,...n})=>{const i=Yt(t)==="rendering"||!e.loaded,o={...i&&r&&{style:{display:"none"}}};return O.createElement(O.Fragment,null,i&&r,e.loaded&&O.createElement(Tt,{component:t,mount:e.mountWaitlist,unmount:e.unmountWaitlist,updateProps:e.__unstable__updateProps,props:n,rootProps:o}))},{component:"Waitlist",renderWhileLoading:!0});Ae(({clerk:e,component:t,fallback:r,...n})=>{const i=Yt(t,{selector:'[data-component-status="ready"]'})==="rendering"||!e.loaded,o={...i&&r&&{style:{display:"none"}}};return O.createElement(O.Fragment,null,i&&r,e.loaded&&O.createElement(Tt,{component:t,mount:e.mountPricingTable,unmount:e.unmountPricingTable,updateProps:e.__unstable__updateProps,props:n,rootProps:o}))},{component:"PricingTable",renderWhileLoading:!0});Ae(({clerk:e,component:t,fallback:r,...n})=>{const i=Yt(t)==="rendering"||!e.loaded,o={...i&&r&&{style:{display:"none"}}};return O.createElement(O.Fragment,null,i&&r,e.loaded&&O.createElement(Tt,{component:t,mount:e.mountApiKeys,unmount:e.unmountApiKeys,updateProps:e.__unstable__updateProps,props:n,rootProps:o}))},{component:"ApiKeys",renderWhileLoading:!0});Ae(({clerk:e,component:t,fallback:r,...n})=>{const i=Yt(t)==="rendering"||!e.loaded,o={...i&&r&&{style:{display:"none"}}};return O.createElement(O.Fragment,null,i&&r,e.loaded&&O.createElement(Tt,{component:t,mount:e.mountTaskChooseOrganization,unmount:e.unmountTaskChooseOrganization,updateProps:e.__unstable__updateProps,props:n,rootProps:o}))},{component:"TaskChooseOrganization",renderWhileLoading:!0});var Yv=e=>{throw TypeError(e)},vm=(e,t,r)=>t.has(e)||Yv("Cannot "+r),Ce=(e,t,r)=>(vm(e,t,"read from private field"),r?r.call(e):t.get(e)),vn=(e,t,r)=>t.has(e)?Yv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),cs=(e,t,r,n)=>(vm(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),bu=(e,t,r)=>(vm(e,t,"access private method"),r),ZS=(e,t="5.91.2")=>{if(e)return e;const r=e2(t);return r?r==="snapshot"?"5.91.2":r:t2(t)},e2=e=>{var t;return(t=e.trim().replace(/^v/,"").match(/-(.+?)(\.|$)/))==null?void 0:t[1]},t2=e=>e.trim().replace(/^v/,"").split(".")[0];function r2(e){return e?n2(e)||Xv(e):!0}function n2(e){return/^http(s)?:\/\//.test(e||"")}function Xv(e){return e.startsWith("/")}function s2(e){return e?Xv(e)?new URL(e,window.location.origin).toString():e:""}function a2(e){if(!e)return"";let t;if(e.match(/^(clerk\.)+\w*$/))t=/(clerk\.)*(?=clerk\.)/;else{if(e.match(/\.clerk.accounts/))return e;t=/^(clerk\.)*/gi}return`clerk.${e.replace(t,"")}`}var i2={initialDelay:125,maxDelayBetweenRetries:0,factor:2,shouldRetry:(e,t)=>t<5,retryImmediately:!1,jitter:!0},o2=100,Zv=async e=>new Promise(t=>setTimeout(t,e)),eb=(e,t)=>t?e*(1+Math.random()):e,l2=e=>{let t=0;const r=()=>{const n=e.initialDelay,s=e.factor;let i=n*Math.pow(s,t);return i=eb(i,e.jitter),Math.min(e.maxDelayBetweenRetries||i,i)};return async()=>{await Zv(r()),t++}},c2=async(e,t={})=>{let r=0;const{shouldRetry:n,initialDelay:s,maxDelayBetweenRetries:i,factor:o,retryImmediately:l,jitter:c}={...i2,...t},d=l2({initialDelay:s,maxDelayBetweenRetries:i,factor:o,jitter:c});for(;;)try{return await e()}catch(u){if(r++,!n(u,r))throw u;l&&r===1?await Zv(eb(o2,c)):await d()}},d2="loadScript cannot be called when document does not exist",u2="loadScript cannot be called without a src";async function h2(e="",t){const{async:r,defer:n,beforeLoad:s,crossOrigin:i,nonce:o}=t||{};return c2(()=>new Promise((c,d)=>{e||d(new Error(u2)),(!document||!document.body)&&d(d2);const u=document.createElement("script");i&&u.setAttribute("crossorigin",i),u.async=r||!1,u.defer=n||!1,u.addEventListener("load",()=>{u.remove(),c(u)}),u.addEventListener("error",()=>{u.remove(),d()}),u.src=e,u.nonce=o,s==null||s(u),document.body.appendChild(u)}),{shouldRetry:(c,d)=>d<=5})}var tb="Clerk: Failed to load Clerk",{isDevOrStagingUrl:f2}=J1(),rb=xv({packageName:"@clerk/shared"});function m2(e){rb.setPackageName({packageName:e})}function zh(){if(typeof window>"u"||!window.Clerk)return!1;const e=window.Clerk;return typeof e=="object"&&typeof e.load=="function"}function Wg(e){return new Promise((t,r)=>{let n=!1;const s=(d,u)=>{clearTimeout(d),clearInterval(u)},i=()=>{n||zh()&&(n=!0,s(l,c),t(null))},l=setTimeout(()=>{n||(n=!0,s(l,c),zh()?t(null):r(new Error(tb)))},e);i();const c=setInterval(()=>{if(n){clearInterval(c);return}i()},100)})}var p2=async e=>{const t=(e==null?void 0:e.scriptLoadTimeout)??15e3;if(zh())return null;if(document.querySelector("script[data-clerk-js-script]"))return Wg(t);if(!(e!=null&&e.publishableKey))return rb.throwMissingPublishableKeyError(),null;const n=Wg(t);return h2(g2(e),{async:!0,crossOrigin:"anonymous",nonce:e.nonce,beforeLoad:y2(e)}).catch(()=>{throw new Error(tb)}),n},g2=e=>{var u,h;const{clerkJSUrl:t,clerkJSVariant:r,clerkJSVersion:n,proxyUrl:s,domain:i,publishableKey:o}=e;if(t)return t;let l="";s&&r2(s)?l=s2(s).replace(/http(s)?:\/\//,""):i&&!f2(((u=kg(o))==null?void 0:u.frontendApi)||"")?l=a2(i):l=((h=kg(o))==null?void 0:h.frontendApi)||"";const c=r?`${r.replace(/\.+$/,"")}.`:"",d=ZS(n);return`https://${l}/npm/@clerk/clerk-js@${d}/dist/clerk.${c}browser.js`},x2=e=>{const t={};return e.publishableKey&&(t["data-clerk-publishable-key"]=e.publishableKey),e.proxyUrl&&(t["data-clerk-proxy-url"]=e.proxyUrl),e.domain&&(t["data-clerk-domain"]=e.domain),e.nonce&&(t.nonce=e.nonce),t},y2=e=>t=>{const r=x2(e);for(const n in r)t.setAttribute(n,r[n])},v2=(e,t,r)=>!e&&r?b2(r):w2(t),b2=e=>{const t=e.userId,r=e.user,n=e.sessionId,s=e.sessionStatus,i=e.sessionClaims,o=e.session,l=e.organization,c=e.orgId,d=e.orgRole,u=e.orgPermissions,h=e.orgSlug,f=e.actor,m=e.factorVerificationAge;return{userId:t,user:r,sessionId:n,session:o,sessionStatus:s,sessionClaims:i,organization:l,orgId:c,orgRole:d,orgPermissions:u,orgSlug:h,actor:f,factorVerificationAge:m}},w2=e=>{var x,j,p,g;const t=e.user?e.user.id:e.user,r=e.user,n=e.session?e.session.id:e.session,s=e.session,i=(x=e.session)==null?void 0:x.status,o=e.session?(p=(j=e.session.lastActiveToken)==null?void 0:j.jwt)==null?void 0:p.claims:null,l=e.session?e.session.factorVerificationAge:null,c=s==null?void 0:s.actor,d=e.organization,u=e.organization?e.organization.id:e.organization,h=d==null?void 0:d.slug,f=d&&((g=r==null?void 0:r.organizationMemberships)==null?void 0:g.find(y=>y.organization.id===u)),m=f&&f.permissions,v=f&&f.role;return{userId:t,user:r,sessionId:n,session:s,sessionStatus:i,sessionClaims:o,organization:d,orgId:u,orgRole:v,orgSlug:h,orgPermissions:m,actor:c,factorVerificationAge:l}};function Tc(){return typeof window<"u"}var qg=(e,t,r,n,s)=>{const{notify:i}=s||{};let o=e.get(r);o||(o=[],e.set(r,o)),o.push(n),i&&t.has(r)&&n(t.get(r))},Hg=(e,t,r)=>(e.get(t)||[]).map(n=>n(r)),Vg=(e,t,r)=>{const n=e.get(t);n&&(r?n.splice(n.indexOf(r)>>>0,1):e.set(t,[]))},k2=()=>{const e=new Map,t=new Map,r=new Map;return{on:(...s)=>qg(e,t,...s),prioritizedOn:(...s)=>qg(r,t,...s),emit:(s,i)=>{t.set(s,i),Hg(r,s,i),Hg(e,s,i)},off:(...s)=>Vg(e,...s),prioritizedOff:(...s)=>Vg(r,...s),internal:{retrieveListeners:s=>e.get(s)||[]}}},Rl={Status:"status"},j2=()=>k2();typeof window<"u"&&!window.global&&(window.global=typeof global>"u"?window:global);Ae(({clerk:e,children:t,...r})=>{const{signUpFallbackRedirectUrl:n,forceRedirectUrl:s,fallbackRedirectUrl:i,signUpForceRedirectUrl:o,mode:l,initialValues:c,withSignUp:d,oauthFlow:u,...h}=r;t=ud(t,"Sign in");const f=dd(t)("SignInButton"),m=()=>{const j={forceRedirectUrl:s,fallbackRedirectUrl:i,signUpFallbackRedirectUrl:n,signUpForceRedirectUrl:o,initialValues:c,withSignUp:d,oauthFlow:u};return l==="modal"?e.openSignIn({...j,appearance:r.appearance}):e.redirectToSignIn({...j,signInFallbackRedirectUrl:i,signInForceRedirectUrl:s})},x={...h,onClick:async j=>(f&&typeof f=="object"&&"props"in f&&await hd(f.props.onClick)(j),m())};return O.cloneElement(f,x)},{component:"SignInButton",renderWhileLoading:!0});Ae(({clerk:e,children:t,...r})=>{const{redirectUrl:n,...s}=r;t=ud(t,"Sign in with Metamask");const i=dd(t)("SignInWithMetamaskButton"),o=async()=>{async function d(){await e.authenticateWithMetamask({redirectUrl:n||void 0})}d()},c={...s,onClick:async d=>(await hd(i.props.onClick)(d),o())};return O.cloneElement(i,c)},{component:"SignInWithMetamask",renderWhileLoading:!0});Ae(({clerk:e,children:t,...r})=>{const{redirectUrl:n="/",signOutOptions:s,...i}=r;t=ud(t,"Sign out");const o=dd(t)("SignOutButton"),l=()=>e.signOut({redirectUrl:n,...s}),d={...i,onClick:async u=>(await hd(o.props.onClick)(u),l())};return O.cloneElement(o,d)},{component:"SignOutButton",renderWhileLoading:!0});Ae(({clerk:e,children:t,...r})=>{const{fallbackRedirectUrl:n,forceRedirectUrl:s,signInFallbackRedirectUrl:i,signInForceRedirectUrl:o,mode:l,initialValues:c,oauthFlow:d,...u}=r;t=ud(t,"Sign up");const h=dd(t)("SignUpButton"),f=()=>{const x={fallbackRedirectUrl:n,forceRedirectUrl:s,signInFallbackRedirectUrl:i,signInForceRedirectUrl:o,initialValues:c,oauthFlow:d};return l==="modal"?e.openSignUp({...x,appearance:r.appearance,unsafeMetadata:r.unsafeMetadata}):e.redirectToSignUp({...x,signUpFallbackRedirectUrl:n,signUpForceRedirectUrl:s})},v={...u,onClick:async x=>(h&&typeof h=="object"&&"props"in h&&await hd(h.props.onClick)(x),f())};return O.cloneElement(h,v)},{component:"SignUpButton",renderWhileLoading:!0});var Kg=()=>({fields:{firstName:null,lastName:null,emailAddress:null,identifier:null,phoneNumber:null,password:null,username:null,code:null,captcha:null,legalAccepted:null},raw:null,global:null}),_2=class{constructor(e){this.isomorphicClerk=e,this.signInSignalProxy=this.buildSignInProxy(),this.signUpSignalProxy=this.buildSignUpProxy()}signInSignal(){return this.signInSignalProxy}signUpSignal(){return this.signUpSignalProxy}buildSignInProxy(){const e=()=>this.client.signIn.__internal_future;return{errors:Kg(),fetchStatus:"idle",signIn:{status:"needs_identifier",availableStrategies:[],isTransferable:!1,create:this.gateMethod(e,"create"),password:this.gateMethod(e,"password"),sso:this.gateMethod(e,"sso"),finalize:this.gateMethod(e,"finalize"),emailCode:this.wrapMethods(()=>e().emailCode,["sendCode","verifyCode"]),resetPasswordEmailCode:this.wrapMethods(()=>e().resetPasswordEmailCode,["sendCode","verifyCode","submitPassword"]),phoneCode:this.wrapMethods(()=>e().phoneCode,["sendCode","verifyCode"]),mfa:this.wrapMethods(()=>e().mfa,["sendPhoneCode","verifyPhoneCode","verifyTOTP","verifyBackupCode"])}}}buildSignUpProxy(){const e=this.gateProperty.bind(this),t=this.gateMethod.bind(this),r=this.wrapMethods.bind(this),n=()=>this.client.signUp.__internal_future;return{errors:Kg(),fetchStatus:"idle",signUp:{get status(){return e(n,"status","missing_requirements")},get unverifiedFields(){return e(n,"unverifiedFields",[])},get isTransferable(){return e(n,"isTransferable",!1)},create:t(n,"create"),sso:t(n,"sso"),password:t(n,"password"),finalize:t(n,"finalize"),verifications:r(()=>n().verifications,["sendEmailCode","verifyEmailCode","sendPhoneCode","verifyPhoneCode"])}}}__internal_effect(e){throw new Error("__internal_effect called before Clerk is loaded")}__internal_computed(e){throw new Error("__internal_computed called before Clerk is loaded")}get client(){const e=this.isomorphicClerk.client;if(!e)throw new Error("Clerk client not ready");return e}gateProperty(e,t,r){return(()=>!Tc()||!this.isomorphicClerk.loaded?r:e()[t])()}gateMethod(e,t){return async(...r)=>{if(!Tc())return zr.throw(`Attempted to call a method (${t}) that is not supported on the server.`);this.isomorphicClerk.loaded||await new Promise(s=>this.isomorphicClerk.addOnLoaded(s));const n=e();return n[t].apply(n,r)}}wrapMethods(e,t){return Object.fromEntries(t.map(r=>[r,this.gateMethod(e,r)]))}};typeof globalThis.__BUILD_DISABLE_RHC__>"u"&&(globalThis.__BUILD_DISABLE_RHC__=!1);var N2={name:"@clerk/clerk-react",version:"5.46.1",environment:"production"},Yl,ia,oa,bn,Kr,Xl,Sn,Pi,Zl,nb=class sb{constructor(t){vn(this,Pi),this.clerkjs=null,this.preopenOneTap=null,this.preopenUserVerification=null,this.preopenSignIn=null,this.preopenCheckout=null,this.preopenPlanDetails=null,this.preopenSubscriptionDetails=null,this.preopenSignUp=null,this.preopenUserProfile=null,this.preopenOrganizationProfile=null,this.preopenCreateOrganization=null,this.preOpenWaitlist=null,this.premountSignInNodes=new Map,this.premountSignUpNodes=new Map,this.premountUserProfileNodes=new Map,this.premountUserButtonNodes=new Map,this.premountOrganizationProfileNodes=new Map,this.premountCreateOrganizationNodes=new Map,this.premountOrganizationSwitcherNodes=new Map,this.premountOrganizationListNodes=new Map,this.premountMethodCalls=new Map,this.premountWaitlistNodes=new Map,this.premountPricingTableNodes=new Map,this.premountApiKeysNodes=new Map,this.premountOAuthConsentNodes=new Map,this.premountTaskChooseOrganizationNodes=new Map,this.premountAddListenerCalls=new Map,this.loadedListeners=[],vn(this,Yl,"loading"),vn(this,ia),vn(this,oa),vn(this,bn),vn(this,Kr,j2()),vn(this,Xl),this.buildSignInUrl=s=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildSignInUrl(s))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildSignInUrl",i)},this.buildSignUpUrl=s=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildSignUpUrl(s))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildSignUpUrl",i)},this.buildAfterSignInUrl=(...s)=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildAfterSignInUrl(...s))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildAfterSignInUrl",i)},this.buildAfterSignUpUrl=(...s)=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildAfterSignUpUrl(...s))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildAfterSignUpUrl",i)},this.buildAfterSignOutUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildAfterSignOutUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildAfterSignOutUrl",s)},this.buildNewSubscriptionRedirectUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildNewSubscriptionRedirectUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildNewSubscriptionRedirectUrl",s)},this.buildAfterMultiSessionSingleSignOutUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildAfterMultiSessionSingleSignOutUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildAfterMultiSessionSingleSignOutUrl",s)},this.buildUserProfileUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildUserProfileUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildUserProfileUrl",s)},this.buildCreateOrganizationUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildCreateOrganizationUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildCreateOrganizationUrl",s)},this.buildOrganizationProfileUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildOrganizationProfileUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildOrganizationProfileUrl",s)},this.buildWaitlistUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildWaitlistUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildWaitlistUrl",s)},this.buildTasksUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildTasksUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildTasksUrl",s)},this.buildUrlWithAuth=s=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildUrlWithAuth(s))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildUrlWithAuth",i)},this.handleUnauthenticated=async()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.handleUnauthenticated()};this.clerkjs&&this.loaded?s():this.premountMethodCalls.set("handleUnauthenticated",s)},this.on=(...s)=>{var i;if((i=this.clerkjs)!=null&&i.on)return this.clerkjs.on(...s);Ce(this,Kr).on(...s)},this.off=(...s)=>{var i;if((i=this.clerkjs)!=null&&i.off)return this.clerkjs.off(...s);Ce(this,Kr).off(...s)},this.addOnLoaded=s=>{this.loadedListeners.push(s),this.loaded&&this.emitLoaded()},this.emitLoaded=()=>{this.loadedListeners.forEach(s=>s()),this.loadedListeners=[]},this.beforeLoad=s=>{if(!s)throw new Error("Failed to hydrate latest Clerk JS")},this.hydrateClerkJS=s=>{var i;if(!s)throw new Error("Failed to hydrate latest Clerk JS");return this.clerkjs=s,this.premountMethodCalls.forEach(o=>o()),this.premountAddListenerCalls.forEach((o,l)=>{o.nativeUnsubscribe=s.addListener(l)}),(i=Ce(this,Kr).internal.retrieveListeners("status"))==null||i.forEach(o=>{this.on("status",o,{notify:!0})}),this.preopenSignIn!==null&&s.openSignIn(this.preopenSignIn),this.preopenCheckout!==null&&s.__internal_openCheckout(this.preopenCheckout),this.preopenPlanDetails!==null&&s.__internal_openPlanDetails(this.preopenPlanDetails),this.preopenSubscriptionDetails!==null&&s.__internal_openSubscriptionDetails(this.preopenSubscriptionDetails),this.preopenSignUp!==null&&s.openSignUp(this.preopenSignUp),this.preopenUserProfile!==null&&s.openUserProfile(this.preopenUserProfile),this.preopenUserVerification!==null&&s.__internal_openReverification(this.preopenUserVerification),this.preopenOneTap!==null&&s.openGoogleOneTap(this.preopenOneTap),this.preopenOrganizationProfile!==null&&s.openOrganizationProfile(this.preopenOrganizationProfile),this.preopenCreateOrganization!==null&&s.openCreateOrganization(this.preopenCreateOrganization),this.preOpenWaitlist!==null&&s.openWaitlist(this.preOpenWaitlist),this.premountSignInNodes.forEach((o,l)=>{s.mountSignIn(l,o)}),this.premountSignUpNodes.forEach((o,l)=>{s.mountSignUp(l,o)}),this.premountUserProfileNodes.forEach((o,l)=>{s.mountUserProfile(l,o)}),this.premountUserButtonNodes.forEach((o,l)=>{s.mountUserButton(l,o)}),this.premountOrganizationListNodes.forEach((o,l)=>{s.mountOrganizationList(l,o)}),this.premountWaitlistNodes.forEach((o,l)=>{s.mountWaitlist(l,o)}),this.premountPricingTableNodes.forEach((o,l)=>{s.mountPricingTable(l,o)}),this.premountApiKeysNodes.forEach((o,l)=>{s.mountApiKeys(l,o)}),this.premountOAuthConsentNodes.forEach((o,l)=>{s.__internal_mountOAuthConsent(l,o)}),this.premountTaskChooseOrganizationNodes.forEach((o,l)=>{s.mountTaskChooseOrganization(l,o)}),typeof this.clerkjs.status>"u"&&Ce(this,Kr).emit(Rl.Status,"ready"),this.emitLoaded(),this.clerkjs},this.__experimental_checkout=(...s)=>{var i;return(i=this.clerkjs)==null?void 0:i.__experimental_checkout(...s)},this.__unstable__updateProps=async s=>{const i=await bu(this,Pi,Zl).call(this);if(i&&"__unstable__updateProps"in i)return i.__unstable__updateProps(s)},this.setActive=s=>this.clerkjs?this.clerkjs.setActive(s):Promise.reject(),this.openSignIn=s=>{this.clerkjs&&this.loaded?this.clerkjs.openSignIn(s):this.preopenSignIn=s},this.closeSignIn=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignIn():this.preopenSignIn=null},this.__internal_openCheckout=s=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openCheckout(s):this.preopenCheckout=s},this.__internal_closeCheckout=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeCheckout():this.preopenCheckout=null},this.__internal_openPlanDetails=s=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openPlanDetails(s):this.preopenPlanDetails=s},this.__internal_closePlanDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closePlanDetails():this.preopenPlanDetails=null},this.__internal_openSubscriptionDetails=s=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openSubscriptionDetails(s):this.preopenSubscriptionDetails=s??null},this.__internal_closeSubscriptionDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeSubscriptionDetails():this.preopenSubscriptionDetails=null},this.__internal_openReverification=s=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openReverification(s):this.preopenUserVerification=s},this.__internal_closeReverification=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeReverification():this.preopenUserVerification=null},this.openGoogleOneTap=s=>{this.clerkjs&&this.loaded?this.clerkjs.openGoogleOneTap(s):this.preopenOneTap=s},this.closeGoogleOneTap=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeGoogleOneTap():this.preopenOneTap=null},this.openUserProfile=s=>{this.clerkjs&&this.loaded?this.clerkjs.openUserProfile(s):this.preopenUserProfile=s},this.closeUserProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeUserProfile():this.preopenUserProfile=null},this.openOrganizationProfile=s=>{this.clerkjs&&this.loaded?this.clerkjs.openOrganizationProfile(s):this.preopenOrganizationProfile=s},this.closeOrganizationProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeOrganizationProfile():this.preopenOrganizationProfile=null},this.openCreateOrganization=s=>{this.clerkjs&&this.loaded?this.clerkjs.openCreateOrganization(s):this.preopenCreateOrganization=s},this.closeCreateOrganization=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeCreateOrganization():this.preopenCreateOrganization=null},this.openWaitlist=s=>{this.clerkjs&&this.loaded?this.clerkjs.openWaitlist(s):this.preOpenWaitlist=s},this.closeWaitlist=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeWaitlist():this.preOpenWaitlist=null},this.openSignUp=s=>{this.clerkjs&&this.loaded?this.clerkjs.openSignUp(s):this.preopenSignUp=s},this.closeSignUp=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignUp():this.preopenSignUp=null},this.mountSignIn=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignIn(s,i):this.premountSignInNodes.set(s,i)},this.unmountSignIn=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignIn(s):this.premountSignInNodes.delete(s)},this.mountSignUp=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignUp(s,i):this.premountSignUpNodes.set(s,i)},this.unmountSignUp=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignUp(s):this.premountSignUpNodes.delete(s)},this.mountUserProfile=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserProfile(s,i):this.premountUserProfileNodes.set(s,i)},this.unmountUserProfile=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserProfile(s):this.premountUserProfileNodes.delete(s)},this.mountOrganizationProfile=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationProfile(s,i):this.premountOrganizationProfileNodes.set(s,i)},this.unmountOrganizationProfile=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationProfile(s):this.premountOrganizationProfileNodes.delete(s)},this.mountCreateOrganization=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountCreateOrganization(s,i):this.premountCreateOrganizationNodes.set(s,i)},this.unmountCreateOrganization=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountCreateOrganization(s):this.premountCreateOrganizationNodes.delete(s)},this.mountOrganizationSwitcher=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationSwitcher(s,i):this.premountOrganizationSwitcherNodes.set(s,i)},this.unmountOrganizationSwitcher=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationSwitcher(s):this.premountOrganizationSwitcherNodes.delete(s)},this.__experimental_prefetchOrganizationSwitcher=()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.__experimental_prefetchOrganizationSwitcher()};this.clerkjs&&this.loaded?s():this.premountMethodCalls.set("__experimental_prefetchOrganizationSwitcher",s)},this.mountOrganizationList=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationList(s,i):this.premountOrganizationListNodes.set(s,i)},this.unmountOrganizationList=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationList(s):this.premountOrganizationListNodes.delete(s)},this.mountUserButton=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserButton(s,i):this.premountUserButtonNodes.set(s,i)},this.unmountUserButton=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserButton(s):this.premountUserButtonNodes.delete(s)},this.mountWaitlist=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountWaitlist(s,i):this.premountWaitlistNodes.set(s,i)},this.unmountWaitlist=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountWaitlist(s):this.premountWaitlistNodes.delete(s)},this.mountPricingTable=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountPricingTable(s,i):this.premountPricingTableNodes.set(s,i)},this.unmountPricingTable=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountPricingTable(s):this.premountPricingTableNodes.delete(s)},this.mountApiKeys=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountApiKeys(s,i):this.premountApiKeysNodes.set(s,i)},this.unmountApiKeys=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountApiKeys(s):this.premountApiKeysNodes.delete(s)},this.__internal_mountOAuthConsent=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_mountOAuthConsent(s,i):this.premountOAuthConsentNodes.set(s,i)},this.__internal_unmountOAuthConsent=s=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_unmountOAuthConsent(s):this.premountOAuthConsentNodes.delete(s)},this.mountTaskChooseOrganization=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountTaskChooseOrganization(s,i):this.premountTaskChooseOrganizationNodes.set(s,i)},this.unmountTaskChooseOrganization=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountTaskChooseOrganization(s):this.premountTaskChooseOrganizationNodes.delete(s)},this.addListener=s=>{if(this.clerkjs)return this.clerkjs.addListener(s);{const i=()=>{var o;const l=this.premountAddListenerCalls.get(s);l&&((o=l.nativeUnsubscribe)==null||o.call(l),this.premountAddListenerCalls.delete(s))};return this.premountAddListenerCalls.set(s,{unsubscribe:i,nativeUnsubscribe:void 0}),i}},this.navigate=s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.navigate(s)};this.clerkjs&&this.loaded?i():this.premountMethodCalls.set("navigate",i)},this.redirectWithAuth=async(...s)=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectWithAuth(...s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectWithAuth",i)},this.redirectToSignIn=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToSignIn(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToSignIn",i)},this.redirectToSignUp=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToSignUp(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToSignUp",i)},this.redirectToUserProfile=async()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToUserProfile()};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToUserProfile",s)},this.redirectToAfterSignUp=()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignUp()};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToAfterSignUp",s)},this.redirectToAfterSignIn=()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignIn()};this.clerkjs&&this.loaded?s():this.premountMethodCalls.set("redirectToAfterSignIn",s)},this.redirectToAfterSignOut=()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignOut()};this.clerkjs&&this.loaded?s():this.premountMethodCalls.set("redirectToAfterSignOut",s)},this.redirectToOrganizationProfile=async()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToOrganizationProfile()};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToOrganizationProfile",s)},this.redirectToCreateOrganization=async()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToCreateOrganization()};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToCreateOrganization",s)},this.redirectToWaitlist=async()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToWaitlist()};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToWaitlist",s)},this.redirectToTasks=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToTasks(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToTasks",i)},this.handleRedirectCallback=async s=>{var i;const o=()=>{var l;return(l=this.clerkjs)==null?void 0:l.handleRedirectCallback(s)};this.clerkjs&&this.loaded?(i=o())==null||i.catch(()=>{}):this.premountMethodCalls.set("handleRedirectCallback",o)},this.handleGoogleOneTapCallback=async(s,i)=>{var o;const l=()=>{var c;return(c=this.clerkjs)==null?void 0:c.handleGoogleOneTapCallback(s,i)};this.clerkjs&&this.loaded?(o=l())==null||o.catch(()=>{}):this.premountMethodCalls.set("handleGoogleOneTapCallback",l)},this.handleEmailLinkVerification=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.handleEmailLinkVerification(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("handleEmailLinkVerification",i)},this.authenticateWithMetamask=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithMetamask(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithMetamask",i)},this.authenticateWithCoinbaseWallet=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithCoinbaseWallet(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithCoinbaseWallet",i)},this.authenticateWithBase=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithBase(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithBase",i)},this.authenticateWithOKXWallet=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithOKXWallet(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithOKXWallet",i)},this.authenticateWithWeb3=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithWeb3(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithWeb3",i)},this.authenticateWithGoogleOneTap=async s=>(await bu(this,Pi,Zl).call(this)).authenticateWithGoogleOneTap(s),this.__internal_loadStripeJs=async()=>(await bu(this,Pi,Zl).call(this)).__internal_loadStripeJs(),this.createOrganization=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.createOrganization(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("createOrganization",i)},this.getOrganization=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.getOrganization(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("getOrganization",i)},this.joinWaitlist=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.joinWaitlist(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("joinWaitlist",i)},this.signOut=async(...s)=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.signOut(...s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("signOut",i)};const{Clerk:r=null,publishableKey:n}=t||{};cs(this,bn,n),cs(this,oa,t==null?void 0:t.proxyUrl),cs(this,ia,t==null?void 0:t.domain),this.options=t,this.Clerk=r,this.mode=Tc()?"browser":"server",cs(this,Xl,new _2(this)),this.options.sdkMetadata||(this.options.sdkMetadata=N2),Ce(this,Kr).emit(Rl.Status,"loading"),Ce(this,Kr).prioritizedOn(Rl.Status,s=>cs(this,Yl,s)),Ce(this,bn)&&this.loadClerkJS()}get publishableKey(){return Ce(this,bn)}get loaded(){var t;return((t=this.clerkjs)==null?void 0:t.loaded)||!1}get status(){var t;return this.clerkjs?((t=this.clerkjs)==null?void 0:t.status)||(this.clerkjs.loaded?"ready":"loading"):Ce(this,Yl)}static getOrCreateInstance(t){return(!Tc()||!Ce(this,Sn)||t.Clerk&&Ce(this,Sn).Clerk!==t.Clerk||Ce(this,Sn).publishableKey!==t.publishableKey)&&cs(this,Sn,new sb(t)),Ce(this,Sn)}static clearInstance(){cs(this,Sn,null)}get domain(){return typeof window<"u"&&window.location?pu(Ce(this,ia),new URL(window.location.href),""):typeof Ce(this,ia)=="function"?zr.throw(mu):Ce(this,ia)||""}get proxyUrl(){return typeof window<"u"&&window.location?pu(Ce(this,oa),new URL(window.location.href),""):typeof Ce(this,oa)=="function"?zr.throw(mu):Ce(this,oa)||""}__internal_getOption(t){var r,n;return(r=this.clerkjs)!=null&&r.__internal_getOption?(n=this.clerkjs)==null?void 0:n.__internal_getOption(t):this.options[t]}get sdkMetadata(){var t;return((t=this.clerkjs)==null?void 0:t.sdkMetadata)||this.options.sdkMetadata||void 0}get instanceType(){var t;return(t=this.clerkjs)==null?void 0:t.instanceType}get frontendApi(){var t;return((t=this.clerkjs)==null?void 0:t.frontendApi)||""}get isStandardBrowser(){var t;return((t=this.clerkjs)==null?void 0:t.isStandardBrowser)||this.options.standardBrowser||!1}get isSatellite(){return typeof window<"u"&&window.location?pu(this.options.isSatellite,new URL(window.location.href),!1):typeof this.options.isSatellite=="function"?zr.throw(mu):!1}async loadClerkJS(){var t;if(!(this.mode!=="browser"||this.loaded)){typeof window<"u"&&(window.__clerk_publishable_key=Ce(this,bn),window.__clerk_proxy_url=this.proxyUrl,window.__clerk_domain=this.domain);try{if(this.Clerk){let r;MS(this.Clerk)?(r=new this.Clerk(Ce(this,bn),{proxyUrl:this.proxyUrl,domain:this.domain}),this.beforeLoad(r),await r.load(this.options)):(r=this.Clerk,r.loaded||(this.beforeLoad(r),await r.load(this.options))),global.Clerk=r}else if(!__BUILD_DISABLE_RHC__){if(global.Clerk||await p2({...this.options,publishableKey:Ce(this,bn),proxyUrl:this.proxyUrl,domain:this.domain,nonce:this.options.nonce}),!global.Clerk)throw new Error("Failed to download latest ClerkJS. Contact support@clerk.com.");this.beforeLoad(global.Clerk),await global.Clerk.load(this.options)}return(t=global.Clerk)!=null&&t.loaded?this.hydrateClerkJS(global.Clerk):void 0}catch(r){const n=r;Ce(this,Kr).emit(Rl.Status,"error"),console.error(n.stack||n.message||n);return}}}get version(){var t;return(t=this.clerkjs)==null?void 0:t.version}get client(){if(this.clerkjs)return this.clerkjs.client}get session(){if(this.clerkjs)return this.clerkjs.session}get user(){if(this.clerkjs)return this.clerkjs.user}get organization(){if(this.clerkjs)return this.clerkjs.organization}get telemetry(){if(this.clerkjs)return this.clerkjs.telemetry}get __unstable__environment(){if(this.clerkjs)return this.clerkjs.__unstable__environment}get isSignedIn(){return this.clerkjs?this.clerkjs.isSignedIn:!1}get billing(){var t;return(t=this.clerkjs)==null?void 0:t.billing}get __internal_state(){return this.loaded&&this.clerkjs?this.clerkjs.__internal_state:Ce(this,Xl)}get apiKeys(){var t;return(t=this.clerkjs)==null?void 0:t.apiKeys}__unstable__setEnvironment(...t){if(this.clerkjs&&"__unstable__setEnvironment"in this.clerkjs)this.clerkjs.__unstable__setEnvironment(t);else return}};Yl=new WeakMap;ia=new WeakMap;oa=new WeakMap;bn=new WeakMap;Kr=new WeakMap;Xl=new WeakMap;Sn=new WeakMap;Pi=new WeakSet;Zl=function(){return new Promise(e=>{this.addOnLoaded(()=>e(this.clerkjs))})};vn(nb,Sn);var Qg=nb;function S2(e){const{isomorphicClerkOptions:t,initialState:r,children:n}=e,{isomorphicClerk:s,clerkStatus:i}=E2(t),[o,l]=O.useState({client:s.client,session:s.session,user:s.user,organization:s.organization});O.useEffect(()=>s.addListener(z=>l({...z})),[]);const c=v2(s.loaded,o,r),d=O.useMemo(()=>({value:s}),[i]),u=O.useMemo(()=>({value:o.client}),[o.client]),{sessionId:h,sessionStatus:f,sessionClaims:m,session:v,userId:x,user:j,orgId:p,actor:g,organization:y,orgRole:b,orgSlug:_,orgPermissions:N,factorVerificationAge:k}=c,E=O.useMemo(()=>({value:{sessionId:h,sessionStatus:f,sessionClaims:m,userId:x,actor:g,orgId:p,orgRole:b,orgSlug:_,orgPermissions:N,factorVerificationAge:k}}),[h,f,x,g,p,b,_,k,m==null?void 0:m.__raw]),S=O.useMemo(()=>({value:v}),[h,v]),C=O.useMemo(()=>({value:j}),[x,j]),F=O.useMemo(()=>({value:{organization:y}}),[p,y]);return O.createElement(pS.Provider,{value:d},O.createElement(ZN.Provider,{value:u},O.createElement(eS.Provider,{value:S},O.createElement(aS,{...F.value},O.createElement(mS.Provider,{value:E},O.createElement(YN.Provider,{value:C},O.createElement(nS,{value:void 0},n)))))))}var E2=e=>{const t=O.useRef(Qg.getOrCreateInstance(e)),[r,n]=O.useState(t.current.status);return O.useEffect(()=>{t.current.__unstable__updateProps({appearance:e.appearance})},[e.appearance]),O.useEffect(()=>{t.current.__unstable__updateProps({options:e})},[e.localization]),O.useEffect(()=>(t.current.on("status",n),()=>{t.current&&t.current.off("status",n),Qg.clearInstance()}),[]),{isomorphicClerk:t.current,clerkStatus:r}};function P2(e){const{initialState:t,children:r,__internal_bypassMissingPublishableKey:n,...s}=e,{publishableKey:i="",Clerk:o}=s;return!o&&!n&&(i?i&&!Eh(i)&&zr.throwInvalidPublishableKeyError({key:i}):zr.throwMissingPublishableKeyError()),O.createElement(S2,{initialState:t,isomorphicClerkOptions:s},r)}var ab=DS(P2,"ClerkProvider",xS);ab.displayName="ClerkProvider";fS({packageName:"@clerk/clerk-react"});m2("@clerk/clerk-react");var C2={locale:"es-ES",apiKeys:{action__add:void 0,action__search:void 0,createdAndExpirationStatus__expiresOn:void 0,createdAndExpirationStatus__never:void 0,detailsTitle__emptyRow:void 0,formButtonPrimary__add:void 0,formFieldCaption__expiration__expiresOn:void 0,formFieldCaption__expiration__never:void 0,formFieldOption__expiration__180d:void 0,formFieldOption__expiration__1d:void 0,formFieldOption__expiration__1y:void 0,formFieldOption__expiration__30d:void 0,formFieldOption__expiration__60d:void 0,formFieldOption__expiration__7d:void 0,formFieldOption__expiration__90d:void 0,formFieldOption__expiration__never:void 0,formHint:void 0,formTitle:void 0,lastUsed__days:void 0,lastUsed__hours:void 0,lastUsed__minutes:void 0,lastUsed__months:void 0,lastUsed__seconds:void 0,lastUsed__years:void 0,menuAction__revoke:void 0,revokeConfirmation:{confirmationText:void 0,formButtonPrimary__revoke:void 0,formHint:void 0,formTitle:void 0}},backButton:"Atrás",badge__activePlan:void 0,badge__canceledEndsAt:void 0,badge__currentPlan:void 0,badge__default:"Por defecto",badge__endsAt:void 0,badge__expired:void 0,badge__freeTrial:void 0,badge__otherImpersonatorDevice:"Otro dispositivo de imitación",badge__pastDueAt:void 0,badge__pastDuePlan:void 0,badge__primary:"Primario",badge__renewsAt:void 0,badge__requiresAction:"Requiere acción",badge__startsAt:void 0,badge__thisDevice:"Este dispositivo",badge__trialEndsAt:void 0,badge__unverified:"No confirmado",badge__upcomingPlan:void 0,badge__userDevice:"Dispositivo de usuario",badge__you:"Usted",commerce:{addPaymentMethod:void 0,alwaysFree:void 0,annually:void 0,availableFeatures:void 0,billedAnnually:void 0,billedMonthlyOnly:void 0,cancelFreeTrial:void 0,cancelFreeTrialAccessUntil:void 0,cancelFreeTrialTitle:void 0,cancelSubscription:void 0,cancelSubscriptionAccessUntil:void 0,cancelSubscriptionNoCharge:void 0,cancelSubscriptionPastDue:void 0,cancelSubscriptionTitle:void 0,cannotSubscribeMonthly:void 0,cannotSubscribeUnrecoverable:void 0,checkout:{description__paymentSuccessful:void 0,description__subscriptionSuccessful:void 0,downgradeNotice:void 0,emailForm:{subtitle:void 0,title:void 0},lineItems:{title__freeTrialEndsAt:void 0,title__paymentMethod:void 0,title__statementId:void 0,title__subscriptionBegins:void 0,title__totalPaid:void 0},pastDueNotice:void 0,perMonth:void 0,title:void 0,title__paymentSuccessful:void 0,title__subscriptionSuccessful:void 0,title__trialSuccess:void 0,totalDueAfterTrial:void 0},credit:void 0,creditRemainder:void 0,defaultFreePlanActive:void 0,free:void 0,getStarted:void 0,keepFreeTrial:void 0,keepSubscription:void 0,manage:void 0,manageSubscription:void 0,month:void 0,monthly:void 0,pastDue:void 0,pay:void 0,paymentMethods:void 0,paymentSource:{applePayDescription:{annual:void 0,monthly:void 0},dev:{anyNumbers:void 0,cardNumber:void 0,cvcZip:void 0,developmentMode:void 0,expirationDate:void 0,testCardInfo:void 0}},popular:void 0,pricingTable:{billingCycle:void 0,included:void 0},reSubscribe:void 0,seeAllFeatures:void 0,startFreeTrial:void 0,startFreeTrial__days:void 0,subscribe:void 0,subscriptionDetails:{beginsOn:void 0,currentBillingCycle:void 0,endsOn:void 0,firstPaymentAmount:void 0,firstPaymentOn:void 0,nextPaymentAmount:void 0,nextPaymentOn:void 0,pastDueAt:void 0,renewsAt:void 0,subscribedOn:void 0,title:void 0,trialEndsOn:void 0,trialStartedOn:void 0},subtotal:void 0,switchPlan:void 0,switchToAnnual:void 0,switchToAnnualWithAnnualPrice:void 0,switchToMonthly:void 0,switchToMonthlyWithPrice:void 0,totalDue:void 0,totalDueToday:void 0,viewFeatures:void 0,viewPayment:void 0,year:void 0},createOrganization:{formButtonSubmit:"Crear organización",invitePage:{formButtonReset:"Saltar"},title:"Crear organización"},dates:{lastDay:"Ayer a las {{ date | timeString('es-ES') }}",next6Days:"{{ date | weekday('es-ES','long') }} a las {{ date | timeString('es-ES') }}",nextDay:"Mañana a las {{ date | timeString('es-ES') }}",numeric:"{{ date | numeric('es-ES') }}",previous6Days:"Último {{ date | weekday('es-ES','long') }} en {{ date | timeString('es-ES') }}",sameDay:"Hoy a las {{ date | timeString('es-ES') }}"},dividerText:"o",footerActionLink__alternativePhoneCodeProvider:void 0,footerActionLink__useAnotherMethod:"Usar otro método",footerPageLink__help:"Ayuda",footerPageLink__privacy:"Privacidad",footerPageLink__terms:"Términos",formButtonPrimary:"Continuar",formButtonPrimary__verify:"Verificar",formFieldAction__forgotPassword:"Has olvidado tu contraseña?",formFieldError__matchingPasswords:"Las contraseñas coinciden.",formFieldError__notMatchingPasswords:"Las contraseñas no coinciden.",formFieldError__verificationLinkExpired:"El enlace de verificación ha expirado. Por favor solicite uno nuevo.",formFieldHintText__optional:"Opcional",formFieldHintText__slug:"Un slug es un ID legible que debe ser único. Es comúnmente usado en URLs.",formFieldInputPlaceholder__apiKeyDescription:void 0,formFieldInputPlaceholder__apiKeyExpirationDate:void 0,formFieldInputPlaceholder__apiKeyName:void 0,formFieldInputPlaceholder__backupCode:"Ingrese su código de respaldo",formFieldInputPlaceholder__confirmDeletionUserAccount:"Eliminar cuenta",formFieldInputPlaceholder__emailAddress:"Ingrese su dirección de correo electrónico",formFieldInputPlaceholder__emailAddress_username:"Ingrese su correo electrónico o nombre de usuario",formFieldInputPlaceholder__emailAddresses:"Ingrese o pegue una o más direcciones de correo electrónico, separadas por espacios o comas",formFieldInputPlaceholder__firstName:"Ingrese su nombre",formFieldInputPlaceholder__lastName:"Ingrese su apellido",formFieldInputPlaceholder__organizationDomain:"Ingrese el dominio de la organización",formFieldInputPlaceholder__organizationDomainEmailAddress:"Ingrese un correo electrónico del dominio",formFieldInputPlaceholder__organizationName:"Ingrese el nombre de la organización",formFieldInputPlaceholder__organizationSlug:"Ingrese un slug único para la organización",formFieldInputPlaceholder__password:"Ingrese su contraseña",formFieldInputPlaceholder__phoneNumber:"Ingrese su número telefónico",formFieldInputPlaceholder__username:"Ingrese su nombre de usuario",formFieldLabel__apiKeyDescription:void 0,formFieldLabel__apiKeyExpiration:void 0,formFieldLabel__apiKeyName:void 0,formFieldLabel__automaticInvitations:"Activar invitaciones automáticas para este dominio",formFieldLabel__backupCode:"Código de respaldo",formFieldLabel__confirmDeletion:"Confirmación",formFieldLabel__confirmPassword:"Confirme la contraseña",formFieldLabel__currentPassword:"Contraseña actual",formFieldLabel__emailAddress:"Correo electrónico",formFieldLabel__emailAddress_username:"Correo electrónico o nombre de usuario",formFieldLabel__emailAddresses:"Direcciones de correo",formFieldLabel__firstName:"Nombre",formFieldLabel__lastName:"Apellido",formFieldLabel__newPassword:"Nueva contraseña",formFieldLabel__organizationDomain:"Dominio",formFieldLabel__organizationDomainDeletePending:"Borrar invitaciones y sugerencias pendientes",formFieldLabel__organizationDomainEmailAddress:"Correo de verificación",formFieldLabel__organizationDomainEmailAddressDescription:"Ingrese una dirección de correo electrónico bajo este dominio para recibir un código y verificarlo.",formFieldLabel__organizationName:"Nombre de la Organización",formFieldLabel__organizationSlug:"Slug",formFieldLabel__passkeyName:"Nombre de la clave de acceso",formFieldLabel__password:"Contraseña",formFieldLabel__phoneNumber:"Número telefónico",formFieldLabel__role:"Rol",formFieldLabel__signOutOfOtherSessions:"Cerrar sesión en todos los demás dispositivos",formFieldLabel__username:"Nombre de usuario",impersonationFab:{action__signOut:"Cerrar",title:"Registrado como {{identifier}}"},lastAuthenticationStrategy:"Último uso",maintenanceMode:"Modo de mantenimiento",membershipRole__admin:"Administrador",membershipRole__basicMember:"Miembro",membershipRole__guestMember:"Invitado",organizationList:{action__createOrganization:"Crear organización",action__invitationAccept:"Unirse",action__suggestionsAccept:"Solicitud a unirse",createOrganization:"Crear Organización",invitationAcceptedLabel:"Unido",subtitle:"para continuar a {{applicationName}}",suggestionsAcceptedLabel:"Aprobación pendiente",title:"Choose an account",titleWithoutPersonal:"Escoja una organización"},organizationProfile:{apiKeysPage:{title:void 0},badge__automaticInvitation:"Invitaciones automáticas",badge__automaticSuggestion:"Sugerencias automáticas",badge__manualInvitation:"Sin inscripción automática",badge__unverified:"No verificado",billingPage:{paymentHistorySection:{empty:void 0,notFound:void 0,tableHeader__amount:void 0,tableHeader__date:void 0,tableHeader__status:void 0},paymentSourcesSection:{actionLabel__default:void 0,actionLabel__remove:void 0,add:void 0,addSubtitle:void 0,cancelButton:void 0,formButtonPrimary__add:void 0,formButtonPrimary__pay:void 0,payWithTestCardButton:void 0,removeResource:{messageLine1:void 0,messageLine2:void 0,successMessage:void 0,title:void 0},title:void 0},start:{headerTitle__payments:void 0,headerTitle__plans:void 0,headerTitle__statements:void 0,headerTitle__subscriptions:void 0},statementsSection:{empty:void 0,itemCaption__paidForPlan:void 0,itemCaption__proratedCredit:void 0,itemCaption__subscribedAndPaidForPlan:void 0,notFound:void 0,tableHeader__amount:void 0,tableHeader__date:void 0,title:void 0,totalPaid:void 0},subscriptionsListSection:{actionLabel__manageSubscription:void 0,actionLabel__newSubscription:void 0,actionLabel__switchPlan:void 0,tableHeader__edit:void 0,tableHeader__plan:void 0,tableHeader__startDate:void 0,title:void 0},subscriptionsSection:{actionLabel__default:void 0},switchPlansSection:{title:void 0},title:void 0},createDomainPage:{subtitle:"Agregue el dominio para verificar. Los usuarios con direcciones de correo electrónico en este dominio pueden unirse a la organización automáticamente o solicitar unirse.",title:"Agregar dominio"},invitePage:{detailsTitle__inviteFailed:"No se pudieron enviar las invitaciones. Solucione lo siguiente y vuelva a intentarlo:",formButtonPrimary__continue:"Enviar invitaciones",selectDropdown__role:"Seleccionar rol",subtitle:"Invitar nuevos miembros a esta organización",successMessage:"Invitaciones enviadas con éxito",title:"Invitar miembros"},membersPage:{action__invite:"Invitar",action__search:"Buscar",activeMembersTab:{menuAction__remove:"Quitar miembro",tableHeader__actions:"Acciones",tableHeader__joined:"Unido",tableHeader__role:"Rol",tableHeader__user:"Usuario"},detailsTitle__emptyRow:"No hay miembros para mostrar",invitationsTab:{autoInvitations:{headerSubtitle:"Invite a usuarios conectando un dominio de correo electrónico con su organización. Cualquiera que se registre con un dominio de correo electrónico coincidente podrá unirse a la organización en cualquier momento.",headerTitle:"Invitaciones automáticas",primaryButton:"Gestionar dominios verificados"},table__emptyRow:"Sin invitaciones para mostrar"},invitedMembersTab:{menuAction__revoke:"Revocar invitación",tableHeader__invited:"Invitado"},requestsTab:{autoSuggestions:{headerSubtitle:"Los usuarios que se registren con un dominio de correo electrónico coincidente podrán ver una sugerencia para solicitar unirse a su organización.",headerTitle:"Sugerencias automáticas",primaryButton:"Gestionar dominios verificados"},menuAction__approve:"Aprobar",menuAction__reject:"Rechazar",tableHeader__requested:"Acceso solicitado",table__emptyRow:"Sin solicitudes para mostrar"},start:{headerTitle__invitations:"Invitaciones",headerTitle__members:"Miembros",headerTitle__requests:"Solicitudes"}},navbar:{apiKeys:void 0,billing:void 0,description:"Gestione su organización.",general:"General",members:"Miembros",title:"Organización"},plansPage:{alerts:{noPermissionsToManageBilling:void 0},title:void 0},profilePage:{dangerSection:{deleteOrganization:{actionDescription:'Escriba "{{organizationName}}" a continuación para continuar.',messageLine1:"¿Está seguro de que desea eliminar esta organización?",messageLine2:"Esta acción es permanente e irreversible.",successMessage:"Ha eliminado la organización.",title:"Borrar organización"},leaveOrganization:{actionDescription:'Escriba "{{organizationName}}" a continuación para continuar.',messageLine1:"¿Está seguro de que desea abandonar esta organización? Perderá el acceso a esta organización y sus aplicaciones.",messageLine2:"Esta acción es permanente e irreversible.",successMessage:"Has dejado la organización.",title:"Abandonar la organización"},title:"Peligro"},domainSection:{menuAction__manage:"Gestione",menuAction__remove:"Eliminar",menuAction__verify:"Verificar",primaryButton:"Añadir dominio",subtitle:"Permita que los usuarios se unan a la organización automáticamente o soliciten unirse basándose en un dominio de correo electrónico verificado.",title:"Dominios verificados"},successMessage:"La organización ha sido actualizada.",title:"Perfil de la organización"},removeDomainPage:{messageLine1:"Se eliminará el dominio de correo electrónico {{domain}}.",messageLine2:"Los usuarios no podrán unirse a la organización automáticamente después de esto.",successMessage:"{{dominio}} ha sido eliminado.",title:"Eliminar dominio"},start:{headerTitle__general:"General",headerTitle__members:"Miembros",profileSection:{primaryButton:"Actualizar perfil",title:"Perfil de la Organización",uploadAction__title:"Logo"}},verifiedDomainPage:{dangerTab:{calloutInfoLabel:"La eliminación de este dominio afectará a los usuarios invitados.",removeDomainActionLabel__remove:"Eliminar dominio",removeDomainSubtitle:"Elimine este dominio de sus dominios verificados",removeDomainTitle:"Eliminar dominio"},enrollmentTab:{automaticInvitationOption__description:"Los usuarios son invitados automáticamente a unirse a la organización cuando se registran y pueden unirse en cualquier momento.",automaticInvitationOption__label:"Invitaciones automáticas",automaticSuggestionOption__description:"Los usuarios reciben una sugerencia para solicitar unirse, pero deben ser aprobados por un administrador antes de poder unirse a la organización.",automaticSuggestionOption__label:"Sugerencias automáticas",calloutInfoLabel:"Cambiar el modo de inscripción solo afectará a nuevos usuarios.",calloutInvitationCountLabel:"Invitaciones pendientes enviadas a los usuarios: {{count}}",calloutSuggestionCountLabel:"Sugerencias pendientes enviadas a los usuarios: {{count}}",manualInvitationOption__description:"Los usuarios solo pueden ser invitados manualmente a la organización.",manualInvitationOption__label:"Sin inscripción automática",subtitle:"Elija cómo los usuarios de este dominio pueden unirse a la organización."},start:{headerTitle__danger:"Peligro",headerTitle__enrollment:"Opciones de inscripción"},subtitle:"El dominio {{domain}} está ahora verificado. Continúe seleccionando el modo de inscripción.",title:"Actualizar {{domain}}"},verifyDomainPage:{formSubtitle:"Ingrese el código de verificación enviado a su dirección de correo electrónico",formTitle:"Código de verificación",resendButton:"¿No recibió un código? Reenviar",subtitle:"El dominio {{domainName}} necesita ser verificado por correo electrónico.",subtitleVerificationCodeScreen:"Se envió un código de verificación a {{emailAddress}}. Ingrese el código para continuar.",title:"Verificar dominio"}},organizationSwitcher:{action__createOrganization:"Crear Organización",action__invitationAccept:"Unirse",action__manageOrganization:"Administrar Organización",action__suggestionsAccept:"Solicitar unirse",notSelected:"Ninguna organización seleccionada",personalWorkspace:"Espacio de trabajo personal",suggestionsAcceptedLabel:"Aprobación pendiente"},paginationButton__next:"Próximo",paginationButton__previous:"Previo",paginationRowText__displaying:"Mostrando",paginationRowText__of:"de",reverification:{alternativeMethods:{actionLink:"Probar otro método",actionText:"¿No tienes acceso a este método? Prueba otra opción.",blockButton__backupCode:"Usar código de respaldo",blockButton__emailCode:"Usar código de correo electrónico",blockButton__passkey:void 0,blockButton__password:"Usar contraseña",blockButton__phoneCode:"Usar código de teléfono",blockButton__totp:"Usar verificación TOTP",getHelp:{blockButton__emailSupport:"Contactar soporte por correo electrónico",content:"Si no puedes verificar tu identidad con los métodos anteriores, comunícate con nuestro equipo de soporte.",title:"Necesitas ayuda con la verificación?"},subtitle:"Selecciona uno de los métodos disponibles para verificar tu identidad.",title:"Reverificación de identidad"},backupCodeMfa:{subtitle:"Introduce tu código de respaldo para continuar con el acceso.",title:"Verificación por código de respaldo"},emailCode:{formTitle:"Ingresa el código que hemos enviado a tu correo electrónico.",resendButton:"Reenviar código",subtitle:"Revisa tu bandeja de entrada para el código de verificación.",title:"Verificación por correo electrónico"},noAvailableMethods:{message:"Lo sentimos, no tienes ningún método de verificación disponible. Contacta con soporte.",subtitle:"No se encontraron métodos alternativos disponibles.",title:"Métodos de verificación no disponibles"},passkey:{blockButton__passkey:void 0,subtitle:void 0,title:void 0},password:{actionLink:"¿Olvidaste tu contraseña? Recupérala aquí.",subtitle:"Usa tu contraseña para verificar tu identidad.",title:"Verificación por contraseña"},phoneCode:{formTitle:"Introduce el código enviado a tu teléfono.",resendButton:"Reenviar código",subtitle:"Recibirás un código SMS para verificar tu identidad.",title:"Verificación por teléfono"},phoneCodeMfa:{formTitle:"Código de verificación de 2 pasos",resendButton:"Reenviar código",subtitle:"Introduce el código de verificación de dos factores enviado a tu teléfono.",title:"Verificación por teléfono (2FA)"},totpMfa:{formTitle:"Código TOTP",subtitle:"Introduce el código de autenticación TOTP para completar la verificación.",title:"Verificación por TOTP (2FA)"}},signIn:{accountSwitcher:{action__addAccount:"Añadir cuenta",action__signOutAll:"Cerrar sesión de todas las cuentas",subtitle:"Seleccione la cuenta con la que desea continuar.",title:"Elija una cuenta"},alternativeMethods:{actionLink:"Consigue ayuda",actionText:"¿No tienes ninguno de estos?",blockButton__backupCode:"Usa un código de respaldo",blockButton__emailCode:"Enviar código a {{identifier}}",blockButton__emailLink:"Enviar enlace a {{identifier}}",blockButton__passkey:"Usar llave de acceso",blockButton__password:"Entra con tu contraseña",blockButton__phoneCode:"Enviar código a {{identifier}}",blockButton__totp:"Usa tu aplicación de autenticación",getHelp:{blockButton__emailSupport:"Soporte de correo electrónico",content:"Si tiene dificultades para iniciar sesión en su cuenta, envíenos un correo electrónico y trabajaremos con usted para restablecer el acceso lo antes posible.",title:"Consigue ayuda"},subtitle:"¿Tienes problemas? Puedes usar cualquiera de estos métodos para iniciar sesión.",title:"Usa otro método"},alternativePhoneCodeProvider:{formTitle:void 0,resendButton:void 0,subtitle:void 0,title:void 0},backupCodeMfa:{subtitle:"para continuar a {{applicationName}}",title:"Introduce un código de seguridad"},emailCode:{formTitle:"Código de verificación",resendButton:"Reenviar código",subtitle:"para continuar a {{applicationName}}",title:"Revise su correo electrónico"},emailLink:{clientMismatch:{subtitle:"El cliente no coincide con el solicitado. Por favor, intente de nuevo.",title:"Error de cliente no coincidente"},expired:{subtitle:"Regrese a la pestaña original para continuar.",title:"Este enlace de verificación ha expirado"},failed:{subtitle:"Regrese a la pestaña original para continuar.",title:"Este enlace de verificación es inválido"},formSubtitle:"Utilice el enlace de verificación enviado a su correo electrónico",formTitle:"Enlace de verificación",loading:{subtitle:"Serás redirigido pronto",title:"Iniciando sesión..."},resendButton:"Reenviar enlace",subtitle:"para continuar a {{applicationName}}",title:"Revise su correo electrónico",unusedTab:{title:"Puede cerrar esta pestaña"},verified:{subtitle:"Serás redirigido pronto",title:"Inició sesión con éxito"},verifiedSwitchTab:{subtitle:"Regrese a la pestaña original para continuar",subtitleNewTab:"Regrese a la pestaña recién abierta para continuar",titleNewTab:"Inició sesión en otra pestaña"}},forgotPassword:{formTitle:"Código de restablecimiento de contraseña",resendButton:"¿No recibiste un código? Reenviar",subtitle:"para restablecer tu contraseña",subtitle_email:"Primero, introduce el código enviado a tu correo electrónico",subtitle_phone:"Primero, introduce el código enviado a tu teléfono",title:"Restablecer contraseña"},forgotPasswordAlternativeMethods:{blockButton__resetPassword:"Restablecer tu contraseña",label__alternativeMethods:"O, inicia sesión con otro método",title:"¿Olvidaste tu contraseña?"},noAvailableMethods:{message:"No se puede continuar con el inicio de sesión. No hay ningún factor de autenticación disponible.",subtitle:"Ocurrió un error",title:"No puedo iniciar sesión"},passkey:{subtitle:"Use su clave de acceso para continuar con la autenticación.",title:"Clave de acceso"},password:{actionLink:"Usa otro método",subtitle:"para continuar a {{applicationName}}",title:"Introduzca su contraseña"},passwordPwned:{title:"Tu contraseña ha sido comprometida"},phoneCode:{formTitle:"Código de verificación",resendButton:"Reenviar código",subtitle:"para continuar a {{applicationName}}",title:"Revisa tu teléfono"},phoneCodeMfa:{formTitle:"Código de verificación",resendButton:"Reenviar código",subtitle:"Introduce el código enviado a tu teléfono para continuar.",title:"Revisa tu teléfono"},resetPassword:{formButtonPrimary:"Restablecer Contraseña",requiredMessage:"Por razones de seguridad, se requiere restablecer su contraseña.",successMessage:"Tu contraseña ha sido cambiada exitosamente. Iniciando sesión, por favor espera un momento.",title:"Establecer nueva contraseña"},resetPasswordMfa:{detailsLabel:"Necesitamos verificar tu identidad antes de restablecer tu contraseña."},start:{actionLink:"Regístrese",actionLink__join_waitlist:"Únase a la lista de espera",actionLink__use_email:"Usar correo electrónico",actionLink__use_email_username:"Usar correo electrónico o nombre de usuario",actionLink__use_passkey:"Usar una clave de acceso",actionLink__use_phone:"Usar teléfono",actionLink__use_username:"Usar nombre de usuario",actionText:"¿No tienes cuenta?",actionText__join_waitlist:"¿Te gustaría unirte a la lista de espera?",alternativePhoneCodeProvider:{actionLink:void 0,label:void 0,subtitle:void 0,title:void 0},subtitle:"para continuar a {{applicationName}}",subtitleCombined:void 0,title:"Entrar",titleCombined:void 0},totpMfa:{formTitle:"Código de verificación",subtitle:"Introduce el código que te enviamos a tu dispositivo",title:"Verificación de dos pasos"}},signInEnterPasswordTitle:"Ingresa tu contraseña",signUp:{alternativePhoneCodeProvider:{resendButton:void 0,subtitle:void 0,title:void 0},continue:{actionLink:"Entrar",actionText:"¿Tiene una cuenta?",subtitle:"para continuar a {{applicationName}}",title:"Rellene los campos que faltan"},emailCode:{formSubtitle:"Introduzca el código de verificación enviado a su correo electrónico",formTitle:"Código de verificación",resendButton:"Re-enviar código",subtitle:"para continuar a {{applicationName}}",title:"Verifique su correo electrónico"},emailLink:{clientMismatch:{subtitle:"Parece que no estás usando el dispositivo correcto para verificar tu cuenta.",title:"Error de dispositivo"},formSubtitle:"Utilice el enlace de verificación enviado a su dirección de correo electrónico",formTitle:"Enlace de verificación",loading:{title:"Registrando..."},resendButton:"Reenviar enlace",subtitle:"para continuar a {{applicationName}}",title:"Verifica tu correo electrónico",verified:{title:"Registrado con éxito"},verifiedSwitchTab:{subtitle:"Regrese a la pestaña recién abierta para continuar",subtitleNewTab:"Volver a la pestaña anterior para continuar",title:"Correo electrónico verificado con éxito"}},legalConsent:{checkbox:{label__onlyPrivacyPolicy:"He leído y acepto la Política de Privacidad",label__onlyTermsOfService:"He leído y acepto los Términos de Servicio",label__termsOfServiceAndPrivacyPolicy:'He leído y acepto los {{ termsOfServiceLink || link("Términos de Servicio") }} y la {{ privacyPolicyLink || link("Política de Privacidad") }}'},continue:{subtitle:"Al continuar, aceptas las condiciones mencionadas.",title:"Por favor, acepta nuestros términos y políticas para continuar"}},phoneCode:{formSubtitle:"Introduzca el código de verificación enviado a su número de teléfono",formTitle:"Código de verificación",resendButton:"Re-enviar código",subtitle:"para continuar a {{applicationName}}",title:"Verifique su teléfono"},restrictedAccess:{actionLink:"Contáctanos para más información",actionText:"¿Tienes problemas? Obtén ayuda",blockButton__emailSupport:"Soporte por correo electrónico",blockButton__joinWaitlist:"Unirte a la lista de espera",subtitle:"El acceso a esta funcionalidad está restringido en este momento.",subtitleWaitlist:"Te has unido a la lista de espera. Nos pondremos en contacto contigo pronto.",title:"Acceso restringido"},start:{actionLink:"Iniciar sesión",actionLink__use_email:"Usar correo electrónico",actionLink__use_phone:"Usar teléfono",actionText:"¿Ya tienes una cuenta?",alternativePhoneCodeProvider:{actionLink:void 0,label:void 0,subtitle:void 0,title:void 0},subtitle:"para continuar en {{applicationName}}",subtitleCombined:"para continuar en {{applicationName}}",title:"Crea tu cuenta",titleCombined:"Crea tu cuenta"}},socialButtonsBlockButton:"Continuar con {{provider|titleize}}",socialButtonsBlockButtonManyInView:"{{provider|titleize}}",taskChooseOrganization:{chooseOrganization:{action__createOrganization:void 0,action__invitationAccept:void 0,action__suggestionsAccept:void 0,subtitle:void 0,suggestionsAcceptedLabel:void 0,title:void 0},createOrganization:{formButtonReset:void 0,formButtonSubmit:void 0,formFieldInputPlaceholder__name:void 0,formFieldInputPlaceholder__slug:void 0,formFieldLabel__name:void 0,formFieldLabel__slug:void 0,subtitle:void 0,title:void 0},signOut:{actionLink:void 0,actionText:void 0}},unstable__errors:{already_a_member_in_organization:"{{email}} ya es miembro de la organización.",captcha_invalid:"Registro fallido debido a validaciones de seguridad fallidas. Por favor, actualice la página para intentarlo de nuevo o comuníquese con el soporte para más asistencia.",captcha_unavailable:"Registro fallido debido a una validación de bot fallida. Por favor, actualice la página para intentarlo de nuevo o comuníquese con el soporte para más asistencia.",form_code_incorrect:"El código ingresado es incorrecto.",form_identifier_exists__email_address:"Ya existe una cuenta con esta dirección de correo electrónico.",form_identifier_exists__phone_number:"Ya existe una cuenta con este número de teléfono.",form_identifier_exists__username:"Ya existe una cuenta con este nombre de usuario.",form_identifier_not_found:"No se ha encontrado ninguna cuenta con este identificador.",form_param_format_invalid:"Formato de parámetro inválido.",form_param_format_invalid__email_address:"La dirección de correo electrónico debe ser una dirección de correo electrónico válida.",form_param_format_invalid__phone_number:"El número de teléfono debe estar en un formato internacional válido.",form_param_max_length_exceeded__first_name:"El nombre no debe exceder los 256 caracteres.",form_param_max_length_exceeded__last_name:"El apellido no debe exceder los 256 caracteres.",form_param_max_length_exceeded__name:"El nombre no debe exceder los 256 caracteres.",form_param_nil:"Este campo es obligatorio.",form_param_type_invalid:void 0,form_param_type_invalid__email_address:void 0,form_param_type_invalid__phone_number:void 0,form_param_value_invalid:"Valor inválido.",form_password_incorrect:"Contraseña incorrecta.",form_password_length_too_short:"La contraseña es demasiado corta.",form_password_not_strong_enough:"Tu contraseña no es lo suficientemente fuerte.",form_password_pwned:"Tu contraseña ha sido comprometida en una violación de seguridad.",form_password_pwned__sign_in:"La contraseña ya está en uso en otro servicio.",form_password_size_in_bytes_exceeded:"Tu contraseña ha excedido el número máximo de bytes permitidos, por favor acórtala o elimina algunos caracteres especiales.",form_password_validation_failed:"La validación de la contraseña falló.",form_username_invalid_character:"El nombre de usuario contiene caracteres inválidos.",form_username_invalid_length:"El nombre de usuario debe tener entre 3 y 20 caracteres.",identification_deletion_failed:"No puedes eliminar tu última identificación.",not_allowed_access:"La dirección de correo electrónico o el número de teléfono no está permitido para registrarse. Esto puede deberse al uso de '+', '=', '#' o '.' en tu dirección de correo electrónico, el uso de un dominio conectado a un servicio de correo electrónico temporal o la exclusión explícita. Si cree que se trata de un error, póngase en contacto con el soporte.",organization_domain_blocked:"Este es un dominio bloqueado, por favor usa otro.",organization_domain_common:"Este es un dominio común, por favor usa otro.",organization_domain_exists_for_enterprise_connection:void 0,organization_membership_quota_exceeded:"Has alcanzado tu límite de miembros de la organización, incluyendo invitaciones pendientes.",organization_minimum_permissions_needed:"Es necesario que haya al menos un miembro de la organización con los permisos mínimos necesarios.",organization_not_found_or_unauthorized:void 0,organization_not_found_or_unauthorized_with_create_organization_disabled:void 0,passkey_already_exists:"Ya existe una clave de acceso.",passkey_not_supported:"Las claves de acceso no son compatibles.",passkey_pa_not_supported:"La clave de acceso no es compatible con la autenticación de dispositivos.",passkey_registration_cancelled:"El registro de la clave de acceso fue cancelado.",passkey_retrieval_cancelled:"La recuperación de la clave de acceso fue cancelada.",passwordComplexity:{maximumLength:"Menos de {{length}} caracteres",minimumLength:"{{length}} caracteres o más",requireLowercase:"Al menos una letra minúscula",requireNumbers:"Al menos un número",requireSpecialCharacter:"Al menos un carácter especial",requireUppercase:"Al menos una letra mayúscula",sentencePrefix:"Tu contraseña debe contener:"},phone_number_exists:"Este número de teléfono ya está en uso. Por favor, inténtelo con otro.",session_exists:"Ya has iniciado sesión",web3_missing_identifier:void 0,zxcvbn:{couldBeStronger:void 0,goodPassword:void 0,notEnough:void 0,suggestions:{allUppercase:void 0,anotherWord:void 0,associatedYears:void 0,capitalization:void 0,dates:void 0,l33t:void 0,longerKeyboardPattern:void 0,noNeed:void 0,pwned:void 0,recentYears:void 0,repeated:void 0,reverseWords:void 0,sequences:void 0,useWords:void 0},warnings:{common:void 0,commonNames:void 0,dates:void 0,extendedRepeat:void 0,keyPattern:void 0,namesByThemselves:void 0,pwned:void 0,recentYears:void 0,sequences:void 0,similarToCommon:void 0,simpleRepeat:void 0,straightRow:void 0,topHundred:void 0,topTen:void 0,userInputs:void 0,wordByItself:void 0}}},userButton:{action__addAccount:"Añadir cuenta",action__manageAccount:"Administrar cuenta",action__signOut:"Cerrar sesión",action__signOutAll:"Salir de todas las cuentas"},userProfile:{apiKeysPage:{title:void 0},backupCodePage:{actionLabel__copied:"¡Copiado!",actionLabel__copy:"Copiar todo",actionLabel__download:"Descargar .txt",actionLabel__print:"Imprimir",infoText1:"Se habilitarán códigos de respaldo para esta cuenta.",infoText2:"Mantenga los códigos de respaldo en secreto y guárdelos de forma segura. Puede regenerar códigos de respaldo si sospecha que se han visto comprometidos.",subtitle__codelist:"Guárdelos de forma segura y manténgalos en secreto.",successMessage:"Los códigos de respaldo ahora están habilitados. Puede usar uno de estos para iniciar sesión en su cuenta, si pierde el acceso a su dispositivo de autenticación. Cada código solo se puede utilizar una vez.",successSubtitle:"Puede usar uno de estos para iniciar sesión en su cuenta, si pierde el acceso a su dispositivo de autenticación.",title:"Agregar verificación de código de respaldo",title__codelist:"Códigos de respaldo"},billingPage:{paymentHistorySection:{empty:void 0,notFound:void 0,tableHeader__amount:void 0,tableHeader__date:void 0,tableHeader__status:void 0},paymentSourcesSection:{actionLabel__default:void 0,actionLabel__remove:void 0,add:void 0,addSubtitle:void 0,cancelButton:void 0,formButtonPrimary__add:void 0,formButtonPrimary__pay:void 0,payWithTestCardButton:void 0,removeResource:{messageLine1:void 0,messageLine2:void 0,successMessage:void 0,title:void 0},title:void 0},start:{headerTitle__payments:void 0,headerTitle__plans:void 0,headerTitle__statements:void 0,headerTitle__subscriptions:void 0},statementsSection:{empty:void 0,itemCaption__paidForPlan:void 0,itemCaption__proratedCredit:void 0,itemCaption__subscribedAndPaidForPlan:void 0,notFound:void 0,tableHeader__amount:void 0,tableHeader__date:void 0,title:void 0,totalPaid:void 0},subscriptionsListSection:{actionLabel__manageSubscription:void 0,actionLabel__newSubscription:void 0,actionLabel__switchPlan:void 0,tableHeader__edit:void 0,tableHeader__plan:void 0,tableHeader__startDate:void 0,title:void 0},subscriptionsSection:{actionLabel__default:void 0},switchPlansSection:{title:void 0},title:void 0},connectedAccountPage:{formHint:"Seleccione un proveedor para conectar su cuenta.",formHint__noAccounts:"No hay proveedores de cuentas externas disponibles.",removeResource:{messageLine1:"{{identifier}} será eliminado de esta cuenta.",messageLine2:"Ya no podrá usar esta cuenta activa y las funciones dependientes ya no funcionarán.",successMessage:"{{connectedAccount}} ha sido eliminado de su cuenta.",title:"Eliminar cuenta conectada"},socialButtonsBlockButton:"Conectar cuenta de {{provider | titleize}}",successMessage:"El proveedor ha sido agregado a su cuenta",title:"Agregar cuenta conectada"},deletePage:{actionDescription:'Escribe "Eliminar cuenta" a continuación para continuar.',confirm:"Eliminar cuenta",messageLine1:"¿Estás seguro de que quieres eliminar tu cuenta de Clerk? Por favor, contacta al propietario de la aplicación para eliminar tu información de su aplicación y otros servicios.",messageLine2:"Esta acción es permanente e irreversible.",title:"Eliminar cuenta"},emailAddressPage:{emailCode:{formHint:"A esta dirección de correo electrónico se le enviará un correo electrónico con un Código de verificación.",formSubtitle:"Introduzca el código de verificación enviado a {{identifier}}",formTitle:"Código de verificación",resendButton:"Re-enviar código",successMessage:"El correo electrónico {{identifier}} se ha agregado a su cuenta."},emailLink:{formHint:"Se enviará un correo electrónico con un enlace de verificación a esta dirección de correo electrónico.",formSubtitle:"Haga clic en el enlace de verificación en el correo electrónico enviado a {{identifier}}",formTitle:"Enlace de verificación",resendButton:"Reenviar enlace",successMessage:"El correo electrónico {{identifier}} se ha agregado a su cuenta."},enterpriseSSOLink:{formButton:void 0,formSubtitle:void 0},formHint:void 0,removeResource:{messageLine1:"{{identifier}} será eliminado de esta cuenta.",messageLine2:"Ya no podrá iniciar sesión con esta dirección de correo electrónico.",successMessage:"{{emailAddress}} ha sido eliminado de su cuenta.",title:"Eliminar dirección de correo electrónico"},title:"Agregar dirección de correo electrónico",verifyTitle:"Verificar correo electrónico"},formButtonPrimary__add:"Agregar",formButtonPrimary__continue:"Continuar",formButtonPrimary__finish:"Terminar",formButtonPrimary__remove:"Eliminar",formButtonPrimary__save:"Guardar",formButtonReset:"Cancelar",mfaPage:{formHint:"Seleccione un método para agregar.",title:"Agregar verificación en dos pasos"},mfaPhoneCodePage:{backButton:"Usar número existente",primaryButton__addPhoneNumber:"Agregar un número de teléfono",removeResource:{messageLine1:"{{identifier}} dejará de recibir el Código de verificación al iniciar sesión.",messageLine2:"Es posible que su cuenta no sea tan segura. ¿Estás seguro de que quieres continuar?",successMessage:"Se eliminó la verificación de dos pasos del código SMS para {{mfaPhoneCode}}",title:"Eliminar la verificación en dos pasos"},subtitle__availablePhoneNumbers:"Seleccione un número de teléfono para registrarse para la verificación en dos pasos del código SMS.",subtitle__unavailablePhoneNumbers:"No hay números de teléfono disponibles para registrarse para la verificación en dos pasos del código SMS.",successMessage1:"Al iniciar sesión, deberá ingresar un código de verificación enviado a este número de teléfono como un paso adicional.",successMessage2:"Guarde estos códigos de respaldo y almacénelos en un lugar seguro. Si pierde el acceso a su dispositivo de autenticación, puede usar los códigos de respaldo para iniciar sesión.",successTitle:"Verificación de código SMS habilitada",title:"Agregar verificación de código SMS"},mfaTOTPPage:{authenticatorApp:{buttonAbleToScan__nonPrimary:"Escanea el código QR en su lugar",buttonUnableToScan__nonPrimary:"¿No puedes escanear el código QR?",infoText__ableToScan:"Configure un nuevo método de inicio de sesión en su aplicación de autenticación y escanee el siguiente código QR para vincularlo a su cuenta.",infoText__unableToScan:"Configure un nuevo método de inicio de sesión en su autenticador e ingrese la clave que se proporciona a continuación.",inputLabel__unableToScan1:"Asegúrese de que las contraseñas basadas en el tiempo o de un solo uso estén habilitadas, luego termine de vincular su cuenta.",inputLabel__unableToScan2:"Alternativamente, si su autenticador admite TOTP URIs, también puede copiar el URI completo."},removeResource:{messageLine1:"El código de verificación de este autenticador ya no será necesario al iniciar sesión.",messageLine2:"Es posible que su cuenta no sea tan segura. ¿Estás seguro de que quieres continuar?",successMessage:"Se eliminó la verificación en dos pasos a través de la aplicación de autenticación.",title:"Eliminar la verificación en dos pasos"},successMessage:"La verificación en dos pasos ahora está habilitada. Al iniciar sesión, deberá ingresar un código de verificación de este autenticador como un paso adicional.",title:"Agregar aplicación de autenticación",verifySubtitle:"Ingrese el código de verificación generado por su autenticador",verifyTitle:"Código de verificación"},mobileButton__menu:"Menú",navbar:{account:"Perfil",apiKeys:void 0,billing:void 0,description:"Gestiona la información de tu cuenta.",security:"Seguridad",title:"Cuenta"},passkeyScreen:{removeResource:{messageLine1:"¿Estás seguro de que deseas eliminar este recurso?",title:"Eliminar Recurso"},subtitle__rename:"Ingresa el nuevo nombre para la clave de acceso.",title__rename:"Renombrar Clave de Acceso"},passwordPage:{checkboxInfoText__signOutOfOtherSessions:"Se recomienda cerrar sesión en todos los demás dispositivos que puedan haber usado su contraseña anterior.",readonly:"Su contraseña actualmente no puede ser editada porque solo puede iniciar sesión a través de la conexión empresarial.",successMessage__set:"Su contraseña ha sido establecida.",successMessage__signOutOfOtherSessions:"Todos los demás dispositivos han cerrado sesión.",successMessage__update:"Tu contraseña ha sido actualizada.",title__set:"Configurar la clave",title__update:"Cambiar contraseña"},phoneNumberPage:{infoText:"Se enviará un mensaje de texto con un enlace de verificación a este número de teléfono.",removeResource:{messageLine1:"{{identifier}} será eliminado de esta cuenta.",messageLine2:"Ya no podrá iniciar sesión con este número de teléfono.",successMessage:"{{phoneNumber}} ha sido eliminado de su cuenta.",title:"Eliminar número de teléfono"},successMessage:"{{identifier}} ha sido añadido a tu cuenta.",title:"Agregar el número de teléfono",verifySubtitle:"Introduzca el código de verificación enviado a {{identifier}}",verifyTitle:"Verificar número de teléfono"},plansPage:{title:void 0},profilePage:{fileDropAreaHint:"Cargue una imagen JPG, PNG, GIF o WEBP de menos de 10 MB",imageFormDestructiveActionSubtitle:"Eliminar la imagen",imageFormSubtitle:"Cargar imagen",imageFormTitle:"Imagen de perfil",readonly:"La información de su perfil ha sido proporcionada por la conexión empresarial y no puede ser editada.",successMessage:"Tu perfil ha sido actualizado.",title:"Actualizar Cuenta"},start:{activeDevicesSection:{destructiveAction:"Cerrar sesión en el dispositivo",title:"Dispositivos activos"},connectedAccountsSection:{actionLabel__connectionFailed:"Inténtelo nuevamente",actionLabel__reauthorize:"Autorizar ahora",destructiveActionTitle:"Quitar",primaryButton:"Conectar cuenta",subtitle__disconnected:void 0,subtitle__reauthorize:"Los permisos necesarios han sido actualizados, y podría estar experimentando funcionalidad limitada. Por favor, reautorice esta aplicación para evitar problemas.",title:"Cuentas conectadas"},dangerSection:{deleteAccountButton:"Eliminar cuenta",title:"Eliminar cuenta"},emailAddressesSection:{destructiveAction:"Eliminar dirección de correo electrónico",detailsAction__nonPrimary:"Establecer como primario",detailsAction__primary:"Completar la verificación",detailsAction__unverified:"Completar la verificación",primaryButton:"Agregar una dirección de correo electrónico",title:"Correos electrónicos"},enterpriseAccountsSection:{title:"Cuentas empresariales"},headerTitle__account:"Cuenta",headerTitle__security:"Seguridad",mfaSection:{backupCodes:{actionLabel__regenerate:"Regenerar códigos",headerTitle:"Códigos de respaldo",subtitle__regenerate:"Obtenga un nuevo conjunto de códigos de respaldo seguros. Los códigos de respaldo anteriores se eliminarán y no podrán ser usados.",title__regenerate:"Regenerar códigos de respaldo"},phoneCode:{actionLabel__setDefault:"Establecer por defecto",destructiveActionLabel:"Eliminar número telefónico"},primaryButton:"Añadir verificación de dos pasos",title:"Verificación de dos pasos",totp:{destructiveActionTitle:"Eliminar",headerTitle:"Aplicación de autenticación"}},passkeysSection:{menuAction__destructive:"Eliminar Clave de Acceso",menuAction__rename:"Renombrar Clave de Acceso",primaryButton:void 0,title:"Sección de Claves de Acceso"},passwordSection:{primaryButton__setPassword:"Establecer contraseña",primaryButton__updatePassword:"Cambiar contraseña",title:"Contraseña"},phoneNumbersSection:{destructiveAction:"Quitar número de teléfono",detailsAction__nonPrimary:"Establecer como primario",detailsAction__primary:"Completar la verificación",detailsAction__unverified:"Completar la verificación",primaryButton:"Agregar un número de teléfono",title:"Números telefónicos"},profileSection:{primaryButton:"Actualizar perfil",title:"Perfil"},usernameSection:{primaryButton__setUsername:"Crear nombre de usuario",primaryButton__updateUsername:"Cambiar nombre de usuario",title:"Nombre de usuario"},web3WalletsSection:{destructiveAction:"Quitar cartera",detailsAction__nonPrimary:void 0,primaryButton:"Agregar cartera Web3",title:"Cartera Web3"}},usernamePage:{successMessage:"Su nombre de usuario ha sido actualizado.",title__set:"Actualizar nombre de usuario",title__update:"Actualizar nombre de usuario"},web3WalletPage:{removeResource:{messageLine1:"{{identifier}} será eliminado de esta cuenta.",messageLine2:"Ya no podrá iniciar sesión con esta billetera web3.",successMessage:"{{web3Wallet}} ha sido eliminado de su cuenta.",title:"Eliminar la billetera web3"},subtitle__availableWallets:"Seleccione una billetera web3 para conectarse a su cuenta.",subtitle__unavailableWallets:"No hay billeteras web3 disponibles.",successMessage:"La billetera ha sido agregada a su cuenta.",title:"Añadir billetera Web3",web3WalletButtonsBlockButton:"Conectar billetera"}},waitlist:{start:{actionLink:"¡Únete a la lista de espera!",actionText:"Si no tienes acceso, puedes unirte a nuestra lista de espera para recibir una invitación más adelante.",formButton:"Unirse ahora",subtitle:"Sé uno de los primeros en acceder a {{applicationName}}.",title:"Únete a la lista de espera"},success:{message:"¡Felicidades! Te has unido exitosamente a la lista de espera.",subtitle:"Recibirás una invitación para unirte cuando haya espacio disponible.",title:"¡Te has unido a la lista de espera!"}}},Wo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},T2={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Tn,xf,R0,R2=(R0=class{constructor(){V(this,Tn,T2);V(this,xf,!1)}setTimeoutProvider(e){D(this,Tn,e)}setTimeout(e,t){return T(this,Tn).setTimeout(e,t)}clearTimeout(e){T(this,Tn).clearTimeout(e)}setInterval(e,t){return T(this,Tn).setInterval(e,t)}clearInterval(e){T(this,Tn).clearInterval(e)}},Tn=new WeakMap,xf=new WeakMap,R0),ks=new R2;function A2(e){setTimeout(e,0)}var $s=typeof window>"u"||"Deno"in globalThis;function Ot(){}function O2(e,t){return typeof e=="function"?e(t):e}function $h(e){return typeof e=="number"&&e>=0&&e!==1/0}function ib(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Jn(e,t){return typeof e=="function"?e(t):e}function er(e,t){return typeof e=="function"?e(t):e}function Gg(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==bm(o,t.options))return!1}else if(!go(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function Jg(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(po(t.options.mutationKey)!==po(i))return!1}else if(!go(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function bm(e,t){return((t==null?void 0:t.queryKeyHashFn)||po)(e)}function po(e){return JSON.stringify(e,(t,r)=>Wh(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function go(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>go(e[r],t[r])):!1}var F2=Object.prototype.hasOwnProperty;function ob(e,t){if(e===t)return e;const r=Yg(e)&&Yg(t);if(!r&&!(Wh(e)&&Wh(t)))return t;const s=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),o=i.length,l=r?new Array(o):{};let c=0;for(let d=0;d<o;d++){const u=r?d:i[d],h=e[u],f=t[u];if(h===f){l[u]=h,(r?d<s:F2.call(e,u))&&c++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){l[u]=f;continue}const m=ob(h,f);l[u]=m,m===h&&c++}return s===o&&c===s?e:l}function Bh(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Yg(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Wh(e){if(!Xg(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Xg(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Xg(e){return Object.prototype.toString.call(e)==="[object Object]"}function L2(e){return new Promise(t=>{ks.setTimeout(t,e)})}function qh(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?ob(e,t):t}function I2(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function M2(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var wm=Symbol();function lb(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===wm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function U2(e,t){return typeof e=="function"?e(...t):!!e}var js,Rn,Pa,A0,D2=(A0=class extends Wo{constructor(){super();V(this,js,void 0);V(this,Rn,void 0);V(this,Pa,void 0);D(this,Pa,t=>{if(!$s&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){T(this,Rn)||this.setEventListener(T(this,Pa))}onUnsubscribe(){var t;this.hasListeners()||((t=T(this,Rn))==null||t.call(this),D(this,Rn,void 0))}setEventListener(t){var r;D(this,Pa,t),(r=T(this,Rn))==null||r.call(this),D(this,Rn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){T(this,js)!==t&&(D(this,js,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof T(this,js)=="boolean"?T(this,js):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},js=new WeakMap,Rn=new WeakMap,Pa=new WeakMap,A0),km=new D2;function Hh(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var z2=A2;function $2(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=z2;const i=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var dt=$2(),Ca,An,Ta,O0,B2=(O0=class extends Wo{constructor(){super();V(this,Ca,!0);V(this,An,void 0);V(this,Ta,void 0);D(this,Ta,t=>{if(!$s&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){T(this,An)||this.setEventListener(T(this,Ta))}onUnsubscribe(){var t;this.hasListeners()||((t=T(this,An))==null||t.call(this),D(this,An,void 0))}setEventListener(t){var r;D(this,Ta,t),(r=T(this,An))==null||r.call(this),D(this,An,t(this.setOnline.bind(this)))}setOnline(t){T(this,Ca)!==t&&(D(this,Ca,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return T(this,Ca)}},Ca=new WeakMap,An=new WeakMap,Ta=new WeakMap,O0),Rc=new B2;function W2(e){return Math.min(1e3*2**e,3e4)}function cb(e){return(e??"online")==="online"?Rc.isOnline():!0}var Vh=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function db(e){let t=!1,r=0,n;const s=Hh(),i=()=>s.status!=="pending",o=x=>{var j;if(!i()){const p=new Vh(x);f(p),(j=e.onCancel)==null||j.call(e,p)}},l=()=>{t=!0},c=()=>{t=!1},d=()=>km.isFocused()&&(e.networkMode==="always"||Rc.isOnline())&&e.canRun(),u=()=>cb(e.networkMode)&&e.canRun(),h=x=>{i()||(n==null||n(),s.resolve(x))},f=x=>{i()||(n==null||n(),s.reject(x))},m=()=>new Promise(x=>{var j;n=p=>{(i()||d())&&x(p)},(j=e.onPause)==null||j.call(e)}).then(()=>{var x;n=void 0,i()||(x=e.onContinue)==null||x.call(e)}),v=()=>{if(i())return;let x;const j=r===0?e.initialPromise:void 0;try{x=j??e.fn()}catch(p){x=Promise.reject(p)}Promise.resolve(x).then(h).catch(p=>{var N;if(i())return;const g=e.retry??($s?0:3),y=e.retryDelay??W2,b=typeof y=="function"?y(r,p):y,_=g===!0||typeof g=="number"&&r<g||typeof g=="function"&&g(r,p);if(t||!_){f(p);return}r++,(N=e.onFail)==null||N.call(e,r,p),L2(b).then(()=>d()?void 0:m()).then(()=>{t?f(p):v()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n==null||n(),s),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?v():m().then(v),s)}}var _s,F0,ub=(F0=class{constructor(){V(this,_s,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),$h(this.gcTime)&&D(this,_s,ks.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??($s?1/0:5*60*1e3))}clearGcTimeout(){T(this,_s)&&(ks.clearTimeout(T(this,_s)),D(this,_s,void 0))}},_s=new WeakMap,F0),Ns,Ra,Zt,Ss,st,ko,Es,mr,Qr,L0,q2=(L0=class extends ub{constructor(t){super();V(this,mr);V(this,Ns,void 0);V(this,Ra,void 0);V(this,Zt,void 0);V(this,Ss,void 0);V(this,st,void 0);V(this,ko,void 0);V(this,Es,void 0);D(this,Es,!1),D(this,ko,t.defaultOptions),this.setOptions(t.options),this.observers=[],D(this,Ss,t.client),D(this,Zt,T(this,Ss).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,D(this,Ns,Zg(this.options)),this.state=t.state??T(this,Ns),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=T(this,st))==null?void 0:t.promise}setOptions(t){if(this.options={...T(this,ko),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Zg(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),D(this,Ns,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&T(this,Zt).remove(this)}setData(t,r){const n=qh(this.state.data,t,this.options);return ue(this,mr,Qr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ue(this,mr,Qr).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=T(this,st))==null?void 0:n.promise;return(s=T(this,st))==null||s.cancel(t),r?r.then(Ot).catch(Ot):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(T(this,Ns))}isActive(){return this.observers.some(t=>er(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===wm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Jn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!ib(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=T(this,st))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=T(this,st))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),T(this,Zt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(T(this,st)&&(T(this,Es)?T(this,st).cancel({revert:!0}):T(this,st).cancelRetry()),this.scheduleGc()),T(this,Zt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ue(this,mr,Qr).call(this,{type:"invalidate"})}async fetch(t,r){var c,d,u,h,f,m,v,x,j,p,g,y;if(this.state.fetchStatus!=="idle"&&((c=T(this,st))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(T(this,st))return T(this,st).continueRetry(),T(this,st).promise}if(t&&this.setOptions(t),!this.options.queryFn){const b=this.observers.find(_=>_.options.queryFn);b&&this.setOptions(b.options)}const n=new AbortController,s=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(D(this,Es,!0),n.signal)})},i=()=>{const b=lb(this.options,r),N=(()=>{const k={client:T(this,Ss),queryKey:this.queryKey,meta:this.meta};return s(k),k})();return D(this,Es,!1),this.options.persister?this.options.persister(b,N,this):b(N)},l=(()=>{const b={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:T(this,Ss),state:this.state,fetchFn:i};return s(b),b})();(d=this.options.behavior)==null||d.onFetch(l,this),D(this,Ra,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&ue(this,mr,Qr).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),D(this,st,db({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:b=>{b instanceof Vh&&b.revert&&this.setState({...T(this,Ra),fetchStatus:"idle"}),n.abort()},onFail:(b,_)=>{ue(this,mr,Qr).call(this,{type:"failed",failureCount:b,error:_})},onPause:()=>{ue(this,mr,Qr).call(this,{type:"pause"})},onContinue:()=>{ue(this,mr,Qr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const b=await T(this,st).start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),(m=(f=T(this,Zt).config).onSuccess)==null||m.call(f,b,this),(x=(v=T(this,Zt).config).onSettled)==null||x.call(v,b,this.state.error,this),b}catch(b){if(b instanceof Vh){if(b.silent)return T(this,st).promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw ue(this,mr,Qr).call(this,{type:"error",error:b}),(p=(j=T(this,Zt).config).onError)==null||p.call(j,b,this),(y=(g=T(this,Zt).config).onSettled)==null||y.call(g,this.state.data,b,this),b}finally{this.scheduleGc()}}},Ns=new WeakMap,Ra=new WeakMap,Zt=new WeakMap,Ss=new WeakMap,st=new WeakMap,ko=new WeakMap,Es=new WeakMap,mr=new WeakSet,Qr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...hb(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return D(this,Ra,t.manual?s:void 0),s;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),dt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),T(this,Zt).notify({query:this,type:"updated",action:t})})},L0);function hb(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:cb(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Zg(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Rt,he,jo,kt,Ps,Aa,Zr,On,_o,Oa,Fa,Cs,Ts,Fn,La,Rs,Ci,No,Kh,So,Qh,Eo,Gh,Po,Jh,Co,Yh,To,Xh,Ro,Zh,Dc,fb,I0,H2=(I0=class extends Wo{constructor(t,r){super();V(this,Rs);V(this,No);V(this,So);V(this,Eo);V(this,Po);V(this,Co);V(this,To);V(this,Ro);V(this,Dc);V(this,Rt,void 0);V(this,he,void 0);V(this,jo,void 0);V(this,kt,void 0);V(this,Ps,void 0);V(this,Aa,void 0);V(this,Zr,void 0);V(this,On,void 0);V(this,_o,void 0);V(this,Oa,void 0);V(this,Fa,void 0);V(this,Cs,void 0);V(this,Ts,void 0);V(this,Fn,void 0);V(this,La,new Set);this.options=r,D(this,Rt,t),D(this,On,null),D(this,Zr,Hh()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(T(this,he).addObserver(this),e0(T(this,he),this.options)?ue(this,Rs,Ci).call(this):this.updateResult(),ue(this,Po,Jh).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ef(T(this,he),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ef(T(this,he),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ue(this,Co,Yh).call(this),ue(this,To,Xh).call(this),T(this,he).removeObserver(this)}setOptions(t){const r=this.options,n=T(this,he);if(this.options=T(this,Rt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof er(this.options.enabled,T(this,he))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ue(this,Ro,Zh).call(this),T(this,he).setOptions(this.options),r._defaulted&&!Bh(this.options,r)&&T(this,Rt).getQueryCache().notify({type:"observerOptionsUpdated",query:T(this,he),observer:this});const s=this.hasListeners();s&&t0(T(this,he),n,this.options,r)&&ue(this,Rs,Ci).call(this),this.updateResult(),s&&(T(this,he)!==n||er(this.options.enabled,T(this,he))!==er(r.enabled,T(this,he))||Jn(this.options.staleTime,T(this,he))!==Jn(r.staleTime,T(this,he)))&&ue(this,No,Kh).call(this);const i=ue(this,So,Qh).call(this);s&&(T(this,he)!==n||er(this.options.enabled,T(this,he))!==er(r.enabled,T(this,he))||i!==T(this,Fn))&&ue(this,Eo,Gh).call(this,i)}getOptimisticResult(t){const r=T(this,Rt).getQueryCache().build(T(this,Rt),t),n=this.createResult(r,t);return K2(this,n)&&(D(this,kt,n),D(this,Aa,this.options),D(this,Ps,T(this,he).state)),n}getCurrentResult(){return T(this,kt)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&!this.options.experimental_prefetchInRender&&T(this,Zr).status==="pending"&&T(this,Zr).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,s))})}trackProp(t){T(this,La).add(t)}getCurrentQuery(){return T(this,he)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=T(this,Rt).defaultQueryOptions(t),n=T(this,Rt).getQueryCache().build(T(this,Rt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ue(this,Rs,Ci).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),T(this,kt)))}createResult(t,r){var S;const n=T(this,he),s=this.options,i=T(this,kt),o=T(this,Ps),l=T(this,Aa),d=t!==n?t.state:T(this,jo),{state:u}=t;let h={...u},f=!1,m;if(r._optimisticResults){const C=this.hasListeners(),F=!C&&e0(t,r),z=C&&t0(t,n,r,s);(F||z)&&(h={...h,...hb(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:x,status:j}=h;m=h.data;let p=!1;if(r.placeholderData!==void 0&&m===void 0&&j==="pending"){let C;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(C=i.data,p=!0):C=typeof r.placeholderData=="function"?r.placeholderData((S=T(this,Fa))==null?void 0:S.state.data,T(this,Fa)):r.placeholderData,C!==void 0&&(j="success",m=qh(i==null?void 0:i.data,C,r),f=!0)}if(r.select&&m!==void 0&&!p)if(i&&m===(o==null?void 0:o.data)&&r.select===T(this,_o))m=T(this,Oa);else try{D(this,_o,r.select),m=r.select(m),m=qh(i==null?void 0:i.data,m,r),D(this,Oa,m),D(this,On,null)}catch(C){D(this,On,C)}T(this,On)&&(v=T(this,On),m=T(this,Oa),x=Date.now(),j="error");const g=h.fetchStatus==="fetching",y=j==="pending",b=j==="error",_=y&&g,N=m!==void 0,E={status:j,fetchStatus:h.fetchStatus,isPending:y,isSuccess:j==="success",isError:b,isInitialLoading:_,isLoading:_,data:m,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:x,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:g,isRefetching:g&&!y,isLoadingError:b&&!N,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:b&&N,isStale:jm(t,r),refetch:this.refetch,promise:T(this,Zr),isEnabled:er(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const C=J=>{E.status==="error"?J.reject(E.error):E.data!==void 0&&J.resolve(E.data)},F=()=>{const J=D(this,Zr,E.promise=Hh());C(J)},z=T(this,Zr);switch(z.status){case"pending":t.queryHash===n.queryHash&&C(z);break;case"fulfilled":(E.status==="error"||E.data!==z.value)&&F();break;case"rejected":(E.status!=="error"||E.error!==z.reason)&&F();break}}return E}updateResult(){const t=T(this,kt),r=this.createResult(T(this,he),this.options);if(D(this,Ps,T(this,he).state),D(this,Aa,this.options),T(this,Ps).data!==void 0&&D(this,Fa,T(this,he)),Bh(r,t))return;D(this,kt,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!T(this,La).size)return!0;const o=new Set(i??T(this,La));return this.options.throwOnError&&o.add("error"),Object.keys(T(this,kt)).some(l=>{const c=l;return T(this,kt)[c]!==t[c]&&o.has(c)})};ue(this,Dc,fb).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ue(this,Po,Jh).call(this)}},Rt=new WeakMap,he=new WeakMap,jo=new WeakMap,kt=new WeakMap,Ps=new WeakMap,Aa=new WeakMap,Zr=new WeakMap,On=new WeakMap,_o=new WeakMap,Oa=new WeakMap,Fa=new WeakMap,Cs=new WeakMap,Ts=new WeakMap,Fn=new WeakMap,La=new WeakMap,Rs=new WeakSet,Ci=function(t){ue(this,Ro,Zh).call(this);let r=T(this,he).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Ot)),r},No=new WeakSet,Kh=function(){ue(this,Co,Yh).call(this);const t=Jn(this.options.staleTime,T(this,he));if($s||T(this,kt).isStale||!$h(t))return;const n=ib(T(this,kt).dataUpdatedAt,t)+1;D(this,Cs,ks.setTimeout(()=>{T(this,kt).isStale||this.updateResult()},n))},So=new WeakSet,Qh=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(T(this,he)):this.options.refetchInterval)??!1},Eo=new WeakSet,Gh=function(t){ue(this,To,Xh).call(this),D(this,Fn,t),!($s||er(this.options.enabled,T(this,he))===!1||!$h(T(this,Fn))||T(this,Fn)===0)&&D(this,Ts,ks.setInterval(()=>{(this.options.refetchIntervalInBackground||km.isFocused())&&ue(this,Rs,Ci).call(this)},T(this,Fn)))},Po=new WeakSet,Jh=function(){ue(this,No,Kh).call(this),ue(this,Eo,Gh).call(this,ue(this,So,Qh).call(this))},Co=new WeakSet,Yh=function(){T(this,Cs)&&(ks.clearTimeout(T(this,Cs)),D(this,Cs,void 0))},To=new WeakSet,Xh=function(){T(this,Ts)&&(ks.clearInterval(T(this,Ts)),D(this,Ts,void 0))},Ro=new WeakSet,Zh=function(){const t=T(this,Rt).getQueryCache().build(T(this,Rt),this.options);if(t===T(this,he))return;const r=T(this,he);D(this,he,t),D(this,jo,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},Dc=new WeakSet,fb=function(t){dt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(T(this,kt))}),T(this,Rt).getQueryCache().notify({query:T(this,he),type:"observerResultsUpdated"})})},I0);function V2(e,t){return er(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function e0(e,t){return V2(e,t)||e.state.data!==void 0&&ef(e,t,t.refetchOnMount)}function ef(e,t,r){if(er(t.enabled,e)!==!1&&Jn(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&jm(e,t)}return!1}function t0(e,t,r,n){return(e!==t||er(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&jm(e,r)}function jm(e,t){return er(t.enabled,e)!==!1&&e.isStaleByTime(Jn(t.staleTime,e))}function K2(e,t){return!Bh(e.getCurrentResult(),t)}function r0(e){return{onFetch:(t,r)=>{var u,h,f,m,v;const n=t.options,s=(f=(h=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let x=!1;const j=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},p=lb(t.options,t.fetchOptions),g=async(y,b,_)=>{if(x)return Promise.reject();if(b==null&&y.pages.length)return Promise.resolve(y);const k=(()=>{const F={client:t.client,queryKey:t.queryKey,pageParam:b,direction:_?"backward":"forward",meta:t.options.meta};return j(F),F})(),E=await p(k),{maxPages:S}=t.options,C=_?M2:I2;return{pages:C(y.pages,E,S),pageParams:C(y.pageParams,b,S)}};if(s&&i.length){const y=s==="backward",b=y?Q2:n0,_={pages:i,pageParams:o},N=b(n,_);l=await g(_,N,y)}else{const y=e??i.length;do{const b=c===0?o[0]??n.initialPageParam:n0(n,l);if(c>0&&b==null)break;l=await g(l,b),c++}while(c<y)}return l};t.options.persister?t.fetchFn=()=>{var x,j;return(j=(x=t.options).persister)==null?void 0:j.call(x,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function n0(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Q2(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Ao,Or,jt,As,Fr,wn,M0,G2=(M0=class extends ub{constructor(t){super();V(this,Fr);V(this,Ao,void 0);V(this,Or,void 0);V(this,jt,void 0);V(this,As,void 0);D(this,Ao,t.client),this.mutationId=t.mutationId,D(this,jt,t.mutationCache),D(this,Or,[]),this.state=t.state||J2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){T(this,Or).includes(t)||(T(this,Or).push(t),this.clearGcTimeout(),T(this,jt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){D(this,Or,T(this,Or).filter(r=>r!==t)),this.scheduleGc(),T(this,jt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){T(this,Or).length||(this.state.status==="pending"?this.scheduleGc():T(this,jt).remove(this))}continue(){var t;return((t=T(this,As))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,d,u,h,f,m,v,x,j,p,g,y,b,_,N,k,E,S;const r=()=>{ue(this,Fr,wn).call(this,{type:"continue"})},n={client:T(this,Ao),meta:this.options.meta,mutationKey:this.options.mutationKey};D(this,As,db({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(C,F)=>{ue(this,Fr,wn).call(this,{type:"failed",failureCount:C,error:F})},onPause:()=>{ue(this,Fr,wn).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>T(this,jt).canRun(this)}));const s=this.state.status==="pending",i=!T(this,As).canStart();try{if(s)r();else{ue(this,Fr,wn).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=T(this,jt).config).onMutate)==null?void 0:l.call(o,t,this,n));const F=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,t,n));F!==this.state.context&&ue(this,Fr,wn).call(this,{type:"pending",context:F,variables:t,isPaused:i})}const C=await T(this,As).start();return await((h=(u=T(this,jt).config).onSuccess)==null?void 0:h.call(u,C,t,this.state.context,this,n)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,C,t,this.state.context,n)),await((x=(v=T(this,jt).config).onSettled)==null?void 0:x.call(v,C,null,this.state.variables,this.state.context,this,n)),await((p=(j=this.options).onSettled)==null?void 0:p.call(j,C,null,t,this.state.context,n)),ue(this,Fr,wn).call(this,{type:"success",data:C}),C}catch(C){try{throw await((y=(g=T(this,jt).config).onError)==null?void 0:y.call(g,C,t,this.state.context,this,n)),await((_=(b=this.options).onError)==null?void 0:_.call(b,C,t,this.state.context,n)),await((k=(N=T(this,jt).config).onSettled)==null?void 0:k.call(N,void 0,C,this.state.variables,this.state.context,this,n)),await((S=(E=this.options).onSettled)==null?void 0:S.call(E,void 0,C,t,this.state.context,n)),C}finally{ue(this,Fr,wn).call(this,{type:"error",error:C})}}finally{T(this,jt).runNext(this)}}},Ao=new WeakMap,Or=new WeakMap,jt=new WeakMap,As=new WeakMap,Fr=new WeakSet,wn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),dt.batch(()=>{T(this,Or).forEach(n=>{n.onMutationUpdate(t)}),T(this,jt).notify({mutation:this,type:"updated",action:t})})},M0);function J2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var en,pr,Oo,U0,Y2=(U0=class extends Wo{constructor(t={}){super();V(this,en,void 0);V(this,pr,void 0);V(this,Oo,void 0);this.config=t,D(this,en,new Set),D(this,pr,new Map),D(this,Oo,0)}build(t,r,n){const s=new G2({client:t,mutationCache:this,mutationId:++il(this,Oo)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){T(this,en).add(t);const r=Al(t);if(typeof r=="string"){const n=T(this,pr).get(r);n?n.push(t):T(this,pr).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(T(this,en).delete(t)){const r=Al(t);if(typeof r=="string"){const n=T(this,pr).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&T(this,pr).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Al(t);if(typeof r=="string"){const n=T(this,pr).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=Al(t);if(typeof r=="string"){const s=(n=T(this,pr).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){dt.batch(()=>{T(this,en).forEach(t=>{this.notify({type:"removed",mutation:t})}),T(this,en).clear(),T(this,pr).clear()})}getAll(){return Array.from(T(this,en))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Jg(r,n))}findAll(t={}){return this.getAll().filter(r=>Jg(t,r))}notify(t){dt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return dt.batch(()=>Promise.all(t.map(r=>r.continue().catch(Ot))))}},en=new WeakMap,pr=new WeakMap,Oo=new WeakMap,U0);function Al(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Lr,D0,X2=(D0=class extends Wo{constructor(t={}){super();V(this,Lr,void 0);this.config=t,D(this,Lr,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??bm(s,r);let o=this.get(i);return o||(o=new q2({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){T(this,Lr).has(t.queryHash)||(T(this,Lr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=T(this,Lr).get(t.queryHash);r&&(t.destroy(),r===t&&T(this,Lr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){dt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return T(this,Lr).get(t)}getAll(){return[...T(this,Lr).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Gg(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Gg(t,n)):r}notify(t){dt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){dt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){dt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Lr=new WeakMap,D0),De,Ln,In,Ia,Ma,Mn,Ua,Da,z0,Z2=(z0=class{constructor(e={}){V(this,De,void 0);V(this,Ln,void 0);V(this,In,void 0);V(this,Ia,void 0);V(this,Ma,void 0);V(this,Mn,void 0);V(this,Ua,void 0);V(this,Da,void 0);D(this,De,e.queryCache||new X2),D(this,Ln,e.mutationCache||new Y2),D(this,In,e.defaultOptions||{}),D(this,Ia,new Map),D(this,Ma,new Map),D(this,Mn,0)}mount(){il(this,Mn)._++,T(this,Mn)===1&&(D(this,Ua,km.subscribe(async e=>{e&&(await this.resumePausedMutations(),T(this,De).onFocus())})),D(this,Da,Rc.subscribe(async e=>{e&&(await this.resumePausedMutations(),T(this,De).onOnline())})))}unmount(){var e,t;il(this,Mn)._--,T(this,Mn)===0&&((e=T(this,Ua))==null||e.call(this),D(this,Ua,void 0),(t=T(this,Da))==null||t.call(this),D(this,Da,void 0))}isFetching(e){return T(this,De).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return T(this,Ln).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=T(this,De).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=T(this,De).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Jn(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return T(this,De).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=T(this,De).get(n.queryHash),i=s==null?void 0:s.state.data,o=O2(t,i);if(o!==void 0)return T(this,De).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return dt.batch(()=>T(this,De).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=T(this,De).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=T(this,De);dt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=T(this,De);return dt.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=dt.batch(()=>T(this,De).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Ot).catch(Ot)}invalidateQueries(e,t={}){return dt.batch(()=>(T(this,De).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=dt.batch(()=>T(this,De).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Ot)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Ot)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=T(this,De).build(this,t);return r.isStaleByTime(Jn(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ot).catch(Ot)}fetchInfiniteQuery(e){return e.behavior=r0(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ot).catch(Ot)}ensureInfiniteQueryData(e){return e.behavior=r0(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Rc.isOnline()?T(this,Ln).resumePausedMutations():Promise.resolve()}getQueryCache(){return T(this,De)}getMutationCache(){return T(this,Ln)}getDefaultOptions(){return T(this,In)}setDefaultOptions(e){D(this,In,e)}setQueryDefaults(e,t){T(this,Ia).set(po(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...T(this,Ia).values()],r={};return t.forEach(n=>{go(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){T(this,Ma).set(po(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...T(this,Ma).values()],r={};return t.forEach(n=>{go(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...T(this,In).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=bm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===wm&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...T(this,In).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){T(this,De).clear(),T(this,Ln).clear()}},De=new WeakMap,Ln=new WeakMap,In=new WeakMap,Ia=new WeakMap,Ma=new WeakMap,Mn=new WeakMap,Ua=new WeakMap,Da=new WeakMap,z0),mb=w.createContext(void 0),pb=e=>{const t=w.useContext(mb);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},eE=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(mb.Provider,{value:e,children:t})),gb=w.createContext(!1),tE=()=>w.useContext(gb);gb.Provider;function rE(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var nE=w.createContext(rE()),sE=()=>w.useContext(nE),aE=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},iE=e=>{w.useEffect(()=>{e.clearReset()},[e])},oE=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||U2(r,[e.error,n])),lE=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},cE=(e,t)=>e.isLoading&&e.isFetching&&!t,dE=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,s0=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function uE(e,t,r){var h,f,m,v,x;const n=tE(),s=sE(),i=pb(r),o=i.defaultQueryOptions(e);(f=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,o),o._optimisticResults=n?"isRestoring":"optimistic",lE(o),aE(o,s),iE(s);const l=!i.getQueryCache().get(o.queryHash),[c]=w.useState(()=>new t(i,o)),d=c.getOptimisticResult(o),u=!n&&e.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(j=>{const p=u?c.subscribe(dt.batchCalls(j)):Ot;return c.updateResult(),p},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),w.useEffect(()=>{c.setOptions(o)},[o,c]),dE(o,d))throw s0(o,c,s);if(oE({result:d,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((v=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||v.call(m,o,d),o.experimental_prefetchInRender&&!$s&&cE(d,n)){const j=l?s0(o,c,s):(x=i.getQueryCache().get(o.queryHash))==null?void 0:x.promise;j==null||j.catch(Ot).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function xb(e,t){return uE(e,H2,t)}const hE="modulepreload",fE=function(e){return"/"+e},a0={},qo=function(t,r,n){if(!r||r.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=fE(i),i in a0)return;a0[i]=!0;const o=i.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!n)for(let u=s.length-1;u>=0;u--){const h=s[u];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const d=document.createElement("link");if(d.rel=o?"stylesheet":hE,o||(d.as="script",d.crossOrigin=""),d.href=i,document.head.appendChild(d),o)return new Promise((u,h)=>{d.addEventListener("load",u),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};var mE=function(){return null};const pE=new Z2({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3,retry:2,refetchOnWindowFocus:!1,refetchOnReconnect:!0},mutations:{retry:1}}}),Oe={products:{all:["products"],lists:()=>[...Oe.products.all,"list"],list:e=>[...Oe.products.lists(),e],details:()=>[...Oe.products.all,"detail"],detail:e=>[...Oe.products.details(),e],search:e=>[...Oe.products.all,"search",e]},reviews:{all:["reviews"],lists:()=>[...Oe.reviews.all,"list"],list:e=>[...Oe.reviews.lists(),e],stats:()=>[...Oe.reviews.all,"stats"],stat:e=>[...Oe.reviews.stats(),e]},user:{all:["user"],profile:e=>[...Oe.user.all,"profile",e],addresses:e=>[...Oe.user.all,"addresses",e],history:e=>[...Oe.user.all,"history",e],wishlist:e=>[...Oe.user.all,"wishlist",e]},orders:{all:["orders"],lists:()=>[...Oe.orders.all,"list"],list:e=>[...Oe.orders.lists(),e],details:()=>[...Oe.orders.all,"detail"],detail:e=>[...Oe.orders.details(),e]}},yb={realtime:{staleTime:0,gcTime:1*60*1e3,refetchInterval:30*1e3},static:{staleTime:30*60*1e3,gcTime:60*60*1e3,refetchOnWindowFocus:!1},user:{staleTime:15*60*1e3,gcTime:30*60*1e3,refetchOnWindowFocus:!0}},vb=w.createContext(void 0),ss=()=>{const e=w.useContext(vb);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e},gE=({children:e})=>{const[t,r]=w.useState([]);w.useEffect(()=>{const f=localStorage.getItem("mercadillo-cart");if(f)try{r(JSON.parse(f))}catch(m){console.error("Error loading cart from localStorage:",m)}},[]),w.useEffect(()=>{localStorage.setItem("mercadillo-cart",JSON.stringify(t))},[t]);const n=(f,m=1)=>{r(v=>{const x=v.find(p=>p.producto.id===f.id),j=x?x.cantidad:0;if(j+m>f.stock){const p=f.stock-j;if(p<=0)return console.warn(`No hay más stock disponible para ${f.nombre}`),v;console.warn(`Solo se pueden agregar ${p} unidades de ${f.nombre}`),m=p}return x?v.map(p=>p.producto.id===f.id?{...p,cantidad:p.cantidad+m}:p):[...v,{producto:f,cantidad:m}]})},s=f=>{r(m=>m.filter(v=>v.producto.id!==f))},i=(f,m)=>{if(m<=0){s(f);return}r(v=>v.map(x=>{if(x.producto.id===f){const j=Math.min(m,x.producto.stock);return j!==m&&console.warn(`Stock limitado: solo hay ${x.producto.stock} unidades disponibles de ${x.producto.nombre}`),{...x,cantidad:j}}return x}))},o=()=>{r([])},l=()=>t.reduce((f,m)=>f+m.cantidad,0),c=()=>t.reduce((f,m)=>f+m.producto.precio*m.cantidad,0),d=()=>c()*.18,h={items:t,addToCart:n,removeFromCart:s,updateQuantity:i,clearCart:o,getTotalItems:l,getSubtotal:c,getIGV:d,getTotal:()=>c()+d()};return a.jsx(vb.Provider,{value:h,children:e})},xE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>qo(()=>Promise.resolve().then(()=>ri),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class _m extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class yE extends _m{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class i0 extends _m{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class o0 extends _m{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var tf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(tf||(tf={}));var vE=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class bE{constructor(t,{headers:r={},customFetch:n,region:s=tf.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=xE(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return vE(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const h=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(x=>{throw new yE(x)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new i0(h);if(!h.ok)throw new o0(h);let m=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return m==="application/json"?v=yield h.json():m==="application/octet-stream"?v=yield h.blob():m==="text/event-stream"?v=h:m==="multipart/form-data"?v=yield h.formData():v=yield h.text(),{data:v,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof o0||s instanceof i0?s.context:void 0}}})}}var Lt={},Nm={},xd={},Ho={},yd={},vd={},wE=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ja=wE();const kE=Ja.fetch,bb=Ja.fetch.bind(Ja),wb=Ja.Headers,jE=Ja.Request,_E=Ja.Response,ri=Object.freeze(Object.defineProperty({__proto__:null,Headers:wb,Request:jE,Response:_E,default:bb,fetch:kE},Symbol.toStringTag,{value:"Module"})),NE=Ew(ri);var bd={};Object.defineProperty(bd,"__esModule",{value:!0});let SE=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};bd.default=SE;var kb=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vd,"__esModule",{value:!0});const EE=kb(NE),PE=kb(bd);let CE=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=EE.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c,d;let u=null,h=null,f=null,m=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=g:h=JSON.parse(g))}const j=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),p=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");j&&p&&p.length>1&&(f=parseInt(p[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,m=406,v="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const j=await i.text();try{u=JSON.parse(j),Array.isArray(u)&&i.status===404&&(h=[],u=null,m=200,v="OK")}catch{i.status===404&&j===""?(m=204,v="No Content"):u={message:j}}if(u&&this.isMaybeSingle&&(!((d=u==null?void 0:u.details)===null||d===void 0)&&d.includes("0 rows"))&&(u=null,m=200,v="OK"),u&&this.shouldThrowOnError)throw new PE.default(u)}return{error:u,data:h,count:f,status:m,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};vd.default=CE;var TE=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yd,"__esModule",{value:!0});const RE=TE(vd);let AE=class extends RE.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};yd.default=AE;var OE=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ho,"__esModule",{value:!0});const FE=OE(yd);let LE=class extends FE.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Ho.default=LE;var IE=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xd,"__esModule",{value:!0});const vi=IE(Ho);let ME=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new vi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var s;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new vi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new vi.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new vi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new vi.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};xd.default=ME;var jb=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nm,"__esModule",{value:!0});const UE=jb(xd),DE=jb(Ho);let zE=class _b{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new UE.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new _b(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let d;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{c.searchParams.append(h,f)})):(l="POST",d=r);const u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new DE.default({method:l,url:c,headers:u,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Nm.default=zE;var ni=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lt,"__esModule",{value:!0});Lt.PostgrestError=Lt.PostgrestBuilder=Lt.PostgrestTransformBuilder=Lt.PostgrestFilterBuilder=Lt.PostgrestQueryBuilder=Lt.PostgrestClient=void 0;const Nb=ni(Nm);Lt.PostgrestClient=Nb.default;const Sb=ni(xd);Lt.PostgrestQueryBuilder=Sb.default;const Eb=ni(Ho);Lt.PostgrestFilterBuilder=Eb.default;const Pb=ni(yd);Lt.PostgrestTransformBuilder=Pb.default;const Cb=ni(vd);Lt.PostgrestBuilder=Cb.default;const Tb=ni(bd);Lt.PostgrestError=Tb.default;var $E=Lt.default={PostgrestClient:Nb.default,PostgrestQueryBuilder:Sb.default,PostgrestFilterBuilder:Eb.default,PostgrestTransformBuilder:Pb.default,PostgrestBuilder:Cb.default,PostgrestError:Tb.default};const{PostgrestClient:BE,PostgrestQueryBuilder:gT,PostgrestFilterBuilder:xT,PostgrestTransformBuilder:yT,PostgrestBuilder:vT,PostgrestError:bT}=$E;class WE{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const qE="2.15.5",HE=`realtime-js/${qE}`,VE="1.0.0",rf=1e4,KE=1e3,QE=100;var Wi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Wi||(Wi={}));var Je;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Je||(Je={}));var yr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(yr||(yr={}));var nf;(function(e){e.websocket="websocket"})(nf||(nf={}));var xs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(xs||(xs={}));class GE{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+i));o=o+i;const d=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class Rb{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var _e;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(_e||(_e={}));const l0=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=JE(o,e,t,s),i),{})},JE=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?Ab(i,o):sf(o)},Ab=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return eP(t,r)}switch(e){case _e.bool:return YE(t);case _e.float4:case _e.float8:case _e.int2:case _e.int4:case _e.int8:case _e.numeric:case _e.oid:return XE(t);case _e.json:case _e.jsonb:return ZE(t);case _e.timestamp:return tP(t);case _e.abstime:case _e.date:case _e.daterange:case _e.int4range:case _e.int8range:case _e.money:case _e.reltime:case _e.text:case _e.time:case _e.timestamptz:case _e.timetz:case _e.tsrange:case _e.tstzrange:return sf(t);default:return sf(t)}},sf=e=>e,YE=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},XE=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ZE=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},eP=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Ab(t,l))}return e},tP=e=>typeof e=="string"?e.replace(" ","T"):e,Ob=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class wu{constructor(t,r,n={},s=rf){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var c0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(c0||(c0={}));class qi{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=qi.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=qi.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=qi.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=i[d];if(h){const f=u.map(j=>j.presence_ref),m=h.map(j=>j.presence_ref),v=u.filter(j=>m.indexOf(j.presence_ref)<0),x=h.filter(j=>f.indexOf(j.presence_ref)<0);v.length>0&&(l[d]=v),x.length>0&&(c[d]=x)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const h=t[l].map(m=>m.presence_ref),f=u.filter(m=>h.indexOf(m.presence_ref)<0);t[l].unshift(...f)}n(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),t[l]=d,s(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var d0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(d0||(d0={}));var Hi;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Hi||(Hi={}));var Yr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Yr||(Yr={}));class Sm{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new wu(this,yr.join,this.params,this.timeout),this.rejoinTimer=new Rb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Je.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(yr.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new qi(this),this.broadcastEndpointURL=Ob(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Je.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,d=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[Hi.PRESENCE]&&this.bindings[Hi.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Yr.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Yr.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket.setAuth(),m===void 0){t==null||t(Yr.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,j=(v=x==null?void 0:x.length)!==null&&v!==void 0?v:0,p=[];for(let g=0;g<j;g++){const y=x[g],{filter:{event:b,schema:_,table:N,filter:k}}=y,E=m&&m[g];if(E&&E.event===b&&E.schema===_&&E.table===N&&E.filter===k)p.push(Object.assign(Object.assign({},y),{id:E.id}));else{this.unsubscribe(),this.state=Je.errored,t==null||t(Yr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(Yr.SUBSCRIBED);return}}).receive("error",m=>{this.state=Je.errored,t==null||t(Yr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Yr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Je.joined&&t===Hi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Je.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(yr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new wu(this,yr.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Je.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new wu(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>QE){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=yr;if(n&&[l,c,d,u].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var v,x,j;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((j=(x=m.filter)===null||x===void 0?void 0:x.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(m=>m.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var v,x,j,p,g,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const b=m.id,_=(v=m.filter)===null||v===void 0?void 0:v.event;return b&&((x=r.ids)===null||x===void 0?void 0:x.includes(b))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const b=(g=(p=m==null?void 0:m.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return b==="*"||b===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:x,table:j,commit_timestamp:p,type:g,errors:y}=v;f=Object.assign(Object.assign({},{schema:x,table:j,commit_timestamp:p,eventType:g,new:{},old:{},errors:y}),this._getPayloadRecords(v))}m.callback(f,n)})}_isClosed(){return this.state===Je.closed}_isJoined(){return this.state===Je.joined}_isJoining(){return this.state===Je.joining}_isLeaving(){return this.state===Je.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Sm.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(yr.close,{},t)}_onError(t){this._on(yr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Je.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=l0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=l0(t.columns,t.old_record)),r}}const ku=()=>{},Ol={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},rP=[1e3,2e3,5e3,1e4],nP=1e4,sP=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class aP{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=rf,this.transport=null,this.heartbeatIntervalMs=Ol.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ku,this.ref=0,this.reconnectTimer=null,this.logger=ku,this.conn=null,this.sendBuffer=[],this.serializer=new GE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>qo(()=>Promise.resolve().then(()=>ri),void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${nf.websocket}`,this.httpEndpoint=Ob(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=WE.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:VE}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Wi.connecting:return xs.Connecting;case Wi.open:return xs.Open;case Wi.closing:return xs.Closing;default:return xs.Closed}}isConnected(){return this.connectionState()===xs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Sm(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(KE,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ol.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(yr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([sP],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:HE};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(yr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Rb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ol.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,l,c,d,u;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:rf,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Ol.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:ku,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:h=>rP[h-1]||nP,this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(h,f)=>f(JSON.stringify(h)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Em extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ye(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class iP extends Em{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class af extends Em{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var oP=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const Fb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>qo(()=>Promise.resolve().then(()=>ri),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},lP=()=>oP(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield qo(()=>Promise.resolve().then(()=>ri),void 0)).Response:Response}),of=e=>{if(Array.isArray(e))return e.map(r=>of(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=of(n)}),t},cP=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Vs=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const ju=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),dP=(e,t,r)=>Vs(void 0,void 0,void 0,function*(){const n=yield lP();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new iP(ju(s),i,o))}).catch(s=>{t(new af(ju(s),s))}):t(new af(ju(e),e))}),uP=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(cP(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function Vo(e,t,r,n,s,i){return Vs(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,uP(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>dP(c,l,n))})})}function Ac(e,t,r,n){return Vs(this,void 0,void 0,function*(){return Vo(e,"GET",t,r,n)})}function Ar(e,t,r,n,s){return Vs(this,void 0,void 0,function*(){return Vo(e,"POST",t,n,s,r)})}function lf(e,t,r,n,s){return Vs(this,void 0,void 0,function*(){return Vo(e,"PUT",t,n,s,r)})}function hP(e,t,r,n){return Vs(this,void 0,void 0,function*(){return Vo(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Lb(e,t,r,n,s){return Vs(this,void 0,void 0,function*(){return Vo(e,"DELETE",t,n,s,r)})}var wt=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const fP={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},u0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mP{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Fb(s)}uploadOrUpdate(t,r,n,s){return wt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},u0),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),h=yield(t=="PUT"?lf:Ar)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(Ye(i))return{data:null,error:i};throw i}})}upload(t,r,n){return wt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return wt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:u0.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield lf(this.fetch,l.toString(),c,{headers:u});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(Ye(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return wt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Ar(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Em("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}update(t,r,n){return wt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return wt(this,void 0,void 0,function*(){try{return{data:yield Ar(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}copy(t,r,n){return wt(this,void 0,void 0,function*(){try{return{data:{path:(yield Ar(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return wt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Ar(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return wt(this,void 0,void 0,function*(){try{const s=yield Ar(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}download(t,r){return wt(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Ac(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Ye(l))return{data:null,error:l};throw l}})}info(t){return wt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ac(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:of(n),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}exists(t){return wt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield hP(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ye(n)&&n instanceof af){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(t){return wt(this,void 0,void 0,function*(){try{return{data:yield Lb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}list(t,r,n){return wt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},fP),r),{prefix:t||""});return{data:yield Ar(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}listV2(t,r){return wt(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Ar(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const pP="2.11.1",gP={"X-Client-Info":`storage-js/${pP}`};var ea=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class xP{constructor(t,r={},n,s){const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},gP),r),this.fetch=Fb(n)}listBuckets(){return ea(this,void 0,void 0,function*(){try{return{data:yield Ac(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ye(t))return{data:null,error:t};throw t}})}getBucket(t){return ea(this,void 0,void 0,function*(){try{return{data:yield Ac(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return ea(this,void 0,void 0,function*(){try{return{data:yield Ar(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return ea(this,void 0,void 0,function*(){try{return{data:yield lf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ea(this,void 0,void 0,function*(){try{return{data:yield Ar(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ea(this,void 0,void 0,function*(){try{return{data:yield Lb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}}class yP extends xP{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new mP(this.url,this.headers,t,this.fetch)}}const vP="2.57.2";let Ti="";typeof Deno<"u"?Ti="deno":typeof document<"u"?Ti="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ti="react-native":Ti="node";const bP={"X-Client-Info":`supabase-js-${Ti}/${vP}`},wP={headers:bP},kP={schema:"public"},jP={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_P={};var NP=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const SP=e=>{let t;return e?t=e:typeof fetch>"u"?t=bb:t=fetch,(...r)=>t(...r)},EP=()=>typeof Headers>"u"?wb:Headers,PP=(e,t,r)=>{const n=SP(r),s=EP();return(i,o)=>NP(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new s(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:d}))})};var CP=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};function TP(e){return e.endsWith("/")?e:e+"/"}function RP(e,t){var r,n;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:d,realtime:u,global:h}=t,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>CP(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const Ib="2.71.1",la=30*1e3,cf=3,_u=cf*la,AP="http://localhost:9999",OP="supabase.auth.token",FP={"X-Client-Info":`gotrue-js/${Ib}`},df="X-Supabase-Api-Version",Mb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},LP=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,IP=10*60*1e3;class Pm extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function re(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class MP extends Pm{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function UP(e){return re(e)&&e.name==="AuthApiError"}class Ub extends Pm{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class as extends Pm{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class kn extends as{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function DP(e){return re(e)&&e.name==="AuthSessionMissingError"}class Fl extends as{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ll extends as{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Il extends as{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function zP(e){return re(e)&&e.name==="AuthImplicitGrantRedirectError"}class h0 extends as{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class uf extends as{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Nu(e){return re(e)&&e.name==="AuthRetryableFetchError"}class f0 extends as{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class hf extends as{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Oc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),m0=` 	
\r=`.split(""),$P=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<m0.length;t+=1)e[m0[t].charCodeAt(0)]=-2;for(let t=0;t<Oc.length;t+=1)e[Oc[t].charCodeAt(0)]=t;return e})();function p0(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Oc[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Oc[n]),t.queuedBits-=6}}function Db(e,t,r){const n=$P[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function g0(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{qP(o,n,r)};for(let o=0;o<e.length;o+=1)Db(e.charCodeAt(o),s,i);return t.join("")}function BP(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function WP(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}BP(n,t)}}function qP(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function HP(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Db(e.charCodeAt(s),r,n);return new Uint8Array(t)}function VP(e){const t=[];return WP(e,r=>t.push(r)),new Uint8Array(t)}function KP(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>p0(s,r,n)),p0(null,r,n),t.join("")}function QP(e){return Math.round(Date.now()/1e3)+e}function GP(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const hr=()=>typeof window<"u"&&typeof document<"u",ds={tested:!1,writable:!1},zb=()=>{if(!hr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ds.tested)return ds.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ds.tested=!0,ds.writable=!0}catch{ds.tested=!0,ds.writable=!1}return ds.writable};function JP(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const $b=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>qo(()=>Promise.resolve().then(()=>ri),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},YP=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ca=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},us=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},xn=async(e,t)=>{await e.removeItem(t)};class wd{constructor(){this.promise=new wd.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}wd.promiseConstructor=Promise;function Su(e){const t=e.split(".");if(t.length!==3)throw new hf("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!LP.test(t[n]))throw new hf("JWT not in base64url format");return{header:JSON.parse(g0(t[0])),payload:JSON.parse(g0(t[1])),signature:HP(t[2]),raw:{header:t[0],payload:t[1]}}}async function XP(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function ZP(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function eC(e){return("0"+e.toString(16)).substr(-2)}function tC(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,eC).join("")}async function rC(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function nC(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await rC(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ta(e,t,r=!1){const n=tC();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await ca(e,`${t}-code-verifier`,s);const i=await nC(n);return[i,n===i?"plain":"s256"]}const sC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function aC(e){const t=e.headers.get(df);if(!t||!t.match(sC))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function iC(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function oC(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const lC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ra(e){if(!lC.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Eu(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function x0(e){return JSON.parse(JSON.stringify(e))}var cC=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const ms=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),dC=[502,503,504];async function y0(e){var t;if(!YP(e))throw new uf(ms(e),0);if(dC.includes(e.status))throw new uf(ms(e),e.status);let r;try{r=await e.json()}catch(i){throw new Ub(ms(i),i)}let n;const s=aC(e);if(s&&s.getTime()>=Mb["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new f0(ms(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new kn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new f0(ms(r),e.status,r.weak_password.reasons);throw new MP(ms(r),e.status||500,n)}const uC=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function oe(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[df]||(i[df]=Mb["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await hC(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function hC(e,t,r,n,s,i){const o=uC(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new uf(ms(c),0)}if(l.ok||await y0(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await y0(c)}}function Gr(e){var t;let r=null;gC(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=QP(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function v0(e){const t=Gr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Cn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function fC(e){return{data:e,error:null}}function mC(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=cC(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function pC(e){return e}function gC(e){return e.access_token&&e.refresh_token&&e.expires_in}const Pu=["global","local","others"];var xC=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class yC{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=$b(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Pu[0]){if(Pu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Pu.join(", ")}`);try{return await oe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Cn})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=xC(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:mC,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(re(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await oe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Cn})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:pC});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(v.split(";")[1].split("=")[1]);d[`${j}Page`]=x}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(re(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){ra(t);try{return await oe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Cn})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ra(t);try{return await oe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Cn})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ra(t);try{return await oe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Cn})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ra(t.userId);try{const{data:r,error:n}=await oe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(re(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ra(t.userId),ra(t.id);try{return{data:await oe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}}function b0(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function vC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const na={debug:!!(globalThis&&zb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Bb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class bC extends Bb{}async function wC(e,t,r){na.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),na.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){na.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{na.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw na.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new bC(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(na.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}vC();const kC={url:AP,storageKey:OP,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:FP,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function w0(e,t,r){return await r()}const sa={};class xo{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=xo.nextInstanceID,xo.nextInstanceID+=1,this.instanceID>0&&hr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},kC),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new yC({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=$b(s.fetch),this.lock=s.lock||w0,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:hr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=wC:this.lock=w0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:zb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=b0(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=b0(this.memoryStorage)),hr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=sa[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){sa[this.storageKey]=Object.assign(Object.assign({},sa[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=sa[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){sa[this.storageKey]=Object.assign(Object.assign({},sa[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ib}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=JP(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),hr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),zP(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return re(r)?{error:r}:{error:new Ub("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Gr}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(re(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:u,password:h,options:f}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await ta(this.storage,this.storageKey)),i=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:v},xform:Gr})}else if("phone"in t){const{phone:u,password:h,options:f}=t;i=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Gr})}else throw new Ll("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(re(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:v0})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:v0})}else throw new Ll("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Fl}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(re(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,o,l,c,d,u,h,f,m;let v,x;if("message"in t)v=t.message,x=t.signature;else{const{chain:j,wallet:p,statement:g,options:y}=t;let b;if(hr())if(typeof p=="object")b=p;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))b=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=p}const _=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const N=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),g?{statement:g}:null));let k;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")k=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)k=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)v=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),x=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${_.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((d=y==null?void 0:y.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((h=(u=y==null?void 0:y.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...y.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const N=await b.signMessage(new TextEncoder().encode(v),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=N}}try{const{data:j,error:p}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:KP(x)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Gr});if(p)throw p;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Fl}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:p})}catch(j){if(re(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(t){const r=await us(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Gr});if(await xn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Fl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(re(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Gr}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Fl}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(re(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await ta(this.storage,this.storageKey));const{error:h}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Ll("You must provide either an email or phone number.")}catch(l){if(re(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Gr});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(re(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await ta(this.storage,this.storageKey)),await oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:fC})}catch(i){if(re(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new kn;const{error:s}=await oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(re(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await oe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await oe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Ll("You must provide either an email or phone number and a type")}catch(r){if(re(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await us(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<_u:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await us(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Eu()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Cn}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new kn}:await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Cn})})}catch(r){if(re(r))return DP(r)&&(await this._removeSession(),await xn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new kn;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await ta(this.storage,this.storageKey));const{data:d,error:u}=await oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Cn});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new kn;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Su(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(re(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new kn;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(re(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!hr())throw new Il("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Il(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new h0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Il("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new h0("No code detected.");const{data:g,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!o||!d)throw new Il("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let f=u+h;c&&(f=parseInt(c));const m=f-u;m*1e3<=la&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const v=f-h;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,u);const{data:x,error:j}=await this._getUser(i);if(j)throw j;const p={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:d,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(n){if(re(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await us(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(UP(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await xn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=GP(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ta(this.storage,this.storageKey,!0));try{return await oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(re(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,d,u;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await oe(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return hr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(re(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await oe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await ZP(async s=>(s>0&&await XP(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Gr})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Nu(i)&&Date.now()+o-n<la})}catch(n){if(this._debug(r,"error",n),re(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),hr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await us(this.storage,this.storageKey);if(s&&this.userStorage){let o=await us(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await ca(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Eu()}else if(s&&!s.user&&!s.user){const o=await us(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await xn(this.storage,this.storageKey+"-user"),await ca(this.storage,this.storageKey,s)):s.user=Eu()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<_u;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${_u}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Nu(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new kn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new wd;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new kn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),re(i)){const o={session:null,error:i};return Nu(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ca(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=x0(s);await ca(this.storage,this.storageKey,i)}else{const s=x0(r);await ca(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await xn(this.storage,this.storageKey),await xn(this.storage,this.storageKey+"-code-verifier"),await xn(this.storage,this.storageKey+"-user"),this.userStorage&&await xn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&hr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),la);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/la);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${la}ms, refresh threshold is ${cf} ticks`),s<=cf&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Bb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!hr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await ta(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await oe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await oe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(re(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(re(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Su(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+IP>s)return n;const{data:i,error:o}=await oe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:v}=await this.getSession();if(v||!m.session)return{data:null,error:v};n=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=Su(n);r!=null&&r.allowExpired||iC(i.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const u=oC(s.alg),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,VP(`${l}.${c}`)))throw new hf("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}}}xo.nextInstanceID=0;const jC=xo;class _C extends jC{constructor(t){super(t)}}var NC=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class SC{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=TP(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:kP,realtime:_P,auth:Object.assign(Object.assign({},jP),{storageKey:d}),global:wP},h=RP(n??{},u);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=PP(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new BE(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new yP(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new bE(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return NC(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:l,lock:c,debug:d},u,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _C({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:l,lock:c,debug:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new aP(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const EC=(e,t,r)=>new SC(e,t,r);function PC(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}PC()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const k0=window.fetch;window.fetch=async(e,t)=>{const r=typeof e=="string"?e:e instanceof URL?e.href:e.url;if(r.includes("https://xwubnuokmfghtyyfpgtl.supabase.co")){const n=window.__getClerkToken;if(typeof n=="function")try{const s=await n();if(s){const i=new Headers(t==null?void 0:t.headers);i.set("Authorization",`Bearer ${s}`);const o=await k0(e,{...t,headers:i});return o.ok||o.clone().text().then(c=>{console.error("❌ Supabase Error:",{status:o.status,statusText:o.statusText,body:c.substring(0,200),url:r.substring(0,80)})}),o}}catch(s){console.error("❌ Fetch interceptor error:",s)}}return k0(e,t)};const te=EC("https://xwubnuokmfghtyyfpgtl.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh3dWJudW9rbWZnaHR5eWZwZ3RsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY5NTA3NTEsImV4cCI6MjA3MjUyNjc1MX0.H2x6CfC2z2ttnghuZvGpIdGlvUWlYy5GWjpR6Ok5SbA",{auth:{persistSession:!1,autoRefreshToken:!1,detectSessionInUrl:!1}});class CC{constructor(t){al(this,"client");al(this,"currentUserId",null);this.client=t}setCurrentUser(t){this.currentUserId=t,console.log("SupabaseWithAuth: Usuario establecido:",t)}getCurrentUserId(){return this.currentUserId}from(t){const r=this.client.from(t);if(t==="direcciones_usuario"&&this.currentUserId){const n=r.insert.bind(r),s=r.select.bind(r),i=r.update.bind(r),o=r.delete.bind(r);return{...r,select:(l="*")=>s(l).eq("usuario_id",this.currentUserId),insert:l=>{const c=Array.isArray(l)?l.map(d=>({...d,usuario_id:this.currentUserId})):{...l,usuario_id:this.currentUserId};return n(c)},update:l=>i(l).eq("usuario_id",this.currentUserId),delete:()=>o().eq("usuario_id",this.currentUserId)}}return r}get auth(){return this.client.auth}get rpc(){return this.client.rpc.bind(this.client)}get storage(){return this.client.storage}get realtime(){return this.client.realtime}}const j0=new CC(te),Wb=w.createContext(void 0),Cm=()=>{const e=w.useContext(Wb);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},TC=({children:e})=>{const{user:t,isLoaded:r}=mt(),[n,s]=w.useState(null),[i,o]=w.useState(!0),[l,c]=w.useState(null),{isLoaded:d,isSignedIn:u}=zv(),[h,f]=w.useState(null);w.useEffect(()=>{d?u?(f(j0),console.log("AuthContext: Cliente Supabase conectado.")):(f(null),s(null),console.log("AuthContext: Cliente Supabase desconectado.")):(f(null),console.log("AuthContext: Cliente Supabase desconectado (Clerk no cargado)."))},[d,u]),w.useEffect(()=>{(async()=>{var g,y,b,_,N,k,E,S,C,F;if(!(!r||!h)){if(o(!0),c(null),!t||!t.id){console.warn("AuthContext: Usuario de Clerk no autenticado o ID no disponible."),s(null),c("Usuario no autenticado o ID no disponible."),o(!1);return}try{const{data:z,error:J}=await h.from("usuarios").select("id, email, nombre, apellido, telefono, direccion, rol, created_at").eq("id",t.id).single();if(J&&J.code==="PGRST116"){const Y={id:t.id,email:((g=t.emailAddresses[0])==null?void 0:g.emailAddress)||"",nombre:t.firstName||"",apellido:t.lastName||"",telefono:((b=(y=t.phoneNumbers)==null?void 0:y[0])==null?void 0:b.phoneNumber)||void 0,direccion:void 0,rol:"cliente"},{data:xe,error:Pe}=await h.from("usuarios").insert([Y]).select("id, email, nombre, apellido, telefono, direccion, rol, created_at").single();if(Pe){console.error("Error creating user:",Pe),c("Error al crear el perfil de usuario. Intentalo mas tarde.");return}s(xe),console.log("AuthContext: Usuario creado exitosamente en Supabase.")}else if(J){if(console.error("Error fetching user:",J),J.code==="401"||(_=J.message)!=null&&_.includes("JWT")){console.log("AuthContext: Error de JWT, intentando crear usuario directamente...");const Y={id:t.id,email:((N=t.emailAddresses[0])==null?void 0:N.emailAddress)||"",nombre:t.firstName||"",apellido:t.lastName||"",telefono:((E=(k=t.phoneNumbers)==null?void 0:k[0])==null?void 0:E.phoneNumber)||void 0,direccion:void 0,rol:"cliente"},{data:xe,error:Pe}=await h.from("usuarios").upsert([Y],{onConflict:"id"}).select("id, email, nombre, apellido, telefono, direccion, rol, created_at").single();if(!Pe&&xe){s(xe),console.log("AuthContext: Usuario creado/actualizado exitosamente saltando JWT.");return}}c("Error al cargar la informacion del usuario. La app funcionará con datos limitados."),s({id:t.id,email:((S=t.emailAddresses[0])==null?void 0:S.emailAddress)||"",nombre:t.firstName||"",apellido:t.lastName||"",telefono:((F=(C=t.phoneNumbers)==null?void 0:C[0])==null?void 0:F.phoneNumber)||void 0,direccion:void 0,rol:"cliente",created_at:new Date().toISOString()});return}else s(z),console.log("AuthContext: Usuario cargado exitosamente desde Supabase.")}catch(z){console.error("Error inesperado en fetchUser:",z),c("Ocurrio un error inesperado al gestionar tu perfil.")}finally{o(!1)}}})()},[t,r,h]);const m=async p=>{if(!(!n||!h))try{const{data:g,error:y}=await h.from("usuarios").update(p).eq("id",n.id).select().single();if(y){console.error("Error updating user:",y);return}s(g)}catch(g){console.error("Error inesperado en updateUser:",g)}},v=(n==null?void 0:n.rol)==="admin",j={clerkUser:t,user:n,isAdmin:v,isLoading:i,isAuthenticated:u,error:l,updateUser:m,logout:async()=>{try{await j0.auth.signOut()}catch(p){console.error("AuthContext: Error al cerrar la sesion de Supabase durante el logout:",p)}s(null),c(null),f(null)},supabaseAuthenticatedClient:h};return a.jsx(Wb.Provider,{value:j,children:e})},qb=w.createContext(void 0),Hb=()=>{const e=w.useContext(qb);if(!e)throw new Error("useNotifications must be used within a NotificationProvider");return e},RC=({children:e})=>{const[t,r]=w.useState([]),n=w.useCallback(o=>{const l=`notification-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,c={...o,id:l,duration:o.duration||5e3};r(d=>[...d,c]),c.duration&&c.duration>0&&setTimeout(()=>{s(l)},c.duration)},[]),s=w.useCallback(o=>{r(l=>l.filter(c=>c.id!==o))},[]),i=w.useCallback(()=>{r([])},[]);return a.jsx(qb.Provider,{value:{notifications:t,addNotification:n,removeNotification:s,clearNotifications:i},children:e})},Ko=()=>{const{addNotification:e}=Hb();return{showSuccess:(t,r,n)=>e({type:"success",title:t,message:r,...n}),showError:(t,r,n)=>e({type:"error",title:t,message:r,duration:7e3,...n}),showWarning:(t,r,n)=>e({type:"warning",title:t,message:r,...n}),showInfo:(t,r,n)=>e({type:"info",title:t,message:r,...n}),showOrderSuccess:t=>e({type:"success",title:"¡Pedido realizado!",message:`Tu pedido #${t} ha sido procesado exitosamente.`,actionLabel:"Ver pedido",actionHandler:()=>window.location.href="/perfil/pedidos"}),showAddressAdded:()=>e({type:"success",title:"Dirección guardada",message:"Tu nueva dirección ha sido guardada exitosamente."}),showAddressUpdated:()=>e({type:"success",title:"Dirección actualizada",message:"Los cambios en tu dirección han sido guardados."}),showAddressDeleted:()=>e({type:"info",title:"Dirección eliminada",message:"La dirección ha sido eliminada de tu cuenta."}),showWishlistAdded:t=>e({type:"success",title:"Agregado a favoritos",message:`${t} ha sido agregado a tu lista de deseos.`,actionLabel:"Ver lista",actionHandler:()=>window.location.href="/perfil/lista-deseos"}),showWishlistRemoved:t=>e({type:"info",title:"Eliminado de favoritos",message:`${t} ha sido eliminado de tu lista de deseos.`}),showCartAdded:t=>e({type:"success",title:"Agregado al carrito",message:`${t} ha sido agregado a tu carrito.`,actionLabel:"Ver carrito",actionHandler:()=>window.location.href="/carrito"}),showOutOfStock:t=>e({type:"warning",title:"Sin stock disponible",message:`Lo sentimos, ${t} no tiene stock disponible en este momento.`,duration:5e3}),showReviewAdded:()=>e({type:"success",title:"Reseña publicada",message:"Tu reseña ha sido publicada exitosamente."}),showReviewDeleted:()=>e({type:"info",title:"Reseña eliminada",message:"Tu reseña ha sido eliminada."}),showPaymentError:t=>e({type:"error",title:"Error en el pago",message:t||"Hubo un problema procesando tu pago. Por favor, intenta nuevamente.",duration:1e4})}};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),B=(e,t)=>{const r=w.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...d},u)=>w.createElement("svg",{ref:u,...AC,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${OC(e)}`,l].join(" "),...d},[...t.map(([h,f])=>w.createElement(h,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=B("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=B("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=B("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=B("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=B("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=B("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=B("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=B("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=B("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=B("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=B("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=B("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=B("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=B("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=B("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=B("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=B("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=B("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=B("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=B("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=B("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=B("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=B("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=B("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=B("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=B("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=B("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=B("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=B("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=B("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=B("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=B("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=B("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=B("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=B("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=B("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=B("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=B("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=B("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=B("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=B("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=B("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=B("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=B("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=B("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=B("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=B("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=B("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=B("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=B("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=B("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=B("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=B("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=B("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=B("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=B("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=B("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=B("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=B("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=B("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=B("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=B("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=B("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=B("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=B("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=B("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ew=w.createContext(void 0),tw=()=>{const e=w.useContext(ew);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},l4=({children:e})=>{const t=()=>{if(typeof window<"u"){const l=localStorage.getItem("theme");return l||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}return"light"},[r,n]=w.useState(t);w.useEffect(()=>{const l=window.document.documentElement;l.classList.remove("light","dark"),l.classList.add(r),localStorage.setItem("theme",r)},[r]),w.useEffect(()=>{const l=window.matchMedia("(prefers-color-scheme: dark)"),c=d=>{localStorage.getItem("theme")||n(d.matches?"dark":"light")};return l.addEventListener("change",c),()=>l.removeEventListener("change",c)},[]);const o={theme:r,toggleTheme:()=>{n(l=>l==="light"?"dark":"light")},setTheme:l=>{n(l)}};return a.jsx(ew.Provider,{value:o,children:e})},c4=()=>{const{theme:e,toggleTheme:t}=tw();return a.jsx("button",{onClick:t,className:"p-2 rounded-lg transition-colors duration-200 bg-gray-100 hover:bg-gray-200 dark:bg-gray-800 dark:hover:bg-gray-700 text-gris-oscuro dark:text-gray-200","aria-label":`Cambiar a modo ${e==="light"?"oscuro":"claro"}`,title:`Cambiar a modo ${e==="light"?"oscuro":"claro"}`,children:e==="light"?a.jsx(t4,{className:"w-5 h-5"}):a.jsx(i4,{className:"w-5 h-5"})})},d4=({className:e="",size:t="medium"})=>{const[r,n]=w.useState(!1),s={small:"h-8",medium:"h-12",large:"h-16",navbar:"h-14"},i={small:"h-8 text-lg px-2",medium:"h-12 text-xl px-3",large:"h-16 text-2xl px-4",navbar:"h-14 text-xl px-3"};return a.jsx(ce,{to:"/",className:`flex items-center space-x-2 ${e}`,children:a.jsx("div",{className:"relative",children:r?a.jsx("div",{className:`${i[t]} flex items-center justify-center bg-amarillo dark:bg-yellow-500 rounded-lg text-gris-oscuro dark:text-gray-900 font-bold transition-transform duration-200 hover:scale-105 border border-gray-200 dark:border-gray-600 shadow-sm`,children:"Mercadillo"}):a.jsx("img",{src:"https://res.cloudinary.com/ddbjhpjri/image/upload/f_auto,q_auto/v1759101870/mercadillo/logo_v1.webp",alt:"Mercadillo Lima Perú Logo",className:`${s[t]} w-auto object-contain transition-transform duration-200 hover:scale-105 rounded-lg border border-gray-200 dark:border-gray-600 shadow-sm`,onError:()=>n(!0),onLoad:()=>n(!1)})})})},pf=({value:e,onChange:t,onSearch:r,productos:n,placeholder:s="¿Qué estás buscando hoy?"})=>{const[i,o]=w.useState([]),[l,c]=w.useState([]),[d,u]=w.useState(!1),[h,f]=w.useState(-1),m=w.useRef(null),v=w.useRef(null),x=["smartphone","laptop","camiseta","zapatillas","sofá","mesa","pelota","raqueta"];w.useEffect(()=>{const b=localStorage.getItem("recentSearches");b&&c(JSON.parse(b))},[]),w.useEffect(()=>{if(e.length<2){o([]);return}const b=n.filter(k=>k.nombre.toLowerCase().includes(e.toLowerCase())||k.descripcion.toLowerCase().includes(e.toLowerCase())||k.categoria.toLowerCase().includes(e.toLowerCase())).slice(0,5).map(k=>k.nombre),_=Array.from(new Set(n.filter(k=>k.categoria.toLowerCase().includes(e.toLowerCase())).map(k=>k.categoria))).slice(0,3),N=[...new Set([...b,..._])].slice(0,6);o(N)},[e,n]),w.useEffect(()=>{const b=_=>{m.current&&!m.current.contains(_.target)&&(u(!1),f(-1))};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const j=b=>{if(!b.trim())return;const _=[b,...l.filter(N=>N!==b)].slice(0,5);c(_),localStorage.setItem("recentSearches",JSON.stringify(_))},p=b=>{t(b),r(b),j(b),u(!1),f(-1)},g=b=>{var N;if(!d)return;const _=i.length+l.length+x.length;switch(b.key){case"ArrowDown":b.preventDefault(),f(k=>k<_-1?k+1:-1);break;case"ArrowUp":b.preventDefault(),f(k=>k>-1?k-1:_-1);break;case"Enter":if(b.preventDefault(),h===-1)p(e);else{let k="";h<i.length?k=i[h]:h<i.length+l.length?k=l[h-i.length]:k=x[h-i.length-l.length],p(k)}break;case"Escape":u(!1),f(-1),(N=v.current)==null||N.blur();break}},y=()=>{c([]),localStorage.removeItem("recentSearches")};return a.jsxs("div",{className:"relative flex-1",ref:m,children:[a.jsxs("div",{className:"relative",children:[a.jsx(ec,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5 z-10"}),a.jsx("input",{ref:v,type:"text",placeholder:s,value:e,onChange:b=>t(b.target.value),onFocus:()=>u(!0),onKeyDown:g,className:"w-full pl-12 pr-12 py-3 border border-gray-300 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-amarillo dark:focus:ring-yellow-500 focus:border-transparent bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 text-lg transition-all duration-200"}),e&&a.jsx("button",{onClick:()=>t(""),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors duration-200",children:a.jsx(si,{className:"w-5 h-5"})})]}),d&&a.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 z-50 max-h-96 overflow-y-auto",children:[i.length>0&&a.jsxs("div",{className:"p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-2 uppercase tracking-wide",children:"Sugerencias"}),i.map((b,_)=>a.jsx("button",{onClick:()=>p(b),className:`w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-150 ${_===h?"bg-amarillo dark:bg-yellow-500 text-gris-oscuro dark:text-gray-900":"text-gray-700 dark:text-gray-300"}`,children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ec,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{children:b})]})},b))]}),l.length>0&&a.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Búsquedas Recientes"}),a.jsx("button",{onClick:y,className:"text-xs text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:"Limpiar"})]}),l.map((b,_)=>{const N=i.length+_;return a.jsx("button",{onClick:()=>p(b),className:`w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-150 ${N===h?"bg-amarillo dark:bg-yellow-500 text-gris-oscuro dark:text-gray-900":"text-gray-700 dark:text-gray-300"}`,children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ar,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{children:b})]})},b)})]}),(!e||e.length<2)&&a.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-2 uppercase tracking-wide",children:"Búsquedas Populares"}),x.map((b,_)=>{const N=i.length+l.length+_;return a.jsx("button",{onClick:()=>p(b),className:`w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-150 ${N===h?"bg-amarillo dark:bg-yellow-500 text-gris-oscuro dark:text-gray-900":"text-gray-700 dark:text-gray-300"}`,children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Zb,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"capitalize",children:b})]})},b)})]}),e.length>=2&&i.length===0&&a.jsxs("div",{className:"p-6 text-center text-gray-500 dark:text-gray-400",children:[a.jsx(ec,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),a.jsxs("p",{children:['No encontramos sugerencias para "',e,'"']}),a.jsx("p",{className:"text-sm mt-1",children:"Presiona Enter para buscar de todos modos"})]})]})]})},u4=({className:e=""})=>{var d;const{user:t,isLoaded:r}=mt(),{signOut:n}=iS(),[s,i]=w.useState(!1),o=w.useRef(null);if(w.useEffect(()=>{const u=h=>{o.current&&!o.current.contains(h.target)&&i(!1)};return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[]),!r||!t)return null;const l=()=>{n(),i(!1)},c=[{icon:Mc,label:"Lista de Deseos",path:"/perfil/lista-deseos",description:"Productos guardados"},{icon:$e,label:"Mis Pedidos",path:"/perfil/pedidos",description:"Historial de compras"},{icon:jr,label:"Mis Reseñas",path:"/perfil/reseñas",description:"Reseñas escritas"},{icon:ar,label:"Historial",path:"/perfil/historial",description:"Productos visitados"},{icon:Yn,label:"Direcciones",path:"/perfil/direcciones",description:"Direcciones de envío"}];return a.jsxs("div",{className:`relative ${e}`,ref:o,children:[a.jsxs("button",{onClick:()=>i(!s),className:`\r
          flex items-center space-x-2 px-3 py-2 rounded-lg\r
          text-gray-700 dark:text-gray-200\r
          hover:bg-gray-100 dark:hover:bg-gray-700\r
          transition-colors duration-200\r
          focus:outline-none focus:ring-2 focus:ring-blue-500\r
        `,"aria-label":"Menu de perfil",children:[t.imageUrl?a.jsx("img",{src:t.imageUrl,alt:t.fullName||"Usuario",className:"w-8 h-8 rounded-full object-cover"}):a.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center",children:a.jsx(un,{className:"w-4 h-4 text-white"})}),a.jsx("span",{className:"hidden md:block font-medium",children:t.firstName||"Usuario"}),a.jsx(DC,{className:`w-4 h-4 transition-transform duration-200 ${s?"rotate-180":""}`})]}),s&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-25 lg:hidden",onClick:()=>i(!1)}),a.jsxs("div",{className:`\r
            absolute right-0 mt-2 w-80 z-50\r
            bg-white dark:bg-gray-800\r
            border border-gray-200 dark:border-gray-700\r
            rounded-lg shadow-xl\r
            py-2\r
          `,children:[a.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[t.imageUrl?a.jsx("img",{src:t.imageUrl,alt:t.fullName||"Usuario",className:"w-12 h-12 rounded-full object-cover"}):a.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-600 flex items-center justify-center",children:a.jsx(un,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100 truncate",children:t.fullName||`${t.firstName} ${t.lastName}`}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:(d=t.emailAddresses[0])==null?void 0:d.emailAddress})]})]})}),a.jsx("div",{className:"py-2",children:c.map(u=>{const h=u.icon;return a.jsxs(ce,{to:u.path,onClick:()=>i(!1),className:`\r
                      flex items-center px-4 py-3\r
                      text-gray-700 dark:text-gray-200\r
                      hover:bg-gray-50 dark:hover:bg-gray-700\r
                      transition-colors duration-200\r
                      group\r
                    `,children:[a.jsx(h,{className:"w-5 h-5 mr-3 text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-400"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium",children:u.label}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:u.description})]})]},u.path)})}),a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-2"}),a.jsxs("div",{className:"py-2",children:[a.jsxs(ce,{to:"/perfil/configuracion",onClick:()=>i(!1),className:`\r
                  flex items-center px-4 py-2\r
                  text-gray-700 dark:text-gray-200\r
                  hover:bg-gray-50 dark:hover:bg-gray-700\r
                  transition-colors duration-200\r
                  group\r
                `,children:[a.jsx(n4,{className:"w-5 h-5 mr-3 text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-400"}),a.jsx("span",{className:"font-medium",children:"Configuración"})]}),a.jsxs("button",{onClick:l,className:`\r
                  w-full flex items-center px-4 py-2\r
                  text-gray-700 dark:text-gray-200\r
                  hover:bg-red-50 dark:hover:bg-red-900/20\r
                  hover:text-red-600 dark:hover:text-red-400\r
                  transition-colors duration-200\r
                  group\r
                `,children:[a.jsx(YC,{className:"w-5 h-5 mr-3 text-gray-400 group-hover:text-red-600 dark:group-hover:text-red-400"}),a.jsx("span",{className:"font-medium",children:"Cerrar Sesión"})]})]})]})]})]})},h4=()=>{const{user:e}=mt(),{isAdmin:t}=Cm(),{getTotalItems:r}=ss(),[n,s]=w.useState(!1),[i,o]=w.useState(""),[l,c]=w.useState([]),d=Wr(),h=Nr().pathname==="/";w.useEffect(()=>{(async()=>{try{let j=te.from("productos").select("*").gt("stock",0),{data:p,error:g}=await j.order("created_at",{ascending:!1});if(g){const{data:y,error:b}=await j;b||c(y||[])}else c(p||[])}catch(j){console.error("Error loading products for search:",j)}})()},[]);const f=()=>s(!n),m=x=>{x.trim()?(d(`/catalogo?search=${encodeURIComponent(x.trim())}`),o("")):d("/catalogo"),s(!1)},v=[{name:"Catálogo",path:"/catalogo"},{name:"Sobre nosotros",path:"/sobre-nosotros"},{name:"Contáctanos",path:"/contacto"}];return h||v.unshift({name:"Inicio",path:"/"}),t&&v.push({name:"Admin",path:"/admin"}),a.jsx("nav",{className:"bg-blanco dark:bg-gray-800 shadow-md sticky top-0 z-50 transition-colors duration-200",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex justify-between items-center h-20",children:[a.jsx(d4,{size:"navbar",className:"flex-shrink-0"}),a.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[h&&a.jsx("div",{className:"w-80",children:a.jsx(pf,{value:i,onChange:o,onSearch:m,productos:l,placeholder:"Buscar productos..."})}),v.map(x=>a.jsx(ce,{to:x.path,className:"text-gris-oscuro dark:text-gray-200 hover:text-dorado dark:hover:text-yellow-400 transition-colors duration-200 font-medium",children:x.name},x.name))]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(c4,{}),a.jsxs(ce,{to:"/carrito",className:"relative p-2 text-gris-oscuro dark:text-gray-200 hover:text-dorado dark:hover:text-yellow-400 transition-colors duration-200",children:[a.jsx($r,{className:"w-6 h-6"}),r()>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-amarillo text-gris-oscuro text-xs rounded-full w-5 h-5 flex items-center justify-center font-semibold",children:r()})]}),e?a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx(u4,{})}):a.jsxs("div",{className:"hidden md:flex items-center space-x-2",children:[a.jsx(ce,{to:"/sign-in",className:"text-gris-oscuro dark:text-gray-200 hover:text-dorado dark:hover:text-yellow-400 transition-colors duration-200 font-medium",children:"Iniciar Sesión"}),a.jsx(ce,{to:"/sign-up",className:"btn-primary",children:"Registrarse"})]}),a.jsx("button",{onClick:f,className:"md:hidden p-2 text-gris-oscuro dark:text-gray-200 hover:text-dorado dark:hover:text-yellow-400 transition-colors duration-200",children:n?a.jsx(si,{className:"w-6 h-6"}):a.jsx(XC,{className:"w-6 h-6"})})]})]}),n&&a.jsx("div",{className:"md:hidden py-4 border-t border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex flex-col space-y-4",children:[h&&a.jsx("div",{className:"w-full",children:a.jsx(pf,{value:i,onChange:o,onSearch:m,productos:l,placeholder:"Buscar productos..."})}),v.map(x=>a.jsx(ce,{to:x.path,className:"text-gris-oscuro dark:text-gray-200 hover:text-dorado dark:hover:text-yellow-400 transition-colors duration-200 font-medium",onClick:()=>s(!1),children:x.name},x.name)),!e&&a.jsxs(a.Fragment,{children:[a.jsx(ce,{to:"/sign-in",className:"text-gris-oscuro dark:text-gray-200 hover:text-dorado dark:hover:text-yellow-400 transition-colors duration-200 font-medium",onClick:()=>s(!1),children:"Iniciar Sesión"}),a.jsx(ce,{to:"/sign-up",className:"btn-primary text-center",onClick:()=>s(!1),children:"Registrarse"})]})]})})]})})},f4=()=>a.jsx("footer",{className:"bg-gris-oscuro text-blanco",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"col-span-1 md:col-span-2",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx("div",{className:"w-8 h-8 bg-amarillo rounded-full flex items-center justify-center",children:a.jsx($e,{className:"w-5 h-5 text-gris-oscuro"})}),a.jsx("span",{className:"text-xl font-bold",children:"Mercadillo Lima Perú"})]}),a.jsx("p",{className:"text-gris-claro mb-4 max-w-md",children:"Tu tienda online de confianza en El Agustino, Lima Este. Productos de calidad con envío rápido y seguro a toda Lima y el Perú."}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-gris-claro",children:[a.jsx(Yn,{className:"w-4 h-4"}),a.jsx("span",{children:"El Agustino, Lima Este 15007"})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-gris-claro",children:[a.jsx(Jb,{className:"w-4 h-4"}),a.jsx("span",{children:"+51 977 933 410"})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-gris-claro",children:[a.jsx(Tm,{className:"w-4 h-4"}),a.jsx("span",{children:"contactomercadillo@gmail.com"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Enlaces Rápidos"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx(ce,{to:"/",className:"text-gris-claro hover:text-amarillo transition-colors duration-200",children:"Inicio"})}),a.jsx("li",{children:a.jsx(ce,{to:"/catalogo",className:"text-gris-claro hover:text-amarillo transition-colors duration-200",children:"Catálogo"})}),a.jsx("li",{children:a.jsx(ce,{to:"/carrito",className:"text-gris-claro hover:text-amarillo transition-colors duration-200",children:"Carrito"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Información"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx(ce,{to:"/terminos",className:"text-gris-claro hover:text-amarillo transition-colors duration-200",children:"Términos y Condiciones"})}),a.jsx("li",{children:a.jsx(ce,{to:"/privacidad",className:"text-gris-claro hover:text-amarillo transition-colors duration-200",children:"Política de Privacidad"})}),a.jsx("li",{children:a.jsx(ce,{to:"/envios",className:"text-gris-claro hover:text-amarillo transition-colors duration-200",children:"Envíos y Devoluciones"})}),a.jsx("li",{children:a.jsx(ce,{to:"/contacto",className:"text-gris-claro hover:text-amarillo transition-colors duration-200",children:"Contacto"})})]}),a.jsxs("div",{className:"flex space-x-3 mt-4",children:[a.jsx("a",{href:"https://wa.me/51977933410",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-green-500 hover:bg-green-600 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110","aria-label":"WhatsApp",children:a.jsx(Bs,{className:"w-5 h-5 text-white"})}),a.jsx("a",{href:"https://www.facebook.com/mercadillo.276649",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-blue-600 hover:bg-blue-700 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110","aria-label":"Facebook",children:a.jsx(HC,{className:"w-5 h-5 text-white"})})]})]})]}),a.jsx("div",{className:"mt-8 pt-8 text-center",children:a.jsx("p",{className:"text-gris-claro",children:"© 2025 Mercadillo Lima Perú. Todos los derechos reservados."})})]})}),m4=({children:e})=>a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(h4,{}),a.jsx("main",{className:"flex-1",children:e}),a.jsx(f4,{})]}),p4=()=>{const{theme:e}=tw(),t=e==="dark",r=w.useRef([]),n=w.useRef(null),s=w.useRef(null);return w.useEffect(()=>{r.current.forEach(u=>clearTimeout(u)),r.current=[],n.current&&(clearInterval(n.current),n.current=null),s.current&&(s.current.disconnect(),s.current=null),t?(document.documentElement.classList.add("dark"),document.body.classList.add("dark")):(document.documentElement.classList.remove("dark"),document.body.classList.remove("dark"));const i=window.fetch;window.fetch=async(u,h)=>{const f=typeof u=="string"?u:u.toString();return f.includes("commerce/statements")||f.includes("/v1/me/commerce/statements")?Promise.resolve(new Response(JSON.stringify([]),{status:200,statusText:"OK",headers:{"Content-Type":"application/json"}})):i(u,h)};const o=()=>{document.querySelectorAll('.min-h-screen, [class*="bg-hueso"]').forEach(g=>{g.style.setProperty("background-color","#111827","important")}),document.querySelectorAll('[class*="cl-"], [data-clerk], [role="dialog"]').forEach(g=>{const y=g;y.classList.add("dark");const b=y.classList.contains("cl-formButtonPrimary"),_=y.classList.contains("cl-footerActionLink"),N=y.tagName==="IMG"||y.tagName==="SVG";!b&&!_&&!N&&(y.style.setProperty("background-color","#1f2937","important"),y.style.setProperty("color","#f3f4f6","important"),y.style.setProperty("border-color","#374151","important"))}),document.querySelectorAll(".cl-userButtonPopoverCard, .cl-card, .cl-popoverBox, .cl-userPreview, .cl-userButtonPopoverRootBox").forEach(g=>{const y=g;y.style.setProperty("background-color","#1f2937","important"),y.style.setProperty("color","#f3f4f6","important"),y.style.setProperty("border-color","#374151","important")});let m=document.getElementById("clerk-dark-mode-styles");m||(m=document.createElement("style"),m.id="clerk-dark-mode-styles",document.head.appendChild(m)),m.textContent=`
        /* Aplicar modo oscuro específicamente al UserButton y su menú */
        .cl-userButtonPopoverCard {
          background-color: #1f2937 !important;
          border: none !important;
          border-radius: 8px !important;
          box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2) !important;
          overflow: hidden !important;
        }
        
        .cl-card,
        .cl-popoverBox,
        .cl-userButtonPopoverRootBox {
          background-color: #1f2937 !important;
          border: none !important;
          border-radius: 8px !important;
        }
        
        /* Eliminar borde del área de información del usuario */
        .cl-userPreview {
          background-color: #1f2937 !important;
          border: none !important;
          border-bottom: none !important;
        }
        
        /* Elementos de texto del menú */
        .cl-userButtonPopoverCard .cl-userPreview,
        .cl-userButtonPopoverCard .cl-menuItem,
        .cl-userButtonPopoverCard .cl-menuItemTextPrimary,
        .cl-userButtonPopoverCard .cl-menuItemTextSecondary {
          color: #f3f4f6 !important;
          background-color: transparent !important;
        }
        
        /* Botones del menú sin bordes extraños */
        .cl-menuItem {
          background-color: transparent !important;
          border: none !important;
          border-radius: 6px !important;
        }
        
        /* Hover effects más naturales */
        .cl-menuItem:hover {
          background-color: #374151 !important;
          border-radius: 6px !important;
        }
        
        /* Hacer que el Sign out tenga esquinas sutiles como Manage account */
        .cl-menuItem:last-child {
          background-color: transparent !important;
          border: none !important;
          border-radius: 6px !important;
          position: relative !important;
        }
        
        /* Eliminar el contenedor principal que causa esquinas pronunciadas */
        .cl-userButtonPopoverCard {
          background-color: #1f2937 !important;
          border: none !important;
          border-radius: 6px !important;
          box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2) !important;
          overflow: visible !important;
        }
        
        /* Eliminar todos los pseudo-elementos que causen esquinas blancas */
        .cl-userButtonPopoverCard::before,
        .cl-userButtonPopoverCard::after,
        .cl-userPreview::before,
        .cl-userPreview::after,
        .cl-menuItem::before,
        .cl-menuItem::after {
          display: none !important;
          content: none !important;
        }
        
        /* Corregir sombra del avatar del usuario sin bordes extraños */
        .cl-userButtonAvatarBox,
        .cl-avatarBox {
          box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.3), 0 1px 2px 0 rgba(0, 0, 0, 0.2) !important;
          border: none !important;
        }
        
        /* Separadores del menú */
        .cl-menuItemDivider {
          background-color: #374151 !important;
          border: none !important;
        }
        
        /* Estilos para la página de gestión de cuenta (Manage account) */
        /* Forzar TODOS los elementos del UserProfile a ser oscuros */
        .cl-userProfile,
        .cl-userProfile *,
        .cl-profilePage,
        .cl-profilePage *,
        .cl-profileSection,
        .cl-profileSectionContent {
          background-color: #1f2937 !important;
          color: #f3f4f6 !important;
        }
        
        /* Contenedor principal de la página de cuenta */
        .cl-userProfile .cl-card,
        .cl-profilePage .cl-card {
          background-color: #1f2937 !important;
          border: none !important;
        }
        
        /* FORZAR el sidebar/barra lateral izquierda a ser oscura */
        .cl-userProfile > div,
        .cl-userProfile > div > div,
        .cl-userProfile .cl-navbar,
        .cl-userProfile .cl-profileSectionPrimaryButton,
        .cl-navbarMobileMenuRow,
        .cl-navbarMobileMenuButton {
          background-color: #1f2937 !important;
          background: #1f2937 !important;
          color: #f3f4f6 !important;
        }
        
        /* Eliminar cualquier fondo blanco en el modal/container principal */
        [data-clerk-modal],
        [data-clerk-modal] *,
        .cl-modalContent,
        .cl-modalContent *,
        .cl-rootBox,
        .cl-rootBox * {
          background-color: #1f2937 !important;
          background: #1f2937 !important;
        }
        
        /* Títulos y subtítulos de la página de cuenta */
        .cl-profileSectionTitle,
        .cl-profileSectionSubtitle,
        .cl-userProfile h1,
        .cl-userProfile h2,
        .cl-userProfile h3 {
          color: #f3f4f6 !important;
        }
        
        /* Área de contenido principal */
        .cl-profileSectionContent,
        .cl-userProfile .cl-profileSection {
          background-color: #1f2937 !important;
          color: #f3f4f6 !important;
        }
        
        /* Navbar de la página de cuenta */
        .cl-navbar,
        .cl-userProfile .cl-navbar {
          background-color: #1f2937 !important;
          border-color: #374151 !important;
        }
        
        /* Botones de navegación */
        .cl-navbarButton {
          color: #f3f4f6 !important;
          background-color: transparent !important;
        }
        
        .cl-navbarButton:hover {
          background-color: #374151 !important;
        }
        
        /* Campos de entrada y formularios */
        .cl-userProfile .cl-formFieldInput {
          background-color: #374151 !important;
          border-color: #4b5563 !important;
          color: #f3f4f6 !important;
        }
        
        /* Etiquetas de formulario */
        .cl-userProfile .cl-formFieldLabel {
          color: #f3f4f6 !important;
        }
      `;const v=()=>{const g=document.querySelector(".cl-userButtonPopoverCard");if(g){const y=g;y.style.setProperty("background-color","#1f2937","important"),y.style.setProperty("border","none","important"),y.style.setProperty("border-radius","6px","important"),y.style.setProperty("overflow","visible","important");const b=g.querySelector(".cl-userPreview");if(b){const N=b;N.style.setProperty("border","none","important"),N.style.setProperty("border-bottom","none","important")}g.querySelectorAll(".cl-menuItem").forEach(N=>{N.style.setProperty("border-radius","6px","important")})}},x=()=>{document.querySelectorAll('[class*="cl-userProfile"], [class*="cl-profilePage"], [class*="cl-modal"], [data-clerk-modal], .cl-rootBox').forEach(b=>{const _=b;_.style.setProperty("background-color","#1f2937","important"),_.style.setProperty("background","#1f2937","important"),_.style.setProperty("color","#f3f4f6","important"),_.querySelectorAll("*").forEach(k=>{const E=k;E.style.setProperty("background-color","#1f2937","important"),E.style.setProperty("background","#1f2937","important"),E.style.setProperty("color","#f3f4f6","important")})}),document.querySelectorAll("*").forEach(b=>{const _=b,N=window.getComputedStyle(_);(N.backgroundColor==="rgb(255, 255, 255)"||N.backgroundColor==="white"||N.backgroundColor==="#ffffff"||N.backgroundColor==="#fff")&&_.closest('[class*="cl-"], [data-clerk-modal]')&&(_.style.setProperty("background-color","#1f2937","important"),_.style.setProperty("background","#1f2937","important"))})},j=()=>{document.querySelectorAll(".cl-userButtonPopoverCard, .cl-userButtonPopoverCard *, .cl-menuItem, .cl-menuItem *, .cl-userPreview, .cl-userPreview *").forEach(b=>{const _=b;_.style.setProperty("background-color","#1f2937","important"),_.style.setProperty("background","#1f2937","important"),_.style.setProperty("border","none","important"),_.style.setProperty("border-radius","6px","important")}),document.querySelectorAll("*").forEach(b=>{const _=b,N=window.getComputedStyle(_);(N.backgroundColor==="rgb(255, 255, 255)"||N.backgroundColor==="white"||N.backgroundColor==="#ffffff"||N.backgroundColor==="#fff")&&_.closest(".cl-userButtonPopoverCard, .cl-userButtonPopoverRootBox, .cl-popoverBox")&&(_.style.setProperty("background-color","#1f2937","important"),_.style.setProperty("background","#1f2937","important"),_.style.setProperty("border","none","important"),_.style.setProperty("border-radius","6px","important"))})};v(),x(),j(),r.current.push(setTimeout(v,100)),r.current.push(setTimeout(x,100)),r.current.push(setTimeout(j,100)),r.current.push(setTimeout(x,300)),r.current.push(setTimeout(j,300)),r.current.push(setTimeout(x,500)),r.current.push(setTimeout(j,500)),r.current.push(setTimeout(x,1e3)),r.current.push(setTimeout(j,1e3)),document.querySelectorAll('.cl-formButtonPrimary, button[type="submit"]').forEach(g=>{var b;const y=g;((b=y.textContent)!=null&&b.includes("Continue")||y.classList.contains("cl-formButtonPrimary"))&&(y.style.setProperty("background-color","#1f2937","important"),y.style.setProperty("color","#f3f4f6","important"),y.style.setProperty("border","1px solid #374151","important"),y.style.setProperty("text-decoration","none","important"))})},l=()=>{document.querySelectorAll('.min-h-screen, [class*="bg-hueso"]').forEach(x=>{x.style.removeProperty("background-color")}),document.querySelectorAll('[class*="cl-"], [data-clerk], [role="dialog"]').forEach(x=>{var g;const j=x;j.classList.remove("dark"),j.classList.contains("cl-formButtonPrimary")||((g=j.textContent)==null?void 0:g.includes("Continue"))||(j.style.removeProperty("background-color"),j.style.removeProperty("color"),j.style.removeProperty("border-color"))}),document.querySelectorAll(".cl-userButtonPopoverCard, .cl-card, .cl-popoverBox, .cl-userPreview, .cl-userButtonPopoverRootBox, .cl-popoverArrow, .cl-userButtonAvatarBox, .cl-avatarBox, .cl-menuItem, .cl-menuItemDivider").forEach(x=>{const j=x;j.style.removeProperty("background-color"),j.style.removeProperty("color"),j.style.removeProperty("border-color"),j.style.removeProperty("border-radius"),j.style.removeProperty("border"),j.style.removeProperty("box-shadow"),j.style.removeProperty("overflow")});const m=document.getElementById("clerk-dark-mode-styles");m&&m.remove(),document.querySelectorAll('.cl-formButtonPrimary, button[type="submit"]').forEach(x=>{var g;const j=x;(((g=j.textContent)==null?void 0:g.includes("Continue"))||j.classList.contains("cl-formButtonPrimary"))&&(j.style.setProperty("background-color","#FFD700","important"),j.style.setProperty("color","#333333","important"),j.style.setProperty("border","none","important"),j.style.setProperty("text-decoration","none","important"))})},c=()=>{document.querySelectorAll("*").forEach(h=>{var m,v;const f=h;t||f.classList.remove("dark"),((m=f.getAttribute("style"))!=null&&m.includes("background-color: #1f2937")||(v=f.getAttribute("style"))!=null&&v.includes("background-color: #111827"))&&(f.style.removeProperty("background-color"),f.style.removeProperty("color"),f.style.removeProperty("border-color"))})},d=()=>{c(),t?o():l()};return d(),s.current=new MutationObserver(()=>{const u=setTimeout(d,10);r.current.push(u)}),s.current.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class","style"]}),n.current=setInterval(d,500),()=>{r.current.forEach(u=>clearTimeout(u)),r.current=[],n.current&&(clearInterval(n.current),n.current=null),s.current&&(s.current.disconnect(),s.current=null),window.fetch=i}},[e]),null},g4=({notification:e,onRemove:t})=>{const[r,n]=w.useState(!1),[s,i]=w.useState(!1);w.useEffect(()=>{const d=setTimeout(()=>n(!0),100);return()=>clearTimeout(d)},[]);const o=()=>{i(!0),setTimeout(()=>t(e.id),300)},l=()=>{switch(e.type){case"success":return a.jsx(yo,{className:"w-5 h-5 text-green-500"});case"error":return a.jsx(wo,{className:"w-5 h-5 text-red-500"});case"warning":return a.jsx(FC,{className:"w-5 h-5 text-yellow-500"});case"info":return a.jsx(_0,{className:"w-5 h-5 text-blue-500"});default:return a.jsx(_0,{className:"w-5 h-5 text-gray-500"})}},c=()=>{const d="border-l-4 shadow-lg rounded-lg p-4 mb-4 transition-all duration-300 ease-in-out transform";if(s)return`${d} translate-x-full opacity-0`;if(!r)return`${d} translate-x-full opacity-0`;switch(e.type){case"success":return`${d} bg-green-50 dark:bg-green-900/20 border-green-500 translate-x-0 opacity-100`;case"error":return`${d} bg-red-50 dark:bg-red-900/20 border-red-500 translate-x-0 opacity-100`;case"warning":return`${d} bg-yellow-50 dark:bg-yellow-900/20 border-yellow-500 translate-x-0 opacity-100`;case"info":return`${d} bg-blue-50 dark:bg-blue-900/20 border-blue-500 translate-x-0 opacity-100`;default:return`${d} bg-gray-50 dark:bg-gray-900/20 border-gray-500 translate-x-0 opacity-100`}};return a.jsx("div",{className:c(),children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 mr-3 mt-0.5",children:l()}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-1",children:e.title}),a.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:e.message}),e.actionLabel&&e.actionHandler&&a.jsx("button",{onClick:e.actionHandler,className:"mt-2 text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors duration-200",children:e.actionLabel})]}),a.jsx("button",{onClick:o,className:"flex-shrink-0 ml-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors duration-200",children:a.jsx(si,{className:"w-4 h-4"})})]})})},x4=()=>{const{notifications:e,removeNotification:t}=Hb();return e.length===0?null:a.jsx("div",{className:"fixed top-4 right-4 z-50 max-w-sm w-full",children:a.jsx("div",{className:"space-y-2",children:e.map(r=>a.jsx(g4,{notification:r,onRemove:t},r.id))})})},y4=({message:e})=>{const t=e.role==="user";return a.jsx("div",{className:`flex ${t?"justify-end":"justify-start"} animate-fade-in`,children:a.jsxs("div",{className:`flex items-start space-x-2 max-w-[85%] ${t?"flex-row-reverse space-x-reverse":""}`,children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${t?"bg-blue-500 text-white":"bg-amarillo text-gray-900"}`,children:t?a.jsx(un,{className:"w-4 h-4"}):a.jsx(MC,{className:"w-4 h-4"})}),a.jsxs("div",{className:`flex flex-col ${t?"items-end":"items-start"}`,children:[a.jsx("div",{className:`px-4 py-2 rounded-2xl ${t?"bg-blue-500 text-white rounded-tr-none":"bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 border border-gray-200 dark:border-gray-600 rounded-tl-none"}`,children:a.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:e.content})}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 px-1",children:e.timestamp.toLocaleTimeString("es-PE",{hour:"2-digit",minute:"2-digit"})})]})]})})},v4=()=>{const[e,t]=w.useState(!1),[r,n]=w.useState([]),[s,i]=w.useState(""),[o,l]=w.useState(!1),c=w.useRef(null);w.useEffect(()=>{const f=localStorage.getItem("mercadillo-chat-history");if(f)try{const m=JSON.parse(f);n(m.map(v=>({...v,timestamp:new Date(v.timestamp)})))}catch(m){console.error("Error loading chat history:",m)}else n([{id:"welcome",role:"assistant",content:"¡Hola! 👋 Soy el asistente virtual de Mercadillo. ¿En qué puedo ayudarte hoy?",timestamp:new Date}])},[]),w.useEffect(()=>{r.length>0&&localStorage.setItem("mercadillo-chat-history",JSON.stringify(r))},[r]),w.useEffect(()=>{var f;(f=c.current)==null||f.scrollIntoView({behavior:"smooth"})},[r]);const d=async()=>{if(!s.trim()||o)return;const f={id:Date.now().toString(),role:"user",content:s.trim(),timestamp:new Date};n(m=>[...m,f]),i(""),l(!0);try{const m=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:f.content,history:r.slice(-5)})});if(!m.ok)throw new Error("Error al obtener respuesta");const v=await m.json(),x={id:(Date.now()+1).toString(),role:"assistant",content:v.response,timestamp:new Date};n(j=>[...j,x])}catch(m){console.error("Error sending message:",m);const v={id:(Date.now()+1).toString(),role:"assistant",content:"Lo siento, hubo un error al procesar tu mensaje. Por favor, intenta de nuevo.",timestamp:new Date};n(x=>[...x,v])}finally{l(!1)}},u=f=>{f.key==="Enter"&&!f.shiftKey&&(f.preventDefault(),d())},h=()=>{confirm("¿Estás seguro de que quieres borrar el historial de chat?")&&(n([{id:"welcome",role:"assistant",content:"¡Hola! 👋 Soy el asistente virtual de Mercadillo. ¿En qué puedo ayudarte hoy?",timestamp:new Date}]),localStorage.removeItem("mercadillo-chat-history"))};return a.jsxs(a.Fragment,{children:[!e&&a.jsxs("button",{onClick:()=>t(!0),className:"fixed bottom-6 right-6 w-14 h-14 bg-amarillo hover:bg-yellow-500 text-gray-900 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center z-50 group","aria-label":"Abrir chat",children:[a.jsx(Bs,{className:"w-6 h-6"}),a.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-ping"}),a.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"})]}),e&&a.jsxs("div",{className:"fixed bottom-6 right-6 w-96 h-[600px] bg-white dark:bg-gray-800 rounded-2xl shadow-2xl flex flex-col z-50 border border-gray-200 dark:border-gray-700 overflow-hidden",children:[a.jsxs("div",{className:"bg-amarillo text-gray-900 p-4 flex items-center justify-between rounded-t-2xl",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-900 rounded-full flex items-center justify-center",children:a.jsx(Bs,{className:"w-5 h-5 text-amarillo"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:"Asistente Mercadillo"}),a.jsx("p",{className:"text-xs text-gray-800",children:"En línea"})]})]}),a.jsx("button",{onClick:()=>t(!1),className:"text-gray-900 hover:text-gray-700 transition-colors","aria-label":"Cerrar chat",children:a.jsx(si,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50 dark:bg-gray-900",children:[r.map(f=>a.jsx(y4,{message:f},f.id)),o&&a.jsxs("div",{className:"flex items-center space-x-2 text-gray-500 dark:text-gray-400",children:[a.jsx(Kb,{className:"w-4 h-4 animate-spin"}),a.jsx("span",{className:"text-sm",children:"Escribiendo..."})]}),a.jsx("div",{ref:c})]}),a.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"text",value:s,onChange:f=>i(f.target.value),onKeyPress:u,placeholder:"Escribe tu mensaje...",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-amarillo focus:border-transparent dark:bg-gray-700 dark:text-gray-100",disabled:o}),a.jsx("button",{onClick:d,disabled:!s.trim()||o,className:"p-2 bg-amarillo text-gray-900 rounded-lg hover:bg-yellow-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Enviar mensaje",children:a.jsx(Rm,{className:"w-5 h-5"})})]}),a.jsx("button",{onClick:h,className:"text-xs text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 mt-2",children:"Borrar historial"})]})]})]})};function b4(){return a.jsxs(eE,{client:pE,children:[a.jsx(TC,{children:a.jsx(w4,{})}),a.jsx(mE,{initialIsOpen:!1})]})}const w4=()=>a.jsx(RC,{children:a.jsxs(gE,{children:[a.jsx(p4,{}),a.jsx(m4,{children:a.jsx(x1,{})}),a.jsx(x4,{}),a.jsx(v4,{})]})});let bi=null;async function Sr(e=5e3){if(bi)return bi;bi=(async()=>{const t=Date.now(),r=window.__getClerkToken;for(;Date.now()-t<e;){if(typeof r=="function")try{const i=await r();if(i)return i}catch{}if(await new Promise(i=>{const o=()=>i(!0);window.addEventListener("supabase-session-ready",o,{once:!0}),setTimeout(()=>i(!1),200)})&&typeof r=="function")try{const i=await r();if(i)return i}catch{}await new Promise(i=>setTimeout(i,100))}return console.warn("⏱️ Timeout waiting for Clerk token"),null})();try{return await bi}finally{bi=null}}async function k4(e){try{if(!await Sr())return console.warn("getUserWishlist: No Clerk token available"),{data:null,error:"no_clerk_token"};const{data:r,error:n}=await te.from("lista_deseos").select(`
        *,
        producto:productos(id, nombre, precio, imagen, stock)
      `).eq("usuario_id",e).order("created_at",{ascending:!1});return n?(console.error("Error fetching wishlist:",n),{data:null,error:n.message}):{data:r,error:null}}catch(t){return console.error("Unexpected error fetching wishlist:",t),{data:null,error:"Error inesperado al obtener lista de deseos"}}}async function j4(e,t){try{if(!await Sr())return console.warn("addToWishlist: No Clerk token available"),{data:null,error:"no_clerk_token"};const{data:n,error:s}=await te.from("lista_deseos").insert([{usuario_id:e,producto_id:t}]).select().single();return s?s.code==="23505"?{data:null,error:"El producto ya está en tu lista de deseos"}:(console.error("Error adding to wishlist:",s),{data:null,error:JSON.stringify(s)}):(console.log("✅ Added to wishlist"),{data:n,error:null})}catch(r){return console.error("Unexpected error adding to wishlist:",r),{data:null,error:"Error inesperado al agregar a lista de deseos"}}}async function rw(e,t){try{if(!await Sr())return console.warn("removeFromWishlist: No Clerk token available"),{success:!1,error:"no_clerk_token"};const{error:n}=await te.from("lista_deseos").delete().eq("usuario_id",e).eq("producto_id",t);return n?(console.error("Error removing from wishlist:",n),{success:!1,error:JSON.stringify(n)}):(console.log("✅ Removed from wishlist"),{success:!0,error:null})}catch(r){return console.error("Unexpected error removing from wishlist:",r),{success:!1,error:"Error inesperado al remover de lista de deseos"}}}async function _4(e,t){try{if(!await Sr())return{isInWishlist:!1,error:"no_clerk_token"};const{data:n,error:s}=await te.from("lista_deseos").select("id").eq("usuario_id",e).eq("producto_id",t).maybeSingle();return s?(console.error("Error checking wishlist:",s.message),{isInWishlist:!1,error:JSON.stringify(s)}):{isInWishlist:!!n,error:null}}catch(r){return console.error("Unexpected error checking wishlist:",r),{isInWishlist:!1,error:"Error inesperado al verificar lista de deseos"}}}async function N4(e,t=20){try{if(!await Sr())return console.warn("getUserNavigationHistory: No Clerk token available"),{data:null,error:"no_clerk_token"};const{data:n,error:s}=await te.from("historial_navegacion").select(`
        *,
        producto:productos(id, nombre, precio, imagen, stock, categoria, descripcion, created_at, updated_at)
      `).eq("usuario_id",e).order("updated_at",{ascending:!1}).limit(t);return s?(console.error("Error fetching navigation history:",s),{data:null,error:s.message}):{data:n,error:null}}catch(r){return console.error("Unexpected error fetching navigation history:",r),{data:null,error:"Error inesperado al obtener historial"}}}async function S4(e,t){try{if(!await Sr())return console.warn("addToNavigationHistory: No Clerk token available"),{success:!0,error:null};const{data:n}=await te.from("historial_navegacion").select("id").eq("usuario_id",e).eq("producto_id",t).maybeSingle();if(n){const{error:s}=await te.from("historial_navegacion").update({updated_at:new Date().toISOString()}).eq("id",n.id);if(s)return console.error("Error updating navigation history:",s.message),{success:!1,error:s.message}}else{const{error:s}=await te.from("historial_navegacion").insert({usuario_id:e,producto_id:t,updated_at:new Date().toISOString()});if(s)return console.error("Error inserting navigation history:",s.message),{success:!1,error:s.message}}return{success:!0,error:null}}catch(r){return console.error("Unexpected error adding to navigation history:",r),{success:!0,error:null}}}async function E4(e){try{if(!await Sr())return console.warn("clearNavigationHistory: No Clerk token available"),{success:!1,error:"no_clerk_token"};const{error:r}=await te.from("historial_navegacion").delete().eq("usuario_id",e);return r?(console.error("Error clearing navigation history:",r),{success:!1,error:r.message}):{success:!0,error:null}}catch(t){return console.error("Unexpected error clearing navigation history:",t),{success:!1,error:"Error inesperado al limpiar historial"}}}async function nw(e){try{if(!await Sr())return console.warn("getUserAddresses: No Clerk token available"),{data:null,error:"no_clerk_token"};const{data:r,error:n}=await te.from("direcciones_usuario").select("*").eq("usuario_id",e).order("es_predeterminada",{ascending:!1}).order("created_at",{ascending:!1});return n?(console.error("Error fetching user addresses:",n),{data:null,error:n.message}):{data:r,error:null}}catch(t){return console.error("Unexpected error fetching addresses:",t),{data:null,error:"Error inesperado al obtener direcciones"}}}async function P4(e,t){try{if(!await Sr())return console.warn("createUserAddress: No Clerk token available"),{data:null,error:"no_clerk_token"};const{data:n,error:s}=await te.from("direcciones_usuario").insert([{usuario_id:e,...t,provincia:t.provincia||"Lima",departamento:t.departamento||"Lima"}]).select().single();return s?(console.error("Error creating address:",s),{data:null,error:s.message}):{data:n,error:null}}catch(r){return console.error("Unexpected error creating address:",r),{data:null,error:"Error inesperado al crear dirección"}}}async function E0(e,t){try{if(!await Sr())return console.warn("updateUserAddress: No Clerk token available"),{data:null,error:"no_clerk_token"};const{data:n,error:s}=await te.from("direcciones_usuario").update(t).eq("id",e).select().single();return s?(console.error("Error updating address:",s),{data:null,error:s.message}):{data:n,error:null}}catch(r){return console.error("Unexpected error updating address:",r),{data:null,error:"Error inesperado al actualizar dirección"}}}async function C4(e){try{if(!await Sr())return console.warn("deleteUserAddress: No Clerk token available"),{success:!1,error:"no_clerk_token"};const{error:r}=await te.from("direcciones_usuario").delete().eq("id",e);return r?(console.error("Error deleting address:",r),{success:!1,error:r.message}):{success:!0,error:null}}catch(t){return console.error("Unexpected error deleting address:",t),{success:!1,error:"Error inesperado al eliminar dirección"}}}const gf=({productId:e,className:t="",productName:r})=>{const{user:n}=mt(),{showWishlistAdded:s,showWishlistRemoved:i}=Ko(),[o,l]=w.useState(!1),[c,d]=w.useState(!1),[u,h]=w.useState(!1),[f,m]=w.useState(null),[v,x]=w.useState(r||"");w.useEffect(()=>{let p=!0;return(async()=>{if(!(n!=null&&n.id)){l(!1),h(!0),m(!0);return}m(null);try{const y=await _4(n.id,e);y.error==="no_clerk_token"?p&&(m(!1),h(!1)):p&&(m(!0),l(!!y.isInWishlist),h(!0))}catch(y){console.error("Error checking wishlist state",y),p&&(m(!1),h(!0))}})(),()=>{p=!1}},[n==null?void 0:n.id,e]),w.useEffect(()=>{if(r||v)return;(async()=>{try{const{data:g,error:y}=await te.from("productos").select("nombre").eq("id",e).single();!y&&g&&x(g.nombre)}catch(g){console.error("Error fetching product name:",g)}})()},[e,r,v]);const j=w.useCallback(async p=>{if(p.preventDefault(),p.stopPropagation(),!(n!=null&&n.id)||c)return;if(!u||f!==!0){console.warn("WishlistButton: toggle prevented — waiting for initial state",{initialLoaded:u,sessionAvailable:f});return}d(!0);const g=o;l(!g);const y=r||v||"Producto";try{if(g){const b=await rw(n.id,e);if(b.error)throw new Error(b.error);i(y)}else{const b=await j4(n.id,e);if(b.error)throw new Error(b.error);s(y)}}catch(b){console.error("Wishlist toggle failed",b),l(g)}finally{d(!1)}},[n==null?void 0:n.id,e,o,c,u,f,r,v,s,i]);return a.jsx("button",{onClick:j,disabled:!(n!=null&&n.id)||c||f===null,"aria-pressed":o,title:o?"Remove from wishlist":"Add to wishlist",className:`${t} group transition-transform duration-200 ease-out hover:scale-110 active:scale-95 disabled:hover:scale-100`,children:a.jsx(Mc,{className:`
          w-5 h-5 
          transition-all duration-300 ease-in-out
          ${o?"text-red-600 fill-red-600":"text-gray-400 group-hover:text-red-400 group-hover:fill-red-100"}
          ${c?"opacity-70":"opacity-100"}
        `})})},Ht=({rating:e,onRatingChange:t,readonly:r=!1,size:n="md",showText:s=!1,className:i=""})=>{const[o,l]=w.useState(0),c={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},d={sm:"text-sm",md:"text-base",lg:"text-lg"},u=v=>{!r&&t&&t(v)},h=v=>{r||l(v)},f=()=>{r||l(0)},m=o>0?o:e;return a.jsxs("div",{className:`flex items-center gap-1 ${i}`,children:[a.jsx("div",{className:"flex items-center gap-0.5",onMouseLeave:f,children:[1,2,3,4,5].map(v=>{const x=v<=m,j=o>0&&v<=o;return a.jsx("button",{type:"button",disabled:r,onClick:()=>u(v),onMouseEnter:()=>h(v),className:`
                ${c[n]}
                ${r?"cursor-default":"cursor-pointer hover:scale-110 transition-all duration-150 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-opacity-50 rounded"}
                ${x?j?"text-yellow-500 fill-current":"text-yellow-400 fill-current":j?"text-yellow-300 fill-current":"text-gray-300 dark:text-gray-600"}
                ${!r&&j?"transform scale-110":""}
              `,"aria-label":`${v} estrella${v>1?"s":""}`,children:a.jsx(jr,{className:`
                  w-full h-full transition-all duration-150
                  ${x||j&&v<=o?"fill-current":""}
                `})},v)})}),s&&a.jsx("span",{className:`ml-2 text-gray-600 dark:text-gray-400 ${d[n]}`,children:m>0?a.jsxs(a.Fragment,{children:[m.toFixed(1)," de 5 estrella",m!==1?"s":""]}):"Sin calificaciones"}),!r&&o>0&&a.jsxs("span",{className:`ml-2 text-yellow-600 dark:text-yellow-400 font-medium ${d[n]}`,children:[o," estrella",o>1?"s":""]})]})},P0=({src:e,alt:t,width:r,height:n,className:s="",priority:i=!1,placeholder:o,onLoad:l,onError:c})=>{const[d,u]=w.useState(!1),[h,f]=w.useState(i),[m,v]=w.useState(!1),x=w.useRef(null);w.useEffect(()=>{if(i)return;const _=x.current;if(!_)return;const N=new IntersectionObserver(([k])=>{k.isIntersecting&&(f(!0),N.disconnect())},{threshold:.1,rootMargin:"50px"});return N.observe(_),()=>N.disconnect()},[i]);const j=e.includes("cloudinary.com"),p=()=>{if(!j)return e;const _=e.split("/"),N=_.findIndex(F=>F==="upload");if(N===-1)return e;const k=_.slice(N+1).join("/"),E=_[3],S=[];r&&S.push(`w_${r}`),n&&S.push(`h_${n}`),S.push("f_auto","q_auto","c_fill");const C=S.join(",");return`https://res.cloudinary.com/${E}/image/upload/${C}/${k}`},g=()=>{u(!0),l==null||l()},y=()=>{v(!0),c==null||c()},b=`data:image/svg+xml;base64,${btoa(`
    <svg width="${r||300}" height="${n||200}" xmlns="http://www.w3.org/2000/svg">
      <rect width="100%" height="100%" fill="#f3f4f6"/>
      <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="14" fill="#9ca3af" text-anchor="middle" dy=".3em">
        Cargando...
      </text>
    </svg>
  `)}`;return a.jsxs("div",{ref:x,className:`relative overflow-hidden ${s}`,style:{width:r?`${r}px`:"100%",height:n?`${n}px`:"auto",minHeight:n?`${n}px`:"200px"},children:[!d&&!m&&a.jsx("div",{className:"absolute inset-0 bg-gray-100 dark:bg-gray-800 flex items-center justify-center transition-opacity duration-300",children:a.jsx("img",{src:o||b,alt:"Cargando...",className:"w-full h-full object-cover opacity-50"})}),h&&!m&&a.jsx("img",{src:p(),alt:t,width:r,height:n,className:`w-full h-full object-cover transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,loading:i?"eager":"lazy",decoding:"async",onLoad:g,onError:y}),m&&a.jsx("div",{className:"absolute inset-0 bg-gray-200 dark:bg-gray-700 flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[a.jsx("svg",{className:"w-12 h-12 mx-auto mb-2",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),a.jsx("p",{className:"text-sm",children:"Error al cargar imagen"})]})})]})};async function T4(e,t=50){try{const{data:r,error:n}=await te.from("pedidos").select("*").eq("usuario_id",e).order("created_at",{ascending:!1}).limit(t);return n?(console.error("Error fetching user orders:",n),{data:null,error:n.message}):{data:r,error:null}}catch(r){return console.error("Unexpected error fetching orders:",r),{data:null,error:"Error inesperado al obtener los pedidos"}}}async function R4(e,t){try{const{data:r,error:n}=await te.from("pedidos").select("id, items").eq("usuario_id",e).eq("estado","entregado");if(n)return console.error("Error checking user purchases:",n),{purchased:!1,error:n.message};for(const s of r)if((Array.isArray(s.items)?s.items:[]).some(l=>l.id===t))return{purchased:!0,pedido_id:s.id,error:null};return{purchased:!1,error:null}}catch(r){return console.error("Unexpected error checking purchases:",r),{purchased:!1,error:"Error inesperado al verificar compras"}}}const sw=async(e,t)=>{try{const r=await R4(e,t);if(r.error)return console.error("Error al verificar compras:",r.error),{can_review:!1,message:"Error al verificar historial de compras"};if(!r.purchased)return{can_review:!1,message:"Debes haber comprado este producto para poder reseñarlo"};const{data:n,error:s}=await te.from("resenas").select("id").eq("usuario_id",e).eq("producto_id",t).single();return s&&s.code!=="PGRST116"?(console.error("Error al verificar reseña existente:",s),{can_review:!1,message:"Error al verificar reseñas existentes"}):n?{can_review:!1,message:"Ya has creado una reseña para este producto"}:{can_review:!0,message:"Puedes crear una reseña para este producto",pedido_id:r.pedido_id}}catch(r){return console.error("Error en canUserReviewProduct:",r),{can_review:!1,message:"Error interno del servidor"}}},A4=async(e,t)=>{try{const r=await sw(e,t.producto_id);if(!r.can_review)return{success:!1,error:r.message};const{data:n,error:s}=await te.from("resenas").insert({usuario_id:e,producto_id:t.producto_id,pedido_id:t.pedido_id,calificacion:t.calificacion,comentario:t.comentario||null}).select(`
        *,
        usuario:usuarios(nombre, apellido)
      `).single();return s?(console.error("Error al crear reseña:",s),{success:!1,error:"Error al crear la reseña"}):{success:!0,review:n}}catch(r){return console.error("Error en createReview:",r),{success:!1,error:"Error interno del servidor"}}},O4=async(e,t=10,r=0)=>{try{const{data:n,error:s}=await te.from("resenas").select(`
        *,
        usuario:usuarios(nombre, apellido)
      `).eq("producto_id",e).order("created_at",{ascending:!1}).range(r,r+t-1);if(s)return console.error("Error al obtener reseñas:",s),{reviews:[],total:0};const{count:i}=await te.from("resenas").select("*",{count:"exact",head:!0}).eq("producto_id",e);return{reviews:n||[],total:i||0}}catch(n){return console.error("Error en getProductReviews:",n),{reviews:[],total:0}}},aw=async e=>{try{const{data:t,error:r}=await te.from("resenas").select("calificacion").eq("producto_id",e);if(r)return console.error("Error al obtener estadísticas de reseñas:",r),{promedio:0,total:0,distribucion:{cinco:0,cuatro:0,tres:0,dos:0,uno:0}};if(!t||t.length===0)return{promedio:0,total:0,distribucion:{cinco:0,cuatro:0,tres:0,dos:0,uno:0}};const n=t.length,i=t.reduce((l,c)=>l+c.calificacion,0)/n,o={cinco:t.filter(l=>l.calificacion===5).length,cuatro:t.filter(l=>l.calificacion===4).length,tres:t.filter(l=>l.calificacion===3).length,dos:t.filter(l=>l.calificacion===2).length,uno:t.filter(l=>l.calificacion===1).length};return{promedio:Math.round(i*10)/10,total:n,distribucion:o}}catch(t){return console.error("Error en getProductReviewStats:",t),{promedio:0,total:0,distribucion:{cinco:0,cuatro:0,tres:0,dos:0,uno:0}}}},F4=async(e,t)=>{try{const{error:r}=await te.from("resenas").delete().eq("id",e).eq("usuario_id",t);return r?(console.error("Error al eliminar reseña:",r),{success:!1,error:"Error al eliminar la reseña"}):{success:!0}}catch(r){return console.error("Error en deleteReview:",r),{success:!1,error:"Error interno del servidor"}}},L4=async(e,t)=>{try{const{data:r,error:n}=await te.from("resenas").select(`
        *,
        usuario:usuarios(nombre, apellido)
      `).eq("usuario_id",e).eq("producto_id",t).single();return n&&n.code!=="PGRST116"?(console.error("Error al obtener reseña del usuario:",n),null):r||null}catch(r){return console.error("Error en getUserReviewForProduct:",r),null}},I4=e=>xb({queryKey:Oe.reviews.stat(e),queryFn:()=>aw(e),...yb.static,enabled:!!e}),Am=w.memo(({producto:e,viewMode:t="grid"})=>{const{addToCart:r,items:n}=ss(),[s,i]=w.useState(!1),[o,l]=w.useState(null),{data:c={promedio:0,total:0,distribucion:{cinco:0,cuatro:0,tres:0,dos:0,uno:0}}}=I4(e.id),d=w.useMemo(()=>{const f=n.find(j=>j.producto.id===e.id),m=f?f.cantidad:0,v=e.stock-m,x=v<=0;return{existingItem:f,currentQuantityInCart:m,availableStock:v,isOutOfStock:x}},[n,e.id,e.stock]),u=w.useMemo(()=>new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN"}).format(e.precio),[e.precio]),h=w.useCallback(async f=>{if(f.preventDefault(),f.stopPropagation(),!s){i(!0),l(null);try{if(d.currentQuantityInCart>=e.stock){l("Sin stock disponible"),setTimeout(()=>l(null),2e3);return}r(e),l("¡Agregado al carrito!"),setTimeout(()=>l(null),1500)}catch{l("Error al agregar"),setTimeout(()=>l(null),2e3)}finally{i(!1)}}},[s,d.currentQuantityInCart,e,r]);return t==="list"?a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg hover:shadow-xl dark:hover:shadow-gray-700/50 transition-all duration-300 overflow-hidden relative",children:[o&&a.jsx("div",{className:`absolute top-4 left-4 z-10 text-sm font-medium px-3 py-2 rounded-lg shadow-lg ${o.includes("Error")||o.includes("Sin stock")?"bg-red-100 text-red-800 border border-red-200":"bg-green-100 text-green-800 border border-green-200"}`,children:o}),a.jsx(ce,{to:`/producto/${e.id}`,children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"w-48 h-48 flex-shrink-0 overflow-hidden",children:a.jsx(P0,{src:e.imagen,alt:e.nombre,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-500",priority:!1})}),a.jsxs("div",{className:"flex-1 p-6 flex flex-col justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsx("h3",{className:"text-xl font-bold text-gris-oscuro dark:text-gray-100 line-clamp-2 flex-1",children:e.nombre}),a.jsxs("div",{className:"ml-4 text-right",children:[a.jsx("div",{className:"text-2xl font-bold text-dorado dark:text-yellow-400 mb-1",children:u}),a.jsxs("div",{className:"flex items-center justify-end mb-2",children:[a.jsx(Ht,{rating:c.promedio,readonly:!0,size:"sm"}),c.total>0&&a.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 ml-2",children:["(",c.promedio.toFixed(1),")"]})]})]})]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4 line-clamp-3 leading-relaxed",children:e.descripcion}),a.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[a.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300",children:e.categoria}),a.jsx("span",{className:`text-sm font-semibold px-2 py-1 rounded-md ${d.availableStock>0?d.availableStock>10?"text-green-700 dark:text-green-400 bg-green-50 dark:bg-green-900/30":"text-yellow-700 dark:text-yellow-400 bg-yellow-50 dark:bg-yellow-900/30":"text-red-700 dark:text-red-400 bg-red-50 dark:bg-red-900/30"}`,children:d.availableStock>0?d.availableStock>10?`${d.availableStock} disponibles`:`¡Solo quedan ${d.availableStock}!`:"Sin stock"}),d.currentQuantityInCart>0&&a.jsxs("span",{className:"text-sm text-blue-700 dark:text-blue-400 font-semibold bg-blue-50 dark:bg-blue-900/30 px-2 py-1 rounded-md",children:[d.currentQuantityInCart," en carrito"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:h,disabled:d.isOutOfStock||s,className:"flex-1 btn-primary py-3 flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed text-base font-semibold",children:[a.jsx($r,{className:"w-5 h-5"}),a.jsx("span",{children:s?"Agregando...":d.isOutOfStock?"Sin Stock":"Agregar al carrito"})]}),a.jsx(gf,{productId:e.id,productName:e.nombre,className:"p-3 rounded-lg border"})]})]})]})})]}):a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg hover:shadow-xl dark:hover:shadow-gray-700/50 transition-all duration-300 overflow-hidden group relative",children:[o&&a.jsx("div",{className:`absolute top-3 left-3 right-3 z-10 text-xs font-medium px-3 py-2 rounded-lg shadow-lg ${o.includes("Error")||o.includes("Sin stock")?"bg-red-100 text-red-800 border border-red-200":"bg-green-100 text-green-800 border border-green-200"}`,children:o}),a.jsxs(ce,{to:`/producto/${e.id}`,children:[a.jsxs("div",{className:"aspect-square overflow-hidden relative",children:[a.jsx(P0,{src:e.imagen,alt:e.nombre,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",priority:!1}),a.jsx("div",{className:"absolute top-3 right-3",children:a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-white/90 dark:bg-gray-800/90 text-gray-700 dark:text-gray-300 shadow-sm",children:e.categoria})})]}),a.jsxs("div",{className:"p-5",children:[a.jsx("h3",{className:"font-bold text-lg text-gris-oscuro dark:text-gray-100 mb-2 line-clamp-2 leading-tight",children:e.nombre}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 line-clamp-2 leading-relaxed",children:e.descripcion}),a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(Ht,{rating:c.promedio,readonly:!0,size:"sm"}),c.total>0&&a.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:["(",c.promedio.toFixed(1),")"]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"text-center sm:text-left mb-2",children:a.jsx("span",{className:"text-xl font-bold text-dorado dark:text-yellow-400",children:u})}),a.jsxs("div",{className:"flex flex-col items-center sm:flex-row sm:justify-between",children:[a.jsx("div",{className:"sm:flex-1"}),a.jsxs("div",{className:"text-center sm:text-right",children:[a.jsx("span",{className:`text-sm font-semibold px-2 py-1 rounded-md ${d.availableStock>0?d.availableStock>10?"text-green-700 dark:text-green-400 bg-green-50 dark:bg-green-900/30":"text-yellow-700 dark:text-yellow-400 bg-yellow-50 dark:bg-yellow-900/30":"text-red-700 dark:text-red-400 bg-red-50 dark:bg-red-900/30"}`,children:d.availableStock>0?d.availableStock>10?`${d.availableStock} disponibles`:`¡Solo ${d.availableStock}!`:"Sin stock"}),d.currentQuantityInCart>0&&a.jsxs("div",{className:"text-xs text-blue-700 dark:text-blue-400 font-semibold mt-1 bg-blue-50 dark:bg-blue-900/30 px-2 py-1 rounded-md",children:[d.currentQuantityInCart," en carrito"]})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[a.jsxs("button",{onClick:h,disabled:d.isOutOfStock||s,className:"flex-1 btn-primary py-2.5 flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-semibold",children:[a.jsx($r,{className:"w-4 h-4"}),a.jsx("span",{className:"truncate",children:s?"Agregando...":d.isOutOfStock?"Sin Stock":"Agregar"})]}),a.jsx(gf,{productId:e.id,productName:e.nombre,className:"sm:w-auto w-full px-4 py-2.5 rounded-lg border justify-center"})]})]})]})]})});Am.displayName="ProductCard";const M4=()=>{const[e,t]=w.useState([]),[r,n]=w.useState(!0),[s,i]=w.useState(null);w.useEffect(()=>{(async()=>{try{n(!0),i(null);let c=te.from("productos").select("*").gt("stock",0),{data:d,error:u}=await c.order("created_at",{ascending:!1}).limit(8);if(u){const{data:h,error:f}=await c.limit(8);if(f){i("No se pudo cargar la informacion, intentalo mas tarde");return}d=h}t(d||[])}catch{i("Ocurrio un error inesperado al cargar los productos.")}finally{n(!1)}})()},[]);const o=[{icon:a.jsx(Ws,{className:"w-8 h-8"}),title:"Envio Rapido",description:"Entrega en 24-48 horas en El Agustino y Lima Este"},{icon:a.jsx(kd,{className:"w-8 h-8"}),title:"Compra Segura",description:"Pagos seguros con Mercado Pago"},{icon:a.jsx(QC,{className:"w-8 h-8"}),title:"Soporte 24/7",description:"Atencion al cliente siempre disponible"}];return a.jsxs("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 transition-colors duration-200",children:[a.jsxs("section",{className:"relative w-full h-96 overflow-hidden",children:[a.jsx("img",{src:"https://res.cloudinary.com/ddbjhpjri/image/upload/f_auto,q_auto,w_1920,h_400,c_fill,g_center/v1759101989/mercadillo/banner_v1.webp",alt:"Mercadillo Lima Peru Banner",className:"w-full h-full object-cover",onError:l=>{l.currentTarget.style.display="none";const c=l.currentTarget.nextElementSibling;c&&(c.style.display="flex")}}),a.jsx("div",{style:{display:"none"},className:"absolute inset-0 bg-gradient-to-r from-amarillo to-dorado dark:from-yellow-600 dark:to-yellow-400 flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-gris-oscuro",children:[a.jsx("div",{className:"text-6xl font-bold mb-4",children:"🏪"}),a.jsx("h2",{className:"text-2xl font-bold",children:"Mercadillo Lima Perú"})]})}),a.jsx("div",{className:"absolute inset-0 bg-gris-oscuro bg-opacity-50 dark:bg-black dark:bg-opacity-60 flex items-center justify-center text-center p-4",children:a.jsxs("div",{className:"max-w-3xl mx-auto",children:[a.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-blanco mb-4",children:"Bienvenido a Mercadillo El Agustino"}),a.jsx("p",{className:"text-xl md:text-2xl text-hueso dark:text-gray-200 mb-8",children:"Descubre los mejores productos de El Agustino, Lima Este. Calidad garantizada y envio rapido a toda Lima."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsxs(ce,{to:"/catalogo",className:"btn-primary text-lg px-8 py-3 flex items-center justify-center space-x-2",children:[a.jsx("span",{children:"Ver Catalogo"}),a.jsx(ff,{className:"w-5 h-5"})]}),a.jsx(ce,{to:"/carrito",className:"bg-blanco dark:bg-gray-800 text-gris-oscuro dark:text-gray-200 hover:bg-hueso dark:hover:bg-gray-700 font-semibold py-3 px-8 rounded-lg transition-colors duration-200 text-lg",children:"Mi Carrito"})]})]})})]}),a.jsx("section",{className:"py-16 bg-blanco dark:bg-gray-800 transition-colors duration-200",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:o.map((l,c)=>a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-amarillo dark:bg-yellow-500 rounded-full flex items-center justify-center mx-auto mb-4 text-gris-oscuro dark:text-gray-900",children:l.icon}),a.jsx("h3",{className:"text-xl font-semibold text-gris-oscuro dark:text-gray-100 mb-2",children:l.title}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:l.description})]},c))})})}),a.jsx("section",{className:"py-16 bg-hueso dark:bg-gray-900 transition-colors duration-200",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"Productos Destacados"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"Descubre nuestra seleccion de productos mas populares y mejor valorados"})]}),r?a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amarillo dark:border-yellow-500"})}):s?a.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center bg-red-100 dark:bg-red-900 rounded-lg shadow-md max-w-md mx-auto",children:[a.jsx("p",{className:"text-xl font-semibold text-red-800 dark:text-red-200 mb-4",children:"⚠️ Error al cargar productos"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:s}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Por favor, verifica tu conexion a internet o intentalo de nuevo mas tarde."})]}):a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map(l=>a.jsx(Am,{producto:l},l.id))}),a.jsx("div",{className:"text-center mt-12",children:a.jsxs(ce,{to:"/catalogo",className:"btn-primary text-lg px-8 py-3 inline-flex items-center space-x-2",children:[a.jsx("span",{children:"Ver Todos los Productos"}),a.jsx(ff,{className:"w-5 h-5"})]})})]})}),a.jsx("section",{className:"py-16 bg-blanco dark:bg-gray-800 transition-colors duration-200",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("div",{className:"text-center mb-12",children:a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"Lo que dicen nuestros clientes"})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{name:"Maria Gonzalez",location:"El Agustino, Lima",rating:5,comment:"Excelente servicio y productos de calidad. El envio fue super rapido aqui en El Agustino."},{name:"Carlos Mendoza",location:"Santa Anita, Lima",rating:5,comment:"Muy buena experiencia de compra. Me llego rapidisimo desde El Agustino."},{name:"Ana Rodriguez",location:"San Juan de Lurigancho, Lima",rating:5,comment:"Productos autenticos y precios justos. Perfecto para la zona de Lima Este."}].map((l,c)=>a.jsxs("div",{className:"card p-6",children:[a.jsx("div",{className:"flex items-center mb-4",children:[...Array(l.rating)].map((d,u)=>a.jsx(jr,{className:"w-5 h-5 text-amarillo dark:text-yellow-500 fill-current"},u))}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4 italic",children:['"',l.comment,'"']}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gris-oscuro dark:text-gray-100",children:l.name}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:l.location})]})]},c))})]})})]})},U4=()=>{const[e,t]=w.useState([]),[r,n]=w.useState([]),[s,i]=w.useState(!0),[o,l]=w.useState(null),[c,d]=w.useState(""),[u,h]=w.useState(""),[f,m]=w.useState("nombre"),[v,x]=w.useState("grid"),[j,p]=w.useState(!1),[g,y]=w.useState({min:"",max:""}),[b,_]=od(),N=[{name:"Todos",icon:jd,value:""},{name:"Electrónicos",icon:Xb,value:"Electrónicos"},{name:"Ropa",icon:s4,value:"Ropa"},{name:"Hogar",icon:Qo,value:"Hogar"},{name:"Deportes",icon:qC,value:"Deportes"},{name:"Libros",icon:IC,value:"Libros"},{name:"Otros",icon:$e,value:"Otros"}];w.useEffect(()=>{const S=b.get("search");S&&d(S)},[b]),w.useEffect(()=>{(async()=>{try{i(!0),l(null);let C=te.from("productos").select("*").gt("stock",0),{data:F,error:z}=await C.order("created_at",{ascending:!1});if(z){const{data:J,error:Y}=await C;if(Y){l("No se pudo cargar la información del catálogo, inténtalo más tarde"),t([]),n([]);return}F=J}t(F||[]),n(F||[])}catch(C){console.error("Error en fetchProductos en Catalog:",C),l("Ocurrió un error inesperado al cargar el catálogo."),t([]),n([])}finally{i(!1)}})()},[]),w.useEffect(()=>{let S=e;c&&(S=S.filter(C=>C.nombre.toLowerCase().includes(c.toLowerCase())||C.descripcion.toLowerCase().includes(c.toLowerCase()))),u&&(S=S.filter(C=>C.categoria===u)),g.min&&(S=S.filter(C=>C.precio>=parseFloat(g.min))),g.max&&(S=S.filter(C=>C.precio<=parseFloat(g.max))),S=[...S].sort((C,F)=>{let z=0;switch(f){case"precio-asc":z=C.precio-F.precio;break;case"precio-desc":z=F.precio-C.precio;break;case"nombre":z=C.nombre.localeCompare(F.nombre,"es",{sensitivity:"base"});break;case"stock":z=F.stock-C.stock;break;case"newest":const J=new Date(C.created_at||"").getTime();z=new Date(F.created_at||"").getTime()-J;break;default:z=C.nombre.localeCompare(F.nombre,"es",{sensitivity:"base"});break}return z}),n(S)},[e,c,u,f,g]);const k=Array.from(new Set(e.map(S=>S.categoria))),E=()=>{d(""),h(""),y({min:"",max:""}),_({})};return s?a.jsx("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 flex items-center justify-center transition-colors duration-200",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-amarillo dark:border-yellow-500"})}):a.jsx("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 transition-colors duration-200",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"py-8 text-center",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"Nuestros Productos"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"Descubre los mejores productos de Lima, Perú. Calidad garantizada y envío rápido."})]}),o&&a.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center bg-red-100 dark:bg-red-900 rounded-lg shadow-md max-w-md mx-auto my-4",children:[a.jsx("p",{className:"text-xl font-semibold text-red-800 dark:text-red-200 mb-4",children:"⚠️ Error al cargar el catálogo"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:o}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Por favor, verifica tu conexión a internet o inténtalo de nuevo más tarde."})]}),a.jsx("div",{className:"mb-8",children:a.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-6",children:N.map(({name:S,icon:C,value:F})=>a.jsxs("button",{onClick:()=>h(F),className:`flex flex-col items-center p-4 rounded-xl transition-all duration-200 min-w-[100px] ${u===F?"bg-amarillo dark:bg-yellow-500 text-gris-oscuro dark:text-gray-900 shadow-lg transform scale-105":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 shadow-md hover:shadow-lg"}`,children:[a.jsx(C,{className:"w-8 h-8 mb-2"}),a.jsx("span",{className:"text-sm font-medium",children:S})]},S))})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 mb-8 transition-colors duration-200",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[a.jsx(pf,{value:c,onChange:d,onSearch:S=>{S.trim()?_({search:S.trim()}):_({})},productos:e,placeholder:"¿Qué estás buscando hoy?"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:()=>p(!j),className:"flex items-center space-x-2 px-4 py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200",children:[a.jsx(a4,{className:"w-5 h-5"}),a.jsx("span",{className:"hidden sm:inline",children:"Filtros"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>x("grid"),className:`p-3 rounded-xl transition-colors duration-200 ${v==="grid"?"bg-amarillo dark:bg-yellow-500 text-gris-oscuro dark:text-gray-900":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:a.jsx(KC,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>x("list"),className:`p-3 rounded-xl transition-colors duration-200 ${v==="list"?"bg-amarillo dark:bg-yellow-500 text-gris-oscuro dark:text-gray-900":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:a.jsx(GC,{className:"w-5 h-5"})})]})]})]}),j&&a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gris-oscuro dark:text-gray-200 mb-3",children:"Rango de Precio"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"flex-1",children:a.jsx("input",{type:"number",placeholder:"Min",value:g.min,onChange:S=>y(C=>({...C,min:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-amarillo dark:focus:ring-yellow-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})}),a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"—"}),a.jsx("div",{className:"flex-1",children:a.jsx("input",{type:"number",placeholder:"Max",value:g.max,onChange:S=>y(C=>({...C,max:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-amarillo dark:focus:ring-yellow-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gris-oscuro dark:text-gray-200 mb-3",children:"Categoría"}),a.jsxs("select",{value:u,onChange:S=>h(S.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-amarillo dark:focus:ring-yellow-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[a.jsx("option",{value:"",children:"Todas las categorías"}),k.map(S=>a.jsx("option",{value:S,children:S},S))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gris-oscuro dark:text-gray-200 mb-3",children:"Ordenar por"}),a.jsxs("select",{value:f,onChange:S=>m(S.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-amarillo dark:focus:ring-yellow-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[a.jsx("option",{value:"nombre",children:"📝 A-Z (Alfabético)"}),a.jsx("option",{value:"precio-asc",children:"💰 Precio: Menor → Mayor"}),a.jsx("option",{value:"precio-desc",children:"💎 Precio: Mayor → Menor"}),a.jsx("option",{value:"newest",children:"🆕 Más Recientes Primero"}),a.jsx("option",{value:"stock",children:"📦 Mayor Stock Disponible"})]})]})]}),a.jsx("div",{className:"flex justify-end mt-6",children:a.jsxs("button",{onClick:E,className:"flex items-center space-x-2 px-4 py-2 text-sm text-gray-600 dark:text-gray-400 hover:text-gris-oscuro dark:hover:text-gray-200 transition-colors duration-200",children:[a.jsx(si,{className:"w-4 h-4"}),a.jsx("span",{children:"Limpiar filtros"})]})})]})]}),a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[a.jsx("span",{className:"font-semibold text-gris-oscuro dark:text-gray-200",children:r.length})," ","de"," ",a.jsx("span",{className:"font-semibold text-gris-oscuro dark:text-gray-200",children:e.length})," ","productos"]}),u&&a.jsxs("p",{className:"text-sm text-amarillo dark:text-yellow-400 mt-1",children:["Categoría: ",a.jsx("span",{className:"font-medium",children:u})]})]}),a.jsxs("div",{className:"hidden md:flex items-center space-x-2 bg-green-100 dark:bg-green-900/30 px-3 py-1 rounded-full",children:[a.jsx(jr,{className:"w-4 h-4 text-green-600 dark:text-green-400 fill-current"}),a.jsx("span",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"Calidad garantizada"})]})]}),r.length===0?a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"text-8xl mb-6",children:"🔍"}),a.jsx("h3",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"No encontramos productos"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 max-w-md mx-auto",children:"Intenta ajustar tus filtros de búsqueda o explora nuestras categorías más populares."}),a.jsx("button",{onClick:E,className:"btn-primary px-6 py-3",children:"Ver todos los productos"})]}):a.jsx("div",{className:`grid gap-6 pb-12 ${v==="grid"?"grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"grid-cols-1 max-w-4xl mx-auto"}`,children:r.map(S=>a.jsx("div",{className:"transform hover:scale-105 transition-transform duration-200",children:a.jsx(Am,{producto:S,viewMode:v})},S.id))})]})})},iw=({productId:e,onReviewCreated:t,onCancel:r,skipPurchaseValidation:n=!1})=>{const{user:s}=mt(),[i,o]=w.useState(0),[l,c]=w.useState(""),[d,u]=w.useState(!1),[h,f]=w.useState(""),[m,v]=w.useState(null),[x,j]=w.useState(""),[p,g]=w.useState(!0);O.useEffect(()=>{(async()=>{if(!(s!=null&&s.id))return;if(n){v(!0),j("test-order-id"),g(!1);return}g(!0);const N=await sw(s.id,e);v(N.can_review),j(N.pedido_id||""),N.can_review||f(N.message),g(!1)})()},[s==null?void 0:s.id,e,n]);const y=async _=>{if(_.preventDefault(),!(s!=null&&s.id)){f("Debes estar autenticado para crear una reseña");return}if(i===0){f("Debes seleccionar una calificación");return}if(!x){f("No se encontró el pedido asociado");return}u(!0),f("");const N={producto_id:e,pedido_id:x,calificacion:i,comentario:l.trim()||void 0},k=await A4(s.id,N);k.success?(o(0),c(""),t&&t()):f(k.error||"Error al crear la reseña"),u(!1)},b=()=>{o(0),c(""),f(""),r&&r()};return s?p?a.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-600 rounded w-3/4 mb-4"}),a.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-600 rounded w-1/2"})]})}):m===!1?a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Fc,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),a.jsx("p",{className:"text-red-800 dark:text-red-200",children:h})]})}):a.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6 shadow-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Bs,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Escribe tu reseña"})]}),a.jsxs("form",{onSubmit:y,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gris-oscuro dark:text-gray-200 mb-2",children:"Calificación *"}),a.jsx("div",{className:"mb-2",children:a.jsx(Ht,{rating:i,onRatingChange:o,size:"lg",showText:!1})}),i>0&&a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Has seleccionado ",i," de 5 estrella",i!==1?"s":""]}),i===0&&a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Haz clic en las estrellas para calificar"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gris-oscuro dark:text-gray-200 mb-2",children:"Comentario (opcional)"}),a.jsx("textarea",{value:l,onChange:_=>c(_.target.value),placeholder:"Cuéntanos qué te pareció este producto...",rows:4,maxLength:500,className:`\r
              w-full px-3 py-2 \r
              border border-gray-300 dark:border-gray-600 \r
              rounded-lg\r
              bg-white dark:bg-gray-700\r
              text-gris-oscuro dark:text-gray-100\r
              placeholder-gray-500 dark:placeholder-gray-400\r
              focus:ring-2 focus:ring-azul dark:focus:ring-blue-500 focus:border-transparent\r
              resize-none\r
            `}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[l.length,"/500 caracteres"]})]}),h&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:a.jsx("p",{className:"text-red-800 dark:text-red-200 text-sm",children:h})}),a.jsxs("div",{className:"flex gap-3 pt-2",children:[a.jsxs("button",{type:"submit",disabled:d||i===0,className:`\r
              flex items-center gap-2 px-6 py-3\r
              bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600\r
              disabled:bg-gray-400 disabled:cursor-not-allowed\r
              text-white font-semibold\r
              rounded-lg shadow-md hover:shadow-lg\r
              transition-all duration-200\r
              focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50\r
              border border-blue-700 dark:border-blue-400\r
            `,children:[a.jsx(Rm,{className:"w-5 h-5"}),d?"Enviando...":"Enviar reseña"]}),r&&a.jsx("button",{type:"button",onClick:b,disabled:d,className:`\r
                px-6 py-3\r
                border-2 border-gray-400 dark:border-gray-500\r
                bg-white dark:bg-gray-800\r
                text-gray-700 dark:text-gray-200 font-semibold\r
                hover:bg-gray-100 dark:hover:bg-gray-700\r
                hover:border-gray-500 dark:hover:border-gray-400\r
                disabled:opacity-50 disabled:cursor-not-allowed\r
                rounded-lg shadow-md hover:shadow-lg\r
                transition-all duration-200\r
                focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50\r
              `,children:"Cancelar"})]})]})]}):a.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Fc,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"}),a.jsx("p",{className:"text-yellow-800 dark:text-yellow-200",children:"Debes iniciar sesión para escribir una reseña"})]})})},ow=({productId:e,refreshTrigger:t=0})=>{const{user:r}=mt(),[n,s]=w.useState([]),[i,o]=w.useState(null),[l,c]=w.useState(!0),[d,u]=w.useState(""),[h,f]=w.useState(!1),[m,v]=w.useState(1),[x,j]=w.useState(0),p=5,g=async()=>{c(!0);try{const k=(m-1)*p,{reviews:E,total:S}=await O4(e,p,k);if(s(E),j(S),r!=null&&r.id){const C=await L4(r.id,e);o(C)}}catch(k){console.error("Error loading reviews:",k)}finally{c(!1)}};w.useEffect(()=>{g()},[e,m,r==null?void 0:r.id,t]);const y=async k=>{if(!(r!=null&&r.id)||!window.confirm("¿Estás seguro de que quieres eliminar tu reseña?"))return;u(k);const S=await F4(k,r.id);S.success?await g():alert(S.error||"Error al eliminar la reseña"),u("")},b=()=>{f(!1),g()},_=k=>new Date(k).toLocaleDateString("es-PE",{year:"numeric",month:"long",day:"numeric"}),N=Math.ceil(x/p);return l&&m===1?a.jsx("div",{className:"space-y-4",children:[1,2,3].map(k=>a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gray-200 dark:bg-gray-600 rounded-full"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-600 rounded w-1/4 mb-2"}),a.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-600 rounded w-1/3"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-600 rounded w-full"}),a.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-600 rounded w-3/4"})]})]})},k))}):a.jsxs("div",{className:"space-y-6",children:[r&&!i&&!h&&a.jsx("div",{className:"text-center",children:a.jsxs("button",{onClick:()=>f(!0),className:`\r
              inline-flex items-center gap-2 px-6 py-3\r
              bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600\r
              text-white font-semibold\r
              rounded-lg shadow-md hover:shadow-lg\r
              transition-all duration-200\r
              focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50\r
              border border-blue-700 dark:border-blue-400\r
            `,children:[a.jsx(Bs,{className:"w-5 h-5"}),"Escribir reseña"]})}),h&&a.jsx(iw,{productId:e,onReviewCreated:b,onCancel:()=>f(!1)}),i&&a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:a.jsx(un,{className:"w-4 h-4 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Tu reseña"}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-700 dark:text-blue-300",children:[a.jsx(Lc,{className:"w-3 h-3"}),_(i.created_at)]})]})]}),a.jsx("button",{onClick:()=>y(i.id),disabled:d===i.id,className:`\r
                p-1 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-200\r
                disabled:opacity-50 disabled:cursor-not-allowed\r
                rounded transition-colors duration-200\r
                focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50\r
              `,title:"Eliminar reseña",children:a.jsx(Ks,{className:"w-4 h-4"})})]}),a.jsx(Ht,{rating:i.calificacion,readonly:!0,size:"sm"}),i.comentario&&a.jsx("p",{className:"mt-3 text-blue-800 dark:text-blue-200",children:i.comentario})]}),n.length>0?a.jsx("div",{className:"space-y-4",children:n.map(k=>{var E,S;return a.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gray-500 rounded-full flex items-center justify-center",children:a.jsx(un,{className:"w-4 h-4 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"font-medium text-gris-oscuro dark:text-gray-100",children:[(E=k.usuario)==null?void 0:E.nombre," ",(S=k.usuario)==null?void 0:S.apellido]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[a.jsx(Lc,{className:"w-3 h-3"}),_(k.created_at)]})]})]}),a.jsx(Ht,{rating:k.calificacion,readonly:!0,size:"sm"}),k.comentario&&a.jsx("p",{className:"mt-3 text-gris-oscuro dark:text-gray-200",children:k.comentario})]},k.id)})}):!h&&!i&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Bs,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-2",children:"Aún no hay reseñas para este producto"}),a.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:"Sé el primero en compartir tu opinión"})]}),N>1&&a.jsxs("div",{className:"flex justify-center items-center gap-2 mt-6",children:[a.jsx("button",{onClick:()=>v(k=>Math.max(1,k-1)),disabled:m===1||l,className:`\r
              px-3 py-1 text-sm\r
              border border-gray-300 dark:border-gray-600\r
              text-gris-oscuro dark:text-gray-200\r
              hover:bg-gray-50 dark:hover:bg-gray-700\r
              disabled:opacity-50 disabled:cursor-not-allowed\r
              rounded transition-colors duration-200\r
            `,children:"Anterior"}),a.jsxs("span",{className:"px-3 py-1 text-sm text-gray-600 dark:text-gray-400",children:["Página ",m," de ",N]}),a.jsx("button",{onClick:()=>v(k=>Math.min(N,k+1)),disabled:m===N||l,className:`\r
              px-3 py-1 text-sm\r
              border border-gray-300 dark:border-gray-600\r
              text-gris-oscuro dark:text-gray-200\r
              hover:bg-gray-50 dark:hover:bg-gray-700\r
              disabled:opacity-50 disabled:cursor-not-allowed\r
              rounded transition-colors duration-200\r
            `,children:"Siguiente"})]})]})},D4=()=>{const{id:e}=r1(),t=Wr(),{user:r}=mt(),{addToCart:n,items:s}=ss(),[i,o]=w.useState(null),[l,c]=w.useState(!0),[d,u]=w.useState(1),[h,f]=w.useState(!1),[m,v]=w.useState(null),[x,j]=w.useState({promedio:0,total:0,distribucion:{cinco:0,cuatro:0,tres:0,dos:0,uno:0}}),[p]=w.useState(0);w.useEffect(()=>{(async()=>{if(e)try{const{data:E,error:S}=await te.from("productos").select("*").eq("id",e).single();if(S){console.error("Error fetching product:",S),t("/catalogo");return}o(E);const C=await aw(E.id);if(j(C),r!=null&&r.id)try{console.log("Intentando agregar al historial:",{userId:r.id,productId:E.id});const F=await S4(r.id,E.id);F.success?console.log("Producto agregado al historial de navegación exitosamente"):console.error("Error al agregar al historial:",F.error)}catch(F){console.error("Error inesperado al agregar al historial:",F)}}catch(E){console.error("Error in fetchProducto:",E),t("/catalogo")}finally{c(!1)}})()},[e,t]);const g=async()=>{if(i){f(!0),v(null);try{const k=s.find(F=>F.producto.id===i.id),E=k?k.cantidad:0,S=i.stock-E;if(d>S){v(`Solo ${S} unidades disponibles`),setTimeout(()=>v(null),3e3);return}n(i,d),v(`¡${d} producto${d>1?"s":""} agregado${d>1?"s":""} al carrito!`),setTimeout(()=>v(null),2e3);const C=S-d;d>=C&&u(1)}catch{v("Error al agregar al carrito"),setTimeout(()=>v(null),3e3)}finally{f(!1)}}},y=k=>new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN"}).format(k),b=i?s.find(k=>k.producto.id===i.id):null,_=b?b.cantidad:0,N=i?i.stock-_:0;return l?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-amarillo"})}):i?a.jsx("div",{className:"min-h-screen bg-hueso py-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[m&&a.jsx("div",{className:`mb-6 p-4 rounded-lg ${m.includes("Error")||m.includes("Solo")?"bg-red-100 text-red-800 border border-red-200":"bg-green-100 text-green-800 border border-green-200"}`,children:m}),a.jsx("div",{className:"mb-6",children:a.jsxs("button",{onClick:()=>t("/catalogo"),className:"flex items-center space-x-2 text-gray-600 hover:text-gris-oscuro transition-colors duration-200",children:[a.jsx(Vb,{className:"w-5 h-5"}),a.jsx("span",{children:"Volver al catálogo"})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[a.jsx("div",{className:"space-y-4",children:a.jsx("div",{className:"aspect-square overflow-hidden rounded-lg bg-blanco",children:a.jsx("img",{src:i.imagen,alt:i.nombre,className:"w-full h-full object-cover"})})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gris-oscuro mb-2",children:i.nombre}),a.jsx("p",{className:"text-lg text-gray-600 mb-4",children:i.categoria}),a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx(Ht,{rating:x.promedio,readonly:!0,size:"md"}),a.jsx("span",{className:"text-gray-600",children:x.total>0?`(${x.promedio.toFixed(1)}) - ${x.total} reseña${x.total>1?"s":""}`:"Sin reseñas aún"})]})]}),a.jsxs("div",{className:"border-t border-b border-gray-200 py-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("span",{className:"text-3xl font-bold text-dorado",children:y(i.precio)}),a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${N>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:N>0?`${N} disponibles`:"Agotado"}),_>0&&a.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Ya tienes ",_," en tu carrito"]})]})]}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:i.descripcion})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("label",{className:"text-gris-oscuro dark:text-gray-200 font-medium",children:"Cantidad:"}),a.jsxs("div",{className:"flex items-center border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 shadow-sm",children:[a.jsx("button",{onClick:()=>u(Math.max(1,d-1)),className:"px-3 py-2 text-gray-600 dark:text-gray-400 hover:bg-amarillo hover:text-gris-oscuro dark:hover:bg-yellow-500 dark:hover:text-gray-900 disabled:hover:bg-transparent disabled:opacity-40 disabled:cursor-not-allowed transition-all duration-200 rounded-l-lg font-semibold text-lg",disabled:d<=1,children:"-"}),a.jsx("span",{className:"px-4 py-2 border-x border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-600 text-gris-oscuro dark:text-gray-200 font-medium min-w-[50px] text-center",children:d}),a.jsx("button",{onClick:()=>u(Math.min(N,d+1)),className:"px-3 py-2 text-gray-600 dark:text-gray-400 hover:bg-amarillo hover:text-gris-oscuro dark:hover:bg-yellow-500 dark:hover:text-gray-900 disabled:hover:bg-transparent disabled:opacity-40 disabled:cursor-not-allowed transition-all duration-200 rounded-r-lg font-semibold text-lg",disabled:d>=N,children:"+"})]}),a.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Máximo: ",N]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs("button",{onClick:g,disabled:N===0||h,className:"flex-1 btn-primary flex items-center justify-center space-x-2 py-4 text-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx($r,{className:"w-6 h-6"}),a.jsx("span",{children:h?"Agregando...":N>0?"Agregar al carrito":"Producto agotado"})]}),a.jsx(gf,{productId:i.id,productName:i.nombre,className:"sm:w-auto w-full px-6 py-4 text-lg rounded-lg border-2 justify-center"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 pt-6 border-t border-gray-200",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Ws,{className:"w-6 h-6 text-amarillo"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gris-oscuro",children:"Envío Gratis"}),a.jsx("p",{className:"text-sm text-gray-600",children:"En compras +S/50"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(kd,{className:"w-6 h-6 text-amarillo"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gris-oscuro",children:"Garantía"}),a.jsx("p",{className:"text-sm text-gray-600",children:"30 días"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Yb,{className:"w-6 h-6 text-amarillo"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gris-oscuro",children:"Devolución"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Fácil y rápida"})]})]})]})]})]}),a.jsx("div",{className:"mt-16",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100",children:"Reseñas del producto"}),x.total>0&&a.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[a.jsx(Ht,{rating:x.promedio,readonly:!0,size:"sm"}),a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[x.promedio.toFixed(1)," de 5 estrellas (",x.total," reseña",x.total>1?"s":"",")"]})]})]}),a.jsx("div",{className:"p-6",children:a.jsx(ow,{productId:i.id,refreshTrigger:p})})]})})})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gris-oscuro mb-4",children:"Producto no encontrado"}),a.jsx("button",{onClick:()=>t("/catalogo"),className:"btn-primary",children:"Volver al catálogo"})]})})},z4=({className:e="w-full btn-primary text-center py-3 text-lg block",children:t="Proceder al Pago"})=>{const{user:r,isLoaded:n}=mt(),s=Wr(),i=()=>{if(n){if(!r){s("/sign-in",{state:{from:"/checkout",message:"Debes iniciar sesión para proceder con el pago"}});return}s("/checkout")}};return n?a.jsx("button",{onClick:i,className:e,children:a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx($r,{className:"w-5 h-5"}),a.jsx("span",{children:t})]})}):a.jsx("button",{disabled:!0,className:`${e} disabled:opacity-50 disabled:cursor-not-allowed`,children:a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}),a.jsx("span",{children:"Cargando..."})]})})},$4=()=>{const{items:e,updateQuantity:t,removeFromCart:r,getSubtotal:n,getIGV:s,getTotal:i}=ss(),o=l=>new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN"}).format(l);return e.length===0?a.jsx("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 py-8 transition-colors duration-200",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"text-center py-16",children:[a.jsx(jd,{className:"w-24 h-24 text-gray-300 dark:text-gray-600 mx-auto mb-6"}),a.jsx("h1",{className:"text-3xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"Tu carrito está vacío"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-8",children:"Agrega algunos productos para comenzar tu compra"}),a.jsxs(ce,{to:"/catalogo",className:"btn-primary text-lg px-8 py-3 inline-flex items-center space-x-2",children:[a.jsx("span",{children:"Ver Catálogo"}),a.jsx(ff,{className:"w-5 h-5"})]})]})})}):a.jsx("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 py-8 transition-colors duration-200",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gris-oscuro dark:text-gray-100 mb-8",children:"Mi Carrito"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2 space-y-4",children:e.map(l=>a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-20 h-20 overflow-hidden rounded-lg bg-gray-100 dark:bg-gray-700",children:a.jsx("img",{src:l.producto.imagen,alt:l.producto.nombre,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-gris-oscuro dark:text-gray-100 mb-1",children:l.producto.nombre}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:l.producto.categoria}),a.jsx("p",{className:"text-lg font-bold text-dorado dark:text-yellow-400",children:o(l.producto.precio)})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"flex items-center border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 shadow-sm",children:[a.jsx("button",{onClick:()=>t(l.producto.id,l.cantidad-1),className:"p-2 hover:bg-amarillo hover:text-gris-oscuro dark:hover:bg-yellow-500 dark:hover:text-gray-900 transition-all duration-200 rounded-l-lg",children:a.jsx(e4,{className:"w-4 h-4"})}),a.jsx("span",{className:"px-3 py-2 border-x border-gray-300 dark:border-gray-600 text-gris-oscuro dark:text-gray-200 bg-gray-50 dark:bg-gray-600 min-w-[50px] text-center font-medium",children:l.cantidad}),a.jsx("button",{onClick:()=>t(l.producto.id,l.cantidad+1),className:"p-2 hover:bg-amarillo hover:text-gris-oscuro dark:hover:bg-yellow-500 dark:hover:text-gray-900 disabled:hover:bg-transparent disabled:opacity-40 disabled:cursor-not-allowed transition-all duration-200 rounded-r-lg",disabled:l.cantidad>=l.producto.stock,children:a.jsx(bo,{className:"w-4 h-4"})})]}),a.jsx("button",{onClick:()=>r(l.producto.id),className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors duration-200",children:a.jsx(Ks,{className:"w-5 h-5"})})]})]})},l.producto.id))}),a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"card p-6 sticky top-8",children:[a.jsx("h2",{className:"text-xl font-bold text-gris-oscuro dark:text-gray-100 mb-6",children:"Resumen del Pedido"}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal:"}),a.jsx("span",{className:"font-medium text-gris-oscuro dark:text-gray-200",children:o(n())})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"IGV (18%):"}),a.jsx("span",{className:"font-medium text-gris-oscuro dark:text-gray-200",children:o(s())})]}),a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-4",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-lg font-bold text-gris-oscuro dark:text-gray-100",children:"Total:"}),a.jsx("span",{className:"text-lg font-bold text-dorado dark:text-yellow-400",children:o(i())})]})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(z4,{}),a.jsx(ce,{to:"/catalogo",className:"w-full btn-secondary text-center py-3 block",children:"Seguir Comprando"})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-600",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{children:"Envío gratis en compras +S/50"})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400 mt-2",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),a.jsx("span",{children:"Pago 100% seguro"})]})]})]})})]})]})})};var Om={};Object.defineProperty(Om,"__esModule",{value:!0});var lw=Om.loadMercadoPago=void 0;const cw="https://sdk.mercadopago.com/js/v2",B4=/^https:\/\/sdk\.mercadopago\.com\/js\/v2\/?(\?.*)?$/,C0="MercadoPago has already been initialized in your window, please remove the duplicate import",W4="MercadoPago.js not available",q4="Failed to load MercadoPago.js",H4=()=>{for(var e=document.querySelectorAll(`script[src^="${cw}"`),t=0;t<e.length;t++){var r=e[t];if(B4.test(r.src))return r}return null},V4=()=>{const e=document.createElement("script");e.src=cw;const t=document.head||document.body;if(!t)throw new Error("Expected document.body or document.head not to be null. MercadoPago requires a <body> or a <head> element, please add on your project.");return t.appendChild(e),e};let Ml=null;const K4=()=>(Ml!==null||(Ml=new Promise((e,t)=>{if(typeof window>"u"){e(null);return}if(window.MercadoPago){console.warn(C0),e(window.MercadoPago);return}try{let r=H4();r?console.warn(C0):r||(r=V4()),r.addEventListener("load",()=>{window.MercadoPago?e(window.MercadoPago):t(new Error(W4))}),r.addEventListener("error",()=>{t(new Error(q4))})}catch(r){t(r);return}})),Ml);lw=Om.loadMercadoPago=K4;var Q4=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class Mr{static getInstance(){return Q4(this,void 0,void 0,function*(){if(this.publicKey)return this.loadedInstanceMercadoPago||(yield lw(),this.loadedInstanceMercadoPago=!0),this.instanceMercadoPago||(this.instanceMercadoPago=new window.MercadoPago(this.publicKey,this.options)),this.instanceMercadoPago;console.error("Expected the PUBLIC_KEY to render the MercadoPago SDK React")})}}Mr.publicKey=null;Mr.options={};Mr.instanceMercadoPago=void 0;Mr.loadedInstanceMercadoPago=!1;function G4(e,t){return Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(n=>Object.prototype.hasOwnProperty.call(t,n)&&e[n]===t[n])}const J4=(e,t)=>{const r=Object.assign(Object.assign({},t),{frontEndStack:"react"}),n=!G4(Mr.options,r);(e!==Mr.publicKey||n)&&(Mr.publicKey=e,Mr.options=r,Mr.instanceMercadoPago=void 0)};var Y4=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const X4=()=>Y4(void 0,void 0,void 0,function*(){}),Z4=()=>{},e3=e=>{console.error(e)};var t3=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const r3=({settings:e,name:t,containerId:r,controller:n})=>t3(void 0,void 0,void 0,function*(){const s=yield Mr.getInstance(),i=s==null?void 0:s.bricks();window[n]=yield i==null?void 0:i.create(t,r,e)}),n3=200,s3=({onReady:e=Z4,onError:t=e3,onSubmit:r=X4,customization:n,initialization:s,locale:i,id:o="walletBrick_container"})=>(w.useEffect(()=>{const l={settings:{initialization:s,customization:n,locale:i,callbacks:{onReady:e,onSubmit:r,onError:t}},name:"wallet",containerId:o,controller:"walletBrickController"},c=setTimeout(()=>{r3(l)},n3);return()=>{var d;clearTimeout(c),(d=window.walletBrickController)===null||d===void 0||d.unmount()}},[n,s,e,t,r]),O.createElement("div",{id:o}));globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;const _d={CLERK_PUBLISHABLE_KEY:"pk_live_Y2xlcmsubWVyY2FkaWxsby5hcHAk",SUPABASE_URL:"https://xwubnuokmfghtyyfpgtl.supabase.co",SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh3dWJudW9rbWZnaHR5eWZwZ3RsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY5NTA3NTEsImV4cCI6MjA3MjUyNjc1MX0.H2x6CfC2z2ttnghuZvGpIdGlvUWlYy5GWjpR6Ok5SbA",MERCADOPAGO_PUBLIC_KEY:"APP_USR-4ec080b8-74c5-4558-b6c2-0b0dcc31bda8",MERCADOPAGO_ACCESS_TOKEN:{}.VITE_MERCADOPAGO_ACCESS_TOKEN,CLOUDINARY_CLOUD_NAME:"ddbjhpjri",CLOUDINARY_UPLOAD_PRESET:"mercadillo_upload"},a3=["CLERK_PUBLISHABLE_KEY","SUPABASE_URL","SUPABASE_ANON_KEY","MERCADOPAGO_PUBLIC_KEY","CLOUDINARY_CLOUD_NAME","CLOUDINARY_UPLOAD_PRESET"];for(const e of a3)if(!_d[e])throw new Error(`Missing required environment variable: VITE_${e}`);const i3={publicKey:_d.MERCADOPAGO_PUBLIC_KEY,locale:"es-PE",currency:"PEN"},o3=async e=>{try{const t=await fetch("/api/mercadopago/create-preference",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Error al crear la preferencia de pago");return await t.json()}catch(t){throw console.error("Error creating payment preference:",t),t}},l3=(e,t)=>e.map(r=>({id:r.id.toString(),title:r.nombre,quantity:r.cantidad,unit_price:parseFloat(r.precio),picture_url:r.imagen_url||`${t}/logo.webp`,category_id:r.categoria||"general"})),c3=e=>{const t=e.reduce((s,i)=>s+i.unit_price*i.quantity,0),r=t*.18,n=t+r;return{subtotal:Math.round(t*100)/100,tax:Math.round(r*100)/100,total:Math.round(n*100)/100}};J4(i3.publicKey,{locale:"es-PE"});const d3=({onError:e,shippingAddress:t="Lima, Perú"})=>{const{items:r}=ss(),{user:n}=mt(),[s,i]=w.useState(null),[o,l]=w.useState(!1),[c,d]=w.useState(null),u=async()=>{var f,m;if(!n||r.length===0){d("No hay productos en el carrito o usuario no autenticado");return}l(!0),d(null);try{const v=window.location.origin,x=r.map(b=>({id:b.producto.id,nombre:b.producto.nombre,precio:b.producto.precio,cantidad:b.cantidad,imagen:b.producto.imagen})),j=l3(x,v),p=c3(j),g={items:j,payer:{name:n.fullName||n.firstName||"Cliente",email:((f=n.emailAddresses[0])==null?void 0:f.emailAddress)||"cliente@mercadillo.app",phone:(m=n.phoneNumbers[0])==null?void 0:m.phoneNumber},back_urls:{success:`${v}/checkout/success`,failure:`${v}/checkout/failure`,pending:`${v}/checkout/pending`},auto_return:"all",notification_url:`${v}/api/mercadopago/webhook`,user_id:n.id,shipping_address:t,metadata:{user_id:n.id,order_total:p.total}},y=await o3(g);i(y.id)}catch(v){console.error("Error creating preference:",v),d("Error al crear la preferencia de pago"),e==null||e(v)}finally{l(!1)}},h=f=>{console.error("Payment error:",f),d("Error en el pago"),e==null||e(f)};return w.useEffect(()=>{r.length>0&&n&&u()},[r,n]),r.length===0?a.jsx("div",{className:"text-center p-8",children:a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No hay productos en el carrito"})}):o?a.jsxs("div",{className:"flex flex-col items-center justify-center p-8 space-y-4",children:[a.jsx(Kb,{className:"w-8 h-8 animate-spin text-blue-600"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Preparando checkout..."})]}):c?a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:[a.jsx("p",{className:"text-red-800 dark:text-red-200",children:c}),a.jsx("button",{onClick:u,className:"mt-4 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Reintentar"})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"Resumen del Pedido"}),a.jsxs("div",{className:"space-y-2",children:[r.map(f=>a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[f.producto.nombre," x ",f.cantidad]}),a.jsxs("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:["S/ ",(f.producto.precio*f.cantidad).toFixed(2)]})]},f.producto.id)),a.jsx("div",{className:"border-t pt-2 mt-2",children:a.jsxs("div",{className:"flex justify-between font-semibold text-gray-900 dark:text-gray-100",children:[a.jsx("span",{children:"Total:"}),a.jsxs("span",{children:["S/ ",r.reduce((f,m)=>f+m.producto.precio*m.cantidad,0).toFixed(2)]})]})})]})]}),a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[a.jsxs("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2 flex items-center",children:[a.jsx(vo,{className:"w-4 h-4 mr-2"}),"Métodos de pago disponibles:"]}),a.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(vo,{className:"w-3 h-3 mr-2"}),"Tarjetas de crédito y débito"]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Xb,{className:"w-3 h-3 mr-2"}),"Yape, Plin y transferencias bancarias"]}),a.jsx("div",{children:"• PagoEfectivo y otros métodos"})]})]}),s&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"Proceder al Pago"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Serás redirigido a Mercado Pago para completar tu pago de forma segura."}),a.jsx(s3,{initialization:{preferenceId:s},onReady:()=>console.log("Wallet ready"),onError:f=>h(f)})]})]})]})},u3=()=>{var y;const{items:e}=ss(),{user:t}=mt(),r=Wr(),{showOrderSuccess:n,showPaymentError:s}=Ko(),[i,o]=w.useState([]),[l,c]=w.useState(null),[d,u]=w.useState(!1),[h,f]=w.useState({nombre:"",telefono:"",direccion:"",terminos:!1});w.useEffect(()=>{t!=null&&t.id&&m()},[t==null?void 0:t.id]);const m=async()=>{if(!(t!=null&&t.id))return;const b=await nw(t.id);if(!b.error&&b.data){o(b.data);const _=b.data.find(N=>N.es_predeterminada);_&&(c(_),f(N=>({...N,direccion:`${_.direccion_completa}, ${_.distrito?_.distrito+", ":""}${_.provincia}, ${_.departamento}${_.codigo_postal?" - "+_.codigo_postal:""}`})))}};w.useEffect(()=>{t&&f(b=>{var _;return{...b,nombre:t.fullName||t.firstName||b.nombre,telefono:((_=t.phoneNumbers[0])==null?void 0:_.phoneNumber)||b.telefono}})},[t]);const v=b=>{const{name:_,value:N,type:k}=b.target;f(E=>({...E,[_]:k==="checkbox"?b.target.checked:N}))},x=b=>{c(b),u(!1),f(_=>({..._,direccion:`${b.direccion_completa}, ${b.distrito?b.distrito+", ":""}${b.provincia}, ${b.departamento}${b.codigo_postal?" - "+b.codigo_postal:""}`}))},j=()=>{c(null),u(!0),f(b=>({...b,direccion:""}))},p=b=>{console.log("Payment successful:",b);const _=b.payment_id||Date.now().toString();n(_),r("/checkout/success")},g=b=>{console.error("Payment error:",b),s(b.message||"Error procesando el pago")};return e.length===0?a.jsx("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 py-8 transition-colors duration-200",children:a.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[a.jsx(jd,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),a.jsx("h1",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"Tu carrito está vacío"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"Agrega productos a tu carrito para continuar con la compra"}),a.jsx("button",{onClick:()=>r("/catalogo"),className:"btn-primary",children:"Ver Catálogo"})]})}):t?a.jsx("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 py-8 transition-colors duration-200",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gris-oscuro dark:text-gray-100 mb-8",children:"Finalizar Compra"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"card p-6",children:[a.jsxs("h2",{className:"text-xl font-bold text-gris-oscuro dark:text-gray-100 mb-6 flex items-center",children:[a.jsx(un,{className:"w-6 h-6 mr-2 text-amarillo dark:text-yellow-400"}),"Información de Envío"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gris-oscuro dark:text-gray-200 mb-2",children:"Nombre Completo"}),a.jsx("input",{type:"text",name:"nombre",value:h.nombre,onChange:v,required:!0,className:"input-field",placeholder:"Ingresa tu nombre completo"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gris-oscuro dark:text-gray-200 mb-2",children:"Email"}),a.jsx("input",{type:"email",value:((y=t.emailAddresses[0])==null?void 0:y.emailAddress)||"",disabled:!0,className:"input-field bg-gray-100 dark:bg-gray-700"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gris-oscuro dark:text-gray-200 mb-2",children:"Teléfono"}),a.jsx("input",{type:"tel",name:"telefono",value:h.telefono,onChange:v,required:!0,className:"input-field",placeholder:"+51 999 999 999"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gris-oscuro dark:text-gray-200 mb-2",children:"Dirección de Envío"}),i.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Direcciones guardadas:"}),a.jsxs("div",{className:"space-y-2",children:[i.map(b=>a.jsx("div",{className:`p-3 border-2 rounded-lg cursor-pointer transition-colors duration-200 ${(l==null?void 0:l.id)===b.id?"border-amarillo dark:border-yellow-400 bg-yellow-50 dark:bg-yellow-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,onClick:()=>x(b),children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[a.jsx(Yn,{className:"w-4 h-4 text-gray-500"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:b.nombre}),b.es_predeterminada&&a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100",children:"Predeterminada"})]}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:b.direccion_completa}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:[b.distrito&&`${b.distrito}, `,b.provincia,", ",b.departamento,b.codigo_postal&&` - ${b.codigo_postal}`]})]}),a.jsx("input",{type:"radio",name:"address",checked:(l==null?void 0:l.id)===b.id,onChange:()=>x(b),className:"mt-1 text-amarillo dark:text-yellow-400 focus:ring-amarillo dark:focus:ring-yellow-400"})]})},b.id)),a.jsx("div",{className:`p-3 border-2 rounded-lg cursor-pointer transition-colors duration-200 ${d?"border-amarillo dark:border-yellow-400 bg-yellow-50 dark:bg-yellow-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,onClick:j,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(bo,{className:"w-4 h-4 text-gray-500"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Usar nueva dirección"})]}),a.jsx("input",{type:"radio",name:"address",checked:d,onChange:j,className:"text-amarillo dark:text-yellow-400 focus:ring-amarillo dark:focus:ring-yellow-400"})]})})]})]}),(d||i.length===0)&&a.jsx("textarea",{name:"direccion",value:h.direccion,onChange:v,required:!0,rows:3,className:"input-field",placeholder:"Ingresa tu dirección completa de entrega"}),i.length>0&&a.jsx("div",{className:"mt-3",children:a.jsx("button",{type:"button",onClick:()=>r("/perfil/direcciones"),className:"text-sm text-amarillo dark:text-yellow-400 hover:underline",children:"Gestionar mis direcciones"})})]})]})]}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("input",{type:"checkbox",id:"terminos",name:"terminos",checked:h.terminos,onChange:v,required:!0,className:"mt-1 text-amarillo dark:text-yellow-400 focus:ring-amarillo dark:focus:ring-yellow-400 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600"}),a.jsxs("label",{htmlFor:"terminos",className:"text-sm text-gray-600 dark:text-gray-400",children:["Acepto los"," ",a.jsx("a",{href:"/terminos",className:"text-amarillo dark:text-yellow-400 hover:underline",children:"términos y condiciones"})," ","y la"," ",a.jsx("a",{href:"/privacidad",className:"text-amarillo dark:text-yellow-400 hover:underline",children:"política de privacidad"})]})]})})]}),a.jsx("div",{className:"space-y-6",children:h.terminos&&h.nombre&&h.telefono&&h.direccion?a.jsx(d3,{onSuccess:p,onError:g}):a.jsxs("div",{className:"card p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100 flex items-center",children:[a.jsx(vo,{className:"w-5 h-5 mr-2"}),"Completa la información"]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Completa todos los campos requeridos y acepta los términos para continuar con el pago."})]})})]})]})}):a.jsx("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 py-8 transition-colors duration-200",children:a.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[a.jsx(un,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),a.jsx("h1",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"Inicia sesión para continuar"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"Necesitas iniciar sesión para completar tu compra"}),a.jsx("button",{onClick:()=>r("/signin"),className:"btn-primary",children:"Iniciar Sesión"})]})})},h3=()=>{const e=Wr(),[t]=od(),r=t.get("payment_id"),n=t.get("status"),s=t.get("external_reference");return w.useEffect(()=>{console.log("Checkout Success params:",{paymentId:r,status:n,externalReference:s})},[r,n,s]),a.jsx("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 py-8 transition-colors duration-200",children:a.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx(yo,{className:"w-20 h-20 text-green-500 mx-auto mb-6"}),a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"¡Pago Exitoso!"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-8",children:"Tu pedido ha sido procesado correctamente"}),r&&a.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-6 mb-8",children:[a.jsx("h3",{className:"font-semibold text-green-800 dark:text-green-200 mb-2",children:"Detalles del Pago"}),a.jsxs("div",{className:"text-sm text-green-700 dark:text-green-300 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"ID de Pago:"})," ",r]}),n&&a.jsxs("p",{children:[a.jsx("strong",{children:"Estado:"})," ",n]}),s&&a.jsxs("p",{children:[a.jsx("strong",{children:"Referencia:"})," ",s]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-8",children:[a.jsx($e,{className:"w-12 h-12 text-amarillo dark:text-yellow-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gris-oscuro dark:text-gray-100 mb-2",children:"¿Qué sigue?"}),a.jsxs("div",{className:"text-gray-600 dark:text-gray-400 space-y-2 text-sm",children:[a.jsx("p",{children:"✓ Recibirás un email de confirmación"}),a.jsx("p",{children:"✓ Prepararemos tu pedido para envío"}),a.jsx("p",{children:"✓ Te notificaremos cuando esté en camino"}),a.jsx("p",{children:"✓ Podrás seguir tu pedido desde tu perfil"})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 sm:gap-8",children:[a.jsxs("button",{onClick:()=>e("/perfil/pedidos"),className:"btn-primary w-full sm:w-auto px-8 flex items-center justify-center space-x-2",children:[a.jsx($e,{className:"w-4 h-4"}),a.jsx("span",{children:"Ver mis Pedidos"})]}),a.jsxs("button",{onClick:()=>e("/"),className:"btn-secondary w-full sm:w-auto px-8 flex items-center justify-center space-x-2",children:[a.jsx(Qo,{className:"w-4 h-4"}),a.jsx("span",{children:"Volver al Inicio"})]})]})]})})})},f3=()=>{const e=Wr(),[t]=od(),r=t.get("payment_id"),n=t.get("status");return a.jsx("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 py-8 transition-colors duration-200",children:a.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx(wo,{className:"w-20 h-20 text-red-500 mx-auto mb-6"}),a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"Pago No Completado"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-8",children:"Hubo un problema al procesar tu pago"}),r&&a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6 mb-8",children:[a.jsx("h3",{className:"font-semibold text-red-800 dark:text-red-200 mb-2",children:"Información del Error"}),a.jsxs("div",{className:"text-sm text-red-700 dark:text-red-300 space-y-1",children:[r&&a.jsxs("p",{children:[a.jsx("strong",{children:"ID de Pago:"})," ",r]}),n&&a.jsxs("p",{children:[a.jsx("strong",{children:"Estado:"})," ",n]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-8",children:[a.jsx("h3",{className:"text-xl font-semibold text-gris-oscuro dark:text-gray-100 mb-4",children:"¿Qué puedes hacer?"}),a.jsxs("div",{className:"text-gray-600 dark:text-gray-400 space-y-3 text-sm",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-amarillo dark:bg-yellow-400 rounded-full mt-2 flex-shrink-0"}),a.jsx("p",{children:"Verifica que tus datos de pago sean correctos"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-amarillo dark:bg-yellow-400 rounded-full mt-2 flex-shrink-0"}),a.jsx("p",{children:"Asegúrate de tener fondos suficientes en tu cuenta"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-amarillo dark:bg-yellow-400 rounded-full mt-2 flex-shrink-0"}),a.jsx("p",{children:"Intenta nuevamente con otro método de pago"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-amarillo dark:bg-yellow-400 rounded-full mt-2 flex-shrink-0"}),a.jsx("p",{children:"Contacta a nuestro soporte si el problema persiste"})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 sm:gap-8",children:[a.jsxs("button",{onClick:()=>e("/checkout"),className:"btn-primary flex items-center justify-center space-x-2 w-full sm:w-auto px-8",children:[a.jsx($r,{className:"w-4 h-4"}),a.jsx("span",{children:"Intentar de Nuevo"})]}),a.jsxs("button",{onClick:()=>e("/"),className:"btn-secondary flex items-center justify-center space-x-2 w-full sm:w-auto px-8",children:[a.jsx(Qo,{className:"w-4 h-4"}),a.jsx("span",{children:"Volver al Inicio"})]})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["¿Necesitas ayuda?"," ",a.jsx("a",{href:"/contacto",className:"text-amarillo dark:text-yellow-400 hover:underline",children:"Contacta nuestro soporte"})]})})]})})})},m3=()=>{const e=Wr(),[t]=od(),r=t.get("payment_id"),n=t.get("status");return a.jsx("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 py-8 transition-colors duration-200",children:a.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ar,{className:"w-20 h-20 text-yellow-500 mx-auto mb-6"}),a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"Pago Pendiente"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-8",children:"Tu pago está siendo procesado"}),r&&a.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-6 mb-8",children:[a.jsx("h3",{className:"font-semibold text-yellow-800 dark:text-yellow-200 mb-2",children:"Detalles del Pago"}),a.jsxs("div",{className:"text-sm text-yellow-700 dark:text-yellow-300 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"ID de Pago:"})," ",r]}),n&&a.jsxs("p",{children:[a.jsx("strong",{children:"Estado:"})," ",n]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-8",children:[a.jsx("h3",{className:"text-xl font-semibold text-gris-oscuro dark:text-gray-100 mb-4",children:"¿Qué está pasando?"}),a.jsxs("div",{className:"text-gray-600 dark:text-gray-400 space-y-3 text-sm",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mt-2 flex-shrink-0"}),a.jsx("p",{children:"Tu pago está siendo verificado por Mercado Pago"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mt-2 flex-shrink-0"}),a.jsx("p",{children:"Este proceso puede tomar unos minutos"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mt-2 flex-shrink-0"}),a.jsx("p",{children:"Recibirás una notificación cuando se complete"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mt-2 flex-shrink-0"}),a.jsx("p",{children:"Puedes cerrar esta página sin problemas"})]})]})]}),a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-8",children:a.jsxs("p",{className:"text-blue-800 dark:text-blue-200 text-sm",children:["💡 ",a.jsx("strong",{children:"Consejo:"})," Guarda el ID de pago para futuras consultas"]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 sm:gap-8",children:[a.jsxs("button",{onClick:()=>e("/perfil/pedidos"),className:"btn-primary w-full sm:w-auto px-8 flex items-center justify-center space-x-2",children:[a.jsx(r4,{className:"w-4 h-4"}),a.jsx("span",{children:"Ver Estado del Pedido"})]}),a.jsxs("button",{onClick:()=>e("/"),className:"btn-secondary w-full sm:w-auto px-8 flex items-center justify-center space-x-2",children:[a.jsx(Qo,{className:"w-4 h-4"}),a.jsx("span",{children:"Volver al Inicio"})]})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["¿Tienes dudas sobre tu pago?"," ",a.jsx("a",{href:"/contacto",className:"text-amarillo dark:text-yellow-400 hover:underline",children:"Contacta nuestro soporte"})]})})]})})})},p3=()=>{const{user:e,updateUser:t}=Cm(),[r,n]=w.useState([]),[s,i]=w.useState(!0),[o,l]=w.useState(!1),[c,d]=w.useState({telefono:(e==null?void 0:e.telefono)||"",direccion:(e==null?void 0:e.direccion)||""});w.useEffect(()=>{(async()=>{if(e)try{const{data:x,error:j}=await te.from("pedidos").select("*").eq("usuario_id",e.id).order("created_at",{ascending:!1});if(j){console.error("Error fetching orders:",j);return}n(x||[])}catch(x){console.error("Error in fetchPedidos:",x)}finally{i(!1)}})()},[e]);const u=async()=>{try{await t(c),l(!1)}catch(v){console.error("Error updating user:",v)}},h=v=>new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN"}).format(v),f=v=>new Date(v).toLocaleDateString("es-PE",{year:"numeric",month:"long",day:"numeric"}),m=v=>{switch(v){case"pendiente":return"bg-yellow-100 text-yellow-800";case"procesando":return"bg-blue-100 text-blue-800";case"enviado":return"bg-purple-100 text-purple-800";case"entregado":return"bg-green-100 text-green-800";case"cancelado":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return s?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-amarillo"})}):a.jsx("div",{className:"min-h-screen bg-hueso py-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gris-oscuro mb-8",children:"Mi Perfil"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"card p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h2",{className:"text-xl font-bold text-gris-oscuro flex items-center",children:[a.jsx(un,{className:"w-6 h-6 mr-2 text-amarillo"}),"Informacion Personal"]}),a.jsx("button",{onClick:()=>l(!o),className:"p-2 text-amarillo hover:bg-amarillo hover:text-gris-oscuro rounded-lg transition-colors duration-200",children:a.jsx(Qb,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Nombre Completo"}),a.jsxs("p",{className:"text-gris-oscuro font-medium",children:[e==null?void 0:e.nombre," ",e==null?void 0:e.apellido]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Email"}),a.jsx("p",{className:"text-gris-oscuro",children:e==null?void 0:e.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Telefono"}),o?a.jsx("input",{type:"tel",value:c.telefono,onChange:v=>d(x=>({...x,telefono:v.target.value})),className:"input-field"}):a.jsx("p",{className:"text-gris-oscuro",children:(e==null?void 0:e.telefono)||"No especificado"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Direccion"}),o?a.jsx("textarea",{value:c.direccion,onChange:v=>d(x=>({...x,direccion:v.target.value})),rows:3,className:"input-field"}):a.jsx("p",{className:"text-gris-oscuro",children:(e==null?void 0:e.direccion)||"No especificada"})]}),o&&a.jsxs("div",{className:"flex space-x-2 pt-4",children:[a.jsx("button",{onClick:u,className:"btn-primary flex-1",children:"Guardar"}),a.jsx("button",{onClick:()=>{l(!1),d({telefono:(e==null?void 0:e.telefono)||"",direccion:(e==null?void 0:e.direccion)||""})},className:"btn-secondary flex-1",children:"Cancelar"})]})]})]})}),a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"card p-6",children:[a.jsxs("h2",{className:"text-xl font-bold text-gris-oscuro mb-6 flex items-center",children:[a.jsx($e,{className:"w-6 h-6 mr-2 text-amarillo"}),"Historial de Pedidos"]}),r.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx($e,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"No tienes pedidos aun"})]}):a.jsx("div",{className:"space-y-4",children:r.map(v=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-semibold text-gris-oscuro",children:["Pedido #",v.id.slice(-8)]}),a.jsx("p",{className:"text-sm text-gray-600",children:f(v.created_at)})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-bold text-dorado",children:h(v.total)}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${m(v.estado)}`,children:v.estado})]})]}),a.jsx("div",{className:"space-y-2",children:v.items.map((x,j)=>a.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[a.jsx("div",{className:"w-8 h-8 overflow-hidden rounded bg-gray-100",children:a.jsx("img",{src:x.imagen,alt:x.nombre,className:"w-full h-full object-cover"})}),a.jsx("span",{className:"flex-1",children:x.nombre}),a.jsxs("span",{className:"text-gray-600",children:["x",x.cantidad]}),a.jsx("span",{className:"font-medium",children:h(x.precio*x.cantidad)})]},j))}),a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Subtotal:"}),a.jsx("span",{children:h(v.subtotal)})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"IGV (18%):"}),a.jsx("span",{children:h(v.igv)})]}),a.jsxs("div",{className:"flex justify-between font-semibold",children:[a.jsx("span",{children:"Total:"}),a.jsx("span",{children:h(v.total)})]})]})]},v.id))})]})})]})]})})},T0=_d.CLOUDINARY_CLOUD_NAME,g3=_d.CLOUDINARY_UPLOAD_PRESET,x3=async e=>{const t=new FormData;t.append("file",e),t.append("upload_preset",g3),t.append("cloud_name",T0);try{const r=await fetch(`https://api.cloudinary.com/v1_1/${T0}/image/upload`,{method:"POST",body:t});if(!r.ok)throw new Error("Error uploading image");return(await r.json()).secure_url}catch(r){throw console.error("Error uploading image:",r),r}},y3=()=>{const[e,t]=w.useState([]),[r,n]=w.useState(!0),[s,i]=w.useState(!1),[o,l]=w.useState(null),[c,d]=w.useState(""),[u,h]=w.useState({nombre:"",descripcion:"",precio:"",stock:"",categoria:"",imagen:""});w.useEffect(()=>{f()},[]);const f=async()=>{try{const{data:_,error:N}=await te.from("productos").select("*").order("created_at",{ascending:!1});if(N){console.error("Error fetching products:",N);return}t(_||[])}catch(_){console.error("Error in fetchProductos:",_)}finally{n(!1)}},m=_=>{const{name:N,value:k}=_.target;h(E=>({...E,[N]:k}))},v=async _=>{var k;const N=(k=_.target.files)==null?void 0:k[0];if(N)try{const E=await x3(N);h(S=>({...S,imagen:E}))}catch(E){console.error("Error uploading image:",E),alert("Error al subir la imagen")}},x=async _=>{_.preventDefault();try{const N={nombre:u.nombre,descripcion:u.descripcion,precio:parseFloat(u.precio),stock:parseInt(u.stock),categoria:u.categoria,imagen:u.imagen};if(o){const{error:k}=await te.from("productos").update(N).eq("id",o.id);if(k){console.error("Error updating product:",k);return}}else{const{error:k}=await te.from("productos").insert([N]);if(k){console.error("Error creating product:",k);return}}h({nombre:"",descripcion:"",precio:"",stock:"",categoria:"",imagen:""}),l(null),i(!1),f()}catch(N){console.error("Error in handleSubmit:",N)}},j=_=>{l(_),h({nombre:_.nombre,descripcion:_.descripcion,precio:_.precio.toString(),stock:_.stock.toString(),categoria:_.categoria,imagen:_.imagen}),i(!0)},p=async _=>{if(confirm("¿Estás seguro de que quieres eliminar este producto?"))try{const{error:N}=await te.from("productos").delete().eq("id",_);if(N){console.error("Error deleting product:",N);return}f()}catch(N){console.error("Error in handleDelete:",N)}},g=()=>{l(null),h({nombre:"",descripcion:"",precio:"",stock:"",categoria:"",imagen:""}),i(!0)},y=e.filter(_=>_.nombre.toLowerCase().includes(c.toLowerCase())||_.categoria.toLowerCase().includes(c.toLowerCase())),b=_=>new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN"}).format(_);return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amarillo"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro",children:"Gestión de Productos"}),a.jsx("p",{className:"text-gray-600",children:"Administra tu catálogo de productos"})]}),a.jsxs("button",{onClick:g,className:"btn-primary flex items-center space-x-2",children:[a.jsx(bo,{className:"w-5 h-5"}),a.jsx("span",{children:"Nuevo Producto"})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(ec,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Buscar productos...",value:c,onChange:_=>d(_.target.value),className:"input-field pl-10"})]}),a.jsx("div",{className:"card overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Producto"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoría"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Precio"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(_=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-12 h-12 overflow-hidden rounded-lg bg-gray-100",children:a.jsx("img",{src:_.imagen,alt:_.nombre,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gris-oscuro",children:_.nombre}),a.jsx("div",{className:"text-sm text-gray-500 line-clamp-1",children:_.descripcion})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded-full",children:_.categoria})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-dorado",children:b(_.precio)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${_.stock>10?"bg-green-100 text-green-800":_.stock>0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:_.stock})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>j(_),className:"text-amarillo hover:text-dorado transition-colors duration-200",children:a.jsx(Gb,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>p(_.id),className:"text-red-500 hover:text-red-700 transition-colors duration-200",children:a.jsx(Ks,{className:"w-4 h-4"})})]})})]},_.id))})]})})}),s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx("h3",{className:"text-xl font-bold text-gris-oscuro mb-6",children:o?"Editar Producto":"Nuevo Producto"}),a.jsxs("form",{onSubmit:x,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gris-oscuro mb-2",children:"Nombre"}),a.jsx("input",{type:"text",name:"nombre",value:u.nombre,onChange:m,required:!0,className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gris-oscuro mb-2",children:"Categoría"}),a.jsxs("select",{name:"categoria",value:u.categoria,onChange:m,required:!0,className:"input-field",children:[a.jsx("option",{value:"",children:"Seleccionar categoría"}),a.jsx("option",{value:"Electrónicos",children:"Electrónicos"}),a.jsx("option",{value:"Ropa",children:"Ropa"}),a.jsx("option",{value:"Hogar",children:"Hogar"}),a.jsx("option",{value:"Deportes",children:"Deportes"}),a.jsx("option",{value:"Libros",children:"Libros"}),a.jsx("option",{value:"Otros",children:"Otros"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gris-oscuro mb-2",children:"Descripción"}),a.jsx("textarea",{name:"descripcion",value:u.descripcion,onChange:m,required:!0,rows:3,className:"input-field"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gris-oscuro mb-2",children:"Precio (S/)"}),a.jsx("input",{type:"number",name:"precio",value:u.precio,onChange:m,required:!0,min:"0",step:"0.01",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gris-oscuro mb-2",children:"Stock"}),a.jsx("input",{type:"number",name:"stock",value:u.stock,onChange:m,required:!0,min:"0",className:"input-field"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gris-oscuro mb-2",children:"Imagen"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:v,className:"hidden",id:"image-upload"}),a.jsxs("label",{htmlFor:"image-upload",className:"btn-secondary flex items-center space-x-2 cursor-pointer",children:[a.jsx(o4,{className:"w-4 h-4"}),a.jsx("span",{children:"Subir Imagen"})]}),u.imagen&&a.jsx("div",{className:"w-16 h-16 overflow-hidden rounded-lg bg-gray-100",children:a.jsx("img",{src:u.imagen,alt:"Preview",className:"w-full h-full object-cover"})})]})]}),a.jsxs("div",{className:"flex space-x-4 pt-4",children:[a.jsxs("button",{type:"submit",className:"btn-primary flex-1",children:[o?"Actualizar":"Crear"," Producto"]}),a.jsx("button",{type:"button",onClick:()=>i(!1),className:"btn-secondary flex-1",children:"Cancelar"})]})]})]})})]})},v3=()=>{const[e,t]=w.useState([]),[r,n]=w.useState(!0),[s,i]=w.useState(null),[o,l]=w.useState("");w.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:x,error:j}=await te.from("pedidos").select("*").order("created_at",{ascending:!1});if(j){console.error("Error fetching orders:",j);return}t(x||[])}catch(x){console.error("Error in fetchPedidos:",x)}finally{n(!1)}},d=async(x,j)=>{try{const{error:p}=await te.from("pedidos").update({estado:j}).eq("id",x);if(p){console.error("Error updating order status:",p);return}c(),i(null)}catch(p){console.error("Error in updateOrderStatus:",p)}},u=x=>new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN"}).format(x),h=x=>new Date(x).toLocaleDateString("es-PE",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),f=x=>{switch(x){case"pendiente":return"bg-yellow-100 text-yellow-800";case"procesando":return"bg-blue-100 text-blue-800";case"enviado":return"bg-purple-100 text-purple-800";case"entregado":return"bg-green-100 text-green-800";case"cancelado":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},m=x=>{switch(x){case"pendiente":return a.jsx($e,{className:"w-4 h-4"});case"procesando":return a.jsx($e,{className:"w-4 h-4"});case"enviado":return a.jsx(Ws,{className:"w-4 h-4"});case"entregado":return a.jsx(yo,{className:"w-4 h-4"});case"cancelado":return a.jsx(wo,{className:"w-4 h-4"});default:return a.jsx($e,{className:"w-4 h-4"})}},v=e.filter(x=>o===""||x.estado===o);return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amarillo"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro",children:"Gestión de Pedidos"}),a.jsx("p",{className:"text-gray-600",children:"Administra todos los pedidos de la tienda"})]})}),a.jsx("div",{className:"flex flex-wrap gap-4",children:a.jsxs("select",{value:o,onChange:x=>l(x.target.value),className:"input-field",children:[a.jsx("option",{value:"",children:"Todos los estados"}),a.jsx("option",{value:"pendiente",children:"Pendiente"}),a.jsx("option",{value:"procesando",children:"Procesando"}),a.jsx("option",{value:"enviado",children:"Enviado"}),a.jsx("option",{value:"entregado",children:"Entregado"}),a.jsx("option",{value:"cancelado",children:"Cancelado"})]})}),a.jsx("div",{className:"card overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pedido"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map(x=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsxs("div",{className:"text-sm font-medium text-gris-oscuro",children:["#",x.id.slice(-8)]}),a.jsxs("div",{className:"text-sm text-gray-500",children:[x.items.length," producto(s)"]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gris-oscuro",children:x.usuario_id.slice(-8)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f(x.estado)}`,children:[m(x.estado),a.jsx("span",{className:"ml-1 capitalize",children:x.estado})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-dorado",children:u(x.total)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h(x.created_at)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsx("button",{onClick:()=>i(x),className:"text-amarillo hover:text-dorado transition-colors duration-200",children:a.jsx(Ic,{className:"w-4 h-4"})})})]},x.id))})]})})}),s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-gris-oscuro",children:["Pedido #",s.id.slice(-8)]}),a.jsx("button",{onClick:()=>i(null),className:"text-gray-400 hover:text-gray-600",children:a.jsx(wo,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-gris-oscuro mb-4",children:"Productos"}),a.jsx("div",{className:"space-y-4",children:s.items.map((x,j)=>a.jsxs("div",{className:"flex items-center space-x-4 p-4 border border-gray-200 rounded-lg",children:[a.jsx("div",{className:"w-16 h-16 overflow-hidden rounded-lg bg-gray-100",children:a.jsx("img",{src:x.imagen,alt:x.nombre,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h5",{className:"font-medium text-gris-oscuro",children:x.nombre}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Cantidad: ",x.cantidad]}),a.jsx("p",{className:"text-sm font-medium text-dorado",children:u(x.precio*x.cantidad)})]})]},j))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-gris-oscuro mb-4",children:"Detalles del Pedido"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Estado actual:"}),a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f(s.estado)}`,children:[m(s.estado),a.jsx("span",{className:"ml-1 capitalize",children:s.estado})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Fecha:"}),a.jsx("p",{className:"text-gris-oscuro",children:h(s.created_at)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Dirección de envío:"}),a.jsx("p",{className:"text-gris-oscuro",children:s.direccion_envio})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Método de pago:"}),a.jsx("p",{className:"text-gris-oscuro capitalize",children:s.metodo_pago})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),a.jsx("span",{className:"font-medium",children:u(s.subtotal)})]}),a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{className:"text-gray-600",children:"IGV (18%):"}),a.jsx("span",{className:"font-medium",children:u(s.igv)})]}),a.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[a.jsx("span",{className:"text-gris-oscuro",children:"Total:"}),a.jsx("span",{className:"text-dorado",children:u(s.total)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Actualizar estado:"}),a.jsx("div",{className:"flex space-x-2",children:["pendiente","procesando","enviado","entregado","cancelado"].map(x=>a.jsx("button",{onClick:()=>d(s.id,x),disabled:s.estado===x,className:`px-3 py-1 text-xs font-medium rounded-full transition-colors duration-200 ${s.estado===x?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-amarillo text-gris-oscuro hover:bg-dorado"}`,children:x},x))})]})]})]})]})]})})]})},b3=()=>{const[e,t]=w.useState([]),[r,n]=w.useState(!0),[s,i]=w.useState("");w.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:h,error:f}=await te.from("usuarios").select("*").order("created_at",{ascending:!1});if(f){console.error("Error fetching users:",f);return}t(h||[])}catch(h){console.error("Error in fetchUsuarios:",h)}finally{n(!1)}},l=async(h,f)=>{try{const{error:m}=await te.from("usuarios").update({rol:f}).eq("id",h);if(m){console.error("Error updating user role:",m);return}o()}catch(m){console.error("Error in updateUserRole:",m)}},c=h=>new Date(h).toLocaleDateString("es-PE",{year:"numeric",month:"short",day:"numeric"}),d=e.filter(h=>h.nombre.toLowerCase().includes(s.toLowerCase())||h.apellido.toLowerCase().includes(s.toLowerCase())||h.email.toLowerCase().includes(s.toLowerCase())),u={total:e.length,admins:e.filter(h=>h.rol==="admin").length,clientes:e.filter(h=>h.rol==="cliente").length};return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amarillo"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro",children:"Gestión de Usuarios"}),a.jsx("p",{className:"text-gray-600",children:"Administra los usuarios de la plataforma"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Usuarios"}),a.jsx("p",{className:"text-2xl font-bold text-gris-oscuro",children:u.total})]}),a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx(Uc,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Administradores"}),a.jsx("p",{className:"text-2xl font-bold text-gris-oscuro",children:u.admins})]}),a.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:a.jsx(mf,{className:"w-6 h-6 text-purple-600"})})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Clientes"}),a.jsx("p",{className:"text-2xl font-bold text-gris-oscuro",children:u.clientes})]}),a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:a.jsx(S0,{className:"w-6 h-6 text-green-600"})})]})})]}),a.jsx("div",{className:"relative",children:a.jsx("input",{type:"text",placeholder:"Buscar usuarios...",value:s,onChange:h=>i(h.target.value),className:"input-field"})}),a.jsx("div",{className:"card overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usuario"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rol"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha Registro"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(h=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 bg-amarillo rounded-full flex items-center justify-center",children:a.jsxs("span",{className:"text-gris-oscuro font-semibold",children:[h.nombre.charAt(0),h.apellido.charAt(0)]})}),a.jsxs("div",{className:"ml-4",children:[a.jsxs("div",{className:"text-sm font-medium text-gris-oscuro",children:[h.nombre," ",h.apellido]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",h.id.slice(-8)]})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Tm,{className:"w-4 h-4 mr-2"}),h.email]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${h.rol==="admin"?"bg-purple-100 text-purple-800":"bg-green-100 text-green-800"}`,children:h.rol==="admin"?a.jsxs(a.Fragment,{children:[a.jsx(mf,{className:"w-3 h-3 mr-1"}),"Admin"]}):a.jsxs(a.Fragment,{children:[a.jsx(S0,{className:"w-3 h-3 mr-1"}),"Cliente"]})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Lc,{className:"w-4 h-4 mr-2"}),c(h.created_at)]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsx("div",{className:"flex space-x-2",children:h.rol==="admin"?a.jsx("button",{onClick:()=>l(h.id,"cliente"),className:"text-green-600 hover:text-green-800 transition-colors duration-200",children:"Hacer Cliente"}):a.jsx("button",{onClick:()=>l(h.id,"admin"),className:"text-purple-600 hover:text-purple-800 transition-colors duration-200",children:"Hacer Admin"})})})]},h.id))})]})})})]})},w3=()=>{const[e,t]=w.useState({totalProductos:0,totalPedidos:0,totalUsuarios:0,ingresosTotales:0,pedidosHoy:0,pedidosMes:0}),[r,n]=w.useState(!0);w.useEffect(()=>{(async()=>{try{const[o,l,c]=await Promise.all([te.from("productos").select("id",{count:"exact"}),te.from("pedidos").select("id, total, created_at, estado",{count:"exact"}),te.from("usuarios").select("id",{count:"exact"})]),d=l.data||[],u=o.count||0,h=l.count||0,f=c.count||0,m=d.reduce((g,y)=>y.estado&&y.estado!=="cancelado"?g+y.total:g,0)||0,v=new Date().toISOString().split("T")[0],x=d.filter(g=>g.created_at.startsWith(v)).length||0,j=new Date;j.setDate(1);const p=d.filter(g=>new Date(g.created_at)>=j).length||0;t({totalProductos:u,totalPedidos:h,totalUsuarios:f,ingresosTotales:m,pedidosHoy:x,pedidosMes:p})}catch(o){console.error("Error fetching stats:",o)}finally{n(!1)}})()},[]);const s=i=>new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN"}).format(i);return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amarillo"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Productos"}),a.jsx("p",{className:"text-2xl font-bold text-gris-oscuro",children:e.totalProductos})]}),a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx($e,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Pedidos"}),a.jsx("p",{className:"text-2xl font-bold text-gris-oscuro",children:e.totalPedidos})]}),a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:a.jsx($r,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Usuarios"}),a.jsx("p",{className:"text-2xl font-bold text-gris-oscuro",children:e.totalUsuarios})]}),a.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:a.jsx(Uc,{className:"w-6 h-6 text-purple-600"})})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ingresos Totales"}),a.jsx("p",{className:"text-2xl font-bold text-dorado",children:s(e.ingresosTotales)})]}),a.jsx("div",{className:"w-12 h-12 bg-amarillo rounded-lg flex items-center justify-center",children:a.jsx(WC,{className:"w-6 h-6 text-gris-oscuro"})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"card p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gris-oscuro mb-4",children:"Actividad Reciente"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx(Zb,{className:"w-4 h-4 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gris-oscuro",children:"Pedidos hoy"}),a.jsxs("p",{className:"text-xs text-gray-600",children:[e.pedidosHoy," nuevos pedidos"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx($e,{className:"w-4 h-4 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gris-oscuro",children:"Productos activos"}),a.jsxs("p",{className:"text-xs text-gray-600",children:[e.totalProductos," productos en catálogo"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:a.jsx(Uc,{className:"w-4 h-4 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gris-oscuro",children:"Usuarios registrados"}),a.jsxs("p",{className:"text-xs text-gray-600",children:[e.totalUsuarios," usuarios activos"]})]})]})]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gris-oscuro mb-4",children:"Resumen del Mes"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Pedidos este mes:"}),a.jsx("span",{className:"font-semibold text-gris-oscuro",children:e.pedidosMes})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Ingresos totales:"}),a.jsx("span",{className:"font-semibold text-dorado",children:s(e.ingresosTotales)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Promedio por pedido:"}),a.jsx("span",{className:"font-semibold text-gris-oscuro",children:e.totalPedidos>0?s(e.ingresosTotales/e.totalPedidos):"S/ 0.00"})]})]})]})]})]})},k3=()=>{const e=Nr(),t=[{path:"/admin",icon:LC,label:"Dashboard"},{path:"/admin/productos",icon:$e,label:"Productos"},{path:"/admin/pedidos",icon:$r,label:"Pedidos"},{path:"/admin/usuarios",icon:Uc,label:"Usuarios"}];return a.jsx("div",{className:"min-h-screen bg-hueso",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gris-oscuro",children:"Panel de Administración"}),a.jsx("p",{className:"text-lg text-gray-600 mt-2",children:"Gestiona tu tienda online desde aquí"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsx("nav",{className:"card p-4",children:a.jsx("ul",{className:"space-y-2",children:t.map(r=>{const n=r.icon,s=e.pathname===r.path;return a.jsx("li",{children:a.jsxs(ce,{to:r.path,className:`flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors duration-200 ${s?"bg-amarillo text-gris-oscuro":"text-gray-600 hover:bg-gray-100"}`,children:[a.jsx(n,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:r.label})]})},r.path)})})})}),a.jsx("div",{className:"lg:col-span-3",children:a.jsxs(v1,{children:[a.jsx(Ei,{path:"/",element:a.jsx(w3,{})}),a.jsx(Ei,{path:"/productos",element:a.jsx(y3,{})}),a.jsx(Ei,{path:"/pedidos",element:a.jsx(v3,{})}),a.jsx(Ei,{path:"/usuarios",element:a.jsx(b3,{})})]})})]})]})})},Vr=({children:e,requireAdmin:t=!1})=>{const{user:r,isLoaded:n}=mt(),{isAdmin:s,isLoading:i}=Cm(),o=Nr();if(w.useEffect(()=>{var l;n&&r&&((l=o.state)!=null&&l.from)},[n,r,o.state]),!n||i)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-hueso dark:bg-gray-900",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amarillo dark:border-yellow-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gris-claro dark:text-gray-400",children:"Verificando autenticación..."})]})});if(!r){const l=(o.pathname==="/checkout","/sign-in"),c=o.pathname==="/checkout"?"Debes iniciar sesión para proceder con el pago":"Debes iniciar sesión para acceder a esta página";return a.jsx(g1,{to:l,state:{from:o.pathname,message:c},replace:!0})}return t&&!s?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gris-oscuro mb-4",children:"Acceso Denegado"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"No tienes permisos para acceder a esta página."}),a.jsx("button",{onClick:()=>window.history.back(),className:"btn-primary",children:"Volver"})]})}):a.jsx(a.Fragment,{children:e})};class j3 extends w.Component{constructor(){super(...arguments);al(this,"state",{hasError:!1})}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,n){console.error("Uncaught error:",r,n)}render(){return this.state.hasError?a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-hueso text-gris-oscuro p-4 text-center",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"⚠️ Algo salio mal."}),a.jsx("p",{className:"text-lg mb-4",children:"Ha ocurrido un error inesperado en la aplicacion."}),a.jsx("p",{className:"text-md text-gray-600",children:"Por favor, recarga la pagina o intentalo de nuevo mas tarde."}),!1]}):this.props.children}}let wi=null,aa=null;const _3=()=>{const{session:e,isLoaded:t}=zv(),{user:r}=mt();return w.useEffect(()=>{if(!t)return;window.__getClerkToken=async()=>wi||aa||(e?(aa=e.getToken({template:"supabase"}).then(s=>(wi=s,aa=null,s)).catch(()=>(aa=null,null)),aa):null),(async()=>{if(e&&r)try{const s=await e.getToken({template:"supabase"});if(s){wi=s;try{await te.auth.setSession({access_token:s,refresh_token:""})}catch{}window.dispatchEvent(new Event("supabase-session-ready"));return}}catch(s){console.error("AuthSync: error getting Clerk token",s)}else{wi=null;try{const{data:s}=await te.auth.getSession();s!=null&&s.session&&await te.auth.signOut()}catch{}}})()},[e,r,t]),null},N3=()=>a.jsx("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 py-12 transition-colors duration-200",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 bg-amarillo dark:bg-yellow-500 rounded-full flex items-center justify-center",children:a.jsx(VC,{className:"w-8 h-8 text-gris-oscuro dark:text-gray-900"})})}),a.jsx("h1",{className:"text-4xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"Términos y Condiciones"}),a.jsx("p",{className:"text-lg text-gris-claro dark:text-gray-400 max-w-2xl mx-auto",children:"Al utilizar nuestros servicios, aceptas estos términos y condiciones. Por favor, léelos cuidadosamente."})]}),a.jsxs("div",{className:"card p-8 space-y-8",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(un,{className:"w-6 h-6 text-amarillo dark:text-yellow-400 mr-3"}),a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100",children:"1. Aceptación de los Términos"})]}),a.jsxs("div",{className:"text-gray-600 dark:text-gray-400 space-y-4",children:[a.jsx("p",{children:"Al acceder y utilizar Mercadillo Lima Perú, usted acepta estar sujeto a estos términos y condiciones de uso, todas las leyes y regulaciones aplicables, y acepta que es responsable del cumplimiento de las leyes locales aplicables."}),a.jsx("p",{children:"Si no está de acuerdo con alguno de estos términos, tiene prohibido usar o acceder a este sitio web."})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(vo,{className:"w-6 h-6 text-amarillo dark:text-yellow-400 mr-3"}),a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100",children:"2. Uso del Sitio Web"})]}),a.jsxs("div",{className:"text-gray-600 dark:text-gray-400 space-y-4",children:[a.jsx("p",{children:"Usted puede usar nuestro sitio web para fines legales únicamente. No puede usar el sitio web:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[a.jsx("li",{children:"Para fines comerciales no autorizados"}),a.jsx("li",{children:"Para dañar o intentar dañar menores de cualquier manera"}),a.jsx("li",{children:"Para transmitir o procurar el envío de publicidad o material promocional no solicitado"}),a.jsx("li",{children:"Para hacerse pasar por otra persona o entidad"}),a.jsx("li",{children:"Para cargar contenido que contenga virus, código malicioso o similar"})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(kd,{className:"w-6 h-6 text-amarillo dark:text-yellow-400 mr-3"}),a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100",children:"3. Productos y Servicios"})]}),a.jsxs("div",{className:"text-gray-600 dark:text-gray-400 space-y-4",children:[a.jsx("p",{children:"Mercadillo Lima Perú se reserva el derecho de rechazar el servicio, terminar cuentas, eliminar o editar contenido, o cancelar pedidos a su sola discreción."}),a.jsx("p",{children:"Los precios de nuestros productos están sujetos a cambios sin previo aviso. Nos reservamos el derecho de modificar o descontinuar el servicio (o cualquier parte o contenido del mismo) sin previo aviso en cualquier momento."})]})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"4. Información de la Cuenta"}),a.jsxs("div",{className:"text-gray-600 dark:text-gray-400 space-y-4",children:[a.jsx("p",{children:"Usted es responsable de mantener la confidencialidad de su cuenta y contraseña, y de restringir el acceso a su computadora. Acepta asumir la responsabilidad de todas las actividades que ocurran bajo su cuenta o contraseña."}),a.jsx("p",{children:"Nos reservamos el derecho de rechazar el servicio, terminar cuentas, eliminar o editar contenido, o cancelar pedidos a nuestra sola discreción."})]})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"5. Política de Privacidad"}),a.jsx("div",{className:"text-gray-600 dark:text-gray-400 space-y-4",children:a.jsx("p",{children:"Su privacidad es importante para nosotros. Nuestra Política de Privacidad explica cómo recopilamos, usamos y protegemos su información cuando utiliza nuestro servicio."})})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"6. Limitación de Responsabilidad"}),a.jsx("div",{className:"text-gray-600 dark:text-gray-400 space-y-4",children:a.jsx("p",{children:"En ningún caso Mercadillo Lima Perú o sus proveedores serán responsables de cualquier daño (incluyendo, sin limitación, daños por pérdida de datos o ganancias, o debido a la interrupción del negocio) que surja del uso o la incapacidad de usar los materiales en el sitio web de Mercadillo Lima Perú."})})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"7. Modificaciones"}),a.jsx("div",{className:"text-gray-600 dark:text-gray-400 space-y-4",children:a.jsx("p",{children:"Mercadillo Lima Perú puede revisar estos términos de servicio para su sitio web en cualquier momento sin previo aviso. Al usar este sitio web, usted acepta estar sujeto a la versión actual de estos términos de servicio."})})]}),a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-6 mt-8",children:[a.jsxs("p",{className:"text-sm text-gris-claro dark:text-gray-400",children:[a.jsx("strong",{children:"Última actualización:"})," Enero 2024"]}),a.jsx("p",{className:"text-sm text-gris-claro dark:text-gray-400 mt-2",children:"Si tiene alguna pregunta sobre estos Términos y Condiciones, póngase en contacto con nosotros en contactomercadillo@gmail.com"})]})]})]})}),S3=()=>a.jsx("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 py-12 transition-colors duration-200",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 bg-amarillo dark:bg-yellow-500 rounded-full flex items-center justify-center",children:a.jsx(kd,{className:"w-8 h-8 text-gris-oscuro dark:text-gray-900"})})}),a.jsx("h1",{className:"text-4xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"Política de Privacidad"}),a.jsx("p",{className:"text-lg text-gris-claro dark:text-gray-400 max-w-2xl mx-auto",children:"En Mercadillo Lima Perú valoramos tu privacidad y nos comprometemos a proteger tu información personal."})]}),a.jsxs("div",{className:"card p-8 space-y-8",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Ic,{className:"w-6 h-6 text-amarillo dark:text-yellow-400 mr-3"}),a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100",children:"1. Información que Recopilamos"})]}),a.jsxs("div",{className:"text-gray-600 dark:text-gray-400 space-y-4",children:[a.jsx("p",{children:"Recopilamos información que usted nos proporciona directamente, como cuando:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[a.jsx("li",{children:"Crea una cuenta en nuestro sitio web"}),a.jsx("li",{children:"Realiza una compra o solicita información"}),a.jsx("li",{children:"Se suscribe a nuestro boletín informativo"}),a.jsx("li",{children:"Participa en encuestas o promociones"}),a.jsx("li",{children:"Se comunica con nosotros"})]}),a.jsx("p",{children:"Esta información puede incluir: nombre, dirección de correo electrónico, número de teléfono, dirección de envío, información de pago y preferencias de comunicación."})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(BC,{className:"w-6 h-6 text-amarillo dark:text-yellow-400 mr-3"}),a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100",children:"2. Cómo Utilizamos su Información"})]}),a.jsxs("div",{className:"text-gray-600 dark:text-gray-400 space-y-4",children:[a.jsx("p",{children:"Utilizamos la información que recopilamos para:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[a.jsx("li",{children:"Procesar y entregar sus pedidos"}),a.jsx("li",{children:"Gestionar su cuenta y proporcionar servicio al cliente"}),a.jsx("li",{children:"Enviar información sobre productos, servicios y promociones"}),a.jsx("li",{children:"Mejorar nuestro sitio web y servicios"}),a.jsx("li",{children:"Personalizar su experiencia de compra"}),a.jsx("li",{children:"Cumplir con obligaciones legales"})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(mf,{className:"w-6 h-6 text-amarillo dark:text-yellow-400 mr-3"}),a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100",children:"3. Compartir Información"})]}),a.jsxs("div",{className:"text-gray-600 dark:text-gray-400 space-y-4",children:[a.jsx("p",{children:"No vendemos, comercializamos o transferimos su información personal a terceros, excepto en las siguientes circunstancias:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[a.jsx("li",{children:"Con proveedores de servicios que nos ayudan a operar nuestro negocio"}),a.jsx("li",{children:"Para cumplir con la ley o responder a procesos legales"}),a.jsx("li",{children:"Para proteger nuestros derechos, propiedad o seguridad"}),a.jsx("li",{children:"Con su consentimiento explícito"})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(JC,{className:"w-6 h-6 text-amarillo dark:text-yellow-400 mr-3"}),a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100",children:"4. Seguridad de los Datos"})]}),a.jsxs("div",{className:"text-gray-600 dark:text-gray-400 space-y-4",children:[a.jsx("p",{children:"Implementamos medidas de seguridad técnicas y organizativas apropiadas para proteger su información personal contra:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[a.jsx("li",{children:"Acceso no autorizado"}),a.jsx("li",{children:"Alteración, divulgación o destrucción"}),a.jsx("li",{children:"Procesamiento ilegal"}),a.jsx("li",{children:"Pérdida accidental"})]}),a.jsx("p",{children:"Utilizamos encriptación SSL para proteger la información sensible durante la transmisión y almacenamos datos en servidores seguros con acceso restringido."})]})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"5. Sus Derechos"}),a.jsxs("div",{className:"text-gray-600 dark:text-gray-400 space-y-4",children:[a.jsx("p",{children:"Usted tiene derecho a:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[a.jsx("li",{children:"Acceder a su información personal que tenemos"}),a.jsx("li",{children:"Corregir información inexacta o incompleta"}),a.jsx("li",{children:"Solicitar la eliminación de su información personal"}),a.jsx("li",{children:"Oponerse al procesamiento de su información"}),a.jsx("li",{children:"Solicitar la portabilidad de sus datos"}),a.jsx("li",{children:"Retirar su consentimiento en cualquier momento"})]}),a.jsx("p",{children:"Para ejercer estos derechos, contáctenos en contactomercadillo@gmail.com"})]})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"6. Cookies y Tecnologías Similares"}),a.jsxs("div",{className:"text-gray-600 dark:text-gray-400 space-y-4",children:[a.jsx("p",{children:"Utilizamos cookies y tecnologías similares para:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[a.jsx("li",{children:"Recordar sus preferencias y configuraciones"}),a.jsx("li",{children:"Analizar el tráfico y uso del sitio web"}),a.jsx("li",{children:"Personalizar contenido y anuncios"}),a.jsx("li",{children:"Proporcionar funciones de redes sociales"})]}),a.jsx("p",{children:"Puede controlar las cookies a través de la configuración de su navegador."})]})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"7. Retención de Datos"}),a.jsx("div",{className:"text-gray-600 dark:text-gray-400 space-y-4",children:a.jsx("p",{children:"Conservamos su información personal solo mientras sea necesario para cumplir con los fines para los cuales fue recopilada, incluidos los requisitos legales, contables o de informes."})})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"8. Cambios a esta Política"}),a.jsx("div",{className:"text-gray-600 dark:text-gray-400 space-y-4",children:a.jsx("p",{children:'Podemos actualizar esta Política de Privacidad ocasionalmente. Le notificaremos sobre cualquier cambio publicando la nueva Política de Privacidad en esta página y actualizando la fecha de "última actualización".'})})]}),a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-6 mt-8",children:[a.jsxs("p",{className:"text-sm text-gris-claro dark:text-gray-400",children:[a.jsx("strong",{children:"Última actualización:"})," Enero 2024"]}),a.jsx("p",{className:"text-sm text-gris-claro dark:text-gray-400 mt-2",children:"Si tiene alguna pregunta sobre esta Política de Privacidad, póngase en contacto con nosotros en contactomercadillo@gmail.com"})]})]})]})}),E3=()=>a.jsx("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 py-12 transition-colors duration-200",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 bg-amarillo dark:bg-yellow-500 rounded-full flex items-center justify-center",children:a.jsx(Ws,{className:"w-8 h-8 text-gris-oscuro dark:text-gray-900"})})}),a.jsx("h1",{className:"text-4xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"Envíos y Devoluciones"}),a.jsx("p",{className:"text-lg text-gris-claro dark:text-gray-400 max-w-2xl mx-auto",children:"Información completa sobre nuestras políticas de envío y devoluciones para que tengas la mejor experiencia de compra."})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"card p-8",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx(Ws,{className:"w-6 h-6 text-amarillo dark:text-yellow-400 mr-3"}),a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100",children:"Política de Envíos"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(ar,{className:"w-5 h-5 text-amarillo dark:text-yellow-400 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gris-oscuro dark:text-gray-100",children:"Tiempos de Entrega"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-600",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"El Agustino y Santa Anita"}),a.jsx("span",{className:"font-medium text-gris-oscuro dark:text-gray-200",children:"24 horas"})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-600",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Lima Este (SJL, ATE)"}),a.jsx("span",{className:"font-medium text-gris-oscuro dark:text-gray-200",children:"24-48 horas"})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-600",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Lima Metropolitana"}),a.jsx("span",{className:"font-medium text-gris-oscuro dark:text-gray-200",children:"24-48 horas"})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-600",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Lima Provincias"}),a.jsx("span",{className:"font-medium text-gris-oscuro dark:text-gray-200",children:"2-4 días hábiles"})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-600",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Provincias"}),a.jsx("span",{className:"font-medium text-gris-oscuro dark:text-gray-200",children:"3-7 días hábiles"})]}),a.jsxs("div",{className:"flex justify-between items-center py-2",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Zonas Remotas"}),a.jsx("span",{className:"font-medium text-gris-oscuro dark:text-gray-200",children:"5-10 días hábiles"})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(vo,{className:"w-5 h-5 text-amarillo dark:text-yellow-400 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gris-oscuro dark:text-gray-100",children:"Costos de Envío"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-600",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"El Agustino y Santa Anita"}),a.jsx("span",{className:"font-medium text-gris-oscuro dark:text-gray-200",children:"S/ 10.00"})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-600",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Lima Este (SJL, ATE)"}),a.jsx("span",{className:"font-medium text-gris-oscuro dark:text-gray-200",children:"S/ 12.00"})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-600",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Lima Metropolitana"}),a.jsx("span",{className:"font-medium text-gris-oscuro dark:text-gray-200",children:"S/ 15.00"})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-600",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Lima Provincias"}),a.jsx("span",{className:"font-medium text-gris-oscuro dark:text-gray-200",children:"S/ 25.00"})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-600",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Provincias"}),a.jsx("span",{className:"font-medium text-gris-oscuro dark:text-gray-200",children:"S/ 35.00"})]}),a.jsxs("div",{className:"flex justify-between items-center py-2",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"Envío Gratis"}),a.jsxs("span",{className:"font-medium text-gris-oscuro dark:text-gray-200",children:["Compras ",">","= S/ 150"]})]})]})]})]}),a.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx($e,{className:"w-5 h-5 text-green-600 dark:text-green-400 mr-2"}),a.jsx("p",{className:"text-green-800 dark:text-green-200 font-medium",children:"¡Envío gratuito en compras superiores a S/ 150.00 en todo el Perú!"})]})}),a.jsxs("div",{className:"text-gray-600 dark:text-gray-400 space-y-4",children:[a.jsx("h4",{className:"font-semibold text-gris-oscuro dark:text-gray-100 mb-2",children:"Información Importante:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[a.jsx("li",{children:"Los tiempos de entrega se calculan en días hábiles (lunes a viernes)"}),a.jsx("li",{children:"Los envíos se realizan de lunes a sábado"}),a.jsx("li",{children:"Recibirás un código de seguimiento una vez que tu pedido sea despachado"}),a.jsx("li",{children:"Es necesario que alguien esté presente para recibir el paquete"}),a.jsx("li",{children:"Se requiere DNI para la entrega del pedido"})]})]})]}),a.jsxs("div",{className:"card p-8",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx(Yb,{className:"w-6 h-6 text-amarillo dark:text-yellow-400 mr-3"}),a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100",children:"Política de Devoluciones"})]}),a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ar,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mr-2"}),a.jsx("p",{className:"text-blue-800 dark:text-blue-200 font-medium",children:"Tienes hasta 30 días calendario para solicitar una devolución"})]})}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gris-oscuro dark:text-gray-100 mb-4",children:"Condiciones para Devolución"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600 dark:text-gray-400",children:[a.jsx("li",{children:"El producto debe estar en su estado original"}),a.jsx("li",{children:"Debe incluir todos los accesorios y empaques"}),a.jsx("li",{children:"No debe mostrar signos de uso o daño"}),a.jsx("li",{children:"Debe conservar las etiquetas originales"}),a.jsx("li",{children:"Presentar la boleta o factura de compra"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gris-oscuro dark:text-gray-100 mb-4",children:"Productos No Retornables"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600 dark:text-gray-400",children:[a.jsx("li",{children:"Productos de higiene personal"}),a.jsx("li",{children:"Ropa íntima y trajes de baño"}),a.jsx("li",{children:"Productos personalizados"}),a.jsx("li",{children:"Productos perecederos"}),a.jsx("li",{children:"Software y productos digitales"})]})]})]}),a.jsxs("div",{className:"mt-8 space-y-4 text-gray-600 dark:text-gray-400",children:[a.jsx("h4",{className:"font-semibold text-gris-oscuro dark:text-gray-100",children:"Proceso de Devolución:"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsx("div",{className:"w-8 h-8 bg-amarillo dark:bg-yellow-500 text-gris-oscuro dark:text-gray-900 rounded-full flex items-center justify-center mx-auto mb-2 font-bold",children:"1"}),a.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Contacta nuestro servicio al cliente"})]}),a.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsx("div",{className:"w-8 h-8 bg-amarillo dark:bg-yellow-500 text-gris-oscuro dark:text-gray-900 rounded-full flex items-center justify-center mx-auto mb-2 font-bold",children:"2"}),a.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Envía el producto siguiendo las instrucciones"})]}),a.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsx("div",{className:"w-8 h-8 bg-amarillo dark:bg-yellow-500 text-gris-oscuro dark:text-gray-900 rounded-full flex items-center justify-center mx-auto mb-2 font-bold",children:"3"}),a.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Recibe tu reembolso en 5-7 días hábiles"})]})]})]})]}),a.jsxs("div",{className:"card p-8",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx(Yn,{className:"w-6 h-6 text-amarillo dark:text-yellow-400 mr-3"}),a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100",children:"¿Necesitas Ayuda?"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gris-oscuro dark:text-gray-100 mb-4",children:"Servicio al Cliente"}),a.jsxs("div",{className:"space-y-2 text-gray-600 dark:text-gray-400",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Teléfono:"})," +51 977 933 410"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Email:"})," contactomercadillo@gmail.com"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Horarios:"})," Lunes a Viernes 9:00 AM - 6:00 PM"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Sábados:"})," 9:00 AM - 2:00 PM"]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gris-oscuro dark:text-gray-100 mb-4",children:"Dirección"}),a.jsxs("div",{className:"space-y-2 text-gray-600 dark:text-gray-400",children:[a.jsx("p",{children:"Mercadillo Lima Perú"}),a.jsx("p",{children:"El Agustino"}),a.jsx("p",{children:"Lima Este 15007"}),a.jsx("p",{children:"Perú"})]})]})]})]})]})]})});class Go{constructor(t=0,r="Network Error"){this.status=t,this.text=r}}const P3=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},ut={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:P3()},Fm=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},C3=(e,t="https://api.emailjs.com")=>{if(!e)return;const r=Fm(e);ut.publicKey=r.publicKey,ut.blockHeadless=r.blockHeadless,ut.storageProvider=r.storageProvider,ut.blockList=r.blockList,ut.limitRate=r.limitRate,ut.origin=r.origin||t},dw=async(e,t,r={})=>{const n=await fetch(ut.origin+e,{method:"POST",headers:r,body:t}),s=await n.text(),i=new Go(n.status,s);if(n.ok)return i;throw i},uw=(e,t,r)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r||typeof r!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},T3=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},hw=e=>e.webdriver||!e.languages||e.languages.length===0,fw=()=>new Go(451,"Unavailable For Headless Browser"),R3=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},A3=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},O3=(e,t)=>e instanceof FormData?e.get(t):e[t],mw=(e,t)=>{if(A3(e))return!1;R3(e.list,e.watchVariable);const r=O3(t,e.watchVariable);return typeof r!="string"?!1:e.list.includes(r)},pw=()=>new Go(403,"Forbidden"),F3=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},L3=async(e,t,r)=>{const n=Number(await r.get(e)||0);return t-Date.now()+n},gw=async(e,t,r)=>{if(!t.throttle||!r)return!1;F3(t.throttle,t.id);const n=t.id||e;return await L3(n,t.throttle,r)>0?!0:(await r.set(n,Date.now().toString()),!1)},xw=()=>new Go(429,"Too Many Requests"),I3=async(e,t,r,n)=>{const s=Fm(n),i=s.publicKey||ut.publicKey,o=s.blockHeadless||ut.blockHeadless,l=s.storageProvider||ut.storageProvider,c={...ut.blockList,...s.blockList},d={...ut.limitRate,...s.limitRate};return o&&hw(navigator)?Promise.reject(fw()):(uw(i,e,t),T3(r),r&&mw(c,r)?Promise.reject(pw()):await gw(location.pathname,d,l)?Promise.reject(xw()):dw("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:i,service_id:e,template_id:t,template_params:r}),{"Content-type":"application/json"}))},M3=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},U3=e=>typeof e=="string"?document.querySelector(e):e,D3=async(e,t,r,n)=>{const s=Fm(n),i=s.publicKey||ut.publicKey,o=s.blockHeadless||ut.blockHeadless,l=ut.storageProvider||s.storageProvider,c={...ut.blockList,...s.blockList},d={...ut.limitRate,...s.limitRate};if(o&&hw(navigator))return Promise.reject(fw());const u=U3(r);uw(i,e,t),M3(u);const h=new FormData(u);return mw(c,h)?Promise.reject(pw()):await gw(location.pathname,d,l)?Promise.reject(xw()):(h.append("lib_version","4.4.1"),h.append("service_id",e),h.append("template_id",t),h.append("user_id",i),dw("/api/v1.0/email/send-form",h))},z3={init:C3,send:I3,sendForm:D3,EmailJSResponseStatus:Go},$3=()=>{const[e,t]=w.useState({nombre:"",email:"",telefono:"",asunto:"",mensaje:""}),[r,n]=w.useState(!1),[s,i]=w.useState("idle"),o=c=>{const{name:d,value:u}=c.target;t(h=>({...h,[d]:u}))},l=async c=>{c.preventDefault(),n(!0),i("idle");try{const d="T-FXCMPW-RfI-lFbf",u="service_2j5bj9j",h="template_2zq9b07";await z3.send(u,h,{nombre:e.nombre,email:e.email,telefono:e.telefono,asunto:e.asunto,mensaje:e.mensaje,to_email:"contactomercadillo@gmail.com"},d),i("success"),t({nombre:"",email:"",telefono:"",asunto:"",mensaje:""})}catch(d){console.error("Error enviando email:",d),i("error")}finally{n(!1)}};return a.jsx("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 py-12 transition-colors duration-200",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 bg-amarillo dark:bg-yellow-500 rounded-full flex items-center justify-center",children:a.jsx(ZC,{className:"w-8 h-8 text-gris-oscuro dark:text-gray-900"})})}),a.jsx("h1",{className:"text-4xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"Contáctanos"}),a.jsx("p",{className:"text-lg text-gris-claro dark:text-gray-400 max-w-2xl mx-auto",children:"¿Tienes alguna pregunta o necesitas ayuda? Estamos aquí para ti. Contáctanos y te responderemos lo antes posible."})]}),a.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"card p-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100 mb-6",children:"Información de Contacto"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-amarillo dark:bg-yellow-500 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(Jb,{className:"w-6 h-6 text-gris-oscuro dark:text-gray-900"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gris-oscuro dark:text-gray-100 mb-1",children:"Teléfono"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"+51 977 933 410"}),a.jsx("p",{className:"text-sm text-gris-claro dark:text-gray-500",children:"Lunes a Viernes: 9:00 AM - 6:00 PM"}),a.jsx("p",{className:"text-sm text-gris-claro dark:text-gray-500",children:"Sábados: 9:00 AM - 2:00 PM"})]})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-amarillo dark:bg-yellow-500 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(Tm,{className:"w-6 h-6 text-gris-oscuro dark:text-gray-900"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gris-oscuro dark:text-gray-100 mb-1",children:"Correo Electrónico"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"contactomercadillo@gmail.com"}),a.jsx("p",{className:"text-sm text-gris-claro dark:text-gray-500",children:"Respuesta en 24-48 horas"})]})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-amarillo dark:bg-yellow-500 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(Yn,{className:"w-6 h-6 text-gris-oscuro dark:text-gray-900"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gris-oscuro dark:text-gray-100 mb-1",children:"Dirección"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"El Agustino"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Lima Este 15007"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Perú"})]})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-amarillo dark:bg-yellow-500 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(ar,{className:"w-6 h-6 text-gris-oscuro dark:text-gray-900"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gris-oscuro dark:text-gray-100 mb-1",children:"Horarios de Atención"}),a.jsxs("div",{className:"text-gray-600 dark:text-gray-400 space-y-1",children:[a.jsx("p",{children:"Lunes - Viernes: 9:00 AM - 6:00 PM"}),a.jsx("p",{children:"Sábados: 9:00 AM - 2:00 PM"}),a.jsx("p",{children:"Domingos: Cerrado"})]})]})]})]})]}),a.jsxs("div",{className:"card p-8",children:[a.jsx("h3",{className:"text-xl font-bold text-gris-oscuro dark:text-gray-100 mb-4",children:"Preguntas Frecuentes"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gris-oscuro dark:text-gray-100 mb-1",children:"¿Cuánto tiempo tarda mi pedido?"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Los envíos en El Agustino, Santa Anita y SJL tardan 24 horas, Lima Metropolitana 24-48 horas, y a provincias de 3-7 días hábiles."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gris-oscuro dark:text-gray-100 mb-1",children:"¿Puedo cambiar mi pedido?"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Puedes modificar tu pedido antes de que sea despachado. Contáctanos inmediatamente."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gris-oscuro dark:text-gray-100 mb-1",children:"¿Aceptan devoluciones?"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sí, aceptamos devoluciones hasta 30 días después de la compra. Ver nuestra política de devoluciones."})]})]})]})]}),a.jsxs("div",{className:"card p-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gris-oscuro dark:text-gray-100 mb-6",children:"Envíanos un Mensaje"}),s==="success"&&a.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4 mb-6",children:a.jsx("p",{className:"text-green-800 dark:text-green-200",children:"¡Gracias! Tu mensaje ha sido enviado exitosamente. Te responderemos pronto."})}),s==="error"&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-6",children:a.jsx("p",{className:"text-red-800 dark:text-red-200",children:"Hubo un error al enviar tu mensaje. Por favor, intenta nuevamente."})}),a.jsxs("form",{onSubmit:l,className:"space-y-6",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gris-oscuro dark:text-gray-200 mb-2",children:"Nombre Completo *"}),a.jsx("input",{type:"text",name:"nombre",value:e.nombre,onChange:o,required:!0,className:"input-field",placeholder:"Tu nombre completo"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gris-oscuro dark:text-gray-200 mb-2",children:"Correo Electrónico *"}),a.jsx("input",{type:"email",name:"email",value:e.email,onChange:o,required:!0,className:"input-field",placeholder:"tu@email.com"})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gris-oscuro dark:text-gray-200 mb-2",children:"Teléfono"}),a.jsx("input",{type:"tel",name:"telefono",value:e.telefono,onChange:o,className:"input-field",placeholder:"+51 999 999 999"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gris-oscuro dark:text-gray-200 mb-2",children:"Asunto *"}),a.jsxs("select",{name:"asunto",value:e.asunto,onChange:o,required:!0,className:"input-field",children:[a.jsx("option",{value:"",children:"Selecciona un asunto"}),a.jsx("option",{value:"consulta-producto",children:"Consulta sobre producto"}),a.jsx("option",{value:"estado-pedido",children:"Estado de mi pedido"}),a.jsx("option",{value:"devolucion",children:"Devolución o cambio"}),a.jsx("option",{value:"facturacion",children:"Facturación"}),a.jsx("option",{value:"sugerencia",children:"Sugerencia"}),a.jsx("option",{value:"otro",children:"Otro"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gris-oscuro dark:text-gray-200 mb-2",children:"Mensaje *"}),a.jsx("textarea",{name:"mensaje",value:e.mensaje,onChange:o,required:!0,rows:6,className:"input-field",placeholder:"Describe tu consulta o mensaje..."})]}),a.jsx("button",{type:"submit",disabled:r,className:"w-full btn-primary py-3 flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:r?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-gris-oscuro dark:border-gray-900 border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Enviando..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Rm,{className:"w-5 h-5"}),a.jsx("span",{children:"Enviar Mensaje"})]})})]})]})]})]})})},B3=()=>a.jsx("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 py-12",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8",children:[a.jsx("h1",{className:"text-4xl font-bold text-gris-oscuro dark:text-white mb-8 text-center",children:"Sobre Nosotros"}),a.jsxs("div",{className:"prose max-w-none text-gris-oscuro dark:text-gray-300",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gris-oscuro dark:text-white mb-4",children:"¿Quiénes Somos?"}),a.jsx("p",{className:"text-lg leading-relaxed mb-4",children:"Mercadillo Lima Perú es tu destino confiable para productos de calidad en El Agustino y Lima Este. Ubicados estratégicamente en El Agustino, nos dedicamos a conectar a vendedores locales con compradores que buscan productos únicos y auténticos en nuestra comunidad."}),a.jsx("p",{className:"text-lg leading-relaxed",children:"Desde nuestros inicios en El Agustino, hemos trabajado para crear una plataforma que refleje la diversidad y riqueza de los productos de Lima Este, ofreciendo una experiencia de compra segura y satisfactoria especialmente diseñada para nuestra zona."})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gris-oscuro dark:text-white mb-4",children:"Nuestra Misión"}),a.jsx("p",{className:"text-lg leading-relaxed",children:"Facilitar el comercio local en El Agustino y Lima Este, promoviendo productos de calidad y creando un puente entre vendedores y compradores que beneficie a toda nuestra comunidad. Creemos en el poder del comercio justo y en apoyar especialmente a los emprendedores de nuestra zona."})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gris-oscuro dark:text-white mb-4",children:"Nuestra Visión"}),a.jsx("p",{className:"text-lg leading-relaxed",children:"Ser la plataforma líder de comercio electrónico en El Agustino y Lima Este, reconocida por la calidad de nuestros productos, la excelencia en el servicio al cliente y nuestro compromiso con el desarrollo económico de nuestra comunidad local."})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gris-oscuro dark:text-white mb-4",children:"Nuestros Valores"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-lg",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Calidad:"})," Ofrecemos solo productos que cumplen con nuestros altos estándares."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Confianza:"})," Construimos relaciones duraderas basadas en la transparencia."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Comunidad:"})," Apoyamos a vendedores locales y contribuimos al crecimiento económico."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Innovación:"})," Mejoramos continuamente nuestra plataforma y servicios."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Sostenibilidad:"})," Promovemos prácticas comerciales responsables con el medio ambiente."]})]})]}),a.jsxs("div",{className:"bg-amarillo/10 dark:bg-yellow-400/10 p-6 rounded-lg",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gris-oscuro dark:text-white mb-4",children:"¿Por Qué Elegirnos?"}),a.jsxs("ul",{className:"space-y-3 text-lg",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-amarillo mr-2",children:"✓"}),a.jsx("span",{children:"Productos auténticos y de calidad verificada"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-amarillo mr-2",children:"✓"}),a.jsx("span",{children:"Envíos seguros y rápidos en El Agustino, Santa Anita, SJL y toda Lima"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-amarillo mr-2",children:"✓"}),a.jsx("span",{children:"Atención al cliente personalizada"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-amarillo mr-2",children:"✓"}),a.jsx("span",{children:"Precios competitivos y ofertas especiales"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-amarillo mr-2",children:"✓"}),a.jsx("span",{children:"Plataforma segura y fácil de usar"})]})]})]})]})]})})}),W3=()=>{const{user:e}=mt(),{addToCart:t,items:r}=ss(),{showWishlistRemoved:n,showCartAdded:s,showOutOfStock:i}=Ko(),[o,l]=w.useState([]),[c,d]=w.useState(!0),[u,h]=w.useState(null),[f,m]=w.useState(null);w.useEffect(()=>{e!=null&&e.id&&v()},[e==null?void 0:e.id]);const v=async()=>{if(!(e!=null&&e.id))return;d(!0);const p=await k4(e.id);p.error?h(p.error):l(p.data||[]),d(!1)},x=async p=>{var y;if(!(e!=null&&e.id))return;m(p);const g=await rw(e.id,p);if(g.error)h(g.error);else{const b=o.find(N=>N.producto_id===p),_=((y=b==null?void 0:b.producto)==null?void 0:y.nombre)||"Producto";n(_),l(N=>N.filter(k=>k.producto_id!==p))}m(null)},j=p=>{if(!p.producto)return;const g=r.find(_=>_.producto.id===p.producto.id),y=g?g.cantidad:0;if(p.producto.stock-y<=0){i(p.producto.nombre);return}t({id:p.producto.id,nombre:p.producto.nombre,descripcion:"",precio:p.producto.precio,imagen:p.producto.imagen,stock:p.producto.stock,categoria:"",created_at:"",updated_at:""},1),s(p.producto.nombre)};return c?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})})}):u?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6",children:a.jsx("p",{className:"text-red-800 dark:text-red-200",children:u})})})}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(Mc,{className:"w-8 h-8 text-red-500"}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Lista de Deseos"})]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Tus productos favoritos guardados para más tarde"})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Total de productos"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:o.length})]}),a.jsx($e,{className:"w-12 h-12 text-blue-600 dark:text-blue-400 opacity-20"})]})}),o.length===0?a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-12 text-center",children:[a.jsx(Mc,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Tu lista de deseos está vacía"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Explora nuestros productos y guarda tus favoritos aquí"}),a.jsx(ce,{to:"/catalogo",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Explorar Productos"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(p=>a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-200",children:p.producto&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:p.producto.imagen,alt:p.producto.nombre,className:"w-full h-48 object-cover"}),a.jsx("button",{onClick:()=>x(p.producto_id),disabled:f===p.producto_id,className:"absolute top-2 right-2 p-2 bg-white dark:bg-gray-800 rounded-full shadow-md hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors duration-200",title:"Remover de lista de deseos",children:f===p.producto_id?a.jsx("div",{className:"w-5 h-5 animate-spin rounded-full border-2 border-red-500 border-t-transparent"}):a.jsx(Ks,{className:"w-5 h-5 text-red-500"})})]}),a.jsxs("div",{className:"p-4",children:[a.jsx(ce,{to:`/product/${p.producto.id}`,className:"block mb-2",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-200 line-clamp-2",children:p.producto.nombre})}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("span",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["S/ ",p.producto.precio.toFixed(2)]}),a.jsx("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((g,y)=>a.jsx(jr,{className:"w-4 h-4 text-yellow-400 fill-current"},y))})]}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Stock: ",p.producto.stock]}),a.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Agregado: ",new Date(p.created_at).toLocaleDateString()]})]}),a.jsx("div",{className:"flex space-x-2",children:a.jsxs("button",{onClick:()=>j(p),disabled:p.producto.stock===0,className:"flex-1 flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 dark:disabled:bg-gray-600 disabled:cursor-not-allowed transition-colors duration-200",children:[a.jsx($r,{className:"w-4 h-4 mr-2"}),p.producto.stock===0?"Sin Stock":"Agregar al Carrito"]})})]})]})},p.id))})]})})},q3=()=>{const{user:e}=mt(),[t,r]=w.useState([]),[n,s]=w.useState(!0),[i,o]=w.useState(null);w.useEffect(()=>{e!=null&&e.id&&l()},[e==null?void 0:e.id]);const l=async()=>{if(!(e!=null&&e.id))return;s(!0);const h=await T4(e.id);h.error?o(h.error):r(h.data||[]),s(!1)},c=h=>{switch(h){case"pendiente":return a.jsx(ar,{className:"w-5 h-5 text-yellow-500"});case"pagado":case"procesando":return a.jsx($e,{className:"w-5 h-5 text-blue-500"});case"enviado":return a.jsx(Ws,{className:"w-5 h-5 text-purple-500"});case"entregado":return a.jsx(yo,{className:"w-5 h-5 text-green-500"});case"cancelado":case"fallido":return a.jsx(wo,{className:"w-5 h-5 text-red-500"});default:return a.jsx(ar,{className:"w-5 h-5 text-gray-500"})}},d=h=>{switch(h){case"pendiente":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400";case"pagado":case"procesando":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";case"enviado":return"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400";case"entregado":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"cancelado":case"fallido":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}},u=h=>({pendiente:"Pendiente",pagado:"Pagado",procesando:"Procesando",enviado:"Enviado",entregado:"Entregado",cancelado:"Cancelado",fallido:"Fallido"})[h]||h;return n?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})})}):i?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6",children:a.jsx("p",{className:"text-red-800 dark:text-red-200",children:i})})})}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx($e,{className:"w-8 h-8 text-blue-600"}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Mis Pedidos"})]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Historial completo de tus compras y estado de envíos"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Pedidos"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:t.length})]}),a.jsx($e,{className:"w-8 h-8 text-blue-600 opacity-20"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Entregados"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:t.filter(h=>h.estado==="entregado").length})]}),a.jsx(yo,{className:"w-8 h-8 text-green-600 opacity-20"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"En Proceso"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t.filter(h=>["pagado","procesando","enviado"].includes(h.estado)).length})]}),a.jsx(Ws,{className:"w-8 h-8 text-blue-600 opacity-20"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Gastado"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:["S/ ",t.reduce((h,f)=>h+f.total,0).toFixed(2)]})]}),a.jsx($e,{className:"w-8 h-8 text-gray-600 opacity-20"})]})})]}),t.length===0?a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-12 text-center",children:[a.jsx($e,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"No tienes pedidos aún"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Explora nuestros productos y realiza tu primera compra"}),a.jsx(ce,{to:"/catalogo",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Ir al Catálogo"})]}):a.jsx("div",{className:"space-y-6",children:t.map(h=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[c(h.estado),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:["Pedido #",h.id.slice(-8)]}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(h.created_at).toLocaleDateString("es-PE",{year:"numeric",month:"long",day:"numeric"})})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${d(h.estado)}`,children:u(h.estado)}),a.jsxs("p",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 mt-1",children:["S/ ",h.total.toFixed(2)]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Método de pago"}),a.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100 capitalize",children:h.metodo_pago})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Dirección de envío"}),a.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:h.direccion_envio})]}),h.fecha_pago&&a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Fecha de pago"}),a.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:new Date(h.fecha_pago).toLocaleDateString()})]})]})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-4",children:["Productos (",Array.isArray(h.items)?h.items.length:0,")"]}),a.jsx("div",{className:"space-y-3",children:Array.isArray(h.items)&&h.items.map((f,m)=>{var v;return a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("img",{src:f.image||"/placeholder-product.jpg",alt:f.title||f.nombre,className:"w-16 h-16 object-cover rounded-lg"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:f.title||f.nombre}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Cantidad: ",f.quantity||f.cantidad," × S/ ",(v=f.price||f.precio)==null?void 0:v.toFixed(2)]})]}),a.jsxs("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:["S/ ",((f.quantity||f.cantidad)*(f.price||f.precio)).toFixed(2)]})]},m)})})]})]},h.id))})]})})},H3=()=>{const{user:e}=mt(),[t,r]=w.useState([]),[n,s]=w.useState(!0),[i,o]=w.useState(null),[l,c]=w.useState(null);w.useEffect(()=>{e!=null&&e.id&&d()},[e==null?void 0:e.id]);const d=async()=>{if(e!=null&&e.id){s(!0);try{const{data:x,error:j}=await te.from("resenas").select(`
          *,
          producto:productos(id, nombre, imagen, precio)
        `).eq("usuario_id",e.id).order("created_at",{ascending:!1});j?o(j.message):r(x||[])}catch{o("Error inesperado al cargar reseñas")}s(!1)}},u=async x=>{if(confirm("¿Estás seguro de que quieres eliminar esta reseña?")){c(x);try{const{error:j}=await te.from("resenas").delete().eq("id",x).eq("usuario_id",e==null?void 0:e.id);j?o(j.message):r(p=>p.filter(g=>g.id!==x))}catch{o("Error al eliminar la reseña")}c(null)}},h=x=>a.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(j=>a.jsx(jr,{className:`w-4 h-4 ${j<=x?"text-yellow-400 fill-current":"text-gray-300 dark:text-gray-600"}`},j))}),f=()=>t.length===0?0:(t.reduce((j,p)=>j+p.calificacion,0)/t.length).toFixed(1),m=()=>{const x={5:0,4:0,3:0,2:0,1:0};return t.forEach(j=>{x[j.calificacion]++}),x};if(n)return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})})});if(i)return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6",children:a.jsx("p",{className:"text-red-800 dark:text-red-200",children:i})})})});const v=m();return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(jr,{className:"w-8 h-8 text-yellow-500"}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Mis Reseñas"})]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Todas las reseñas que has escrito sobre productos que compraste"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Total de Reseñas"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:t.length})]}),a.jsx(Bs,{className:"w-12 h-12 text-blue-600 dark:text-blue-400 opacity-20"})]}),t.length>0&&a.jsxs("div",{className:"flex items-center space-x-2",children:[h(Math.round(Number(f()))),a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Promedio: ",f()]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Distribución"}),a.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(x=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 w-8",children:[x,"★"]}),a.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:t.length>0?`${v[x]/t.length*100}%`:"0%"}})}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 w-8",children:v[x]})]},x))})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Productos Reseñados"}),a.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:new Set(t.map(x=>x.producto_id)).size})]}),a.jsx($e,{className:"w-12 h-12 text-green-600 dark:text-green-400 opacity-20"})]}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Productos únicos con reseña"})]})]}),t.length===0?a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-12 text-center",children:[a.jsx(jr,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"No has escrito reseñas aún"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Compra productos y comparte tu experiencia con otros usuarios"}),a.jsx(ce,{to:"/perfil/pedidos",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Ver Mis Pedidos"})]}):a.jsx("div",{className:"space-y-6",children:t.map(x=>{var j,p,g,y,b;return a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-200",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("img",{src:((j=x.producto)==null?void 0:j.imagen)||"/placeholder-product.jpg",alt:(p=x.producto)==null?void 0:p.nombre,className:"w-16 h-16 object-cover rounded-lg"}),a.jsxs("div",{children:[a.jsx(ce,{to:`/producto/${x.producto_id}`,className:"block",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-200 line-clamp-2",children:(g=x.producto)==null?void 0:g.nombre})}),a.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[h(x.calificacion),a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[x.calificacion,"/5 estrellas"]})]})]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("button",{onClick:()=>u(x.id),disabled:l===x.id,className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors duration-200",title:"Eliminar reseña",children:l===x.id?a.jsx("div",{className:"w-4 h-4 animate-spin rounded-full border-2 border-red-500 border-t-transparent"}):a.jsx(Ks,{className:"w-4 h-4"})})})]}),x.comentario&&a.jsx("div",{className:"mb-4",children:a.jsxs("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:['"',x.comentario,'"']})}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400 pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Lc,{className:"w-4 h-4"}),a.jsx("span",{children:new Date(x.created_at).toLocaleDateString("es-PE",{year:"numeric",month:"long",day:"numeric"})})]}),x.updated_at!==x.created_at&&a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Qb,{className:"w-4 h-4"}),a.jsx("span",{children:"Editada"})]})]}),a.jsxs("span",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:["S/ ",(b=(y=x.producto)==null?void 0:y.precio)==null?void 0:b.toFixed(2)]})]})]})},x.id)})})]})})},V3=({data:e,itemsPerPage:t=10,initialPage:r=1})=>{const[n,s]=w.useState(r),i=w.useMemo(()=>Math.ceil(e.length/t),[e.length,t]);w.useEffect(()=>{n>i&&i>0&&s(1)},[i,n]);const o=w.useMemo(()=>{const x=(n-1)*t,j=x+t;return e.slice(x,j)},[e,n,t]),l=()=>{s(x=>Math.min(x+1,i))},c=()=>{s(x=>Math.max(x-1,1))},d=()=>{s(1)},u=()=>{s(i)},h=n<i,f=n>1,m=(n-1)*t+1,v=Math.min(n*t,e.length);return{currentPage:n,totalPages:i,currentItems:o,setCurrentPage:s,goToNextPage:l,goToPreviousPage:c,goToFirstPage:d,goToLastPage:u,hasNextPage:h,hasPreviousPage:f,startIndex:m,endIndex:v,totalItems:e.length}},K3=(e,t=50)=>xb({queryKey:[...Oe.user.history(e),t],queryFn:async()=>{const r=await N4(e,t);if(r.error)throw new Error(r.error);return r.data||[]},...yb.user,enabled:!!e}),Q3=()=>{const e=pb();return{invalidateUserProfile:i=>{e.invalidateQueries({queryKey:Oe.user.profile(i)})},invalidateUserAddresses:i=>{e.invalidateQueries({queryKey:Oe.user.addresses(i)})},invalidateUserHistory:i=>{e.invalidateQueries({queryKey:Oe.user.history(i)})},invalidateAllUserData:()=>{e.invalidateQueries({queryKey:Oe.user.all})}}},G3=({currentPage:e,totalPages:t,onPageChange:r,showPages:n=5,className:s=""})=>{if(t<=1)return null;const o=(()=>{const u=Math.floor(n/2);let h=Math.max(1,e-u),f=Math.min(t,h+n-1);return f-h+1<n&&(h=Math.max(1,f-n+1)),Array.from({length:f-h+1},(m,v)=>h+v)})(),l=o[0]>2,c=o[o.length-1]<t-1,d=({children:u,onClick:h,disabled:f=!1,active:m=!1,className:v=""})=>a.jsx("button",{onClick:h,disabled:f,className:`
        relative inline-flex items-center justify-center min-w-[2.5rem] h-10 px-3 py-2 text-sm font-medium
        border border-gray-300 dark:border-gray-600
        transition-all duration-200 ease-in-out
        ${m?"bg-blue-600 text-white border-blue-600 dark:bg-blue-500 dark:border-blue-500":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}
        ${f?"opacity-50 cursor-not-allowed":"hover:border-gray-400 dark:hover:border-gray-500"}
        ${v}
      `,children:u});return a.jsxs("nav",{className:`flex items-center justify-center space-x-1 ${s}`,"aria-label":"Paginación",children:[a.jsxs(d,{onClick:()=>r(e-1),disabled:e===1,className:"rounded-l-lg",children:[a.jsx(zC,{className:"w-4 h-4"}),a.jsx("span",{className:"sr-only",children:"Página anterior"})]}),l&&a.jsxs(a.Fragment,{children:[a.jsx(d,{onClick:()=>r(1),children:"1"}),a.jsx("div",{className:"flex items-center justify-center min-w-[2.5rem] h-10",children:a.jsx(N0,{className:"w-4 h-4 text-gray-400"})})]}),o.map(u=>a.jsx(d,{onClick:()=>r(u),active:u===e,children:u},u)),c&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex items-center justify-center min-w-[2.5rem] h-10",children:a.jsx(N0,{className:"w-4 h-4 text-gray-400"})}),a.jsx(d,{onClick:()=>r(t),children:t})]}),a.jsxs(d,{onClick:()=>r(e+1),disabled:e===t,className:"rounded-r-lg",children:[a.jsx($C,{className:"w-4 h-4"}),a.jsx("span",{className:"sr-only",children:"Página siguiente"})]})]})},J3=()=>{const{user:e}=mt(),{addToCart:t,items:r}=ss(),{showCartAdded:n,showOutOfStock:s}=Ko(),[i,o]=w.useState(!1),{data:l=[],isLoading:c,error:d}=K3((e==null?void 0:e.id)||"",50),{invalidateUserHistory:u}=Q3(),h=12,f=V3({data:l,itemsPerPage:h}),m=async()=>{if(!(e!=null&&e.id)||!confirm("¿Estás seguro de que quieres limpiar todo tu historial de navegación?"))return;o(!0);const y=await E4(e.id);y.error?console.error(y.error):u(e.id),o(!1)},v=y=>{if(!y.producto)return;const b={id:y.producto.id,nombre:y.producto.nombre,descripcion:y.producto.descripcion||"",precio:y.producto.precio,imagen:y.producto.imagen,stock:y.producto.stock??1,categoria:y.producto.categoria||"",created_at:y.producto.created_at||"",updated_at:y.producto.updated_at||""},_=r.find(E=>E.producto.id===b.id),N=_?_.cantidad:0;if(b.stock-N<=0){s(b.nombre);return}t(b,1),n(b.nombre)},x=y=>{const b=new Date,_=new Date(y),N=b.getTime()-_.getTime(),k=Math.floor(N/(1e3*60*60*24)),E=Math.floor(N/(1e3*60*60)),S=Math.floor(N/(1e3*60));return k>0?`hace ${k} día${k>1?"s":""}`:E>0?`hace ${E} hora${E>1?"s":""}`:S>0?`hace ${S} minuto${S>1?"s":""}`:"hace unos momentos"},j=y=>{const b={};return y.forEach(_=>{const N=new Date(_.updated_at),k=new Date,E=new Date(k);E.setDate(E.getDate()-1);let S;N.toDateString()===k.toDateString()?S="Hoy":N.toDateString()===E.toDateString()?S="Ayer":S=N.toLocaleDateString("es-PE",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),b[S]||(b[S]=[]),b[S].push(_)}),b},p=f.currentItems,g=j(p);return c?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})})}):d?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6",children:a.jsx("p",{className:"text-red-800 dark:text-red-200",children:d==null?void 0:d.message})})})}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ar,{className:"w-8 h-8 text-purple-600"}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Historial de Navegación"})]}),l.length>0&&a.jsxs("button",{onClick:m,disabled:i,className:"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:bg-gray-400 transition-colors duration-200",children:[i?a.jsx("div",{className:"w-4 h-4 animate-spin rounded-full border-2 border-white border-t-transparent"}):a.jsx(Ks,{className:"w-4 h-4"}),a.jsx("span",{children:"Limpiar Historial"})]})]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Productos que has visitado recientemente"}),l.length>0&&a.jsxs("div",{className:"flex items-center justify-between mt-4 text-sm text-gray-600 dark:text-gray-400",children:[a.jsxs("span",{children:["Mostrando ",f.startIndex+1,"-",Math.min(f.endIndex,l.length)," de ",l.length," productos"]}),a.jsxs("span",{children:["Página ",f.currentPage," de ",f.totalPages]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Productos Visitados"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:l.length})]}),a.jsx(Ic,{className:"w-8 h-8 text-purple-600 opacity-20"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Productos Únicos"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:new Set(l.map(y=>y.producto_id)).size})]}),a.jsx(ar,{className:"w-8 h-8 text-blue-600 opacity-20"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Última Visita"}),a.jsx("p",{className:"text-lg font-bold text-green-600",children:l.length>0?x(l[0].updated_at):"Nunca"})]}),a.jsx(ar,{className:"w-8 h-8 text-green-600 opacity-20"})]})})]}),l.length===0?a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-12 text-center",children:[a.jsx(ar,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Tu historial está vacío"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Explora nuestros productos para comenzar a construir tu historial"}),a.jsx(ce,{to:"/catalogo",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Explorar Productos"})]}):a.jsx("div",{className:"space-y-8",children:Object.entries(g).map(([y,b])=>a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 border-b border-gray-200 dark:border-gray-700 pb-2",children:y}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b.map(_=>a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-200",children:_.producto&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:_.producto.imagen,alt:_.producto.nombre,className:"w-full h-48 object-cover"}),a.jsx("div",{className:"absolute top-2 right-2 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded",children:x(_.updated_at)})]}),a.jsxs("div",{className:"p-4",children:[a.jsx(ce,{to:`/producto/${_.producto.id}`,className:"block mb-2",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-200 line-clamp-2",children:_.producto.nombre})}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("span",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:["S/ ",_.producto.precio.toFixed(2)]}),a.jsx("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((N,k)=>a.jsx(jr,{className:"w-4 h-4 text-yellow-400 fill-current"},k))})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(ce,{to:`/producto/${_.producto.id}`,className:"flex-1 flex items-center justify-center px-3 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200",children:[a.jsx(Ic,{className:"w-4 h-4 mr-2"}),"Ver"]}),a.jsxs("button",{onClick:()=>v(_),className:"flex-1 flex items-center justify-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[a.jsx($r,{className:"w-4 h-4 mr-2"}),"Agregar"]})]})]})]})},`${_.id}-${_.updated_at}`))})]},y))}),l.length>h&&a.jsx("div",{className:"mt-8 flex justify-center",children:a.jsx(G3,{currentPage:f.currentPage,totalPages:f.totalPages,onPageChange:f.setCurrentPage,className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg"})})]})})},Y3=()=>{const{user:e}=mt(),{showAddressAdded:t,showAddressUpdated:r,showAddressDeleted:n,showError:s}=Ko(),[i,o]=w.useState([]),[l,c]=w.useState(!0),[d,u]=w.useState(null),[h,f]=w.useState(!1),[m,v]=w.useState(null),[x,j]=w.useState(!1),[p,g]=w.useState({nombre:"",direccion_completa:"",distrito:"",provincia:"",departamento:"",codigo_postal:"",referencia:"",telefono_contacto:"",es_predeterminada:!1});w.useEffect(()=>{e!=null&&e.id&&y()},[e==null?void 0:e.id]);const y=async()=>{if(!(e!=null&&e.id))return;c(!0);const S=await nw(e.id);S.error?u(S.error):o(S.data||[]),c(!1)},b=()=>{g({nombre:"",direccion_completa:"",distrito:"",provincia:"",departamento:"",codigo_postal:"",referencia:"",telefono_contacto:"",es_predeterminada:!1}),v(null),f(!1)},_=S=>{v(S),g({nombre:S.nombre,direccion_completa:S.direccion_completa,distrito:S.distrito||"",provincia:S.provincia,departamento:S.departamento,codigo_postal:S.codigo_postal||"",referencia:S.referencia||"",telefono_contacto:S.telefono_contacto||"",es_predeterminada:S.es_predeterminada||!1}),f(!0)},N=async S=>{if(!confirm("¿Estás seguro de que quieres eliminar esta dirección?"))return;const C=await C4(S);C.error?s("Error al eliminar",C.error):(n(),await y())},k=async S=>{if(S.preventDefault(),!!(e!=null&&e.id)){j(!0),u(null);try{let C;m?C=await E0(m.id,p):C=await P4(e.id,p),C.error?s("Error al guardar",C.error):(m?r():t(),await y(),b())}catch{u("Error al guardar la dirección")}finally{j(!1)}}},E=async S=>{const C=i.find(z=>z.id===S);if(!C)return;const F=await E0(S,{...C,es_predeterminada:!0});F.error?s("Error al actualizar",F.error):(r(),await y())};return l?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})})}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:a.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Yn,{className:"w-8 h-8 text-green-600"}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Mis Direcciones"})]}),a.jsxs("button",{onClick:()=>f(!0),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200",children:[a.jsx(bo,{className:"w-4 h-4"}),a.jsx("span",{children:"Agregar Dirección"})]})]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Gestiona tus direcciones de envío"})]}),d&&a.jsx("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:a.jsx("p",{className:"text-red-800 dark:text-red-200",children:d})}),h&&a.jsxs("div",{className:"mb-8 bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:m?"Editar Dirección":"Nueva Dirección"}),a.jsx("button",{onClick:b,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(si,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:k,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nombre de Dirección"}),a.jsx("input",{type:"text",value:p.nombre,onChange:S=>{const C=S.target.value.slice(0,100);g({...p,nombre:C})},placeholder:"Ej: Casa, Oficina, etc.",maxLength:100,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-100",required:!0}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[p.nombre.length,"/100 caracteres"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Teléfono de Contacto"}),a.jsx("input",{type:"tel",value:p.telefono_contacto,onChange:S=>{const C=S.target.value.replace(/[^0-9+]/g,"").slice(0,25);g({...p,telefono_contacto:C})},placeholder:"Ej: +51987654321 o 987654321",maxLength:25,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-100"}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[p.telefono_contacto.length,"/25 caracteres (solo números y +)"]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Dirección Completa"}),a.jsx("textarea",{value:p.direccion_completa,onChange:S=>{const C=S.target.value.slice(0,255);g({...p,direccion_completa:C})},placeholder:"Ej: Av. Lima 123, San Isidro",rows:3,maxLength:255,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-100",required:!0}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[p.direccion_completa.length,"/255 caracteres"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Distrito"}),a.jsx("input",{type:"text",value:p.distrito,onChange:S=>{const C=S.target.value.replace(/[^a-zA-ZáéíóúÁÉÍÓÚñÑ\s]/g,"").slice(0,100);g({...p,distrito:C})},placeholder:"Ej: San Isidro",maxLength:100,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-100"}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[p.distrito.length,"/100 (solo letras)"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Provincia"}),a.jsx("input",{type:"text",value:p.provincia,onChange:S=>{const C=S.target.value.replace(/[^a-zA-ZáéíóúÁÉÍÓÚñÑ\s]/g,"").slice(0,100);g({...p,provincia:C})},placeholder:"Ej: Lima",maxLength:100,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-100",required:!0}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[p.provincia.length,"/100 (solo letras)"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Departamento"}),a.jsx("input",{type:"text",value:p.departamento,onChange:S=>{const C=S.target.value.replace(/[^a-zA-ZáéíóúÁÉÍÓÚñÑ\s]/g,"").slice(0,100);g({...p,departamento:C})},placeholder:"Ej: Lima",maxLength:100,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-100",required:!0}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[p.departamento.length,"/100 (solo letras)"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Código Postal"}),a.jsx("input",{type:"text",value:p.codigo_postal,onChange:S=>{const C=S.target.value.replace(/[^0-9]/g,"").slice(0,5);g({...p,codigo_postal:C})},placeholder:"Ej: 15001",maxLength:5,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-100"}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[p.codigo_postal.length,"/5 (solo números)"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Referencia"}),a.jsx("input",{type:"text",value:p.referencia,onChange:S=>{const C=S.target.value.slice(0,255);g({...p,referencia:C})},placeholder:"Ej: Cerca al parque principal",maxLength:255,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-100"}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[p.referencia.length,"/255 caracteres"]})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"es_predeterminada",checked:p.es_predeterminada,onChange:S=>g({...p,es_predeterminada:S.target.checked}),className:"w-4 h-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"es_predeterminada",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Establecer como dirección predeterminada"})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{type:"submit",disabled:x,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400 transition-colors duration-200",children:[x?a.jsx("div",{className:"w-4 h-4 animate-spin rounded-full border-2 border-white border-t-transparent mr-2"}):a.jsx(UC,{className:"w-4 h-4 mr-2"}),m?"Actualizar":"Guardar"]}),a.jsx("button",{type:"button",onClick:b,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200",children:"Cancelar"})]})]})]}),i.length===0?a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-12 text-center",children:[a.jsx(Yn,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"No tienes direcciones guardadas"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Agrega tu primera dirección para facilitar tus compras"}),a.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200",children:[a.jsx(bo,{className:"w-4 h-4 mr-2"}),"Agregar Dirección"]})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.map(S=>a.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border-2 ${S.es_predeterminada?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-transparent"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:S.nombre}),S.es_predeterminada&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100",children:[a.jsx(jr,{className:"w-3 h-3 mr-1"}),"Predeterminada"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>_(S),className:"p-2 text-gray-500 hover:text-blue-600 dark:text-gray-400 dark:hover:text-blue-400 transition-colors duration-200",children:a.jsx(Gb,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>N(S.id),className:"p-2 text-gray-500 hover:text-red-600 dark:text-gray-400 dark:hover:text-red-400 transition-colors duration-200",children:a.jsx(Ks,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[a.jsx(Yn,{className:"w-4 h-4 inline mr-2"}),S.direccion_completa]}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[S.distrito&&`${S.distrito}, `,S.provincia,", ",S.departamento,S.codigo_postal&&` - ${S.codigo_postal}`]}),S.referencia&&a.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:["Ref: ",S.referencia]}),S.telefono_contacto&&a.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Tel: ",S.telefono_contacto]})]}),!S.es_predeterminada&&a.jsxs("button",{onClick:()=>E(S.id),className:"w-full flex items-center justify-center px-4 py-2 border border-green-600 text-green-600 rounded-lg hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors duration-200",children:[a.jsx(jr,{className:"w-4 h-4 mr-2"}),"Establecer como Predeterminada"]})]},S.id))})]})})},X3=()=>a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-4xl",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-8 text-center",children:"Configuración de Cuenta"}),a.jsx(KS,{appearance:{elements:{rootBox:"w-full",card:"w-full shadow-lg border-0 rounded-lg overflow-hidden",navbar:"bg-gray-50 dark:bg-gray-900 border-r border-gray-200 dark:border-gray-700",navbarButton:"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md",navbarButtonActive:"bg-yellow-500 text-gray-900 hover:bg-yellow-600",profileSection:"bg-white dark:bg-gray-800",profileSectionContent:"bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 p-6",profileSectionTitle:"text-gray-900 dark:text-gray-100 text-xl font-semibold",profileSectionSubtitle:"text-gray-600 dark:text-gray-400",profileSectionPrimaryButton:"bg-yellow-500 hover:bg-yellow-600 text-gray-900 font-semibold",formButtonPrimary:"bg-yellow-500 hover:bg-yellow-600 text-gray-900 font-semibold rounded-lg shadow-sm",formFieldInput:"border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500",formFieldLabel:"text-gray-900 dark:text-gray-100 font-medium text-sm",badge:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full px-2 py-1 text-xs",avatarBox:"w-20 h-20 rounded-full",pageScrollBox:"bg-white dark:bg-gray-800"}}})]})})}),Z3=()=>{var r;const t=(r=Nr().state)==null?void 0:r.message;return a.jsx("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 flex items-center justify-center p-2 sm:p-4",children:a.jsx("div",{className:"w-full max-w-sm sm:max-w-md mx-auto",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 p-4 sm:p-8",children:[a.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[a.jsx("img",{src:"/logo.webp",alt:"Mercadillo Lima Perú",className:"mx-auto w-16 h-16 sm:w-20 sm:h-20 rounded-xl mb-4 sm:mb-6 object-cover border border-gray-200 dark:border-gray-600 shadow-sm"}),a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gris-oscuro dark:text-gray-100 mb-2",children:"Bienvenido de vuelta"}),a.jsx("p",{className:"text-sm sm:text-base text-gris-claro dark:text-gray-400",children:"Inicia sesión para continuar"}),t&&a.jsx("div",{className:"mt-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-yellow-800 dark:text-yellow-300",children:[a.jsx(Fc,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:t})]})})]}),a.jsx("div",{className:"clerk-continue-wrapper",children:a.jsx(qS,{path:"/sign-in",routing:"path",signUpUrl:"/sign-up",fallbackRedirectUrl:"/",appearance:{elements:{card:"shadow-none bg-transparent p-0 w-full",rootBox:"w-full",headerTitle:"hidden",headerSubtitle:"hidden",socialButtonsBlockButton:"bg-hueso dark:bg-gray-700 text-gris-oscuro dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600 w-full py-3 px-4 rounded-lg font-medium transition-colors duration-200 mb-4 border border-gray-300 dark:border-gray-600 text-sm sm:text-base min-h-[44px]",socialButtonsBlockButtonText:"font-medium text-gris-oscuro dark:text-gray-200 text-sm sm:text-base",dividerLine:"bg-gray-300 dark:bg-gray-600 my-4 sm:my-6",dividerText:"text-gris-claro dark:text-gray-400 text-xs sm:text-sm px-4 bg-white dark:bg-gray-800",formButtonPrimary:"inline-flex items-center justify-center px-6 py-3 rounded-lg font-semibold transition-colors duration-200 bg-amarillo text-gray-900 dark:bg-gray-800 dark:text-white dark:hover:bg-gray-700 no-underline hover:no-underline focus:no-underline appearance-none shadow-none focus:outline-none focus:ring-0 w-full min-h-[44px] text-sm sm:text-base",formFieldInput:"border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-amarillo focus:border-amarillo transition-all duration-200 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 min-h-[44px] text-sm sm:text-base",formFieldLabel:"text-gris-oscuro dark:text-gray-200 font-medium mb-2 block text-left text-sm sm:text-base",footerActionLink:"text-amarillo hover:text-dorado font-medium transition-colors duration-200",footerAction:"text-center mt-4 sm:mt-6 text-xs sm:text-sm text-gris-claro dark:text-gray-400 bg-white dark:bg-gray-800",footer:"bg-white dark:bg-gray-800",footerPages:"bg-white dark:bg-gray-800",footerText:"text-gris-claro dark:text-gray-400 bg-white dark:bg-gray-800",footerActionText:"text-gris-claro dark:text-gray-400 bg-white dark:bg-gray-800",footerActionLinkText:"text-amarillo hover:text-dorado bg-white dark:bg-gray-800",modalContent:"bg-white dark:bg-gray-800",modalCloseButton:"text-gris-claro dark:text-gray-400",closeButton:"hidden"},variables:{colorPrimary:"#fbbf24",colorText:"#111827",colorBackground:"inherit",colorInputBackground:"#ffffff",colorInputText:"#111827",colorNeutral:"#6b7280",borderRadius:"0.75rem",fontFamily:"Inter, sans-serif",spacingUnit:"1rem",colorDanger:"#ef4444",colorSuccess:"#10b981",colorWarning:"#f59e0b"},layout:{unsafe_disableDevelopmentModeWarnings:!0}}})})]})})})},eT=()=>{var r;const t=(r=Nr().state)==null?void 0:r.message;return a.jsx("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 flex items-center justify-center p-2 sm:p-4",children:a.jsx("div",{className:"w-full max-w-sm sm:max-w-md mx-auto",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 p-4 sm:p-8",children:[a.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[a.jsx("img",{src:"/logo.webp",alt:"Mercadillo Lima Perú",className:"mx-auto w-16 h-16 sm:w-20 sm:h-20 rounded-xl mb-4 sm:mb-6 object-cover border border-gray-200 dark:border-gray-600 shadow-sm"}),a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gris-oscuro dark:text-gray-100 mb-2",children:"Crear cuenta"}),a.jsx("p",{className:"text-sm sm:text-base text-gris-claro dark:text-gray-400",children:"Únete a nuestro mercadillo"}),t&&a.jsx("div",{className:"mt-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-yellow-800 dark:text-yellow-300",children:[a.jsx(Fc,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:t})]})})]}),a.jsx("div",{className:"clerk-continue-wrapper",children:a.jsx(HS,{path:"/sign-up",routing:"path",signInUrl:"/sign-in",fallbackRedirectUrl:"/",appearance:{elements:{card:"shadow-none bg-transparent p-0 w-full",rootBox:"w-full",headerTitle:"hidden",headerSubtitle:"hidden",socialButtonsBlockButton:"bg-hueso dark:bg-gray-700 text-gris-oscuro dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600 w-full py-3 px-4 rounded-lg font-medium transition-colors duration-200 mb-4 border border-gray-300 dark:border-gray-600 text-sm sm:text-base min-h-[44px]",socialButtonsBlockButtonText:"font-medium text-gris-oscuro dark:text-gray-200 text-sm sm:text-base",dividerLine:"bg-gray-300 dark:bg-gray-600 my-4 sm:my-6",dividerText:"text-gris-claro dark:text-gray-400 text-xs sm:text-sm px-4 bg-white dark:bg-gray-800",formButtonPrimary:"inline-flex items-center justify-center px-6 py-3 rounded-lg font-semibold transition-colors duration-200 bg-amarillo text-gray-900 dark:bg-gray-800 dark:text-white dark:hover:bg-gray-700 no-underline hover:no-underline focus:no-underline appearance-none shadow-none focus:outline-none focus:ring-0 w-full min-h-[44px] text-sm sm:text-base",formFieldInput:"border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-amarillo focus:border-amarillo transition-all duration-200 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 min-h-[44px] text-sm sm:text-base",formFieldLabel:"text-gris-oscuro dark:text-gray-200 font-medium mb-2 block text-left text-sm sm:text-base",footerActionLink:"text-amarillo hover:text-dorado font-medium transition-colors duration-200",footerAction:"text-center mt-4 sm:mt-6 text-xs sm:text-sm text-gris-claro dark:text-gray-400 bg-white dark:bg-gray-800",footer:"bg-white dark:bg-gray-800",footerPages:"bg-white dark:bg-gray-800",footerText:"text-gris-claro dark:text-gray-400 bg-white dark:bg-gray-800",footerActionText:"text-gris-claro dark:text-gray-400 bg-white dark:bg-gray-800",footerActionLinkText:"text-amarillo hover:text-dorado bg-white dark:bg-gray-800",modalContent:"bg-white dark:bg-gray-800",modalCloseButton:"text-gris-claro dark:text-gray-400",closeButton:"hidden"},variables:{colorPrimary:"#fbbf24",colorText:"#111827",colorBackground:"inherit",colorInputBackground:"#ffffff",colorInputText:"#111827",colorNeutral:"#6b7280",borderRadius:"0.75rem",fontFamily:"Inter, sans-serif",spacingUnit:"1rem",colorDanger:"#ef4444",colorSuccess:"#10b981",colorWarning:"#f59e0b"},layout:{unsafe_disableDevelopmentModeWarnings:!0}}})})]})})})},tT=()=>a.jsx("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 transition-colors duration-200",children:a.jsxs("div",{className:"max-w-md w-full space-y-8 text-center",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"text-[200px] sm:text-[250px] font-bold text-gray-200 dark:text-gray-700 leading-none select-none",children:"404"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"bg-amarillo dark:bg-yellow-500 rounded-full p-8 shadow-xl animate-bounce",children:a.jsx($e,{className:"w-16 h-16 text-gris-oscuro dark:text-gray-900"})})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-gris-oscuro dark:text-gray-100",children:"¡Oops!"}),a.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-600 dark:text-gray-400",children:"Página no encontrada"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 max-w-sm mx-auto leading-relaxed",children:"Lo sentimos, no pudimos encontrar la página que buscas. Puede que haya sido movida, eliminada o que la URL sea incorrecta."})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:[a.jsx("h3",{className:"text-lg font-semibold text-gris-oscuro dark:text-gray-100 mb-4",children:"¿Qué puedes hacer?"}),a.jsxs("div",{className:"space-y-3 text-sm text-gray-600 dark:text-gray-400",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-amarillo dark:bg-yellow-500 rounded-full"}),a.jsx("span",{children:"Verifica que la URL esté escrita correctamente"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-amarillo dark:bg-yellow-500 rounded-full"}),a.jsx("span",{children:"Regresa a la página de inicio"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-amarillo dark:bg-yellow-500 rounded-full"}),a.jsx("span",{children:"Busca el producto que necesitas"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-amarillo dark:bg-yellow-500 rounded-full"}),a.jsx("span",{children:"Explora nuestro catálogo completo"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs(ce,{to:"/",className:"flex-1 btn-primary flex items-center justify-center space-x-2 py-3",children:[a.jsx(Qo,{className:"w-5 h-5"}),a.jsx("span",{children:"Ir al Inicio"})]}),a.jsxs(ce,{to:"/catalogo",className:"flex-1 btn-secondary flex items-center justify-center space-x-2 py-3",children:[a.jsx(jd,{className:"w-5 h-5"}),a.jsx("span",{children:"Ver Catálogo"})]})]}),a.jsxs("button",{onClick:()=>window.history.back(),className:"w-full text-gray-600 dark:text-gray-400 hover:text-gris-oscuro dark:hover:text-gray-200 font-medium py-2 flex items-center justify-center space-x-2 transition-colors duration-200",children:[a.jsx(Vb,{className:"w-4 h-4"}),a.jsx("span",{children:"Volver atrás"})]})]}),a.jsxs("div",{className:"pt-8 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"¿Necesitas ayuda?"}),a.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm",children:[a.jsx("a",{href:"tel:+51977933410",className:"text-amarillo hover:text-dorado font-medium transition-colors duration-200",children:"+51 977 933 410"}),a.jsx("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),a.jsx(ce,{to:"/contacto",className:"text-amarillo hover:text-dorado font-medium transition-colors duration-200",children:"Contactar soporte"})]})]}),a.jsx("div",{className:"bg-gradient-to-r from-amarillo/10 to-dorado/10 dark:from-yellow-500/10 dark:to-yellow-400/10 rounded-lg p-4",children:a.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["💡 ",a.jsx("strong",{children:"Dato curioso:"})," Nuestro catálogo tiene más de 100 productos únicos esperándote en El Agustino, Lima Este."]})})]})}),rT=()=>{const[e,t]=w.useState(0),[r]=w.useState(3.5),[n,s]=w.useState(0),[i,o]=w.useState(!1),[l,c]=w.useState(!1),d="test-product-123";return a.jsx("div",{className:"min-h-screen bg-hueso dark:bg-gray-900 py-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gris-oscuro dark:text-gray-100 mb-8",children:"Prueba Completa del Sistema de Reseñas"}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg",children:[a.jsx("h2",{className:"text-xl font-semibold text-gris-oscuro dark:text-gray-100 mb-4",children:"Estrellas Interactivas (Tamaño Grande)"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Haz hover y clic en las estrellas para probar la interactividad"}),a.jsx(Ht,{rating:e,onRatingChange:t,size:"lg",showText:!0}),a.jsxs("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:["Rating actual: ",e]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg",children:[a.jsx("h2",{className:"text-xl font-semibold text-gris-oscuro dark:text-gray-100 mb-4",children:"Estrellas Solo Lectura (3.5 estrellas)"}),a.jsx(Ht,{rating:r,readonly:!0,size:"md",showText:!0})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg",children:[a.jsx("h2",{className:"text-xl font-semibold text-gris-oscuro dark:text-gray-100 mb-4",children:"Estrellas Pequeñas Interactivas"}),a.jsx(Ht,{rating:n,onRatingChange:s,size:"sm",showText:!0}),a.jsxs("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:["Rating actual: ",n]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg",children:[a.jsx("h2",{className:"text-xl font-semibold text-gris-oscuro dark:text-gray-100 mb-4",children:"Diferentes Tamaños (Solo Lectura)"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"Pequeño (4 estrellas):"}),a.jsx(Ht,{rating:4,readonly:!0,size:"sm",showText:!0})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"Mediano (4.5 estrellas):"}),a.jsx(Ht,{rating:4.5,readonly:!0,size:"md",showText:!0})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"Grande (5 estrellas):"}),a.jsx(Ht,{rating:5,readonly:!0,size:"lg",showText:!0})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg",children:[a.jsx("h2",{className:"text-xl font-semibold text-gris-oscuro dark:text-gray-100 mb-4",children:"Prueba del Formulario de Reseñas"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Prueba la funcionalidad completa del formulario de reseñas"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("button",{onClick:()=>{console.log("Toggle Review Form:",!i),o(!i)},className:`\r
                  px-6 py-3 bg-blue-600 hover:bg-blue-700 \r
                  text-white font-bold rounded-lg shadow-lg\r
                  transition-all duration-200 border-2 border-blue-800\r
                  transform hover:scale-105\r
                `,children:[i?"🔻 Ocultar":"📝 Mostrar"," Formulario de Reseña"]}),i&&a.jsx("div",{className:"mt-4",children:a.jsx(iw,{productId:d,skipPurchaseValidation:!0,onReviewCreated:()=>{console.log("Reseña creada exitosamente!"),o(!1)},onCancel:()=>o(!1)})})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg",children:[a.jsx("h2",{className:"text-xl font-semibold text-gris-oscuro dark:text-gray-100 mb-4",children:"Prueba de Lista de Reseñas"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Visualiza cómo se muestran las reseñas de un producto"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("button",{onClick:()=>{console.log("Toggle Review List:",!l),c(!l)},className:`\r
                  px-6 py-3 bg-green-600 hover:bg-green-700 \r
                  text-white font-bold rounded-lg shadow-lg\r
                  transition-all duration-200 border-2 border-green-800\r
                  transform hover:scale-105\r
                `,children:[l?"🔻 Ocultar":"📋 Mostrar"," Lista de Reseñas"]}),l&&a.jsx("div",{className:"mt-4",children:a.jsx(ow,{productId:d})})]})]}),a.jsx("div",{className:"text-center",children:a.jsx("button",{onClick:()=>{t(0),s(0),o(!1),c(!1)},className:"btn-primary px-6 py-3 font-semibold",children:"Resetear Todas las Pruebas"})}),a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-3",children:"Instrucciones de Prueba"}),a.jsxs("ul",{className:"space-y-2 text-blue-800 dark:text-blue-200",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:"•"}),a.jsxs("span",{children:[a.jsx("strong",{children:"Estrellas Interactivas:"})," Haz hover y clic para probar la selección de calificaciones"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:"•"}),a.jsxs("span",{children:[a.jsx("strong",{children:"Formulario de Reseñas:"})," Prueba crear una reseña completa con estrellas y comentario"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:"•"}),a.jsxs("span",{children:[a.jsx("strong",{children:"Lista de Reseñas:"})," Visualiza cómo se muestran las reseñas existentes"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-1",children:"•"}),a.jsxs("span",{children:[a.jsx("strong",{children:"Modo Oscuro:"})," Cambia entre modo claro y oscuro para probar la visibilidad"]})]})]})]})]})]})})},nT=E1([{path:"/",element:a.jsx(b4,{}),children:[{index:!0,element:a.jsx(M4,{})},{path:"catalogo",element:a.jsx(U4,{})},{path:"producto/:id",element:a.jsx(D4,{})},{path:"carrito",element:a.jsx($4,{})},{path:"checkout",element:a.jsx(Vr,{children:a.jsx(u3,{})})},{path:"checkout/success",element:a.jsx(h3,{})},{path:"checkout/failure",element:a.jsx(f3,{})},{path:"checkout/pending",element:a.jsx(m3,{})},{path:"perfil",element:a.jsx(Vr,{children:a.jsx(p3,{})})},{path:"perfil/lista-deseos",element:a.jsx(Vr,{children:a.jsx(W3,{})})},{path:"perfil/pedidos",element:a.jsx(Vr,{children:a.jsx(q3,{})})},{path:"perfil/reseñas",element:a.jsx(Vr,{children:a.jsx(H3,{})})},{path:"perfil/historial",element:a.jsx(Vr,{children:a.jsx(J3,{})})},{path:"perfil/direcciones",element:a.jsx(Vr,{children:a.jsx(Y3,{})})},{path:"perfil/configuracion",element:a.jsx(Vr,{children:a.jsx(X3,{})})},{path:"admin/*",element:a.jsx(Vr,{requireAdmin:!0,children:a.jsx(k3,{})})},{path:"terminos",element:a.jsx(N3,{})},{path:"privacidad",element:a.jsx(S3,{})},{path:"envios",element:a.jsx(E3,{})},{path:"contacto",element:a.jsx($3,{})},{path:"sobre-nosotros",element:a.jsx(B3,{})},{path:"test-stars",element:a.jsx(rT,{})},{path:"*",element:a.jsx(tT,{})}]},{path:"/sign-in/*",element:a.jsx(Z3,{})},{path:"/sign-up/*",element:a.jsx(eT,{})}]),sT="pk_live_Y2xlcmsubWVyY2FkaWxsby5hcHAk";Cu.createRoot(document.getElementById("root")).render(a.jsx(O.StrictMode,{children:a.jsx(j3,{children:a.jsx(l4,{children:a.jsxs(ab,{publishableKey:sT,signInFallbackRedirectUrl:"/",signUpFallbackRedirectUrl:"/",localization:C2,appearance:{baseTheme:void 0,elements:{rootBox:"w-full max-w-md mx-auto bg-white dark:bg-gray-800",card:"w-full bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden",headerTitle:"text-gris-oscuro dark:text-gray-100 text-2xl font-bold text-center mb-2",headerSubtitle:"text-gris-claro dark:text-gray-400 text-center mb-6",socialButtonsBlockButton:"bg-hueso dark:bg-gray-700 text-gris-oscuro dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600 w-full py-3 px-4 rounded-lg font-medium transition-colors duration-200 mb-4 border border-gray-300 dark:border-gray-600",socialButtonsBlockButtonText:"font-medium text-gris-oscuro dark:text-gray-200",dividerLine:"bg-gray-300 dark:bg-gray-600 my-6",dividerText:"text-gris-claro dark:text-gray-400 text-sm px-4 bg-white dark:bg-gray-800",formButtonPrimary:"bg-amarillo hover:bg-dorado text-gris-oscuro font-semibold rounded-lg py-3 px-4 w-full transition-colors duration-200",formFieldInput:"border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-amarillo focus:border-amarillo transition-all duration-200 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",formFieldLabel:"text-gris-oscuro dark:text-gray-200 font-medium mb-2 block text-left",footerActionLink:"text-amarillo hover:text-dorado font-medium transition-colors duration-200",footerAction:"text-center mt-6 text-sm text-gris-claro dark:text-gray-400",closeButton:"text-gris-oscuro dark:text-gray-200 hover:text-gray-600 dark:hover:text-gray-400 focus:ring-amarillo focus:border-amarillo",userButtonPopoverCard:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-lg rounded-xl",userButtonPopoverActions:"bg-white dark:bg-gray-800",userButtonPopoverActionButton:"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-150",userButtonPopoverActionButtonText:"text-gray-700 dark:text-gray-300",userButtonPopoverFooter:"bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700",avatarBox:"border-2 border-amarillo dark:border-yellow-400",userButtonAvatarBox:"border-2 border-transparent hover:border-amarillo dark:hover:border-yellow-400 transition-colors duration-200",modalContent:"bg-white dark:bg-gray-800",modalCloseButton:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300",formFieldHintText:"text-gray-500 dark:text-gray-400",formFieldSuccessText:"text-green-600 dark:text-green-400",formFieldErrorText:"text-red-600 dark:text-red-400",identityPreviewText:"text-gray-600 dark:text-gray-300",identityPreviewEditButton:"text-amarillo dark:text-yellow-400 hover:text-dorado dark:hover:text-yellow-300",userProfile:"bg-white dark:bg-gray-800",profileSection:"bg-white dark:bg-gray-800",profileSectionContent:"bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",profileSectionTitle:"text-gray-900 dark:text-gray-100",profileSectionSubtitle:"text-gray-600 dark:text-gray-400",profileSectionPrimaryButton:"bg-amarillo hover:bg-dorado text-gris-oscuro",navbar:"bg-gray-50 dark:bg-gray-900 border-gray-200 dark:border-gray-700",navbarButton:"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",badge:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"},variables:{colorPrimary:"#FFD700",colorText:"#333333",colorBackground:"#ffffff",colorInputBackground:"#ffffff",colorInputText:"#333333",colorNeutral:"#666666",borderRadius:"0.75rem",fontFamily:"Inter, sans-serif",spacingUnit:"1rem"}},children:[a.jsx(_3,{})," ",a.jsx(I1,{router:nT,future:{v7_startTransition:!0}})]})})})}));
